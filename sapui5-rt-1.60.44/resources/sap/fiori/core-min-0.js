window["sap-ui-optimized"] = true;
(function(window){
  var cfg=window['sap-ui-config']=window['sap-ui-config']||{},
    roots=cfg.resourceRoots=cfg.resourceRoots||{};
  cfg['preloadLibCss']='!sap.ui.core,sap.ui.layout,sap.ui.unified,sap.m,sap.ushell';
}(window));
/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
if(!('baseURI'in Node.prototype)){Object.defineProperty(Node.prototype,'baseURI',{get:function(){var d=this.ownerDocument||this,b=d.querySelector("base[href]")||window.location;return b.href;},configurable:true});}
/* the subsequent text seems not to contain a copyright or license statement */
if(typeof Object.assign!='function'){Object.defineProperty(Object,"assign",{value:function assign(t,v){'use strict';if(t==null){throw new TypeError('Cannot convert undefined or null to object');}t=Object(t);for(var i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null){for(var a in n){if(Object.prototype.hasOwnProperty.call(n,a)){t[a]=n[a];}}}}return t;},writable:true,configurable:true});}
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.4+314e4831
  */
(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?module.exports=f():typeof define==='function'&&define.amd?define('sap/ui/thirdparty/es6-promise',f):null;g.ES6Promise=f();}(this,(function(){'use strict';function o(x){var c=typeof x;return x!==null&&(c==='object'||c==='function');}function a(x){return typeof x==='function';}var b=void 0;if(Array.isArray){b=Array.isArray;}else{b=function(x){return Object.prototype.toString.call(x)==='[object Array]';};}var d=b;var l=0;var v=void 0;var f=void 0;var g=function g(c,e){w[l]=c;w[l+1]=e;l+=2;if(l===2){if(f){f(y);}else{A();}}};function s(c){f=c;}function h(c){g=c;}var j=typeof window!=='undefined'?window:undefined;var k=j||{};var B=k.MutationObserver||k.WebKitMutationObserver;var m=typeof self==='undefined'&&typeof process!=='undefined'&&{}.toString.call(process)==='[object process]';var n=typeof Uint8ClampedArray!=='undefined'&&typeof importScripts!=='undefined'&&typeof MessageChannel!=='undefined';function u(){return function(){return process.nextTick(y);};}function p(){if(typeof v!=='undefined'){return function(){v(y);};}return t();}function q(){var i=0;var c=new B(y);var e=document.createTextNode('');c.observe(e,{characterData:true});return function(){e.data=i=++i%2;};}function r(){var c=new MessageChannel();c.port1.onmessage=y;return function(){return c.port2.postMessage(0);};}function t(){var c=setTimeout;return function(){return c(y,1);};}var w=new Array(1000);function y(){for(var i=0;i<l;i+=2){var c=w[i];var e=w[i+1];c(e);w[i]=undefined;w[i+1]=undefined;}l=0;}function z(){try{var c=Function('return this')().require('vertx');v=c.runOnLoop||c.runOnContext;return p();}catch(e){return t();}}var A=void 0;if(m){A=u();}else if(B){A=q();}else if(n){A=r();}else if(j===undefined&&typeof require==='function'){A=z();}else{A=t();}function C(c,e){var i=this;var x=new this.constructor(F);if(x[E]===undefined){c1(x);}var _=i._state;if(_){var P=arguments[_-1];g(function(){return Z(_,x,P,i._result);});}else{W(i,x,c,e);}return x;}function D(c){var e=this;if(c&&typeof c==='object'&&c.constructor===e){return c;}var i=new e(F);Q(i,c);return i;}var E=Math.random().toString(36).substring(2);function F(){}var G=void 0;var H=1;var R=2;var T={error:null};function I(){return new TypeError("You cannot resolve a promise with itself");}function J(){return new TypeError('A promises callback cannot return that same promise.');}function K(c){try{return c.then;}catch(e){T.error=e;return T;}}function L(c,i,x,P){try{c.call(i,x,P);}catch(e){return e;}}function M(c,e,i){g(function(c){var x=false;var P=L(i,e,function(_){if(x){return;}x=true;if(e!==_){Q(c,_);}else{U(c,_);}},function(_){if(x){return;}x=true;V(c,_);},'Settle: '+(c._label||' unknown promise'));if(!x&&P){x=true;V(c,P);}},c);}function N(c,e){if(e._state===H){U(c,e._result);}else if(e._state===R){V(c,e._result);}else{W(e,undefined,function(i){return Q(c,i);},function(i){return V(c,i);});}}function O(c,e,i){if(e.constructor===c.constructor&&i===C&&e.constructor.resolve===D){N(c,e);}else{if(i===T){V(c,T.error);T.error=null;}else if(i===undefined){U(c,e);}else if(a(i)){M(c,e,i);}else{U(c,e);}}}function Q(c,e){if(c===e){V(c,I());}else if(o(e)){O(c,e,K(e));}else{U(c,e);}}function S(c){if(c._onerror){c._onerror(c._result);}X(c);}function U(c,e){if(c._state!==G){return;}c._result=e;c._state=H;if(c._subscribers.length!==0){g(X,c);}}function V(c,e){if(c._state!==G){return;}c._state=R;c._result=e;g(S,c);}function W(c,e,i,x){var _=c._subscribers;var P=_.length;c._onerror=null;_[P]=e;_[P+H]=i;_[P+R]=x;if(P===0&&c._state){g(X,c);}}function X(c){var e=c._subscribers;var x=c._state;if(e.length===0){return;}var P=void 0,_=void 0,a1=c._result;for(var i=0;i<e.length;i+=3){P=e[i];_=e[i+x];if(P){Z(x,P,_,a1);}else{_(a1);}}c._subscribers.length=0;}function Y(c,i){try{return c(i);}catch(e){T.error=e;return T;}}function Z(c,e,i,x){var P=a(i),_=void 0,a1=void 0,m1=void 0,n1=void 0;if(P){_=Y(i,x);if(_===T){n1=true;a1=_.error;_.error=null;}else{m1=true;}if(e===_){V(e,J());return;}}else{_=x;m1=true;}if(e._state!==G){}else if(P&&m1){Q(e,_);}else if(n1){V(e,a1);}else if(c===H){U(e,_);}else if(c===R){V(e,_);}}function $(c,i){try{i(function resolvePromise(x){Q(c,x);},function rejectPromise(x){V(c,x);});}catch(e){V(c,e);}}var id=0;function b1(){return id++;}function c1(c){c[E]=id++;c._state=undefined;c._result=undefined;c._subscribers=[];}function d1(){return new Error('Array Methods must be provided an Array');}var e1=function(){function e1(c,i){this._instanceConstructor=c;this.promise=new c(F);if(!this.promise[E]){c1(this.promise);}if(d(i)){this.length=i.length;this._remaining=i.length;this._result=new Array(this.length);if(this.length===0){U(this.promise,this._result);}else{this.length=this.length||0;this._enumerate(i);if(this._remaining===0){U(this.promise,this._result);}}}else{V(this.promise,d1());}}e1.prototype._enumerate=function _enumerate(c){for(var i=0;this._state===G&&i<c.length;i++){this._eachEntry(c[i],i);}};e1.prototype._eachEntry=function _eachEntry(e,i){var c=this._instanceConstructor;var x=c.resolve;if(x===D){var _=K(e);if(_===C&&e._state!==G){this._settledAt(e._state,i,e._result);}else if(typeof _!=='function'){this._remaining--;this._result[i]=e;}else if(c===k1){var P=new c(F);O(P,e,_);this._willSettleAt(P,i);}else{this._willSettleAt(new c(function(x){return x(e);}),i);}}else{this._willSettleAt(c.resolve(e),i);}};e1.prototype._settledAt=function _settledAt(c,i,e){var x=this.promise;if(x._state===G){this._remaining--;if(c===R){V(x,e);}else{this._result[i]=e;}}if(this._remaining===0){U(x,this._result);}};e1.prototype._willSettleAt=function _willSettleAt(c,i){var e=this;W(c,undefined,function(x){return e._settledAt(H,i,x);},function(x){return e._settledAt(R,i,x);});};return e1;}();function f1(e){return new e1(this,e).promise;}function g1(e){var c=this;if(!d(e)){return new c(function(_,V){return V(new TypeError('You must pass an array to race.'));});}else{return new c(function(Q,V){var x=e.length;for(var i=0;i<x;i++){c.resolve(e[i]).then(Q,V);}});}}function h1(c){var e=this;var i=new e(F);V(i,c);return i;}function i1(){throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');}function j1(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}var k1=function(){function P(c){this[E]=b1();this._result=this._state=undefined;this._subscribers=[];if(F!==c){typeof c!=='function'&&i1();this instanceof P?$(this,c):j1();}}P.prototype.catch=function _catch(c){return this.then(null,c);};P.prototype.finally=function _finally(c){var e=this;var i=e.constructor;if(a(c)){return e.then(function(x){return i.resolve(c()).then(function(){return x;});},function(x){return i.resolve(c()).then(function(){throw x;});});}return e.then(c,c);};return P;}();k1.prototype.then=C;k1.all=f1;k1.race=g1;k1.resolve=D;k1.reject=h1;k1._setScheduler=s;k1._setAsap=h;k1._asap=g;function l1(){var c=void 0;if(typeof global!=='undefined'){c=global;}else if(typeof self!=='undefined'){c=self;}else{try{c=Function('return this')();}catch(e){throw new Error('polyfill failed because global object is unavailable in this environment');}}var P=c.Promise;if(P){var i=null;try{i=Object.prototype.toString.call(P.resolve());}catch(e){}if(i==='[object Promise]'&&!P.cast){if(typeof P.prototype.finally!=="function"){P.prototype.finally=k1.prototype.finally;}return;}}c.Promise=k1;}k1.polyfill=l1;k1.Promise=k1;k1.polyfill();return k1;})));
/** @license
 * String.prototype.startsWith <https://github.com/mathiasbynens/String.prototype.startsWith>
 * MIT License
 * @author Mathias Bynens
 * @version v0.2.0
 */
if(!String.prototype.startsWith){(function(){'use strict';var t={}.toString;var s=function(a){if(this==null){throw TypeError();}var b=String(this);if(a&&t.call(a)=='[object RegExp]'){throw TypeError();}var c=b.length;var d=String(a);var e=d.length;var p=arguments.length>1?arguments[1]:undefined;var f=p?Number(p):0;if(f!=f){f=0;}var g=Math.min(Math.max(f,0),c);if(e+g>c){return false;}var i=-1;while(++i<e){if(b.charCodeAt(g+i)!=d.charCodeAt(i)){return false;}}return true;};Object.defineProperty(String.prototype,'startsWith',{'value':s,'configurable':true,'writable':true});}());}
/** @license
 * String.prototype.endsWith <https://github.com/mathiasbynens/String.prototype.endsWith>
 * MIT License
 * @author Mathias Bynens
 * @version v0.2.0
 */
if(!String.prototype.endsWith){(function(){'use strict';var t={}.toString;var e=function(s){if(this==null){throw TypeError();}var a=String(this);if(s&&t.call(s)=='[object RegExp]'){throw TypeError();}var b=a.length;var c=String(s);var d=c.length;var p=b;if(arguments.length>1){var f=arguments[1];if(f!==undefined){p=f?Number(f):0;if(p!=p){p=0;}}}var g=Math.min(Math.max(p,0),b);var h=g-d;if(h<0){return false;}var i=-1;while(++i<d){if(a.charCodeAt(h+i)!=c.charCodeAt(i)){return false;}}return true;};Object.defineProperty(String.prototype,'endsWith',{'value':e,'configurable':true,'writable':true});}());}
/** @license
 * String.prototype.includes <https://github.com/mathiasbynens/String.prototype.includes>
 * MIT License
 * @author Mathias Bynens
 * @version v1.0.0
 */
if(!String.prototype.includes){(function(){'use strict';var t={}.toString;var i=''.indexOf;var a=function(s){if(this==null){throw TypeError();}var b=String(this);if(s&&t.call(s)=='[object RegExp]'){throw TypeError();}var c=b.length;var d=String(s);var e=d.length;var p=arguments.length>1?arguments[1]:undefined;var f=p?Number(p):0;if(f!=f){f=0;}var g=Math.min(Math.max(f,0),c);if(e+g>c){return false;}return i.call(b,d,f)!=-1;};Object.defineProperty(String.prototype,'includes',{'value':a,'configurable':true,'writable':true});}());}
/** @license
 * String.prototype.repeat <https://github.com/mathiasbynens/String.prototype.repeat>
 * MIT License
 * @author Mathias Bynens
 * @version v0.2.0
 */
if(!String.prototype.repeat){(function(){'use strict';var r=function(c){if(this==null){throw TypeError();}var s=String(this);var n=c?Number(c):0;if(n!=n){n=0;}if(n<0||n==Infinity){throw RangeError();}var a='';while(n){if(n%2==1){a+=s;}if(n>1){s+=s;}n>>=1;}return a;};Object.defineProperty(String.prototype,'repeat',{'value':r,'configurable':true,'writable':true});}());}
/** @license
 * String.prototype.padStart <https://github.com/uxitten/polyfill>
 * MIT License
 * @author Behnam Mohammadi
 * @version v1.0.1
 */
if(!String.prototype.padStart){String.prototype.padStart=function padStart(t,p){t=t>>0;p=String((typeof p!=='undefined'?p:' '));if(this.length>t){return String(this);}else{t=t-this.length;if(t>p.length){p+=p.repeat(t/p.length);}return p.slice(0,t)+String(this);}};}
/** @license
 * String.prototype.padEnd <https://github.com/uxitten/polyfill>
 * MIT License
 * @author Behnam Mohammadi
 * @version v1.0.1
 */
if(!String.prototype.padEnd){String.prototype.padEnd=function padEnd(t,p){t=t>>0;p=String((typeof p!=='undefined'?p:' '));if(this.length>t){return String(this);}else{t=t-this.length;if(t>p.length){p+=p.repeat(t/p.length);}return String(this)+p.slice(0,t);}};}
/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
(function(__global){"use strict";function pathOnly(h){var p=h.search(/[?#]/);return p<0?h:h.slice(0,p);}function docBase(){return pathOnly(document.baseURI);}var resolveURL=(function(_){try{if(!/localhost/.test(new _('index.html','http://localhost:8080/'))){_=null;}}catch(e){_=null;}if(_){return function(u,B){return new _(u,B?new _(B,docBase()):docBase()).toString();};}var d=document.implementation.createHTMLDocument("Dummy doc for resolveURI");var b=d.createElement('base');b.href=docBase();d.head.appendChild(b);var a=d.createElement("A");d.body.appendChild(a);return function(u,B){b.href=docBase();if(B!=null){a.href=B;b.href=a.href;}a.href=u;return a.href;};}(__global.URL||__global.webkitURL));function noop(){}function forEach(o,c){Object.keys(o).forEach(function(k){c(k,o[k]);});}var log={debug:noop,info:noop,warning:noop,error:noop,isLoggable:noop};var assert=noop;var measure;var translate;var strictModuleDefinitions=true;var bGlobalAsyncMode=false;var bExposeAsAMDLoader=false;var syncCallBehavior=0;var DEFAULT_BASE_URL="./";var vOriginalDefine;var vOriginalRequire;var mUrlPrefixes=Object.create(null);mUrlPrefixes['']={url:DEFAULT_BASE_URL,absoluteUrl:resolveURL(DEFAULT_BASE_URL,document.baseURI)};var mMaps=Object.create(null),mShims=Object.create(null),mDepCache=Object.create(null),bDebugSources=false,fnIgnorePreload;var mModules=Object.create(null),bForceSyncDefines=null,_execStack=[],sLogPrefix="",iAnonymousModuleCount=0,MAX_EXEC_SCRIPT_LENGTH=512*1024;function urnToUI5(n){if(!/\.js$/.test(n)){return undefined;}n=n.slice(0,-3);if(/^jquery\.sap\./.test(n)){return n;}return n.replace(/\//g,".");}function urnToIDAndType(r){var b=r.lastIndexOf('/'),d=r.lastIndexOf('.');if(d>b){return{id:r.slice(0,d),type:r.slice(d)};}return{id:r,type:''};}var rJSSubTypes=/(\.controller|\.fragment|\.view|\.designtime|\.support)?.js$/;function urnToBaseIDAndSubType(r){var m=rJSSubTypes.exec(r);if(m){return{baseID:r.slice(0,m.index),subType:m[0]};}}var rDotSegmentAnywhere=/(?:^|\/)\.+(?=\/|$)/;var rDotSegment=/^\.*$/;function normalize(r,b){var p=r.search(rDotSegmentAnywhere),s,S,i,j,l;if(p<0){return r;}if(p===0){if(b==null){throw new Error("relative name not supported ('"+r+"'");}r=b.slice(0,b.lastIndexOf('/')+1)+r;}s=r.split('/');for(i=0,j=0,l=s.length;i<l;i++){S=s[i];if(rDotSegment.test(S)){if(S==='.'||S===''){continue;}else if(S==='..'){if(j===0){throw new Error("Can't navigate to parent of root ('"+r+"')");}j--;}else{throw new Error("Illegal path segment '"+S+"' ('"+r+"')");}}else{s[j++]=S;}}s.length=j;return s.join('/');}function registerResourcePath(r,u){r=String(r||"");if(u==null){if(r){if(mUrlPrefixes[r]){delete mUrlPrefixes[r];log.info("registerResourcePath ('"+r+"') (registration removed)");}return;}u=DEFAULT_BASE_URL;log.info("registerResourcePath ('"+r+"') (default registration restored)");}u=pathOnly(String(u));if(u.slice(-1)!=='/'){u+='/';}mUrlPrefixes[r]={url:u,absoluteUrl:resolveURL(u)};}function getResourcePath(r,s){var n=r,p=r.length,P;while(p>0&&!mUrlPrefixes[n]){p=n.lastIndexOf('/');n=p>0?n.slice(0,p):'';}assert((p>0||n==='')&&mUrlPrefixes[n],"there always must be a mapping");P=mUrlPrefixes[n].url+r.slice(p+1);if(P.slice(-1)==='/'){P=P.slice(0,-1);}return P+(s||'');}function getSyncCallBehavior(){return syncCallBehavior;}function guessResourceName(u){var n,U,r;u=pathOnly(resolveURL(u));for(n in mUrlPrefixes){U=mUrlPrefixes[n].absoluteUrl.slice(0,-1);if(u.indexOf(U)===0){r=n+u.slice(U.length);if(r.charAt(0)==='/'){r=r.slice(1);}if(mModules[r]&&mModules[r].data){return r;}}}}function findMapForContext(c){var p,m;if(c!=null){c=urnToIDAndType(c).id;p=c.length;m=mMaps[c];while(p>0&&m==null){p=c.lastIndexOf('/');if(p>0){c=c.slice(0,p);m=mMaps[c];}}}return m||mMaps['*'];}function getMappedName(r,R){var m=findMapForContext(R),P,p;r=normalize(r,R);if(m!=null){P=urnToIDAndType(r).id;p=P.length;while(p>0&&m[P]==null){p=P.lastIndexOf('/');P=p>0?P.slice(0,p):'';}if(p>0){if(log.isLoggable()){log.debug('module ID '+r+" mapped to "+m[P]+r.slice(p));}return m[P]+r.slice(p);}}return r;}function getGlobalObject(o,n,l,c){for(var i=0;o&&i<l;i++){if(!o[n[i]]&&c){o[n[i]]={};}o=o[n[i]];}return o;}function getGlobalProperty(n){var N=n?n.split("."):[];if(syncCallBehavior&&N.length>1){log.error("[nosync] getGlobalProperty called to retrieve global name '"+n+"'");}return getGlobalObject(__global,N,N.length);}function setGlobalProperty(n,v){var N=n?n.split("."):[],o;if(N.length>0){o=getGlobalObject(__global,N,N.length-1,true);o[N[N.length-1]]=v;}}var INITIAL=0,PRELOADED=-1,LOADING=1,LOADED=2,EXECUTING=3,READY=4,FAILED=5,NOT_YET_DETERMINED={};function Module(n){this.name=n;this.state=INITIAL;this.settled=false;this.url=this._deferred=this.data=this.group=this.error=this.pending=null;this.content=NOT_YET_DETERMINED;}Module.prototype.deferred=function(){if(this._deferred==null){var d=this._deferred={};d.promise=new Promise(function(r,a){d.resolve=r;d.reject=a;});d.promise.catch(noop);}return this._deferred;};Module.prototype.api=function(){if(this._api==null){this._exports={};this._api={id:this.name.slice(0,-3),exports:this._exports,url:this.url,config:noop};}return this._api;};Module.prototype.ready=function(v){assert(!this.settled,"Module "+this.name+" is already settled");this.state=READY;this.settled=true;if(arguments.length>0){this.content=v;}this.deferred().resolve(this.value());if(this.aliases){v=this.value();this.aliases.forEach(function(a){Module.get(a).ready(v);});}};Module.prototype.fail=function(e){assert(!this.settled,"Module "+this.name+" is already settled");this.settled=true;if(this.state!==FAILED){this.state=FAILED;this.error=e;this.deferred().reject(e);if(this.aliases){this.aliases.forEach(function(a){Module.get(a).fail(e);});}}};Module.prototype.addPending=function(d){(this.pending||(this.pending=[])).push(d);};Module.prototype.addAlias=function(a){(this.aliases||(this.aliases=[])).push(a);Module.get(a).addPending(this.name);};Module.prototype.preload=function(u,d,b){if(this.state===INITIAL&&!(fnIgnorePreload&&fnIgnorePreload(this.name))){this.state=PRELOADED;this.url=u;this.data=d;this.group=b;}return this;};Module.prototype.value=function(){if(this.state===READY){if(this.content===NOT_YET_DETERMINED){var s=mShims[this.name],e=s&&(Array.isArray(s.exports)?s.exports[0]:s.exports);this.content=getGlobalProperty(e||urnToUI5(this.name));}return this.content;}return undefined;};Module.prototype.dependsOn=function(d){var a=d.name,v=Object.create(null);function b(m){if(!v[m]){v[m]=true;var p=mModules[m]&&mModules[m].pending;return Array.isArray(p)&&(p.indexOf(a)>=0||p.some(b));}return false;}return this.name===a||b(this.name);};Module.get=function(m){return mModules[m]||(mModules[m]=new Module(m));};function ensureStacktrace(e){if(!e.stack){try{throw e;}catch(a){return a;}}return e;}function makeNestedError(m,c){var e=new Error(m+": "+c.message);e.cause=c;e.loadError=c.loadError;ensureStacktrace(e);ensureStacktrace(c);if(e.stack&&c.stack){try{e.stack=e.stack+"\nCaused by: "+c.stack;}catch(a){}}return e;}function declareModule(m){var M;assert(/\.js$/.test(m),"must be a Javascript module");M=Module.get(m);if(M.state>INITIAL){return M;}if(log.isLoggable()){log.debug(sLogPrefix+"declare module '"+m+"'");}M.state=READY;return M;}function defineModuleSync(r,v){Module.get(r).ready(v);}var queue=new function ModuleDefinitionQueue(){var q=[],r=0,t;this.push=function(n,d,f,_){if(log.isLoggable()){log.debug("pushing define from "+(document.currentScript&&document.currentScript.src));}q.push({name:n,deps:d,factory:f,_export:_,guess:document.currentScript&&document.currentScript.getAttribute('data-sap-ui-module')});if(!t){t=setTimeout(this.process.bind(this,null));}};this.clear=function(){q=[];if(t){clearTimeout(t);t=null;}};this.process=function(R){var l=log.isLoggable(),c=r++,Q=q,m=null;this.clear();if(R){if(R.execError){if(l){log.debug("module execution error detected, ignoring queued define calls ("+Q.length+")");}R.fail(R.execError);return;}}m=R&&R.name;Q.forEach(function(e){if(e.name==null){if(m!=null){e.name=m;m=null;}else{if(strictModuleDefinitions){var E=new Error("Modules that use an anonymous define() call must be loaded with a require() call; "+"they must not be executed via script tag or nested into other modules. ");if(R){R.fail(E);}else{throw E;}}e.name='~anonymous~'+(++iAnonymousModuleCount)+'.js';log.error("Modules that use an anonymous define() call must be loaded with a require() call; "+"they must not be executed via script tag or nested into other modules. "+"All other usages will fail in future releases or when standard AMD loaders are used. "+"Now using substitute name "+e.name);}}else if(R&&e.name===R.name){if(m==null&&!strictModuleDefinitions){log.error("Duplicate module definition: both, an unnamed module and a module with the expected name exist."+"This use case will fail in future releases or when standard AMD loaders are used. ");}m=null;}});if(m&&Q.length>0){if(l){log.debug("No queued module definition matches the ID of the request. "+"Now assuming that the first definition '"+Q[0].name+"' is an alias of '"+m+"'");}Module.get(Q[0].name).addAlias(m);m=null;}if(l){log.debug("processing define queue "+c+(R?" for "+R.name:"")+" with "+Q.map(function(e){return e.name;}));}Q.forEach(function(e){executeModuleDefinition(e.name,e.deps,e.factory,e._export,true);if(l){log.debug("define called for "+e.name);}});if(m!=null&&!R.settled){if(l){log.debug("no queued module definition for the requested module found, assume the module to be ready");}R.data=undefined;R.ready();}if(l){log.debug("processing define queue done "+c);}};}();function loadSyncXHR(m){var x=new XMLHttpRequest();function a(b){b=b||ensureStacktrace(new Error(x.status+" - "+x.statusText));b.status=x.status;b.statusText=x.statusText;b.loadError=true;return b;}x.addEventListener('load',function(e){if(x.status===200||x.status===0){m.state=LOADED;m.data=x.responseText;}else{m.error=a();}});x.addEventListener('error',function(e){m.error=a();});x.open('GET',m.url,false);try{x.send();}catch(b){m.error=a(b);}}if('currentScript'in document){window.addEventListener('error',function onUncaughtError(e){var m=document.currentScript&&document.currentScript.getAttribute('data-sap-ui-module');var M=m&&Module.get(m);if(M&&M.execError==null){if(log.isLoggable()){log.debug("unhandled exception occurred while executing "+m+": "+e.message);}M.execError=e.error||{name:'Error',message:e.message};return false;}});}function loadScript(m,a){var s;function o(e){if(log.isLoggable()){log.debug("Javascript resource loaded: "+m.name);}s.removeEventListener('load',o);s.removeEventListener('error',b);queue.process(m);}function b(e){s.removeEventListener('load',o);s.removeEventListener('error',b);if(a){log.warning("retry loading Javascript resource: "+m.name);if(s&&s.parentNode){s.parentNode.removeChild(s);}m.url=a;loadScript(m,null);return;}log.error("failed to load Javascript resource: "+m.name);m.fail(ensureStacktrace(new Error("failed to load '"+m.name+"' from "+m.url+": script load error")));}s=document.createElement('SCRIPT');s.src=m.url;s.setAttribute("data-sap-ui-module",m.name);if(a!==undefined){s.addEventListener('load',o);s.addEventListener('error',b);}document.head.appendChild(s);}function preloadDependencies(m){var k=mDepCache[m];if(Array.isArray(k)){log.debug("preload dependencies for "+m+": "+k);k.forEach(function(d){d=getMappedName(d,m);if(/\.js$/.test(d)){requireModule(null,d,true);}});}}function requireModule(r,m,a,s){var l=log.isLoggable(),S=urnToBaseIDAndSubType(m),o=mShims[m],M,e,i,b,E;if(!S){throw new Error("can only require Javascript module, not "+m);}if(m[0]=="/"){log.error("Module names that start with a slash should not be used, as they are reserved for future use.");}M=Module.get(m);if(o&&o.deps&&!s){if(l){log.debug("require dependencies of raw module "+m);}return requireAll(M,o.deps,function(){return requireModule(r,m,a,true);},function(c){M.fail(c);if(a){return;}throw c;},a);}if(l){log.debug(sLogPrefix+"require '"+m+"' of type '"+S.subType+"'");}if(M.state!==INITIAL){if(M.state===PRELOADED){M.state=LOADED;M.async=a;E=true;measure&&measure.start(m,"Require module "+m+" (preloaded)",["require"]);execModule(m,a);measure&&measure.end(m);}if(M.state===READY){if(l){log.debug(sLogPrefix+"module '"+m+"' has already been loaded (skipped).");}return a?Promise.resolve(M.value()):M.value();}else if(M.state===FAILED){if(a){return M.deferred().promise;}else{throw(E?M.error:makeNestedError("found in negative cache: '"+m+"' from "+M.url,M.error));}}else{if(a){if(r&&M.dependsOn(r)){if(log.isLoggable()){log.debug("cycle detected between '"+r.name+"' and '"+m+"', returning undefined for '"+m+"'");}return Promise.resolve(undefined);}return M.deferred().promise;}if(!a&&!M.async){if(log.isLoggable()){log.debug("cycle detected between '"+(r?r.name:"unknown")+"' and '"+m+"', returning undefined for '"+m+"'");}return undefined;}log.warning("Sync request triggered for '"+m+"' while async request was already pending."+" Loading a module twice might cause issues and should be avoided by fully migrating to async APIs.");}}measure&&measure.start(m,"Require module "+m,["require"]);M.state=LOADING;M.async=a;e=bDebugSources?["-dbg",""]:[""];if(!a){for(i=0;i<e.length&&M.state!==LOADED;i++){M.url=getResourcePath(S.baseID,e[i]+S.subType);if(l){log.debug(sLogPrefix+"loading "+(e[i]?e[i]+" version of ":"")+"'"+m+"' from '"+M.url+"'");}if(syncCallBehavior){b="[nosync] loading module '"+M.url+"'";if(syncCallBehavior===1){log.error(b);}else{throw new Error(b);}}ui5Require.load({completeLoad:noop,async:false},M.url,S.baseID);loadSyncXHR(M);}if(M.state===LOADING){M.fail(makeNestedError("failed to load '"+m+"' from "+M.url,M.error));}else if(M.state===LOADED){execModule(m,a);}measure&&measure.end(m);if(M.state!==READY){if(fnIgnorePreload){loadScript(M);}throw M.error;}return M.value();}else{M.url=getResourcePath(S.baseID,e[0]+S.subType);var A=bDebugSources?getResourcePath(S.baseID,e[1]+S.subType):M.url;ui5Require.load({completeLoad:noop,async:true},A,S.baseID);loadScript(M,A);preloadDependencies(m);return M.deferred().promise;}}function execModule(sModuleName,bAsync){var oModule=mModules[sModuleName],oShim=mShims[sModuleName],bLoggable=log.isLoggable(),sOldPrefix,sScript,vAMD,oMatch,bOldForceSyncDefines;if(oModule&&oModule.state===LOADED&&typeof oModule.data!=="undefined"){vAMD=(oShim===true||(oShim&&oShim.amd))&&typeof __global.define==="function"&&__global.define.amd;bOldForceSyncDefines=bForceSyncDefines;try{if(vAMD){delete __global.define.amd;}bForceSyncDefines=!bAsync;if(bLoggable){log.debug(sLogPrefix+"executing '"+sModuleName+"'");sOldPrefix=sLogPrefix;sLogPrefix=sLogPrefix+": ";}oModule.state=EXECUTING;_execStack.push({name:sModuleName,used:false});if(typeof oModule.data==="function"){oModule.data.call(__global);}else if(Array.isArray(oModule.data)){ui5Define.apply(null,oModule.data);}else{sScript=oModule.data;if(sScript){oMatch=/\/\/[#@] source(Mapping)?URL=(.*)$/.exec(sScript);if(oMatch&&oMatch[1]&&/^[^/]+\.js\.map$/.test(oMatch[2])){sScript=sScript.slice(0,oMatch.index)+oMatch[0].slice(0,-oMatch[2].length)+resolveURL(oMatch[2],oModule.url);}if(!oMatch||oMatch[1]){sScript+="\n//# sourceURL="+resolveURL(oModule.url)+"?eval";}}if(typeof translate==="function"){sScript=translate(sScript,sModuleName);}if(__global.execScript&&(!oModule.data||oModule.data.length<MAX_EXEC_SCRIPT_LENGTH)){try{oModule.data&&__global.execScript(sScript);}catch(e){_execStack.pop();eval(oModule.data);throw e;}}else{__global.eval(sScript);}}_execStack.pop();queue.process(oModule);if(bLoggable){sLogPrefix=sOldPrefix;log.debug(sLogPrefix+"finished executing '"+sModuleName+"'");}}catch(err){if(bLoggable){sLogPrefix=sOldPrefix;}oModule.data=undefined;oModule.fail(err);}finally{if(vAMD){__global.define.amd=vAMD;}bForceSyncDefines=bOldForceSyncDefines;}}}function requireAll(r,d,c,e,a){var b,m=[],l=log.isLoggable(),i,D,E,p;try{if(r instanceof Module){b=r.name;}else{b=r;r=null;}d=d.slice();for(i=0;i<d.length;i++){d[i]=getMappedName(d[i]+'.js',b);}if(r){d.forEach(function(g){if(!/^(require|exports|module)\.js$/.test(g)){r.addPending(g);}});}for(i=0;i<d.length;i++){D=d[i];if(l){log.debug(sLogPrefix+"require '"+D+"'");}if(r){switch(D){case'require.js':m[i]=createContextualRequire(b,true);break;case'module.js':m[i]=r.api();break;case'exports.js':r.api();m[i]=r._exports;break;default:break;}}if(!m[i]){m[i]=requireModule(r,D,a);}if(l){log.debug(sLogPrefix+"require '"+D+"': done.");}}}catch(f){E=f;}if(a){p=E?Promise.reject(E):Promise.all(m);return p.then(c,e);}else{if(E){e(E);}else{return c(m);}}}function executeModuleDefinition(r,d,f,e,a){var l=log.isLoggable();r=normalize(r);if(l){log.debug("define("+r+", "+"['"+d.join("','")+"']"+")");}var m=declareModule(r);var b=false;function s(){if(m.settled){if(m.state>=READY&&a&&m.async===false){log.warning("Repeated module execution skipped after async/sync conflict for "+m.name);return true;}if(strictModuleDefinitions&&a){log.warning("Module '"+m.name+"' has been defined more than once. "+"All but the first definition will be ignored, don't try to define the same module again.");return true;}if(!b){log.error("Module '"+m.name+"' is executed more than once. "+"This is an unsupported scenario and will fail in future versions of UI5 or "+"when a standard AMD loader is used. Don't define the same module again.");b=true;}}}if(s()){return;}m.content=undefined;requireAll(m,d,function(M){if(s()){return;}if(l){log.debug("define("+r+"): calling factory "+typeof f);}if(e&&syncCallBehavior!==2){var p=r.split('/');if(p.length>1){getGlobalObject(__global,p,p.length-1,true);}}if(typeof f==='function'){try{var c=f.apply(__global,M);if(m._api&&m._api.exports!==undefined&&m._api.exports!==m._exports){c=m._api.exports;}else if(c===undefined&&m._exports){c=m._exports;}m.content=c;}catch(g){m.fail(g);if(a){return;}throw g;}}else{m.content=f;}if(e&&syncCallBehavior!==2){if(m.content==null){log.error("Module '"+r+"' returned no content, but should export to global?");}else{if(l){log.debug("exporting content of '"+r+"': as global object");}var h=urnToUI5(r);setGlobalProperty(h,m.content);}}m.ready();},function(E){m.fail(E);if(!a){throw E;}},a);}function ui5Define(m,d,f,e){var r,c;if(typeof m==='string'){r=m+'.js';}else{e=f;f=d;d=m;r=null;}if(!Array.isArray(d)){e=f;f=d;if(typeof f==='function'&&f.length>0){d=['require','exports','module'].slice(0,f.length);}else{d=[];}}if(bForceSyncDefines===false||(bForceSyncDefines==null&&bGlobalAsyncMode)){queue.push(r,d,f,e);if(r!=null){var M=Module.get(r);if(M.state===INITIAL){M.state=EXECUTING;M.async=true;}}return;}c=_execStack.length>0?_execStack[_execStack.length-1]:null;if(!r){if(c&&!c.used){r=c.name;c.used=true;}else{r='~anonymous~'+(++iAnonymousModuleCount)+'.js';if(c){r=c.name.slice(0,c.name.lastIndexOf('/')+1)+r;}log.error("Modules that use an anonymous define() call must be loaded with a require() call; "+"they must not be executed via script tag or nested into other modules. "+"All other usages will fail in future releases or when standard AMD loaders are used "+"or when ui5loader runs in async mode. Now using substitute name "+r);}}else if(c&&!c.used&&r!==c.name){log.debug("module names don't match: requested: "+m+", defined: ",c.name);Module.get(c.name).addAlias(m);}executeModuleDefinition(r,d,f,e,false);}function amdDefine(m,d,f){var a=arguments;var e=typeof a[a.length-1]==="boolean";if(e){a=Array.prototype.slice.call(a,0,a.length-1);}ui5Define.apply(this,a);}amdDefine.amd={};function createContextualRequire(c,a){var r=function(d,C,e){var m;assert(typeof d==='string'||Array.isArray(d),"dependency param either must be a single string or an array of strings");assert(C==null||typeof C==='function',"callback must be a function or null/undefined");assert(e==null||typeof e==='function',"error callback must be a function or null/undefined");if(typeof d==='string'){m=getMappedName(d+'.js',c);var M=Module.get(m);if(a&&M.state!==EXECUTING&&M.state!==READY){throw new Error("Module '"+m+"' has not been loaded yet. "+"Use require(['"+m+"']) to load it.");}return M.value();}requireAll(c,d,function(b){if(typeof C==='function'){if(bGlobalAsyncMode){C.apply(__global,b);}else{setTimeout(function(){C.apply(__global,b);},0);}}},function(E){if(typeof e==='function'){if(bGlobalAsyncMode){e.call(__global,E);}else{setTimeout(function(){e.call(__global,E);},0);}}else{throw E;}},bGlobalAsyncMode);};r.toUrl=function(n){var m=ensureTrailingSlash(getMappedName(n,c),n);return toUrl(m);};return r;}function ensureTrailingSlash(n,i){if(i.slice(-1)==="/"&&n.slice(-1)!=="/"){return n+"/";}return n;}function toUrl(n){if(n.indexOf("/")===0){throw new Error("The provided argument '"+n+"' may not start with a slash");}return ensureTrailingSlash(getResourcePath(n),n);}var ui5Require=createContextualRequire(null,false);var amdRequire=createContextualRequire(null,true);function requireSync(m){m=getMappedName(m+'.js');return requireModule(null,m,false);}function predefine(m,d,f,e){if(typeof m!=='string'){throw new Error("predefine requires a module name");}m=normalize(m);Module.get(m+'.js').preload("<unknown>/"+m,[m,d,f,e],null);}function preload(m,g,u){g=g||null;u=u||"<unknown>";for(var n in m){n=normalize(n);Module.get(n).preload(u+"/"+n,m[n],g);}}function dumpInternals(t){var s=[PRELOADED,INITIAL,LOADED,READY,FAILED,EXECUTING,LOADING];var a={};a[PRELOADED]='PRELOADED';a[INITIAL]='INITIAL';a[LOADING]='LOADING';a[LOADED]='LOADED';a[EXECUTING]='EXECUTING';a[READY]='READY';a[FAILED]='FAILED';if(t==null){t=PRELOADED;}var i=log.isLoggable('INFO')?log.info.bind(log):console.info.bind(console);var m=Object.keys(mModules).sort();s.forEach(function(b){if(b<t){return;}var c=0;i(a[b]+":");m.forEach(function(M,d){var o=mModules[M];if(o.state===b){var e;if(o.state===LOADING){var p=o.pending&&o.pending.reduce(function(f,g){var D=Module.get(g);if(D.state!==READY){f.push(g+"("+a[D.state]+")");}return f;},[]);if(p&&p.length>0){e="waiting for "+p.join(", ");}}else if(o.state===FAILED){e=(o.error.name||"Error")+": "+o.error.message;}i("  "+(d+1)+" "+M+(e?" ("+e+")":""));c++;}});if(c===0){i("  none");}});}function getUrlPrefixes(){var u=Object.create(null);forEach(mUrlPrefixes,function(n,U){u[n]=U.url;});return u;}function unloadResources(n,p,u,d){var m=[],U,M;if(p==null){p=true;}if(p){for(U in mModules){M=mModules[U];if(M&&M.group===n){m.push(U);}}}else{if(mModules[n]){m.push(n);}}m.forEach(function(U){var M=mModules[U];if(M&&d&&U.match(/\.js$/)){setGlobalProperty(urnToUI5(U),undefined);}if(M&&(u||M.state===PRELOADED)){delete mModules[U];}});}function getModuleContent(n,u){if(n){n=getMappedName(n);}else{n=guessResourceName(u);}var m=n&&mModules[n];if(m){m.state=LOADED;return m.data;}else{return undefined;}}function getAllModules(){var s=Object.create(null);forEach(mModules,function(u,m){s[u]={state:m.state,ui5:urnToUI5(u)};});return s;}function loadJSResourceAsync(r,i){r=getMappedName(r);var p=requireModule(null,r,true);return i?p.catch(noop):p;}var mUI5ConfigHandlers={baseUrl:function(u){registerResourcePath("",u);},paths:registerResourcePath,shim:function(m,s){if(Array.isArray(s)){s={deps:s};}mShims[m+'.js']=s;},amd:function(v){v=!!v;if(bExposeAsAMDLoader!==v){bExposeAsAMDLoader=v;if(v){vOriginalDefine=__global.define;vOriginalRequire=__global.require;__global.define=amdDefine;__global.require=amdRequire;bGlobalAsyncMode=true;}else{__global.define=vOriginalDefine;__global.require=vOriginalRequire;}}},async:function(a){if(bGlobalAsyncMode&&!a){throw new Error("Changing the ui5loader config from async to sync is not supported. Only a change from sync to async is allowed.");}bGlobalAsyncMode=!!a;},debugSources:function(d){bDebugSources=!!d;},depCache:function(m,d){mDepCache[m+'.js']=d.map(function(a){return a+'.js';});},depCacheUI5:function(m,d){mDepCache[m]=d;},ignoreBundledResources:function(f){if(f==null||typeof f==='function'){fnIgnorePreload=f;}},map:function(c,m){if(m==null){delete mMaps[c];}else if(typeof m==='string'){mMaps['*'][c]=m;}else{mMaps[c]=mMaps[c]||Object.create(null);forEach(m,function(a,n){mMaps[c][a]=n;});}},reportSyncCalls:function(r){if(r===0||r===1||r===2){syncCallBehavior=r;}},noConflict:function(v){log.warning("Config option 'noConflict' has been deprecated, use option 'amd' instead, if still needed.");mUI5ConfigHandlers.amd(!v);}};var mAMDConfigHandlers={baseUrl:mUI5ConfigHandlers.baseUrl,paths:function(m,u){registerResourcePath(m,resolveURL(u,getResourcePath("")+"/"));},map:mUI5ConfigHandlers.map,shim:mUI5ConfigHandlers.shim};function handleConfigObject(c,h){function p(k,v){var a=h[k];if(typeof a==='function'){if(a.length===1){a(v);}else if(v!=null){forEach(v,a);}}else{log.warning("configuration option "+k+" not supported (ignored)");}}if(c.baseUrl){p("baseUrl",c.baseUrl);}forEach(c,function(k,v){if(k!=="baseUrl"){p(k,v);}});}function ui5Config(c){if(c===undefined){return{amd:bExposeAsAMDLoader,async:bGlobalAsyncMode,noConflict:!bExposeAsAMDLoader};}handleConfigObject(c,mUI5ConfigHandlers);}function amdConfig(c){if(c===undefined){return undefined;}handleConfigObject(c,mAMDConfigHandlers);}ui5Require.preload=preload;ui5Require.load=function(c,u,i){};var privateAPI={amdDefine:amdDefine,amdRequire:amdRequire,config:ui5Config,declareModule:function(r){declareModule(normalize(r));},defineModuleSync:defineModuleSync,dump:dumpInternals,getAllModules:getAllModules,getModuleContent:getModuleContent,getModuleState:function(r){return mModules[r]?mModules[r].state:INITIAL;},getResourcePath:getResourcePath,getSyncCallBehavior:getSyncCallBehavior,getUrlPrefixes:getUrlPrefixes,loadJSResourceAsync:loadJSResourceAsync,resolveURL:resolveURL,toUrl:toUrl,unloadResources:unloadResources};Object.defineProperties(privateAPI,{logger:{get:function(){return log;},set:function(v){log=v;}},measure:{get:function(){return measure;},set:function(v){measure=v;}},assert:{get:function(){return assert;},set:function(v){assert=v;}},translate:{get:function(){return translate;},set:function(v){translate=v;}}});__global.sap=__global.sap||{};sap.ui=sap.ui||{};sap.ui.loader={config:ui5Config,_:privateAPI};amdRequire.config=amdConfig;sap.ui.define=ui5Define;sap.ui.predefine=predefine;sap.ui.require=ui5Require;sap.ui.requireSync=requireSync;}(window));
(function(){"use strict";var u=window.sap&&window.sap.ui&&window.sap.ui.loader,c=window['sap-ui-config']||{},b,n,s,r,i,B,a,E=false;function f(S,e){var U=S&&S.getAttribute("src"),M=e.exec(U);if(M){b=M[1]||"";B=S;a=U;n=/sap-ui-core-nojQuery\.js(?:\?|#|$)/.test(U);return true;}}function d(p){return p&&p[p.length-1]!=='/'?p+'/':p;}if(u==null){throw new Error("ui5loader-autoconfig.js: ui5loader is needed, but could not be found");}if(!f(document.querySelector('SCRIPT[src][id=sap-ui-bootstrap]'),/^((?:.*\/)?resources\/)/)){r=/^(.*\/)?(?:sap-ui-(?:core|custom|boot|merged)(?:-[^?#/]*)?|jquery.sap.global|ui5loader(?:-autoconfig)?)\.js(?:[?#]|$)/;s=document.scripts;for(i=0;i<s.length;i++){if(f(s[i],r)){break;}}}if(typeof c==='object'&&typeof c.resourceRoots==='object'&&typeof c.resourceRoots['']==='string'){b=c.resourceRoots[''];}if(b==null){throw new Error("ui5loader-autoconfig.js: could not determine base URL. No known script tag and no configuration found!");}(function(){var R;try{R=window.localStorage.getItem("sap-ui-reboot-URL");}catch(e){}if(/sap-bootstrap-debug=(true|x|X)/.test(location.search)){debugger;}if(R){var D=d(b)+'sap/ui/core/support/debugReboot.js';document.write("<script src=\""+D+"\"></script>");var o=new Error("This is not a real error. Aborting UI5 bootstrap and rebooting from: "+R);o.name="Restart";throw o;}})();(function(){var U=/(?:^|\?|&)sap-ui-debug=([^&]*)(?:&|$)/.exec(window.location.search),D=U&&decodeURIComponent(U[1]);try{D=D||window.localStorage.getItem("sap-ui-debug");}catch(e){}D=D||(B&&B.getAttribute("data-sap-ui-debug"));if(typeof D==='string'){if(/^(?:false|true|x|X)$/.test(D)){D=D!=='false';}}else{D=!!D;}if(/-dbg\.js([?#]|$)/.test(a)){window['sap-ui-loaddbg']=true;D=D||true;}window["sap-ui-debug"]=D;if(window["sap-ui-optimized"]&&D){window['sap-ui-loaddbg']=true;if(D===true){var j;if(a!=null){j=a.replace(/\/(?:sap-ui-cachebuster\/)?([^\/]+)\.js/,"/$1-dbg.js");}else{j=d(b)+'sap-ui-core.js';}u.config({amd:false});window["sap-ui-optimized"]=false;if(u.config().async){var k=document.createElement("script");k.src=j;document.head.appendChild(k);}else{document.write("<script src=\""+j+"\"></script>");}var R=new Error("This is not a real error. Aborting UI5 bootstrap and restarting from: "+j);R.name="Restart";throw R;}}function l(G){if(!/\/\*\*\/$/.test(G)){G=G.replace(/\/$/,'/**/');}return G.replace(/\*\*\/|\*|[[\]{}()+?.\\^$|]/g,function(M){switch(M){case'**/':return'(?:[^/]+/)*';case'*':return'[^/]*';default:return'\\'+M;}});}var I;if(typeof D==='string'){var p="^(?:"+D.split(/,/).map(l).join("|")+")",o=new RegExp(p);I=function(M){return o.test(M);};u._.logger.debug("Modules that should be excluded from preload: '"+p+"'");}else if(D===true){I=function(){return true;};u._.logger.debug("All modules should be excluded from preload");}u.config({debugSources:!!window['sap-ui-loaddbg'],ignoreBundledResources:I});})();function _(e,j,p){var k=window.location.search.match(new RegExp("(?:^\\??|&)sap-ui-"+e+"=([^&]*)(?:&|$)"));if(k&&(p==null||p.test(k[1]))){return k[1];}var l=B&&B.getAttribute("data-sap-ui-"+e.toLowerCase());if(l!=null&&(p==null||p.test(l))){return l;}if(Object.prototype.hasOwnProperty.call(c,e)&&(p==null||p.test(c[e]))){return c[e];}if(e.slice(0,3)!=="xx-"){return _("xx-"+e,j,p);}return j;}function g(e,j){return/^(?:true|x|X)$/.test(_(e,j,/^(?:true|x|X|false)$/));}if(g("async",false)){u.config({async:true});}var E=g("amd",!g("noLoaderConflict",true));u.config({baseUrl:b,amd:E,map:{"*":{'blanket':'sap/ui/thirdparty/blanket','crossroads':'sap/ui/thirdparty/crossroads','d3':'sap/ui/thirdparty/d3','handlebars':'sap/ui/thirdparty/handlebars','hasher':'sap/ui/thirdparty/hasher','IPv6':'sap/ui/thirdparty/IPv6','jquery':'sap/ui/thirdparty/jquery','jszip':'sap/ui/thirdparty/jszip','less':'sap/ui/thirdparty/less','OData':'sap/ui/thirdparty/datajs','punycode':'sap/ui/thirdparty/punycode','SecondLevelDomains':'sap/ui/thirdparty/SecondLevelDomains','sinon':'sap/ui/thirdparty/sinon','signals':'sap/ui/thirdparty/signals','URI':'sap/ui/thirdparty/URI','URITemplate':'sap/ui/thirdparty/URITemplate','esprima':'sap/ui/demokit/js/esprima'}},shim:{'sap/ui/thirdparty/bignumber':{amd:true,exports:'BigNumber'},'sap/ui/thirdparty/blanket':{amd:true,exports:'blanket'},'sap/ui/thirdparty/caja-html-sanitizer':{amd:false,exports:'html'},'sap/ui/thirdparty/crossroads':{amd:true,exports:'crossroads',deps:['sap/ui/thirdparty/signals']},'sap/ui/thirdparty/d3':{amd:true,exports:'d3'},'sap/ui/thirdparty/datajs':{amd:true,exports:'OData'},'sap/ui/thirdparty/es6-promise':{amd:true,exports:'ES6Promise'},'sap/ui/thirdparty/flexie':{amd:false,exports:'Flexie'},'sap/ui/thirdparty/handlebars':{amd:true,exports:'Handlebars'},'sap/ui/thirdparty/hasher':{amd:true,exports:'hasher',deps:['sap/ui/thirdparty/signals']},'sap/ui/thirdparty/IPv6':{amd:true,exports:'IPv6'},'sap/ui/thirdparty/iscroll-lite':{amd:false,exports:'iScroll'},'sap/ui/thirdparty/iscroll':{amd:false,exports:'iScroll'},'sap/ui/thirdparty/jquery':{amd:true,exports:'jQuery'},'sap/ui/thirdparty/jqueryui/jquery-ui-datepicker':{deps:['sap/ui/thirdparty/jqueryui/jquery-ui-core'],exports:'jQuery'},'sap/ui/thirdparty/jqueryui/jquery-ui-draggable':{deps:['sap/ui/thirdparty/jqueryui/jquery-ui-mouse'],exports:'jQuery'},'sap/ui/thirdparty/jqueryui/jquery-ui-droppable':{deps:['sap/ui/thirdparty/jqueryui/jquery-ui-mouse','sap/ui/thirdparty/jqueryui/jquery-ui-draggable'],exports:'jQuery'},'sap/ui/thirdparty/jqueryui/jquery-ui-effect':{deps:['sap/ui/thirdparty/jquery'],exports:'jQuery'},'sap/ui/thirdparty/jqueryui/jquery-ui-mouse':{deps:['sap/ui/thirdparty/jqueryui/jquery-ui-core','sap/ui/thirdparty/jqueryui/jquery-ui-widget'],exports:'jQuery'},'sap/ui/thirdparty/jqueryui/jquery-ui-position':{deps:['sap/ui/thirdparty/jquery'],exports:'jQuery'},'sap/ui/thirdparty/jqueryui/jquery-ui-resizable':{deps:['sap/ui/thirdparty/jqueryui/jquery-ui-mouse'],exports:'jQuery'},'sap/ui/thirdparty/jqueryui/jquery-ui-selectable':{deps:['sap/ui/thirdparty/jqueryui/jquery-ui-mouse'],exports:'jQuery'},'sap/ui/thirdparty/jqueryui/jquery-ui-sortable':{deps:['sap/ui/thirdparty/jqueryui/jquery-ui-mouse'],exports:'jQuery'},'sap/ui/thirdparty/jqueryui/jquery-ui-widget':{deps:['sap/ui/thirdparty/jquery'],exports:'jQuery'},'sap/ui/thirdparty/jquery-mobile-custom':{amd:true,deps:['sap/ui/thirdparty/jquery','sap/ui/Device'],exports:'jQuery.mobile'},'sap/ui/thirdparty/jszip':{amd:true,exports:'JSZip'},'sap/ui/thirdparty/less':{amd:true,exports:'less'},'sap/ui/thirdparty/mobify-carousel':{amd:false,exports:'Mobify'},'sap/ui/thirdparty/qunit-2':{amd:false,exports:'QUnit'},'sap/ui/thirdparty/punycode':{amd:true,exports:'punycode'},'sap/ui/thirdparty/RequestRecorder':{amd:true,exports:'RequestRecorder',deps:['sap/ui/thirdparty/URI','sap/ui/thirdparty/sinon']},'sap/ui/thirdparty/require':{exports:'define'},'sap/ui/thirdparty/SecondLevelDomains':{amd:true,exports:'SecondLevelDomains'},'sap/ui/thirdparty/signals':{amd:true,exports:'signals'},'sap/ui/thirdparty/sinon':{amd:true,exports:'sinon'},'sap/ui/thirdparty/sinon-4':{amd:true,exports:'sinon'},'sap/ui/thirdparty/sinon-server':{amd:true,exports:'sinon'},'sap/ui/thirdparty/unorm':{amd:false,exports:'UNorm'},'sap/ui/thirdparty/unormdata':{exports:'UNorm',deps:['sap/ui/thirdparty/unorm']},'sap/ui/thirdparty/URI':{amd:true,exports:'URI'},'sap/ui/thirdparty/URITemplate':{amd:true,exports:'URITemplate',deps:['sap/ui/thirdparty/URI']},'sap/ui/thirdparty/vkbeautify':{amd:false,exports:'vkbeautify'},'sap/ui/thirdparty/zyngascroll':{amd:false,exports:'Scroller'},'sap/ui/demokit/js/esprima':{amd:true,exports:'esprima'},'sap/viz/libs/canvg':{amd:true,deps:['sap/viz/libs/rgbcolor']},'sap/viz/libs/rgbcolor':{amd:true},'sap/viz/libs/sap-viz':{amd:true,deps:['sap/ui/thirdparty/jquery','sap/ui/thirdparty/d3','sap/viz/libs/canvg']},'sap/viz/libs/sap-viz-info-charts':{amd:true,deps:['sap/viz/libs/sap-viz-info-framework']},'sap/viz/libs/sap-viz-info-framework':{amd:true,deps:['sap/ui/thirdparty/jquery','sap/ui/thirdparty/d3']},'sap/viz/ui5/container/libs/sap-viz-controls-vizcontainer':{amd:true,deps:['sap/viz/libs/sap-viz','sap/viz/ui5/container/libs/common/libs/rgbcolor/rgbcolor_static']},'sap/viz/ui5/controls/libs/sap-viz-vizframe':{amd:true,deps:['sap/viz/libs/sap-viz-info-charts']},'sap/viz/ui5/controls/libs/sap-viz-vizservices':{amd:true,deps:['sap/viz/libs/sap-viz-info-charts']}}});var h=u._.defineModuleSync;h('sap/ui/thirdparty/baseuri.js',null);if(typeof ES6Promise!=='undefined'){h('sap/ui/thirdparty/es6-promise.js',ES6Promise);}h('sap/ui/thirdparty/es6-object-assign.js',null);h('sap/ui/thirdparty/es6-string-methods.js',null);h('ui5loader.js',null);h('ui5loader-autoconfig.js',null);if(n&&typeof jQuery==='function'){h('sap/ui/thirdparty/jquery.js',jQuery);if(jQuery.ui&&jQuery.ui.position){h('sap/ui/thirdparty/jqueryui/jquery-ui-position.js',jQuery);}}var m=B&&B.getAttribute('data-sap-ui-main');if(m){sap.ui.require(m.trim().split(/\s*,\s*/));}}());
/* the subsequent text seems not to contain a copyright or license statement */
sap.ui.predefine('sap/ushell/CanvasShapesManager',function(){"use strict";var P=function(x,y){this.x=x||0;this.y=y||0;};P.prototype.getDistance=function(p){var x=this.x-p.x;var y=this.y-p.y;return Math.floor(Math.sqrt(x*x+y*y));};P.prototype.getSegment=function(o){if(this.x<=o.x&&this.y<=o.y){return 1;}if(this.x<=o.x&&this.y>=o.y){return 2;}if(this.x>=o.x&&this.y>=o.y){return 3;}if(this.x>=o.x&&this.y<=o.y){return 4;}};P.prototype.offset=function(o,O){this.x=this.x+o;this.y=this.y+O;};var R=function(x,X,y,Y){this.x={min:x,max:X};this.y={min:y,max:Y};};var c=(window.innerWidth>0)?window.innerWidth:screen.width;var a=(window.innerHeight>0)?window.innerHeight:screen.height;var b={cpr1:new R(0,c/4,0,a/4),cpr2:new R(c/2,c,0,a/4),cpr3:new R(c/4,3*c/4,a*3/4,a)};var r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(d){return setTimeout(d,1);};var m=function(){this.init();};m.prototype={radiusRange:{min:800,max:900},init:function(){this.Id="shell-shapes";var d={cpr1:b.cpr1,cpr2:b.cpr2,cpr3:b.cpr3},e,f,s,g,i=sap.ui.Device.system.phone;this.shapes=[];var h;for(h in d){e=Math.random(this.radiusRange.max-this.radiusRange.min)+this.radiusRange.min;f=this.getRandomPoint(d[h]);s=this._getSquarePoints(e,f);g=this._calculatebezierCurves(e,s);this.shapes.push({bezierCurves:g,centerPoint:f});}for(var j in this.shapes){var v=this._generateRandomAmorphousShapeValues();this.shapes[j]=this.makeAmorphousShape(this.shapes[j],v.edge0.edgeNum,v.edge0.xOffSet,v.edge0.yOffSet,v.edge0.xStretch);this.shapes[j]=this.makeAmorphousShape(this.shapes[j],v.edge1.edgeNum,v.edge1.xOffSet,v.edge1.yOffSet,v.edge1.xStretch);}sap.ui.Device.resize.attachHandler(this.resizeHandler,this);if(!i){sap.ui.getCore().getEventBus().subscribe("launchpad","afterSwitchState",this.startAnimation,this);}},_generateRandomAmorphousShapeValues:function(){var v={edge0:{edgeNum:0,xOffSet:0,yOffSet:0,xStretch:0},edge1:{edgeNum:0,xOffSet:0,yOffSet:0,xStretch:0}};var n=this._getRandomInt(0,3);for(var e in v){v[e].edgeNum=n;v[e].xOffSet=this._getRandomInt(200,400);v[e].yOffSet=this._getRandomInt(-200,-400);n+=this._getRandomInt(0,1)<0.5?-1:1;if(n===-1){n=3;}if(n===4){n=0;}}n=this._getRandomInt(0,1);if(n<0.5){n=n<0.25?0:1;v["edge"+n].xStretch=this._getRandomInt(0,200);}return v;},getPoint:function(x,y){return new P(x,y);},getRandomPoint:function(d){var x=Math.floor(Math.random()*(d.x.max-d.x.min)+d.x.min),y=Math.floor(Math.random()*(d.y.max-d.y.min)+d.y.min);return new P(x,y);},resizeHandler:function(){var d=jQuery('#'+this.Id)[0];if(d){d.width=window.innerWidth;d.height=window.innerHeight;this.drawShapes();}},enableAnimationDrawing:function(e){this._enableDrawing=e;},startAnimation:function(e,d,D){if(!this._enableDrawing){return;}var f=2500;var t,g=this.shapes[0].centerPoint.x,h=this.shapes[1].centerPoint.x,i=this.shapes[2].centerPoint.x,j,k=parseFloat(jQuery("body").css("font-size")),T=D.getParameter('to'),F=D.getParameter('from');if(!this.leftOffset||!this.rigthOffset){this.setTranslateOffset();}if(sap.ui.getCore().getConfiguration().getRTL()){if(T==="RightCenter"){T="LeftCenter";}else if(T==="LeftCenter"){T="RightCenter";}if(F==="RightCenter"){F="LeftCenter";}else if(F==="LeftCenter"){F="RightCenter";}}if(T==="RightCenter"){j=1;t=this.rigthOffset*k;}if(T==="LeftCenter"){j=-1;t=this.leftOffset*k;}if(T==="Center"){if(F==="RightCenter"){j=-1;t=this.rigthOffset*k;}if(F==="LeftCenter"){j=1;t=this.leftOffset*k;}}this.animateTranslation(g,h,i,t,f,j);},setTranslateOffset:function(){var t=sap.ui.core.theming.Parameters,l,s;if(window.matchMedia('(min-width: 1920px)').matches){l=t.get('sapUshellLeftViewPortWidthL');s=t.get('sapUshellRightViewPortWidthXXL');}else if(window.matchMedia('(min-width: 1600px)').matches){l=t.get('sapUshellLeftViewPortWidthM');s=t.get('sapUshellRightViewPortWidthXL');}else if(window.matchMedia('(min-width: 1440px)').matches){l=t.get('sapUshellLeftViewPortWidthM');s=t.get('sapUshellRightViewPortWidthL');}else if(window.matchMedia('(min-width: 1280px)').matches){l=t.get('sapUshellLeftViewPortWidthM');s=t.get('sapUshellRightViewPortWidthM');}else if(window.matchMedia('(min-width: 1024px)').matches){l=t.get('sapUshellLeftViewPortWidthXS');s=t.get('sapUshellRightViewPortWidthS');}else if(window.matchMedia('(min-width: 601px)').matches){l=t.get('sapUshellLeftViewPortWidthXS');s=t.get('sapUshellRightViewPortWidthXS');}else if(window.matchMedia('(max-width : 600px)').matches){l=(jQuery(window).width()/parseFloat(jQuery("body").css("font-size")))+"";s=(jQuery(window).width()/parseFloat(jQuery("body").css("font-size")))+"";}this.leftOffset=parseInt(l.replace("rem",""),10);this.rigthOffset=parseInt(s.replace("rem",""),10);},animateTranslation:function(d,e,f,t,g,h){var s=new Date().getTime();var i=s+g,j=t,k=t/4,l=t/2,o,n,p,q=this;var u=function(){var v=new Date().getTime(),w=1-Math.pow(1-Math.min((g-(i-v))/g,1),5);o=d+h*k*w;n=e+h*l*w;p=f+h*j*w;q.updateShapes(o,n,p);q.drawShapes();if(w<1){r(u);}};return u();},updateShapes:function(o,d,e){var t=this,f=this.shapes[0].centerPoint.x-o,g=this.shapes[1].centerPoint.x-d,h=this.shapes[2].centerPoint.x-e;this.shapes[0].centerPoint=new P(o,this.shapes[0].centerPoint.y);this.shapes[1].centerPoint=new P(d,this.shapes[1].centerPoint.y);this.shapes[2].centerPoint=new P(e,this.shapes[2].centerPoint.y);this.shapes[0].bezierCurves.forEach(function(i,I){t.shapes[0].bezierCurves[I].controlPoint1=new P(i.controlPoint1.x+f,i.controlPoint1.y);t.shapes[0].bezierCurves[I].controlPoint2=new P(i.controlPoint2.x+f,i.controlPoint2.y);t.shapes[0].bezierCurves[I].startPoint=new P(i.startPoint.x+f,i.startPoint.y);t.shapes[0].bezierCurves[I].endPoint=new P(i.endPoint.x+f,i.endPoint.y);});this.shapes[1].bezierCurves.forEach(function(i,I){t.shapes[1].bezierCurves[I].controlPoint1=new P(i.controlPoint1.x+g,i.controlPoint1.y);t.shapes[1].bezierCurves[I].controlPoint2=new P(i.controlPoint2.x+g,i.controlPoint2.y);t.shapes[1].bezierCurves[I].startPoint=new P(i.startPoint.x+g,i.startPoint.y);t.shapes[1].bezierCurves[I].endPoint=new P(i.endPoint.x+g,i.endPoint.y);});this.shapes[2].bezierCurves.forEach(function(i,I){t.shapes[2].bezierCurves[I].controlPoint1=new P(i.controlPoint1.x+h,i.controlPoint1.y);t.shapes[2].bezierCurves[I].controlPoint2=new P(i.controlPoint2.x+h,i.controlPoint2.y);t.shapes[2].bezierCurves[I].startPoint=new P(i.startPoint.x+h,i.startPoint.y);t.shapes[2].bezierCurves[I].endPoint=new P(i.endPoint.x+h,i.endPoint.y);});},makeAmorphousShape:function(s,d,x,y,e){var f,g,h;switch(d){case 0:f=s.bezierCurves[0].controlPoint1;g=s.bezierCurves[3].controlPoint2;h=this._rotatePoints(x,y,f,g);s.bezierCurves[0].controlPoint1=h[0];s.bezierCurves[3].controlPoint2=h[1];break;case 1:f=s.bezierCurves[0].controlPoint2;g=s.bezierCurves[1].controlPoint1;h=this._rotatePoints(x,y,f,g);s.bezierCurves[0].controlPoint2=h[0];s.bezierCurves[1].controlPoint1=h[1];break;case 2:f=s.bezierCurves[1].controlPoint2;g=s.bezierCurves[2].controlPoint1;h=this._rotatePoints(x,y,f,g);s.bezierCurves[1].controlPoint2=h[0];s.bezierCurves[2].controlPoint1=h[1];break;case 3:f=s.bezierCurves[2].controlPoint2;g=s.bezierCurves[3].controlPoint1;h=this._rotatePoints(x,y,f,g);s.bezierCurves[2].controlPoint2=h[0];s.bezierCurves[3].controlPoint1=h[1];break;}return s;},_rotatePoints:function(d,e,f,g){var x,y,h=[];x=f.x+d;y=f.y+e;h.push(new P(x,y));x=g.x-d;y=g.y-e;h.push(new P(x,y));return h;},_getSquarePoints:function(d,e){var s=[];s[0]=new P(e.x+d,e.y);s[1]=new P(e.x,e.y-d);s[2]=new P(e.x-d,e.y);s[3]=new P(e.x,e.y+d);return s;},_getRandomInt:function(d,e){if(d==0&&e==1){return Math.random();}return Math.floor(Math.random()*(e-d+1))+d;},_calculatebezierCurves:function(d,s){var e=[];var f;var g;var h,i;i=s[0];h=s[1];f=new P(i.x,i.y-d/2);g=new P(i.x-d/2,i.y-d);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});i=s[1];h=s[2];f=new P(i.x-d/2,i.y);g=new P(i.x-d,i.y+d/2);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});i=s[2];h=s[3];f=new P(i.x,i.y+d/2);g=new P(i.x+d/2,i.y+d);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});i=s[3];h=s[0];f=new P(i.x+d/2,i.y);g=new P(i.x+d,i.y-d/2);e.push({startPoint:i,endPoint:h,controlPoint1:f,controlPoint2:g});return e;},drawShapes:function(){var d=jQuery('#'+this.Id)[0],B=sap.ui.core.theming.Parameters.get("sapUshellShellBackgroundShapesColor");if(d&&d.getContext){var e=d.getContext('2d'),s,f,g,h;e.clearRect(0,0,c*2,a*2);if(B){for(var j=0;j<this.shapes.length;j++){e.beginPath();s=this.shapes[j].bezierCurves[0].startPoint;e.moveTo(s.x,s.y);for(var i=0;i<this.shapes[j].bezierCurves.length;i++){f=this.shapes[j].bezierCurves[i].endPoint;g=this.shapes[j].bezierCurves[i].controlPoint1;h=this.shapes[j].bezierCurves[i].controlPoint2;e.bezierCurveTo(Math.floor(g.x),Math.floor(g.y),Math.floor(h.x),Math.floor(h.y),Math.floor(f.x),Math.floor(f.y));}e.closePath();e.fillStyle=B;e.fill();}}}}};var C=new m();return C;},true);
sap.ui.predefine('sap/ushell/components/DestroyHelper',[],function(){'use strict';return{destroyFLPAggregationModel:a,destroyFLPAggregationModels:d,destroyTileModel:c,destroyTileModels:b};function d(A){var i;if(A){for(i=0;i<A.length;i++){a(A[i]);}}}function a(A){if(A){b(A.tiles);}}function b(t){var i;if(t){for(i=0;i<t.length;i++){c(t[i]);}}}function c(t){var i;if(t&&t.content){for(i=0;i<t.content.length;i++){t.content[i].destroy();}}}});
sap.ui.predefine('sap/ushell/components/GroupsHelper',[],function(){'use strict';return{getIndexOfGroup:a,getModelPathOfGroup:g};function g(G,s){var i=a(G,s);if(i<0){return null;}return"/groups/"+i;}function a(G,s){for(var i=0;i<G.length;i++){if(G[i].groupId===s)return i;}return-1;}});
sap.ui.predefine('sap/ushell/components/MessagingHelper',["sap/ushell/services/Message"],function(M){'use strict';return{getLocalizedText:g,showLocalizedError:a,showLocalizedErrorHelper:b,showLocalizedMessage:s};function g(m,p){return sap.ushell.resources.i18n.getText(m,p);}function s(m,p,t){if(sap.ushell.Container){sap.ushell.Container.getService("Message").show(t||M.Type.INFO,g(m,p),p);}}function a(m,p){s(m,p,M.Type.ERROR);}function b(m,p){return function(){a(m,p);};}});
sap.ui.predefine('sap/ushell/ui/shell/ToolAreaItem',['jquery.sap.global','sap/ui/core/Control','sap/ui/core/IconPool','sap/ushell/EventHub','sap/ushell/library'],function(q,C,I,E){"use strict";var T=C.extend("sap.ushell.ui.shell.ToolAreaItem",{metadata:{properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false},text:{type:"string",group:"Appearance",defaultValue:null},ariaLabel:{type:"string",group:"Appearance",defaultValue:null},visible:{type:"boolean",group:"Appearance",defaultValue:true},expandable:{type:"boolean",group:"Appearance",defaultValue:false}},events:{press:{},expand:{}}},renderer:{render:function(r,t){var i;r.write("<div");r.writeControlData(t);if(!t.getIcon()){r.addClass("sapUshellToolAreaItmTextOnly");}else{r.addClass("sapUshellToolAreaItm");}if(!t.getVisible()){r.addClass("sapUshellShellHidden");}if(t.getAriaLabel()){r.writeAccessibilityState({label:this.getAriaLabel(),role:"button"});}r.writeClasses();var a=t.getTooltip_AsString();if(a){r.writeAttributeEscaped("title",a);}r.write(">");if(t.getIcon()){i=I.createControlByURI(t.getIcon());i.setUseIconTooltip(false);i.addStyleClass("sapUshellToolAreaItemIcon");r.renderControl(i);}if(t.getText()){r.write("<span");r.addClass("sapUshellToolAreaItemText");r.writeClasses();r.write(">");r.writeEscaped(t.getText());r.write("</span>");}if(t.getExpandable()){this.renderExpandable(r);}r.write("</div>");},renderExpandable:function(r){var i=I.createControlByURI("sap-icon://icon-dropdown");i.addStyleClass("sapUshellToolAreaItemExpandable");r.renderControl(i);}}});T.prototype.init=function(){E.emit("ToolAreaItemCreated");};T.prototype.onclick=function(e){if(this.$().parent().hasClass("sapUshellToolAreaItemSelected")){this.setSelected(false);}else{this.setSelected(true);}if(e.target.className.indexOf("sapUshellToolAreaItemExpandable")>0){this.fireExpand();}else{this.firePress();}};T.prototype.onsapenter=T.prototype.onclick;T.prototype.setExpandable=function(e){e=!!e;this.setProperty("expandable",e,true);this.$().toggleClass("sapUshellToolAreaItemExpandable",e);};T.prototype.setSelected=function(s){s=!!s;if(s){var j=q(".sapUshellToolAreaItemSelected");j.each(function(){q(this).removeClass("sapUshellToolAreaItemSelected");});}this.setProperty("selected",s,true);this.$().parent().toggleClass("sapUshellToolAreaItemSelected",s);};T.prototype.setVisible=function(v){var r=this.getParent().getDomRef();this.setProperty("visible",!!v,r);this.$().toggleClass("sapUshellShellHidden",!v);};T.prototype.setAriaLabel=function(a){this.setProperty('ariaLabel',a);return this;};return T;},true);
sap.ui.predefine('sap/ushell/ui5service/_AppIsolationService/appisolationservice.class.factory',["sap/ui/base/EventProvider",'sap/ushell/EventHub'],function(E,a){"use strict";return function(s){var S=s.serviceRegistry,b=s.serviceFactory,c=s.service;var e=new E(),A;var o=undefined;var d=c.extend("sap.ushell.ui5service.AppIsolationService",{init:function(){var t=this,p=this.getInterface();p.init=function(){t._amendPublicServiceInstance.call(t,this);};S.register("sap.ushell.ui5service.AppIsolationService",new b(p));},_setActiveComponentId:function(i){A=i;},_getActiveComponentId:function(){return A;},_getEventProvider:function(){return e;},_ensureArrayOfObjectOfStrings:function(v,m){var V=jQuery.isArray(v)&&v.every(function(O){return jQuery.isPlainObject(O)&&Object.keys(O).length>0&&Object.keys(O).every(function(k){return typeof O[k]==="string";});});if(!V){jQuery.sap.log.error("'"+m+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.AppIsolationService");}return V;},_ensureFunction:function(v,m){var t=typeof v;if(t!=="function"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a function, got '"+t+"' instead","sap.ushell.ui5service.AppIsolationService");return false;}return true;},_ensureString:function(v,m){var t=typeof v;if(t!=="string"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a string, got '"+t+"' instead","sap.ushell.ui5service.AppIsolationService");return false;}return true;},_addCallAllowedCheck:function(p,P){var t=this;p[P]=function(){var C=p.getContext();if(!C||C.scopeObject.getId()!==A){jQuery.sap.log.warning("Call to "+P+" is not allowed","This may be caused by an app component other than the active '"+A+"' that tries to call the method","sap.ushell.ui5service.AppIsolationService");return undefined;}return t[P].apply(p,arguments);};},_amendPublicServiceInstance:function(p){var C;var P={AppLifeCycle:undefined};sap.ui.getCore().getEventBus().publish("sap.ushell","getAppLifeCycle",P);o=P.AppLifeCycle;C=p.getContext();if(typeof C==="undefined"){return;}if(C.scopeType==="component"){this._setActiveComponentId(C.scopeObject.getId());return;}jQuery.sap.log.error("Invalid context for AppIsolationService interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.AppIsolationService");},getUxdVersion:function(){if((new jQuery.sap.Version(sap.ui.version).compareTo("1.37.0"))>=0){return 2;}return 1;},registerShellCommunicationHandler:function(C,f){o.registerShellCommunicationHandler(C,f);},registerIframeCommunicationHandler:function(h,f){o.registerIframeCommunicationHandler(h,f);},getCurrentAppHash:function(){return o.getCurrentApplication().hash;},getCurrentAppTargetResolution:function(){return o.getCurrentApplication().target;},getIframeHandelrs:function(){return o.getCurrentApplication().container.getIframeHandlers();},jsonStringifyFn:function(j){var r=JSON.stringify(j,function(k,v){return(typeof v==='function')?v.toString():v;});return r;}});return d;};});
sap.ui.predefine('sap/ushell/ui5service/_ShellUIService/shelluiservice.class.factory',["sap/ui/base/EventProvider","sap/ui/thirdparty/hasher"],function(E,h){"use strict";return function(s){var S=s.serviceRegistry,a=s.serviceFactory,b=s.service;var l;var e=new E();var O={hierarchyChanged:"hierarchyChanged",relatedAppsChanged:"relatedAppsChanged",titleChanged:"titleChanged",backNavigationChanged:"backNavigationChanged"};var A;var c=b.extend("sap.ushell.ui5service.ShellUIService",{init:function(){var t=this,p=this.getInterface();p.init=function(){t._amendPublicServiceInstance.call(t,this);};S.register("sap.ushell.ui5service.ShellUIService",new a(p));},_setActiveComponentId:function(i){A=i;},_getActiveComponentId:function(){return A;},_shouldEnableAutoHierarchy:function(o){return typeof o.getManifestEntry==="function"&&o.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setHierarchy")==="auto";},_shouldEnableAutoTitle:function(o){return typeof o.getManifestEntry==="function"&&o.getManifestEntry("/sap.ui5/services/ShellUIService/settings/setTitle")==="auto";},_enableAutoHierarchy:function(o){var t=this;var r=o.getRouter&&o.getRouter();if(!r){jQuery.sap.log.error("Could not enable automatic setHierarchy on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return;}r.attachTitleChanged(function(d){var H=d.getParameter("history");t.setHierarchy(H.reverse().map(function(u){var f=t._getCurrentShellHashWithoutAppRoute();return{title:u.title,intent:f+"&/"+u.hash};}));});},_enableAutoTitle:function(o){var t=this;var r=o.getRouter&&o.getRouter();if(!r){jQuery.sap.log.error("Could not enable automatic setTitle on the current app","Router could not be obtained on the app root component via getRouter","sap.ushell.ui5service.ShellUIService");return;}var T=r.getTitleHistory()[0];if(T&&T.title){setTimeout(function(){t.setTitle(T.title);},0);}r.attachTitleChanged(function(d){var f=d.getParameter("title");t.setTitle(f);});},_getCurrentShellHashWithoutAppRoute:function(){var f="#"+h.getHash();var u=sap.ushell.Container.getService("URLParsing");var U=u.getShellHash(f);if(!U){jQuery.sap.log.error("Cannot get the current shell hash","URLParsing service returned a falsy value for "+f,"sap.ushell.ui5service.ShellUIService");return"";}return"#"+U;},_getEventProvider:function(){return e;},_getLastSetTitle:function(){return l;},_ensureArrayOfObjectOfStrings:function(v,m){var V=jQuery.isArray(v)&&v.every(function(o){return jQuery.isPlainObject(o)&&Object.keys(o).length>0&&Object.keys(o).every(function(k){return typeof o[k]==="string";});});if(!V){jQuery.sap.log.error("'"+m+"' was called with invalid parameters","An array of non-empty objects with string values is expected","sap.ushell.ui5service.ShellUIService");}return V;},_ensureFunction:function(v,m){var t=typeof v;if(t!=="function"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a function, got '"+t+"' instead","sap.ushell.ui5service.ShellUIService");return false;}return true;},_ensureString:function(v,m){var t=typeof v;if(t!=="string"){jQuery.sap.log.error("'"+m+"' was called with invalid arguments","the parameter should be a string, got '"+t+"' instead","sap.ushell.ui5service.ShellUIService");return false;}return true;},_addCallAllowedCheck:function(p,P){var t=this;p[P]=function(){var C=p.getContext();if(!C||C.scopeObject.getId()!==A){jQuery.sap.log.warning("Call to "+P+" is not allowed","This may be caused by an app component other than the active '"+A+"' that tries to call the method","sap.ushell.ui5service.ShellUIService");return undefined;}if(P==="setHierarchy"&&C.scopeType==="component"&&C.scopeObject&&t._shouldEnableAutoHierarchy(C.scopeObject)){jQuery.sap.log.warning("Call to "+P+" is not allowed","The app defines that setHierarchy should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined;}if(P==="setTitle"&&C.scopeType==="component"&&C.scopeObject&&t._shouldEnableAutoTitle(C.scopeObject)){jQuery.sap.log.warning("Call to "+P+" is not allowed","The app defines that setTitle should be called automatically","sap.ushell.ui5service.ShellUIService");return undefined;}return t[P].apply(p,arguments);};},_amendPublicServiceInstance:function(p){var t=this,C;C=p.getContext();if(typeof C==="undefined"){return;}["setTitle","setHierarchy","setRelatedApps","setBackNavigation"].forEach(function(m){t._addCallAllowedCheck(p,m);});var o=C.scopeObject;if(C.scopeType==="component"&&o){this._setActiveComponentId(o.getId());if(this._shouldEnableAutoHierarchy(o)){this._enableAutoHierarchy(o);}if(this._shouldEnableAutoTitle(o)){this._enableAutoTitle(o);}return;}jQuery.sap.log.error("Invalid context for ShellUIService interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.ui5service.ShellUIService");},setHierarchy:function(H){if(typeof H!=="undefined"&&!c.prototype._ensureArrayOfObjectOfStrings(H,"setHierarchy")){return;}var C=this.getContext().scopeObject;e.fireEvent(O.hierarchyChanged,{data:H,component:C});return;},setTitle:function(t){if(typeof t!=="undefined"&&!c.prototype._ensureString(t,"setTitle")){return;}var C=this.getContext().scopeObject;l=t;e.fireEvent(O.titleChanged,{data:t,component:C});return;},setBackNavigation:function(C){if(typeof C!=="undefined"&&!c.prototype._ensureFunction(C,"setBackNavigation")){return;}var o=this.getContext().scopeObject;e.fireEvent(O.backNavigationChanged,{data:C,component:o});return;},getTitle:function(){return this._getLastSetTitle();},setRelatedApps:function(r){if(typeof r!=="undefined"&&!c.prototype._ensureArrayOfObjectOfStrings(r,"setRelatedApps")){return;}var C=this.getContext().scopeObject;e.fireEvent(O.relatedAppsChanged,{data:r,component:C});return;},getUxdVersion:function(){if((new jQuery.sap.Version(sap.ui.version).compareTo("1.37.0"))>=0){return 2;}return 1;},_attachHierarchyChanged:function(f){this._getEventProvider().attachEvent(O.hierarchyChanged,f);},_detachHierarchyChanged:function(f){this._getEventProvider().detachEvent(O.hierarchyChanged,f);},_attachTitleChanged:function(f){this._getEventProvider().attachEvent(O.titleChanged,f);},_attachBackNavigationChanged:function(f){this._getEventProvider().attachEvent(O.backNavigationChanged,f);},_detachBackNavigationChanged:function(f){this._getEventProvider().detachEvent(O.backNavigationChanged,f);},_detachTitleChanged:function(f){this._getEventProvider().detachEvent(O.titleChanged,f);},_attachRelatedAppsChanged:function(f){this._getEventProvider().attachEvent(O.relatedAppsChanged,f);},_detachRelatedAppsChanged:function(f){this._getEventProvider().detachEvent(O.relatedAppsChanged,f);}});return c;};});
sap.ui.predefine('sap/ushell/utils/utilsCdm',["sap/ushell/utils"],function(u){"use strict";function g(o,A){return u.getMember(o,A);}function m(k,s,A){s=u.clone(s);A=u.clone(A);var i={};i.semanticObject=s.semanticObject;i.action=s.action;i.title=s.title||g(A,"sap|app.title");i.info=s.info||g(A,"sap|app.info");i.icon=s.icon||g(A,"sap|ui.icons.icon");i.subTitle=s.subTitle||g(A,"sap|app.subTitle");i.shortTitle=s.shortTitle||g(A,"sap|app.shortTitle");var T,c,d,o,D,e,I=false;var S=g(A,"sap|platform|runtime");i.resolutionResult=jQuery.extend(true,{},S);if(S){i.resolutionResult["sap.platform.runtime"]=jQuery.extend(true,{},S);}if(g(A,"sap|ui.technology")==="GUI"){i.resolutionResult["sap.gui"]=g(A,"sap|gui");}if(g(A,"sap|ui.technology")==="WDA"){i.resolutionResult["sap.wda"]=g(A,"sap|wda");}if(g(A,"sap|ui.technology")==="URL"){if(A["sap.url"]){i.resolutionResult["sap.platform.runtime"]=i.resolutionResult["sap.platform.runtime"]||{};i.resolutionResult.url=A["sap.url"].uri;i.resolutionResult["sap.platform.runtime"].url=A["sap.url"].uri;}else if(S&&S.uri){i.resolutionResult["sap.platform.runtime"].url=S.uri;i.resolutionResult.url=S.uri;}}if(!i.resolutionResult["sap.ui"]){i.resolutionResult["sap.ui"]={};}i.resolutionResult["sap.ui"].technology=g(A,"sap|ui.technology");i.resolutionResult.applicationType=this._formatApplicationType(i.resolutionResult,A);i.resolutionResult.systemAlias=i.resolutionResult.systemAlias||s.systemAlias;i.resolutionResult.systemAliasSemantics="apply";i.resolutionResult.text=i.title;i.deviceTypes=g(A,"sap|ui.deviceTypes")||{};i.resolutionResult.appId=g(A,"sap|app.id");["desktop","tablet","phone"].forEach(function(M){if(Object.prototype.hasOwnProperty.call(s.deviceTypes||{},M)){i.deviceTypes[M]=s.deviceTypes[M];}if(!Object.prototype.hasOwnProperty.call(i.deviceTypes,M)){i.deviceTypes[M]=true;}i.deviceTypes[M]=!!i.deviceTypes[M];});i.signature=s.signature||{};i.signature.parameters=i.signature.parameters||{};i.signature.additionalParameters=(s.signature||{}).additionalParameters||"allowed";var h=s.indicatorDataSource||g(A,"sap|app.crossNavigation.inbounds."+k+".indicatorDataSource");var j=h?"#Shell-dynamicTile":"#Shell-staticTile";if(g(A,"sap|app.type")==="tile"||g(A,"sap|flp.type")==="tile"){j=i.resolutionResult;j.url=g(A,"sap|platform|runtime.componentProperties.url");j.componentName=g(A,"sap|ui5.componentName");if(g(A,"sap|platform|runtime.includeManifest")){j.componentProperties=j.componentProperties||{};j.componentProperties.manifest=jQuery.extend(true,{},A);delete j.componentProperties.manifest["sap.platform.runtime"];}o=g(A,"sap|app.crossNavigation.outbounds.target");I=true;}if(g(A,"sap|app.type")==="plugin"||g(A,"sap|flp.type")==="plugin"){return undefined;}if(g(A,"sap|flp.tileSize")){T=g(A,"sap|flp.tileSize");}if(g(A,"sap|app.description")){c=g(A,"sap|app.description");}if(g(A,"sap|ui.technology")==="GUI"&&g(A,"sap|gui.transaction")){d=g(A,"sap|gui.transaction");}if(g(A,"sap|ui.technology")==="WDA"&&g(A,"sap|wda.applicationId")){d=g(A,"sap|wda.applicationId");}if(g(A,"sap|app.dataSources")){D=g(A,"sap|app.dataSources");}if(g(A,"sap|app.id")){e=g(A,"sap|app.id");}i.tileResolutionResult={appId:e,title:i.title,subTitle:i.subTitle,icon:i.icon,size:T,info:i.info,tileComponentLoadInfo:j,indicatorDataSource:h,dataSources:D,description:c,runtimeInformation:S,technicalInformation:d,deviceTypes:i.deviceTypes};i.tileResolutionResult.isCustomTile=I;if(o){i.tileResolutionResult.targetOutbound=o;}return i;}function f(r,A){var s=r.applicationType;if(s){return s;}var c=g(A,"sap|platform|runtime.componentProperties.self.name")||g(A,"sap|ui5.componentName");if(g(A,"sap|flp.appType")==="UI5"||g(A,"sap|ui.technology")==="UI5"){r.applicationType="SAPUI5";r.additionalInformation="SAPUI5.Component="+c;r.url=g(A,"sap|platform|runtime.componentProperties.url");r.applicationDependencies=g(A,"sap|platform|runtime.componentProperties");return"SAPUI5";}if(g(A,"sap|ui.technology")==="GUI"){r.applicationType="TR";r["sap.gui"]=g(A,"sap|gui");r.systemAlias=g(A,"sap|app.destination.name");return"TR";}if(g(A,"sap|ui.technology")==="WDA"){r.applicationType="WDA";r["sap.wda"]=g(A,"sap|wda");r.systemAlias=g(A,"sap|app.destination.name");return"WDA";}if(g(A,"sap|ui.technology")==="URL"){r.applicationType="URL";r.systemAlias=g(A,"sap|app.destination.name");}return"URL";}function a(s){var c=this;if(!s){return[];}var i=[];try{var S=Object.keys(s.applications||{}).sort();S.forEach(function(A){try{var o=s.applications[A];var d=g(o,"sap|app.crossNavigation.inbounds");if(d){var l=Object.keys(d).sort();l.forEach(function(I){var h=d[I];var r=c.mapOne(I,h,o);if(r){i.push(r);}});}}catch(E){jQuery.sap.log.error("Error in application "+A+": "+E,E.stack);}});}catch(e){jQuery.sap.log.error(e);jQuery.sap.log.error(e.stack);return[];}return i;}function t(i){var s,p,c;s={target:{semanticObject:i.semanticObject,action:i.action},params:{}};p=jQuery.sap.getObject("signature.parameters",undefined,i)||{};Object.keys(p).forEach(function(k){if(p[k].filter&&Object.prototype.hasOwnProperty.call(p[k].filter,"value")&&(p[k].filter.format===undefined||p[k].filter.format==="plain")){s.params[k]=[p[k].filter.value];}if(p[k].launcherValue&&Object.prototype.hasOwnProperty.call(p[k].launcherValue,"value")&&(p[k].launcherValue.format===undefined||p[k].launcherValue.format==="plain")){s.params[k]=[p[k].launcherValue.value];}});c=sap.ushell.Container.getService("URLParsing").constructShellHash(s);if(!c){return undefined;}return c;}function b(o){var s,p,c;s={target:{semanticObject:o.semanticObject,action:o.action},params:{}};p=o.parameters||{};Object.keys(p).forEach(function(k){if(p.hasOwnProperty(k)&&typeof p[k].value==="object"){s.params[k]=[p[k].value.value];}});c=sap.ushell.Container.getService("URLParsing").constructShellHash(s);if(!c){return undefined;}return c;}return{formatSite:a,toHashFromInbound:t,toHashFromOutbound:b,mapOne:m,_formatApplicationType:f};},true);
/*
 * ! UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/base/ManagedObjectObserver',['sap/ui/base/Object','sap/ui/base/ManagedObject','sap/ui/base/EventProvider',"sap/base/util/array/uniqueSort","sap/ui/thirdparty/jquery"],function(B,M,E,u,q){"use strict";var a=B.extend("sap.ui.base.ManagedObjectObserver",{constructor:function(C){if(!C&&typeof C!=="function"){throw new Error("Missing callback function in ManagedObjectObserver constructor");}this._fnCallback=C;}});a.prototype.observe=function(i,C){if(!(i instanceof M)){if(i==null){return;}throw new TypeError("ManagedObjectObserver can only handle ManagedObjects, but observe was called for "+i);}o(i,C);c(i,this,C);};a.prototype.unobserve=function(i,C){if(!(i instanceof M)){if(i==null){return;}throw new TypeError("ManagedObjectObserver can only handle ManagedObjects, but unobserve was called for "+i);}if(C){o(i,C);}r(i,this,C);};a.prototype.isObserved=function(i,C){if(!(i instanceof M)){if(i==null){return false;}throw new TypeError("ManagedObjectObserver can only handle ManagedObjects, but isObserved was called for "+i);}return d(i,this,C);};a.prototype.disconnect=function(){e(this);};a.prototype.getConfiguration=function(i){return g(i,this);};var O={},t=Object.create(null);O.propertyChange=function(i,n,v,N){h("properties",i,n,function(){return{type:"property",old:v,current:N};});};O.aggregationChange=function(i,n,s,v){h("aggregations",i,n,function(){return{type:"aggregation",mutation:s,children:Array.isArray(v)?v:null,child:!Array.isArray(v)?v:null};});};O.associationChange=function(i,n,s,I){h("associations",i,n,function(){return{type:"association",mutation:s,ids:I};});};O.eventChange=function(i,n,s,L,F,D){h("events",i,n,function(){return{type:"event",mutation:s,listener:L,func:F,data:D};});};O.bindingChange=function(i,n,s,p,v){h("bindings",i,n,function(){return{type:"binding",mutation:s,bindingInfo:p,memberType:v};});};O.objectDestroyed=function(i){h("destroy",i,null,function(){return{type:"destroy"};});var I=i.getId();if(t[I]){i.detachEvent("EventHandlerChange",H);delete t[I];}delete i._observer;};function h(T,n,N,C){var I=n.getId(),p=t[I];if(p){var s;for(var i=0;i<p.listeners.length;i++){if(b(p.configurations[i],T,N)){if(!s){s=C();s.name=N;s.object=n;}var L=p.listeners[i];L._fnCallback(s);}}}}function b(C,T,n){if(C==null||!T){return false;}if(T!="destroy"&&!n){return false;}return C[T]===true||(Array.isArray(C[T])&&C[T].indexOf(n)>-1);}function c(T,L,C){f(T,L,C,false);}function g(T,L){var i=T.getId();var n=t[i];if(n&&n.listeners){var I=n.listeners.indexOf(L);if(I>=0){var C=q.extend(true,{},n.configurations[I]);return C;}}return null;}function r(T,L,C){C=C||g(T,L);f(T,L,C,true);}function d(T,L,C){var i=T.getId(),n=t[i];C=C||g(T,L);if(!n){return false;}var I=n.listeners.indexOf(L);if(I===-1){return false;}else{return l(n.configurations[I].properties,C.properties)&&l(n.configurations[I].aggregations,C.aggregations)&&l(n.configurations[I].associations,C.associations)&&l(n.configurations[I].bindings,C.bindings)&&l(n.configurations[I].events,C.events)&&m(n.configurations[I].destroy,C.destroy);}}function e(L){for(var n in t){var T=t[n];for(var i=0;i<T.listeners.length;i++){if(T.listeners[i]===L){T.listeners.splice(i,1);T.configurations.splice(i,1);}}if(T.listeners&&T.listeners.length===0){delete t[n];T.object._observer=undefined;}}}function f(T,L,C,R){var i=T.getId(),n=t[i],p,I;if(R){if(!n){return;}I=n.listeners.indexOf(L);if(I>=0){p=n.configurations[I];}}else{if(!n){n=t[i]={listeners:[],configurations:[],object:T};}I=n.listeners.indexOf(L);if(I===-1){n.listeners.push(L);n.configurations.push(C);}else{p=n.configurations[I];}}if(p){p.properties=p.properties||[];k(p.properties,C.properties,R);p.aggregations=p.aggregations||[];k(p.aggregations,C.aggregations,R);p.associations=p.associations||[];k(p.associations,C.associations,R);p.bindings=p.bindings||[];k(p.bindings,C.bindings,R);p.events=p.events||[];k(p.events,C.events,R);if(C.destroy!=null){if(R){delete p.destroy;}else{p.destroy=C.destroy;}}}var s=j(T,"events");if(T._observer&&R){if(!s&&E.hasListener(T,"EventHandlerChange",H)){T.detachEvent("EventHandlerChange",H);}if(!s&&!j(T,"properties")&&!j(T,"aggregations")&&!j(T,"associations")&&!j(T,"destroy")&&!j(T,"bindings")){delete T._observer;delete t[i];}}else if(!T._observer&&!R){if(s&&!E.hasListener(T,"EventHandlerChange",H)){T.attachEvent("EventHandlerChange",H);}T._observer=O;}}function j(T,s){var i=T.getId(),n=t[i];if(n){var C=n.configurations.filter(function(p){return p.hasOwnProperty(s)&&p[s]&&(p[s]===true||p[s].length>0);});return C.length>0;}return false;}function H(i){var T=i.getSource(),s=i.mParameters.EventId;if(T.getMetadata().hasEvent(s)){if(i.mParameters.type==="listenerAttached"){O.eventChange(T,s,"insert",i.mParameters.listener,i.mParameters.func,i.mParameters.data);}else if(i.mParameters.type==="listenerDetached"){O.eventChange(T,s,"remove",i.mParameters.listener,i.mParameters.func,i.mParameters.data);}}}function k(n,A,R){if(!A){return;}for(var i=0;i<A.length;i++){var I=n.indexOf(A[i]);if(I>-1&&R){n.splice(I,1);}else if(I===-1&&!R){n.push(A[i]);}}}function l(F,s){if(!Array.isArray(s)||s.length==0){return true;}if(!Array.isArray(F)||F.length==0){return false;}var U=u(F.concat(s));return F.length===U.length;}function m(i,C){if(C==null){return true;}return i===C;}function o(i,C){var n=i.getMetadata(),p=Object.keys(n.getAllProperties()),A=Object.keys(n.getAllAggregations()),s=Object.keys(n.getAllAssociations()),v=u(p.concat(A)),w=Object.keys(n.getAllEvents());C.properties=C.properties===true?p:C.properties;C.aggregations=C.aggregations===true?A:C.aggregations;C.associations=C.associations===true?s:C.associations;C.bindings=C.bindings===true?v:C.bindings;C.events=C.events===true?w:C.events;C.destroy=(C.destroy==null)?false:C.destroy;}return a;});
sap.ui.predefine('sap/ui/model/base/ManagedObjectModel',['../json/JSONModel','../json/JSONPropertyBinding','../json/JSONListBinding','sap/ui/base/ManagedObject','sap/ui/base/ManagedObjectObserver','../Context','../ChangeReason',"sap/base/util/uid","sap/base/Log","sap/base/util/isPlainObject"],function(J,a,b,M,c,C,d,u,L,e){"use strict";var f=b.extend("sap.ui.model.base.ManagedObjectModelAggregationBinding"),g=a.extend("sap.ui.model.base.ManagedObjectModelPropertyBinding"),h="@custom",I="--";var j=J.extend("sap.ui.model.base.ManagedObjectModel",{constructor:function(o,D){if(!D&&typeof D!="object"){D={};}D[h]={};this._oObject=o;this._mObservedCount={properties:{},aggregations:{}};this.mListBinding={};J.apply(this,[D]);this._oObserver=new c(this.observerChanges.bind(this));}});j.prototype.getAggregation=J.prototype.getProperty;j.prototype.setData=function(D,m){var _={};_[h]=D;J.prototype.setData.apply(this,[_,m]);};j.prototype.getJSON=function(){return JSON.stringify(this.oData[h]);};j.prototype.setProperty=function(p,v,o,A){var r=this.resolve(p,o),l,O,P;if(!r){return false;}if(r.indexOf("/"+h)===0){return J.prototype.setProperty.apply(this,arguments);}l=r.lastIndexOf("/");O=r.substring(0,l||1);P=r.substr(l+1);var i=this._getObject(O);if(i){if(i instanceof M){var k=i.getMetadata().getManagedProperty(P);if(k){if(k.get(i)!==v){k.set(i,v);this.checkUpdate(false,A);return true;}}else{L.warning("The setProperty method only supports properties, the path "+r+" does not point to a property",null,"sap.ui.model.base.ManagedObjectModel");}}else if(i[P]!==v){i[P]=v;this.checkUpdate(false,A);return true;}}return false;};j.prototype.addBinding=function(B){J.prototype.addBinding.apply(this,arguments);if(B instanceof f){var A=B.sPath.replace("/","");this.mListBinding[A]=B;}B.checkUpdate(false);};j.prototype.removeBinding=function(B){J.prototype.removeBinding.apply(this,arguments);if(B instanceof f){var A=B.sPath.replace("/","");delete this.mListBinding[A];}this._observeBeforeEvaluating(B,false);};j.prototype.firePropertyChange=function(A){if(A.reason===d.Binding){A.resolvedPath=this.resolve(A.path,A.context);}J.prototype.firePropertyChange.call(this,A);};j.prototype.bindAggregation=function(p,o,P){return J.prototype.bindProperty.apply(this,arguments);};j.prototype.bindProperty=function(p,o,P){var B=new g(this,p,o,P);return B;};j.prototype.bindList=function(p,o,s,F,P){var B=new f(this,p,o,s,F,P);B.enableExtendedChangeDetection();return B;};j.prototype.getManagedObject=function(p,o){if(p instanceof C){o=p;p=o.getPath();}var O=this.getProperty(p,o);if(O instanceof M){return O;}return null;};j.prototype.getRootObject=function(){return this._oObject;};j.prototype._observePropertyChange=function(o,p){if(!o||!p){return;}var k=o.getId()+"/@"+p.name;if(!this._oObserver.isObserved(o,{properties:[p.name]})){this._oObserver.observe(o,{properties:[p.name]});this._mObservedCount.properties[k]=1;}else{this._mObservedCount.properties[k]++;}};j.prototype._unobservePropertyChange=function(o,p){if(!o||!p){return;}var k=o.getId()+"/@"+p.name;this._mObservedCount.properties[k]--;if(this._mObservedCount.properties[k]==0){this._oObserver.unobserve(o,{properties:[p.name]});delete this._mObservedCount.properties[k];}};j.prototype._observeAggregationChange=function(o,A){if(!o||!A){return;}var k=o.getId()+"/@"+A.name;if(!this._oObserver.isObserved(o,{aggregations:[A.name]})){this._oObserver.observe(o,{aggregations:[A.name]});this._mObservedCount.aggregations[k]=1;}else{this._mObservedCount.aggregations[k]++;}};j.prototype._unobserveAggregationChange=function(o,A){if(!o||!A){return;}var k=o.getId()+"/@"+A.name;this._mObservedCount.aggregations[k]--;if(this._mObservedCount.aggregations[k]==0){this._oObserver.unobserve(o,{aggregations:[A.name]});delete this._mObservedCount.aggregations[k];}};j.prototype._createId=function(i){var o=this._oObject;if(typeof o.createId==="function"){return o.createId(i);}if(!i){return o.getId()+I+u();}if(i.indexOf(o.getId()+I)!=0){return o.getId()+I+i;}return i;};j.prototype._getSpecialNode=function(n,s,p,P){if(n instanceof M){if(s==="className"){if(n.getMetadata){return n.getMetadata().getName();}else{return typeof n;}}else if(s==="id"){return n.getId();}else if(s==="metadataContexts"){return n._oProviderData;}}else if(s==="binding"&&p&&P){return p.getBinding(P);}else if(s==="bound"&&p&&P){return p.isBound(P);}else if(s==="bindingInfo"&&p&&P){return p.getBindingInfo(P);}else if(Array.isArray(n)){if(s==="length"){return n.length;}else if(s.indexOf("id=")===0){var k=s.substring(3),F=null;for(var i=0;i<n.length;i++){if(n[i].getId()===this._createId(k)||n[i].getId()===k){F=n[i];break;}}return F;}}return null;};j.prototype._getObject=function(p,o){var n=this._oObject,r="",t=this;this.aBindings.forEach(function(B){if(!B._bAttached){t._observeBeforeEvaluating(B,true);}});if(typeof p==="string"&&p.indexOf("/")!=0&&!o){return null;}if(o instanceof M){n=o;r=p;}else if(!o||o instanceof C){r=this.resolve(p,o);if(!r){return n;}if(r.indexOf("/"+h)===0){return J.prototype._getObject.apply(this,[p,o]);}}else{n=o;r=p;}if(!n){return null;}var P=r.split("/"),i=0;if(!P[0]){i++;}var k=null,s=null,l;while(n!==null&&P[i]){l=P[i];if(l=="id"){l="@id";}if(l.indexOf("@")===0){n=this._getSpecialNode(n,l.substring(1),k,s);}else if(n instanceof M){var N=n.getMetadata();if(N.isInstanceOf("sap.ui.core.IDScope")&&l.indexOf("#")===0){n=n.byId(l.substring(1));}else{k=n;s=l;var m=N.getManagedProperty(l);if(m){n=m.get(n);}else{var A=N.getManagedAggregation(l);if(A){n=A.get(n);}else{if(n&&n[l]&&typeof n[l]==="function"){n=n[l]();}else{n=null;}}}}}else if(Array.isArray(n)||e(n)){n=n[l];}else{if(n&&n[l]&&typeof n[l]==="function"){n=n[l]();}else{n=null;}}i++;}return n;};j.prototype.destroy=function(){for(var n in this._mAggregationObjects){var o=this._mAggregationObjects[n];if(o.object.invalidate.fn){o.object.invalidate=o.object.invalidate.fn;}}J.prototype.destroy.apply(this,arguments);};j.prototype._observeBeforeEvaluating=function(B,o){if(!B.isResolved()){return;}var p=B.getPath();var i=B.getContext(),n=this._oObject,r;if(i instanceof M){n=i;r=p;}else if(!i||i instanceof C){r=this.resolve(p,i);if(!r){return;}if(r.indexOf("/"+h)===0){return;}}else{return;}var P=r.split("/");if(!P[0]){P.shift();}var s=P[0];if(n.getMetadata().isInstanceOf("sap.ui.core.IDScope")&&s.indexOf("#")===0){n=n.byId(s.substring(1));s=P[1];}if(n instanceof M){var N=n.getMetadata(),k=N.getManagedProperty(s);if(k){if(o===true){this._observePropertyChange(n,k);}else if(o===false){this._unobservePropertyChange(n,k);}}else{var A=N.getAggregation(s)||N.getAllPrivateAggregations()[s];if(A){if(o===true){this._observeAggregationChange(n,A);}else if(o===false){this._unobserveAggregationChange(n,A);}}}B._bAttached=o;}};j.prototype.observerChanges=function(o){if(o.type=="aggregation"){if(o.mutation=="insert"){if(o.child instanceof M){this._oObserver.observe(o.child,{properties:true,aggegations:true});}if(this.mListBinding[o.name]){var l=this._oObject.getBinding(o.name);var A=this._oObject.getAggregation(o.name);if(l&&l.getLength()!=A.length){return;}}}else{if(o.child instanceof M){this._oObserver.unobserve(o.child,{properties:true,aggegations:true});}}}this.checkUpdate();};j.prototype.checkUpdate=function(F,A,i){if(A){if(!this.sUpdateTimer){this.sUpdateTimer=setTimeout(function(){this.checkUpdate(F,true,i);}.bind(this),0);}return;}if(this.sUpdateTimer){clearTimeout(this.sUpdateTimer);this.sUpdateTimer=null;}var B=this.aBindings.slice(0);jQuery.each(B,function(k,o){if(!i||i(o)){o.checkUpdate(F);}});};return j;});
/*!
 * @copyright@
 */
sap.ui.predefine('sap/m/NumericContentRenderer',['./library'],function(l){"use strict";var N={};N.render=function(r,c){var v=c.getValue();var i=c.getIndicator();var s=c.getScale();var S=c.getState();var I=l.DeviationIndicator.None!==i&&v!=="";var w=c.getWithMargin();var W;if(w){W="";}else{W="WithoutMargin";}if(c.getFormatterValue()){var f=c._parseFormattedValue(v);s=f.scale;v=f.value;}var b=s&&v;r.write("<div");r.writeControlData(c);var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}r.writeAttributeEscaped("aria-label",t);r.writeAttribute("role","img");if(S==l.LoadState.Failed||S==l.LoadState.Loading){r.writeAttribute("aria-disabled","true");}if(c.getAnimateTextChange()){r.addStyle("opacity","0.25");}if(c.getWidth()){r.addStyle("width",c.getWidth());}r.writeStyles();r.addClass("sapMNC");r.addClass(W);if(c.hasListeners("press")){r.writeAttribute("tabindex","0");r.addClass("sapMPointer");}r.writeClasses();r.write(">");r.write("<div");r.addClass("sapMNCInner");r.addClass(W);r.writeClasses();r.write(">");if(w){this._renderScaleAndIndicator(r,c,I,b,W,i,s);this._renderValue(r,c,W,v);}else{this._renderValue(r,c,W,v);this._renderScaleAndIndicator(r,c,I,b,W,i,s);}r.write("</div>");r.write("</div>");};N._prepareAndRenderIcon=function(r,c,i,n){if(i){var s,L=l.LoadState,C=c.getState();for(s in L){if(L.hasOwnProperty(s)&&s!==C){i.removeStyleClass(s);}else if(L.hasOwnProperty(s)&&s===C){i.addStyleClass(s);}}i.addStyleClass("sapMNCIconImage");i.removeStyleClass("sapMNCIconImageMediumTopMargin");i.removeStyleClass("sapMNCIconImageSmallTopMargin");if(n==="sapMNCMediumFontSize"){i.addStyleClass("sapMNCIconImageMediumTopMargin");}else if(n==="sapMNCSmallFontSize"){i.addStyleClass("sapMNCIconImageSmallTopMargin");}r.renderControl(i);}};N._renderScaleAndIndicator=function(r,c,i,a,w,t,b){if(i||a){var s=c.getState();var C=c.getValueColor();r.write("<div");r.addClass("sapMNCIndScale");r.addClass(w);r.addClass(s);r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-indicator");r.addClass("sapMNCIndicator");r.addClass(t);r.addClass(s);r.addClass(C);r.writeClasses();r.write("></div>");if(a){r.write("<div");r.writeAttribute("id",c.getId()+"-scale");r.addClass("sapMNCScale");r.addClass(s);r.addClass(C);r.writeClasses();r.write(">");r.writeEscaped(b);r.write("</div>");}r.write("</div>");}};N._renderValue=function(r,c,w,v){var e;if(c.getNullifyValue()){e="0";}else{e="";}r.write("<div");r.writeAttribute("id",c.getId()+"-value");r.addClass("sapMNCValue");r.addClass(w);r.addClass(c.getValueColor());r.addClass(c.getState());r.writeClasses();r.write(">");var m=c._getMaxDigitsData();r.write("<div");r.writeAttribute("id",c.getId()+"-value-scr");r.addClass("sapMNCValueScr");r.addClass(w);if(m.fontClass){r.addClass(m.fontClass);}r.writeClasses();r.write(">");this._prepareAndRenderIcon(r,c,c._oIcon,m.fontClass);var C=c.getTruncateValueTo()||m.maxLength;r.write("<span id=\""+c.getId()+"-value-inner\">");if(v.length>=C&&(v[C-1]==="."||v[C-1]===",")){r.writeEscaped(v.substring(0,C-1));}else{r.writeEscaped(v?v.substring(0,C):e);}r.write("</span>");r.write("</div>");r.write("</div>");};return N;},true);
// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.predefine('sap/ushell/ApplicationType',["sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/_ApplicationType/utils","sap/ushell/_ApplicationType/systemAlias","sap/ushell/_ApplicationType/wdaResolution","sap/ushell/_ApplicationType/guiResolution","sap/ushell/services/_ClientSideTargetResolution/ParameterMapping","sap/ushell/Config"],function(U,u,a,s,w,g,p,C){"use strict";function b(M,B,E){var i=M.inbound;var r=i&&i.resolutionResult;if(!(!i||!r||!(r["sap.wda"]))){return w.constructFullWDAResolutionResult(M,B,E);}if(!(!i||!r)){return w.constructWDAResolutionResult(M,B,E);}}function c(M,B,E){var o=new U(B),i=M.inbound,I=i&&i.resolutionResult,j=jQuery.extend(true,{},M.mappedIntentParamsPlusSimpleDefaults),S,k;if(j["sap-system"]){S=j["sap-system"][0];delete j["sap-system"];}if(j["sap-system-src"]){k=j["sap-system-src"][0];delete j["sap-system-src"];}return new Promise(function(r,R){s.spliceSapSystemIntoURI(o,I.systemAlias,S,k,"WCF",I.systemAliasSemantics||s.SYSTEM_ALIAS_SEMANTICS.apply,E).done(function(l){var P=a.getURLParsing().paramsToString(j),F=a.appendParametersToUrl(P,l.toString());var n={url:F,text:"",additionalInformation:"",applicationType:"WCF",fullWidth:true};r(n);}).fail(function(l){R(l);});});}function d(M,B,E){var i=M.inbound,j,S,k,o,r={};["applicationType","additionalInformation","applicationDependencies"].forEach(function(P){if(i.resolutionResult.hasOwnProperty(P)){r[P]=i.resolutionResult[P];}});r.url=B;if(r.applicationDependencies&&typeof r.url==="undefined"){r.url="";}if(typeof r.url==="undefined"){return Promise.reject("Cannot resolve intent: url was not specified in matched inbound");}o=jQuery.extend(true,{},M.mappedIntentParamsPlusSimpleDefaults);r.reservedParameters={};var R={"sap-ui-fl-max-layer":true,"sap-ui-fl-control-variant-id":true};Object.keys(R).forEach(function(n){var v=o[n];if(v){delete o[n];r.reservedParameters[n]=v;}});M.mappedDefaultedParamNames=M.mappedDefaultedParamNames.filter(function(D){return!R[D];});if(M.mappedDefaultedParamNames.length>0){o["sap-ushell-defaultedParameterNames"]=[JSON.stringify(M.mappedDefaultedParamNames)];}S=o["sap-system"]&&o["sap-system"][0];k=o["sap-system-src"]&&o["sap-system-src"][0];r["sap-system"]=S;if(typeof k==="string"){r["sap-system-src"]=k;}M.effectiveParameters=o;j=a.getURLParsing().paramsToString(o);if(j){r.url=r.url+((r.url.indexOf("?")<0)?"?":"&")+j;}if(typeof i.resolutionResult.ui5ComponentName!=="undefined"){r.ui5ComponentName=i.resolutionResult.ui5ComponentName;}r.text=i.title;return Promise.resolve(r);}function e(M,B,E){var i=M.inbound,I=i&&i.resolutionResult,r={};var o=new U(B);var j=jQuery.extend(true,{},M.mappedIntentParamsPlusSimpleDefaults);if(M.inbound&&M.inbound.action==="launchURL"&&M.inbound.semanticObject==="Shell"){delete j["sap-external-url"];}var S=j["sap-system"]&&j["sap-system"][0];var k=j["sap-system-src"]&&j["sap-system-src"][0];r["sap-system"]=S;delete j["sap-system"];if(typeof k==="string"){r["sap-system-src"]=k;delete j["sap-system-src"];}return(new Promise(function(R,l){if(a.absoluteUrlDefinedByUser(o,I.systemAlias,I.systemAliasSemantics)){R(B);}else{s.spliceSapSystemIntoURI(o,I.systemAlias,S,k,"URL",I.systemAliasSemantics||s.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(l).done(function(n){var q=n.toString();R(q);});}})).then(function(l){var P=a.getURLParsing().paramsToString(j);var F=C.last("/core/navigation/flpURLDetectionPattern");var n=new RegExp(F);return n.test(l)?a.appendParametersToIntentURL(j,l):a.appendParametersToUrl(P,l);},Promise.reject.bind(Promise)).then(function(l){["additionalInformation","applicationDependencies"].forEach(function(P){if(i.resolutionResult.hasOwnProperty(P)){r[P]=i.resolutionResult[P];}});r.url=l;r.text=i.title;r.applicationType="URL";return Promise.resolve(r);},Promise.reject.bind(Promise));}var A={URL:{type:"URL",generateResolutionResult:e,easyAccessMenu:{intent:"Shell-startURL",resolver:null,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:false,systemSelectionPriority:1}},WDA:{type:"WDA",generateResolutionResult:b,easyAccessMenu:{intent:"Shell-startWDA",resolver:w.resolveEasyAccessMenuIntentWDA,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:2}},TR:{type:"TR",generateResolutionResult:g.generateTRResolutionResult,easyAccessMenu:{intent:"Shell-startGUI",resolver:g.resolveEasyAccessMenuIntentWebgui,showSystemSelectionInUserMenu:true,showSystemSelectionInSapMenu:true,systemSelectionPriority:3}},NWBC:{type:"NWBC"},WCF:{type:"WCF",generateResolutionResult:c},SAPUI5:{type:"SAPUI5",generateResolutionResult:d}};function f(){return Object.keys(A).map(function(i){return A[i];}).filter(function(o){return typeof o.easyAccessMenu==="object";});}function h(){var E={};f().forEach(function(o){E[o.easyAccessMenu.intent]=o.easyAccessMenu.resolver;});return function(M){return E[M];};}var m={getEasyAccessMenuResolver:h(),getEasyAccessMenuDefinitions:f};Object.keys(m).forEach(function(M){Object.defineProperty(A,M,{value:m[M]});});return A;},false);
sap.ui.predefine('sap/ushell/Config',["sap/ushell/EventHub","sap/ushell/bootstrap/common/common.create.configcontract.core","sap/ushell/_Config/utils"],function(E,c,C){"use strict";var o=c(window["sap-ushell-config"]);var f=E.createChannel(o);var a=Object.keys(f).reduce(function(a,m){a[m]=function(){if(!f){f=E.createChannel(o);}return f[m].apply(f,arguments);};return a;},{_reset:function(){f=null;},registerConfiguration:function(O,b){o=b;},createModel:function(p,b){if(!f){f=E.createChannel(o);}return C.createModel(f,o,p,b);}});return a;},false);
sap.ui.predefine('sap/ushell/Fiori20Adapter',['sap/ui/base/Object','sap/ui/core/Component','sap/ui/core/UIComponent','sap/ui/model/resource/ResourceModel','sap/m/Fiori20Adapter',"sap/ui/thirdparty/hasher"],function(B,C,U,R,S,h){"use strict";var u;U._fnOnInstanceDestroy=function(c){if(c._fioriAdapter){c._fioriAdapter.destroy();}};var A=B.extend("AppInfo",{constructor:function(c){B.call(this);this._oComponent=c;},getDefaultTitle:function(){var t,r,m=this._oComponent.getMetadata();var a=m.getManifestEntry("sap.app");if(a&&a.title){t=a.title;if(this._isLocalizationKey(t)){r=(a.i18n||"i18n/i18n.properties");return this._getLocalized(t,r);}return t;}var o=m.getManifestEntry("sap.ui5");if(o&&o.config&&o.config.resourceBundle&&o.config.titleResource){t=o.config.titleResource;r=o.config.resourceBundle;return this._getLocalized(t,r);}return;},_getLocalized:function(t,r){var m=new R({bundleUrl:jQuery.sap.getModulePath(this._oComponent.getMetadata().getComponentName())+"/"+r});return m.getResourceBundle().getText(t.replace(/^{{/,"").replace(/}}$/,""));},_isLocalizationKey:function(t){return(t.indexOf("{{")===0)&&(t.indexOf("}}")>0);}});var H=B.extend("HeaderInfo",{constructor:function(c,o,a){B.call(this);this._oConfig=o;this._oAppInfo=a;this._aHierarchy=[];this._defaultTitle=this._oAppInfo.getDefaultTitle();this._oCurrentViewInfo={oTitleInfo:{text:this._defaultTitle}};},registerView:function(v){if(this._oConfig.bMoveTitle===true){if(!v.oTitleInfo&&v.oSubTitleInfo){v.oTitleInfo=v.oSubTitleInfo;}this._oCurrentViewInfo=v;var t=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:undefined;if(t!==u.getTitle()){u.setTitle(t);}this._updateHierarchy();}this._setBackNavigation(v.oBackButton,v.oAdaptOptions);},_setBackNavigation:function(b,a){if(a&&a.bHideBackButton===false){return;}var f;if(b){f=b.firePress.bind(b);}u.setBackNavigation(f);},_updateHierarchy:function(){if(this._oConfig.bHierarchy===false){return;}if(!this._oCurrentViewInfo){return;}var n=true,s="#"+h.getHash();for(var i=this._aHierarchy.length-1;i>=0;i--){var e=this._aHierarchy[i],k=(e.id===this._oCurrentViewInfo.sViewId),K=(e.intent===s);if(k||K){n=false;e=this._updateHierarchyEntry(e);this._aHierarchy[i]=e;this._aHierarchy=this._aHierarchy.slice(0,i+1);if(k){e.intent=s;}break;}}if(n){this._aHierarchy.push(this._createHierarchyEntry());}var N=[];for(var j=this._aHierarchy.length-2;j>=0;j--){N.push(this._aHierarchy[j]);}u.setHierarchy(this._deleteUndefinedProperties(N));},_createHierarchyEntry:function(){var s="#"+h.getHash(),e={id:this._oCurrentViewInfo.sViewId,title:this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle,subtitle:this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined,intent:s};return e;},_updateHierarchyEntry:function(e){e.id=this._oCurrentViewInfo.sViewId;e.title=this._oCurrentViewInfo.oTitleInfo?this._oCurrentViewInfo.oTitleInfo.text:this._defaultTitle;e.subtitle=this._oCurrentViewInfo.oSubTitleInfo?this._oCurrentViewInfo.oSubTitleInfo.text:undefined;return e;},_deleteUndefinedProperties:function(o){o.forEach(function(O){for(var p in O){if(O.hasOwnProperty(p)&&!O[p]&&p!=='title'){delete O[p];}}});return o;}});var F=B.extend("sap.ushell.Fiori20Adapter",{constructor:function(c,o){B.call(this);this._oComponent=c;this._oConfig=o;this._oHeaderInfo=new H(c,o,new A(c));if(S){S.attachViewChange(this._onViewChange,this);}},init:function(){if(!S){return;}jQuery.sap.measure.start("Fiori20Adapter");var c=jQuery.extend({},this._oConfig);S.traverse(this._oComponent.getAggregation("rootControl"),c);jQuery.sap.measure.end("Fiori20Adapter");},destroy:function(){if(S){S.detachViewChange(this._onViewChange,this);}},_onViewChange:function(e){this._oHeaderInfo.registerView(e.getParameters());}});F.applyTo=function(c,o,a,s){var O=c instanceof U?c:C.getOwnerComponentFor(c);if(!O){O=o;}if(O&&!O._fioriAdapter){u=s;O._fioriAdapter=new F(O,a);O._fioriAdapter.init();}};return F;});
sap.ui.predefine('sap/ushell/Fiori20AdapterTest',['sap/ui/core/UIComponent','sap/ushell/Fiori20Adapter'],function(U,F){"use strict";var a={I_DEFAULT_SEARCH_DEPTH:5,B_DEFAULT_LATE_ADAPTATION:false,S_FIORI20ADAPTER_URL_PARAM_NAME:"sap-ui-xx-fiori2Adaptation",S_FIORI20ADAPTER_METADATA_PARAM_NAME:"sapFiori2Adaptation",A_WHITELIST:["fin.*","ssuite.fin.*","fscm.*","sap.fin.*","cus.sd.*","cus.o2c.*","sap.apf.*","tl.ibp.*","ux.fnd.apf.o2c.*","fnd.apf.*","fnd.pob.o2c.*","fcg.sll.*","ux.fnd.generic-apf-application.*","hpa.cei.*","query.viewbrowser.s1.*","ssuite.vdm.viewbrowser.s1.*","ssuite.smartbusiness.kpi.s1.*","ssuite.smartbusiness.evaluation.s1.*","ssuite.smartbusiness.association.s1.*","ssuite.smartbusiness.drilldown.s1.*","ssuite.smartbusiness.tile.s1.*","ssuite.smartbusiness.tile.ce.s1.*","ssuite.smartbusiness.workspace.s1.*","ssuite.smartbusiness.runtime.s1.*","gs.fin.customersummarycn.display.*","gs.fin.financialstatement.structure.manage.*","gs.fin.financialstatement.display.*","uipsm.*","publicservices.her.*"],getConfiguration:function(c){var C=this._getURLParamConfiguration();if(!C){C=this._getMetadataConfiguration(c);}if(!C){C=this._getDefaultConfiguration(c);}C.iSearchDepth=C.iSearchDepth||a.I_DEFAULT_SEARCH_DEPTH;if((typeof C.iSearchDepth==="string")&&!isNaN(C.iSearchDepth)){C.iSearchDepth=parseInt(C.iSearchDepth,10);}return C;},_getURLParamConfiguration:function(){if(typeof sap.ui.getCore().getConfiguration().getFiori2Adaptation!=="function"){return;}if(!this._isURLParameterSpecified(a.S_FIORI20ADAPTER_URL_PARAM_NAME)){return;}var u=sap.ui.getCore().getConfiguration().getFiori2Adaptation(),b,s;if(typeof(u)==="boolean"){b=u;}else if(u&&(u.length>=1)){s=u;}if(!s&&(b===undefined)){return;}return{bStylePage:s?s.indexOf("style")>-1:b,bMoveTitle:s?s.indexOf("title")>-1:b,bHideBackButton:s?s.indexOf("back")>-1:b,bCollapseHeader:s?s.indexOf("collapse")>-1:b,bHierarchy:s?s.indexOf("hierarchy")>-1:b};},_getMetadataConfiguration:function(c){var A=c.getMetadata("config").getConfig(a.S_FIORI20ADAPTER_METADATA_PARAM_NAME),b,d;if(typeof(A)==="boolean"){b=A;}else if((typeof A==="object")&&!jQuery.isEmptyObject(A)){d=A;}if(!d&&(b===undefined)){return;}return{bStylePage:d?this._isSgnTrue(d["style"]):b,bMoveTitle:d?this._isSgnTrue(d["title"]):b,bHideBackButton:d?this._isSgnTrue(d["back"]):b,bCollapseHeader:d?this._isSgnTrue(d["collapse"]):b,bHierarchy:d?this._isSgnTrue(d["hierarchy"]):b,bLateAdaptation:d?this._isSgnTrue(d["lateAdaptation"]):a.B_DEFAULT_LATE_ADAPTATION};},_getDefaultConfiguration:function(c){var e=this._hasMinVersionSmallerThan(c,"1.42")&&this._isWhitelisted(c);return{bStylePage:e,bMoveTitle:e,bHideBackButton:e,bCollapseHeader:e,bHierarchy:e};},_isURLParameterSpecified:function(p){var A=jQuery.sap.getUriParameters().mParams&&jQuery.sap.getUriParameters().mParams[p];return A&&(A.length>0);},_isWhitelisted:function(c){var C=c.getMetadata().getName();for(var i=0;i<a.A_WHITELIST.length;i++){var n=a.A_WHITELIST[i].substring(0,a.A_WHITELIST[i].length-2);if(this._isPrefixedString(C,n)){return true;}}return false;},_isAdaptationRequired:function(A){for(var o in A){if(A[o]===true){return true;}}return false;},_isPrefixedString:function(s,p){return s&&p&&(s.substring(0,p.length)===p);},_hasMinVersionSmallerThan:function(c,v){var i=c.getMetadata().getManifestEntry("sap.ui5"),m=true;if(i&&i.dependencies&&i.dependencies.minUI5Version){var M=new jQuery.sap.Version(i.dependencies.minUI5Version);m=M.compareTo(new jQuery.sap.Version(v))<0;}return m;},_isSgnTrue:function(v){return(v===true)||(v==="true");}};U._fnOnInstanceInitialized=function(c){var C=c.getAggregation("rootControl");if(!C||C.getId()==="navContainerFlp"||c.getId().indexOf("application-")!==0){return;}var o=a.getConfiguration(c);if(!a._isAdaptationRequired(o)){return;}if(!sap.ui.core.service||!sap.ui.core.service.ServiceFactoryRegistry||typeof sap.ui.core.service.ServiceFactoryRegistry.get!=="function"){jQuery.sap.log.warning("Fiori20Adapter not loaded because static FactoryRegistry is not available","sap.ui.core.service.ServiceFactoryRegistry should be a function","sap.ushell.Fiori20AdapterTest");return;}var d={onBeforeRendering:function(){C.removeEventDelegate(d);var s=sap.ui.core.service.ServiceFactoryRegistry.get("sap.ushell.ui5service.ShellUIService"),S=s&&s.createInstance();if(!s||!S){jQuery.sap.log.warning("Fiori20Adapter not loaded because ShellUIService is not available","sap.ushell.ui5service.ShellUIService should be declared by configuration","sap.ushell.Fiori20AdapterTest");return;}S.then(function(s){if(s&&(s.getUxdVersion()===2)){F.applyTo(C,c,o,s);}},function(e){jQuery.sap.log.warning("Fiori20Adapter not loaded as ShellUIService is not available",e,"sap.ushell.Fiori20AdapterTest");});}};C.addEventDelegate(d);};},false);
sap.ui.predefine('sap/ushell/System',[],function(){"use strict";var S=function(d){this._oData=d;};S.prototype.getAlias=function(){return this._oData.alias;};S.prototype.getBaseUrl=function(){return this._oData.baseUrl;};S.prototype.getClient=function(){return this._oData.client;};S.prototype.getName=function(){return this._oData.system;};S.prototype.getPlatform=function(){return this._oData.platform;};S.prototype.adjustUrl=function(u){if(u.indexOf('/')!==0||u==='/'){throw new Error("Invalid URL: "+u);}if(this._oData.baseUrl===";o="){if(this._oData.alias){u=u+";o="+this._oData.alias;}}else if(this._oData.baseUrl){u=this._oData.baseUrl.replace(/\/$/,"")+u;}if(this._oData.client){u+=(u.indexOf("?")>=0?"&":"?")+"sap-client="+this._oData.client;}return u;};S.prototype.toString=function(){return JSON.stringify(this._oData);};return S;},true);
sap.ui.predefine('sap/ushell/TechnicalParameters',["sap/ushell/utils/type"],function(t){"use strict";var T={"sap-fiori-id":{getValue:function(p,A,o,s){return new Promise(function(S,f){if(s==="UI5"){S(g(p,A)||a('/sap.fiori/registrationIds',A));}else{S(b(p,o));}});}},"sap-ui-fl-max-layer":{getValue:function(p,A){return Promise.resolve().then(g.bind(null,p,A));}},"sap-ui-fl-control-variant-id":{getValue:function(p,A){return Promise.resolve().then(g.bind(null,p,A));}},"sap-ui-app-id-hint":{getValue:d},"sap-ach":{getValue:function(p,A,o,s){return new Promise(function(S,f){if(s==="UI5"){S(g(p,A)||a('/sap.app/ach',A));}else{S(b(p,o));}});}}};function d(p){return Promise.reject(p+" is reserved for shell internal usage only");}function g(p,A){return A.getComponentData().technicalParameters[p];}function a(p,A){var m=A.getMetadata()?A.getMetadata():undefined;var v=m.getManifestEntry(p);if(!t.isArray(v)){v=[v];}return v;}function b(p,A){return A.getReservedParameters()[p];}function c(p,A,o,s){if(!T[p]){return Promise.reject(p+" is not a known technical parameter");}return T[p].getValue(p,A,o,s);}function e(){return Object.keys(T);}function i(p){return T.hasOwnProperty(p);}return{getParameterValue:c,getParameterNames:e,isTechnicalParameter:i};},false);
sap.ui.predefine('sap/ushell/Ui5ServiceFactory',["sap/ui/core/service/ServiceFactory","sap/ui/core/service/Service"],function(S,a){"use strict";var A;function s(i){A=i;}function g(){return A;}function b(m){return!!/^[^_].+/.test(m);}function c(o){var p,P=[];for(p in o){P.push(p);}return P;}function d(u,p,P,i){c(u).filter(b).filter(function(n){var v=u[n];p[n]=v;return typeof v==="function";}).forEach(function(F){p[F]=p[F].bind(u);if(i){f(P,p,F);}});}function e(C){var G;if(typeof C==="undefined"){return true;}if(!jQuery.isPlainObject(C)){return false;}if(!C.scopeType){return false;}G=jQuery.sap.getObject("scopeObject.getId",undefined,C);if(typeof G!=="function"){return false;}return true;}function f(p,P,l){var o=P[l];P[l]=function(){var i,m,A=g();if(!p||p.scopeObject.getId()!==A){jQuery.sap.log.warning("Call to "+l+" is not allowed","This may be caused by an app component other than the active '"+A+"' that tries to call the method","sap.ushell.Ui5ServiceFactory");return undefined;}m=new Array(arguments.length);for(i=0;i<m.length;++i){m[i]=arguments[i];}return o.apply(P,m);};}function h(p,u){var P,i;P={};i=typeof p==="object";d(u,P,p,i);if(i&&p.scopeType==="component"&&p.scopeObject&&p.scopeObject.getId){s(p.scopeObject.getId());}return P;}function j(u){return new Promise(function(r,R){try{var U=sap.ushell.Container.getService(u);r(U);}catch(E){R(E);}});}function k(u){var U=S.extend("sap.ushell.ui5service."+u+"Factory",{createInstance:function(p){return new Promise(function(r,R){j(u).then(function(o){var i,l,m;if(!e(p)){jQuery.sap.log.error("Invalid context for "+u+" service interface","The context must be empty or an object like { scopeType: ..., scopeObject: ... }","sap.ushell.Ui5ServiceFactory");R("Invalid Context for "+u+" service");return;}l=h(p,o,u);m=a.extend("sap.ushell.ui5service."+u,{getInterface:function(){return l;}});i=new m(p);r(i);},function(G){R(G);});});}});return new U();}return{createServiceFactory:k};});
sap.ui.predefine('sap/ushell/User',['sap/ui/thirdparty/URI'],function(U){"use strict";function c(o){if(o===undefined){return undefined;}return jQuery.extend(true,{},o);}function g(u){var o;if(u.host&&typeof u.host==="function"&&u.host()){o=u.host();if(typeof u.protocol==="function"&&u.protocol()){o=u.protocol()+"://"+o;}return o;}return"";}function i(t){return t.indexOf("sap_")===0;}var a=function(C){var b=[],B,s,o,n,e=new sap.ui.base.EventProvider();this.getEmail=function(){return C.email;};this.getFirstName=function(){return C.firstName;};this.getFullName=function(){return C.fullName;};this.getId=function(){return C.id;};this.getLanguage=function(){return C.language;};this.getLanguageBcp47=function(){return C.languageBcp47;};this.getLastName=function(){return C.lastName;};this.getImage=function(){return C.image;};this.setImage=function(u){C.image=u;e.fireEvent('onSetImage',u);};this.attachOnSetImage=function(f,d){e.attachEvent('onSetImage',f,d);};this.isJamActive=function(){return C.isJamActive===true;};this.isLanguagePersonalized=function(){return C.isLanguagePersonalized===true;};this.getTheme=function(t){if(t===a.prototype.constants.themeFormat.ORIGINAL_THEME){return o.originalTheme.theme;}if(t===a.prototype.constants.themeFormat.THEME_NAME_PLUS_URL){return o.theme+(o.locationPath?"@"+o.locationOrigin+o.locationPath:"");}if(t===a.prototype.constants.themeFormat.NWBC){if(i(o.theme)){return o.theme;}else{return this.getTheme(a.prototype.constants.themeFormat.THEME_NAME_PLUS_URL);}}return o.theme;};this.getThemeRoot=function(t){if(C.ranges&&C.ranges.theme&&C.ranges.theme[t]&&C.ranges.theme[t].themeRoot){return C.ranges.theme[t].themeRoot;}else{return"";}};this.setTheme=function(N){if(this.isSetThemePermitted()===false){var E="setTheme not permitted";jQuery.sap.log.error(E);throw new Error(E);}o=this._amendTheme({theme:N,root:this.getThemeRoot(N)},s);if(N!==n.originalTheme.theme){this.setChangedProperties({propertyName:"theme",name:"THEME"},n.originalTheme.theme,N);n=o;}if(o.suppliedRoot){sap.ui.getCore().applyTheme(o.theme,o.suppliedRoot+"/UI5/");}else if(o.path){sap.ui.getCore().applyTheme(o.theme,o.path+"/UI5/");}else{sap.ui.getCore().applyTheme(o.theme);}};this.setLanguage=function(N){if(N){this.setChangedProperties({propertyName:"language",name:"LANGUAGE"},C.language,N);C.language=N;}};this.getAccessibilityMode=function(){return C.accessibility;};this.setAccessibilityMode=function(A){if(this.isSetAccessibilityPermitted()===false){var E="setAccessibilityMode not permitted";jQuery.sap.log.error(E);throw new Error(E);}C.accessibility=A;};this.isSetAccessibilityPermitted=function(){return C.setAccessibilityPermitted;};this.isSetThemePermitted=function(){return C.setThemePermitted;};this.getContentDensity=function(){return C.contentDensity;};this.setContentDensity=function(d){if(this.isSetContentDensityPermitted()===false){var E="setContentDensity not permitted";jQuery.sap.log.error(E);throw new Error(E);}this.setChangedProperties({propertyName:"contentDensity",name:"CONTENT_DENSITY"},C.contentDensity,d);C.contentDensity=d;};this.isSetContentDensityPermitted=function(){return C.setContentDensityPermitted;};this.getChangedProperties=function(){return jQuery.extend(true,[],b);};this.setChangedProperties=function(p,d,f){b.push({propertyName:p.propertyName,name:p.name,oldValue:d,newValue:f});};this.resetChangedProperties=function(){b=[];};this.getTrackUsageAnalytics=function(){return C.trackUsageAnalytics;};this.setTrackUsageAnalytics=function(t){this.setChangedProperties({propertyName:"trackUsageAnalytics",name:"TRACKING_USAGE_ANALYTICS"},C.trackUsageAnalytics,t);C.trackUsageAnalytics=t;};this.setImageConsent=function(d){this.setChangedProperties({propertyName:"isImageConsent",name:"ISIMAGECONSENT"},C.isImageConsent,d);C.isImageConsent=d;};this.getImageConsent=function(){return C.isImageConsent;};s={locationPathUi5:(new U(jQuery.sap.getModulePath(""))).absoluteTo(document.location).pathname(),locationPathCustom:C.themeRoot||"",locationOrigin:g(new U(document.location))};if(!s.locationPathUi5){jQuery.sap.log.warning("User: Could not set UI5 location path");}if(!s.locationPathCustom){jQuery.sap.log.warning("User: Could not set location path for custom themes");}if(!s.locationOrigin){jQuery.sap.log.warning("User: Could not set front-end server location origin");}B=C.bootTheme||{theme:"",root:""};o=this._amendTheme(B,s);n=o;};a.prototype._amendTheme=function(t,s){var T={},b,r;function d(R,s){var u,o,p={};u=new U(R);o=g(u);if(o){p.locationOrigin=o;p.locationPath=u.path();}else{p.locationOrigin=s.locationOrigin;p.locationPath=R;}return p;}if(!t||!t.theme||!s){return{originalTheme:{theme:"",root:""},theme:"",suppliedRoot:"",path:"",locationPath:"",locationOrigin:""};}T.originalTheme=c(t);if(T.originalTheme.theme.indexOf("@")>0){b=T.originalTheme.theme.split('@',2);T.theme=b[0];T.suppliedRoot=b[1];r=d(b[1],s);T.locationPath=r.locationPath;T.path=T.locationPath;T.locationOrigin=r.locationOrigin;return T;}T.theme=T.originalTheme.theme;if(T.originalTheme.root){T.suppliedRoot=T.originalTheme.root;r=d(T.originalTheme.root,s);T.locationPath=r.locationPath;T.path=T.locationPath;T.locationOrigin=r.locationOrigin;return T;}T.suppliedRoot="";if(i(T.theme)){T.locationOrigin=s.locationOrigin;T.locationPath=s.locationPathUi5;T.path="";return T;}T.locationOrigin=s.locationOrigin;T.locationPath=s.locationPathCustom;T.path=T.locationPath;return T;};a.prototype.constants={themeFormat:{ORIGINAL_THEME:"O",THEME_NAME_PLUS_URL:"N+U",NWBC:"NWBC"}};return a;},true);
sap.ui.predefine('sap/ushell/UserActivityLog',["sap/ushell/utils","sap/ushell/ui/launchpad/Tile","sap/ushell/EventHub","sap/base/Log"],function(u,T,E,L){"use strict";var U=function(){};U.prototype={_maxLoggedMessages:50,_maxMessageByteSize:2048,_maxQueueByteSize:30720,_isActive:false,_observedLaunchpadActions:["createGroup","deleteGroup","resetGroup","changeGroupTitle","moveGroup","addTile","deleteTile","movetile","externalSearch","addBookmarkTile"],_observedGeneralActions:["openApp"],_observedEventHubEvents:["showCatalog"],_aDoableObjects:[],messageType:{ACTION:0,ERROR:1},_tileOntapOrigFunc:undefined,activate:function(c){if(this._isActive){return;}this._isActive=true;var e=sap.ui.getCore().getEventBus(),t=this;this._observedLaunchpadActions.forEach(function(b,i,d){e.subscribe("launchpad",b,t._handleAction,t);});e.subscribe("sap.ushell","appOpened",t._handleAction,t);this._observedGeneralActions.forEach(function(b,i,d){e.subscribe(b,t._handleAction,t);});this._observedEventHubEvents.forEach(function(b,i,d){t._aDoableObjects.push(E.on(b).do(t._handleActionEventHub.bind(t)));});L.addLogListener(this);t._tileOntapOrigFunc=T.prototype.ontap;sap.ushell.ui.launchpad.Tile.prototype.ontap=t._tileOnTapDecorator(t._tileOntapOrigFunc);},deactivate:function(){if(!this._isActive){return;}this._isActive=false;var e=sap.ui.getCore().getEventBus(),t=this;this._observedLaunchpadActions.forEach(function(b,i,c){e.unsubscribe("launchpad",b,t._handleAction,t);});e.unsubscribe("sap.ushell","appOpened",t._handleAction,t);this._observedGeneralActions.forEach(function(b,i,c){e.unsubscribe(b,t._handleAction,t);});this._aDoableObjects.forEach(function(d){d.off();});L.removeLogListener(this);sap.ushell.ui.launchpad.Tile.prototype.ontap=this._tileOntapOrigFunc;},addMessage:function(t,m,b){if(this._isActive){this._addMessageInternal(t,m,b);}},getLog:function(){return this._getLoggingQueueFromStorage();},getMessageInfo:function(s){var r={userDetails:this._getUserDetails(),shellState:this._getShellState(),navigationData:this._getLastNavActionFromStorage(),userLog:this.getLog(),formFactor:u.getFormFactor()};return r;},getMessageInfoAsString:function(s){return JSON.stringify(this.getMessageInfo(s));},onLogEntry:function(d){if(d.level<=2){var e=d.message;if(typeof d.details!=="undefined"&&(d.details!=="")){e=e+", "+d.details;}this.addMessage(this.messageType.ERROR,e);}},onAttachToLog:function(){},onDetachFromLog:function(){},_tileOnTapDecorator:function(o){var t=this,n,l,b,c,d,e;return function(f,g){var h=this.getMetadata().getName();if(h==="sap.ushell.ui.launchpad.PlusTile"){t.addMessage(t.messageType.ACTION,"Open Catalog for empty group "+this.getGroupId());}else if(h=="sap.ushell.ui.launchpad.Tile"){n=hasher.getHash();if(n){var i=sap.ushell.Container.getService("URLParsing");var j=i.parseShellHash(n);n='#'+i.constructShellHash({target:{semanticObject:j.semanticObject,action:j.action}});}l=t._getLastNavActionFromStorage();l.time=new Date();l.navigationHash=n;l.tileDebugInfo=this.getDebugInfo();b=sap.ui.getCore().byId(this.getId());c=b.getModel();d=this.getBindingContext();e=d.getPath();l.tileTitle=d.getModel().getProperty(e).title;t._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(l));t.addMessage(t.messageType.ACTION,"Click on Tile: "+c.getData().title+" Tile debugInfo: "+this.getDebugInfo());}o.apply(this,arguments);};},_addMessageInternal:function(t,m,b){var l=this._getLoggingQueueFromStorage(),c={type:null},p;for(p in this.messageType){if(t===this.messageType[p]){c.type=p;break;}}if(c.type===null){return;}jQuery.extend(c,{messageID:b,messageText:m,time:new Date(),toString:function(){var d=[this.type,this.time];if(typeof this.messageID!=="undefined"){d.push(this.messageID);}d.push(this.messageText);return d.join(" :: ");}});l.push(c);if(l.length>this._maxLoggedMessages){l.shift();}this._putInSessionStorage("sap.ushell.UserActivityLog.loggingQueue",JSON.stringify(l));},_handleActionEventHub:function(e){this._handleAction("",e.sId,e.oData);},_handleAction:function(c,e,d){var m;switch(e){case'deleteTile':m="Delete Tile "+(d.tileId||"");break;case'moveTile':m="Move Tile "+(d.sTileId||"")+" to Group "+(d.toGroupId||"");break;case'createGroup':m="Create Group";break;case'changeGroupTitle':m="Change Group Title of "+(d.groupId||"")+" to "+(d.newTitle||"");break;case'deleteGroup':m="Delete Group "+(d.groupId||"");break;case'addTile':var t=d.catalogTileContext.oModel.oData,s=d.catalogTileContext.sPath,b=this._findInModel(s,t),f=b.id,g=d.groupContext.getObject(),h=g.groupId;m="Add Tile "+(f||"")+" to Group "+(h||"");break;case'moveGroup':m="Move Group from index "+(d.fromIndex||"")+" to index "+(d.toIndex||"");break;case'appOpened':m="Open application "+d.action;var l=this._getLastNavActionFromStorage();l.applicationInformation={};["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(function(p){l.applicationInformation[p]=d[p];});if(!this._hashSegmentsEqual(l.navigationHash,d.sShellHash)){l.tileDebugInfo="";}l.navigationHash=d.sShellHash;this._putInSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(l));break;case'addBookmarkTile':m="Add Bookmark "+(d.title||"")+" "+(d.subtitle||"")+" for URL: "+(d.url||"");break;case'showCatalog':m="Show Catalog";break;default:break;}this.addMessage(this.messageType.ACTION,m);},_findInModel:function(p,m){var b,c=m,i,d;try{b=p.split("/");for(i=0;i<b.length;i=i+1){if(d!==b[i]){continue;}c=c[d];}}catch(e){return undefined;}return c;},_getUserDetails:function(s){var b=sap.ushell.Container.getUser();return{fullName:b.getFullName()||"",userId:b.getId()||"",eMail:b.getEmail()||"",Language:b.getLanguage()||""};},_getShellState:function(){var v=sap.ui.getCore().byId("viewPortContainer"),m,r="";if(v!==undefined){m=v.getModel();r=m.getProperty("/currentState/stateName");}return r;},_getLoggingQueueFromStorage:function(){var l=this._getFromSessionStorage("sap.ushell.UserActivityLog.loggingQueue");var q=[];if(l){try{q=JSON.parse(l);}catch(e){}}return q;},_getLastNavActionFromStorage:function(){var l=this._getFromSessionStorage("sap.ushell.UserActivityLog.lastNavigationActionData");return(l?JSON.parse(l):{});},_hashSegmentsEqual:function(b,c){if((!b)||(!c)){return false;}return(this._getHashSegment(b)==this._getHashSegment(c))?true:false;},_getHashSegment:function(b){var i=b.indexOf("~"),c;if(i>-1){return b.substring(0,i);}c=b.indexOf("?");if(c>-1){return b.substring(0,c);}return b;},_getFromSessionStorage:function(k){var r=null;try{r=sessionStorage.getItem(k);}catch(e){}return r;},_putInSessionStorage:function(k,v){try{sessionStorage.setItem(k,v);}catch(e){}}};var a=new U();return a;},true);
sap.ui.predefine('sap/ushell/_ApplicationType/guiResolution',["sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/_ApplicationType/utils","sap/ushell/_ApplicationType/systemAlias","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/_ClientSideTargetResolution/ParameterMapping"],function(U,u,a,S,c,p){"use strict";function r(O,K){K.forEach(function(s){delete O[s];});}function i(P,I){return I&&I.signature&&I.signature&&I.signature.parameters&&I.signature.parameters[P]&&I.signature.parameters[P].required===true;}function g(E,I){var y=i("DYNP_OKCODE",I)||i("DYNP_NO1ST",I);var B=[];if(y){return[];}var z=b(E);function A(s){return s.toUpperCase();}var N=Object.keys(z).map(A).sort();function C(s,D){if(s.length!==D.length){return false;}return s.every(function(F,G){return s[G]==D[G];});}if(C(["DYNP_NO1ST","DYNP_OKCODE"],N)||C(["DYNP_OKCODE"],N)||C(["DYNP_NO1ST"],N)){B=Object.keys(z);}return B;}function b(P){var B=c.filterObject(P,d);return B;}function d(N,V){var s;if(arguments.length===1){s=N.split(/[=](.+)?/);if(s.length>1){return d.apply(null,s);}}return!(N.indexOf("sap-")===0||N.charAt(0)==="~");}function e(M,B,E){var I=M.inbound;var R=I&&I.resolutionResult;if(!(!I||!R||!(R["sap.gui"])||!(R.applicationType==="TR"))){return l(M,B,E);}if(!(!I||!R||!(R.applicationType==="TR")||!(R.url.indexOf("/~canvas;")>=0)||!(R.url.indexOf("app/transaction/APB_LPD_CALL_")===-1))){return n(M,B,E);}if(!(!I||!R||!(R.applicationType==="TR")||!(R.url.indexOf("/~canvas;")>=0)||!(R.url.indexOf("app/transaction/APB_LPD_CALL_")>=0))){return m(M,B,E);}if(!(!I||!R||!(R.applicationType==="TR")||!(R.url.indexOf("/its/webgui")>=0)||!(R.url.indexOf("APB_LPD_CALL_")===-1))){return o(M,B,E);}if(!(!I||!R||!(R.applicationType==="TR")||!(R.url.indexOf("/its/webgui")>=0)||!(R.url.indexOf("APB_LPD_CALL_")!==-1))){return k(M,B,E);}throw new Error("Cannot generate TR resolution result");}function f(T,s,y,E){var z,A;z="/gui/sap/its/webgui?%7etransaction="+T+"&%7enosplash=1";A=new U(z);return S.spliceSapSystemIntoURI(A,S.LOCAL_SYSTEM_ALIAS,s,y,"NATIVEWEBGUI",S.SYSTEM_ALIAS_SEMANTICS.apply,E);}function h(Q,P,s,y){var I,z="P_OBJECT"+y,M=132;var A=a.getURLParsing().privparamsToString(P,"%25","%21");if(!A){return Q;}var B="";j("P_OBJECT",Q,s,y,function(E){var F=E.replace(z,"");B=decodeURIComponent(F);if(B.length>0){B=B+"%25";}return z;});A=B+A;var C={pObjX:"",pObject:""};A.match(new RegExp(".{1,"+M+"}","g")).map(function(E){return encodeURIComponent(E);}).forEach(function(E,G){var F="P_OBJECT";var H="pObject";if(G>0){F="P_OBJ"+G;H="pObjX";}var J=C[H].length===0?"":s;C[H]=C[H]+J+F+y+E;});I=[C.pObjX,C.pObject].filter(function(E){return E.length>0;}).join(s);var D=j("P_OBJECT",Q,s,y,function(F){return I;});if(D.found){return D.query;}return Q+(Q.length===0?"":s)+I;}function j(T,Q,s,y,A){var F=false,P=T+y;var z=Q.split(s).map(function(B){if(B.indexOf(P)!==0){return B;}F=true;return A(B);}).filter(function(B){return typeof B!=="undefined";}).join(s);return{found:F,query:z};}function k(M,B,E){var I=M.inbound,s=I&&I.resolutionResult,R={};var W=new U(B);var y=jQuery.extend(true,{},M.mappedIntentParamsPlusSimpleDefaults);var z=y["sap-system"]&&y["sap-system"][0];var A=y["sap-system-src"]&&y["sap-system-src"][0];R["sap-system"]=z;delete y["sap-system"];if(typeof A==="string"){R["sap-system-src"]=A;delete y["sap-system-src"];}return new Promise(function(C,D){S.spliceSapSystemIntoURI(W,s.systemAlias,z,A,"NATIVEWEBGUI",s.systemAliasSemantics||S.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(D).done(function(W){var P=W.search();var F=P.split("&").map(function(Q){var G;if(Q.indexOf("?%7etransaction")===0||Q.indexOf("%7etransaction")===0){G=h(Q,y,"%3b","%3d");return G;}return Q;}).join("&");W.search(F);["additionalInformation","applicationDependencies"].forEach(function(G){if(I.resolutionResult.hasOwnProperty(G)){R[G]=I.resolutionResult[G];}});R.url=W.toString();R.text=I.title;R.applicationType="TR";C(R);});});}function l(M,B,E){var I=M.inbound,s=I&&I.resolutionResult,y=M.mappedIntentParamsPlusSimpleDefaults||{};var z=s.systemAlias;if(y["sap-system"]){z=y["sap-system"][0];}var A;if(y["sap-system-src"]){A=y["sap-system-src"][0];}return new Promise(function(R,C){f(I.resolutionResult["sap.gui"].transaction,z,A,E).done(function(D){p.mapParameterNamesAndRemoveObjects(M);var F=q(M.inbound,M.mappedIntentParamsPlusSimpleDefaults,D);if(F&&M.inbound&&M.inbound.resolutionResult&&M.inbound.resolutionResult["sap.platform.runtime"]){F["sap.platform.runtime"]=M.inbound.resolutionResult["sap.platform.runtime"];}F["sap-system"]=z;R(F);}).fail(C);});}function m(M,B,E){var I=M.inbound,s=I&&I.resolutionResult;var R={};var W=new U(B);var y=jQuery.extend(true,{},M.mappedIntentParamsPlusSimpleDefaults);var z=y["sap-system"]&&y["sap-system"][0];var A=y["sap-system-src"]&&y["sap-system-src"][0];R["sap-system"]=z;delete y["sap-system"];if(typeof A==="string"){R["sap-system-src"]=A;delete y["sap-system-src"];}return new Promise(function(C,D){S.spliceSapSystemIntoURI(W,s.systemAlias,z,A,"WEBGUI",s.systemAliasSemantics||S.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(D).done(function(W){var P=W.search();P=h(P,y,"&","=");W.search(P);["additionalInformation","applicationDependencies"].forEach(function(F){if(I.resolutionResult.hasOwnProperty(F)){R[F]=I.resolutionResult[F];}});R.url=W.toString();R.text=I.title;R.applicationType="NWBC";C(R);});});}function n(M,B,E){var I=M.inbound,s=I&&I.resolutionResult;var R={};var W=new U(B);var y=jQuery.extend(true,{},M.mappedIntentParamsPlusSimpleDefaults);var z=y["sap-system"]&&y["sap-system"][0];var A=y["sap-system-src"]&&y["sap-system-src"][0];R["sap-system"]=z;delete y["sap-system"];if(typeof A==="string"){R["sap-system-src"]=A;delete y["sap-system-src"];}var C=g(y,I||{});r(y,C);return new Promise(function(D,F){S.spliceSapSystemIntoURI(W,s.systemAlias,z,A,"WEBGUI",R.systemAliasSemantics||S.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(F).done(function(W){var G=a.getURLParsing().paramsToString(y);var P=W.search();if(G){P=P+((P.indexOf("?")<0)?"?":"&")+G;}W.search(P);["additionalInformation","applicationDependencies"].forEach(function(H){if(I.resolutionResult.hasOwnProperty(H)){R[H]=I.resolutionResult[H];}});R.url=W.toString();R.text=I.title;R.applicationType="NWBC";D(R);});});}function o(M,B,E){var I=M.inbound,R=I&&I.resolutionResult,F={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true,"sap-system-src":true};var W=new U(B);var s=jQuery.extend(true,{},M.mappedIntentParamsPlusSimpleDefaults);var y=s["sap-system"]&&s["sap-system"][0];var z=s["sap-system-src"]&&s["sap-system-src"][0];Object.keys(s).forEach(function(P){if(F[P.toLowerCase()]){delete s[P];}});return new Promise(function(A,C){S.spliceSapSystemIntoURI(W,R.systemAlias,y,z,"NATIVEWEBGUI",R.systemAliasSemantics||S.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(C).done(function(W){var R=q(M.inbound,M.mappedIntentParamsPlusSimpleDefaults,W);A(R);});});}function q(I,M,W){var F={"sap-wd-run-sc":true,"sap-wd-auto-detect":true,"sap-ep-version":true,"sap-system":true};var R={};var E=jQuery.extend(true,{},M);var s=E["sap-system"]&&E["sap-system"][0];var y=E["sap-system-src"]&&E["sap-system-src"][0];R["sap-system"]=s;if(typeof y==="string"){R["sap-system-src"]=y;}Object.keys(E).forEach(function(D){if(F[D.toLowerCase()]){delete E[D];}});var z=g(E,I||{});r(E,z);var A=t(E);r(E,Object.keys(A));var P=W.search();var B=P.split("&").map(function(Q){var N;if(!d(Q)){if(Q.indexOf("=")>=0){N=Q.split("=");if(!A.hasOwnProperty(N[0])){A[N[0]]=N[1];}}else{jQuery.sap.log.error("Found no '=' separator of Webgui non-business parameter. Parameter will be skipped.","'"+Q+"'","sap.ushell.services.ClientSideTargetResolution");}return undefined;}var D;if(Q.indexOf("?%7etransaction")===0||Q.indexOf("%7etransaction")===0){D=w(Q,E,"%3b","%3d");return D;}return Q;}).filter(function(D){return typeof D!=="undefined";}).join("&");var C=a.getURLParsing().paramsToString(A);B=[B,C.replace("~","%7e")].join("&");W.search(B);["additionalInformation","applicationDependencies","sap.platform.runtime"].forEach(function(D){if(I.resolutionResult.hasOwnProperty(D)){R[D]=I.resolutionResult[D];}});R.url=W.toString();R.text=I.title;R.applicationType="TR";return R;}function t(P){var N;N=c.filterObject(P,function(K,V){return!d(K,V);});return N;}function v(T){var s="^(.+?)(%20|(%20)(.+))?$",y=new RegExp(s,"i"),z,P={hasParameters:null,transactionParamName:"",transactionCode:"",parameters:[]};var A=T.split("=");if(A.length>2){return{"error":"Found more than one assignment ('=') in the transaction query parameter","details":"Only one '=' sign is expected in "+T};}if(A.length<2||typeof A[1]==="undefined"||A[1].length===0){return{"error":"The transaction query parameter must specify at least the transaction name","details":"Got "+T+" instead."};}P.transactionParamName=A[0];z=A[1];var M=z.match(y);if(!M){return{"error":"Cannot parse ~transaction query parameter value.","details":z+" should match /"+s+"/"};}P.transactionCode=M[1];if(M[2]&&M[2]!=="%20"){var B=M[4]||"";B.split("%3b").forEach(function(N){var C=N.split("%3d"),D=C[0];if(D&&typeof D==="string"&&D.length>0){P.parameters.push({name:D,value:C[1]});}});}P.hasParameters=false;if(P.parameters.length>0){P.hasParameters=true;P.transactionCode=P.transactionCode.replace(/^[*]/,"");}return P;}function w(T,P){var s=v(T);if(s.error){jQuery.sap.log.error(s.error,s.details,"sap.ushell.services.ClientSideTargetResolution");return T;}var y=s.parameters.map(function(C){return C.name.toUpperCase()+"%3d"+C.value;});var D,A=true;if(P.hasOwnProperty("DYNP_SKIP_SEL_SCREEN")){D=P["DYNP_SKIP_SEL_SCREEN"];delete P["DYNP_SKIP_SEL_SCREEN"];if(D[0]===""||D[0]===" "||D[0]==="0"||D[0]===0||(D[0]&&D[0].toLowerCase()==="false")){A=false;}}var z={};Object.keys(P).forEach(function(K){z[K.toUpperCase()]=P[K];});var B=a.getURLParsing().privparamsToString(z,"%3b","%3d");if(B){y.push(B);}var H=y.length>0;return s.transactionParamName+"="+(H&&A?"*":"")+s.transactionCode+(H?"%20":"")+y.join("%3b");}function x(I,M,E){return new Promise(function(R,s){var y;if(I.params["sap-system-src"]){y=I.params["sap-system-src"][0];}f(I.params["sap-ui2-tcode"][0],I.params["sap-system"][0],y,E).done(function(z){delete M.intentParamsPlusAllDefaults["sap-ui2-tcode"];p.mapParameterNamesAndRemoveObjects(M);var A=q(M.inbound,M.mappedIntentParamsPlusSimpleDefaults,z);if(A&&M.inbound&&M.inbound.resolutionResult&&M.inbound.resolutionResult["sap.platform.runtime"]){A["sap.platform.runtime"]=M.inbound.resolutionResult["sap.platform.runtime"];}A["sap-system"]=I.params["sap-system"][0];A.text=I.params["sap-ui2-tcode"][0];R(A);}).fail(function(z){s(z);});});}return{generateTRResolutionResult:e,resolveEasyAccessMenuIntentWebgui:x,injectEffectiveParametersIntoWebguiQueryParam:w,injectEffectiveParametersIntoWebguiPobjectParam:h,amendGuiParam:j,parseWebguiTransactionQueryParam:v,getWebguiNonBusinessParameters:t,getWebguiBusinessParameters:b,isWebguiBusinessParameter:d,buildNativeWebGuiURI:f,constructFullWebguiResolutionResult:l};},false);
sap.ui.predefine('sap/ushell/_ApplicationType/systemAlias',["sap/ui/thirdparty/URI","sap/ushell/utils"],function(U,u){"use strict";var S="";var O={apply:"apply",applied:"applied"};function i(o){return(o.protocol()||"").length>0;}function r(k,l,E){var m=typeof l==="string";var n=[k];if(m){n.unshift(l);}var K=u.generateLocalStorageKey("sap-system-data",n);var L=u.getLocalStorage();var o=L.getItem(K);var p={};if(o){try{p=JSON.parse(o);}catch(q){return new jQuery.Deferred().reject("Cannot parse system data from local storage at key '"+K+"'. Data: "+o);}return new jQuery.Deferred().resolve(p).promise();}else if(m){return new jQuery.Deferred().reject("Cannot find data for system '"+k+"' in local storage using key '"+K+"'");}if(!E){return new jQuery.Deferred().reject("fallback: the adapter does not implement resolveSystemAlias").promise();}return E(k);}function a(k,l,o,m,E){var n=o,D=new jQuery.Deferred();r(k,l,E).fail(function(p){D.reject(p);}).done(function(R){var V=v(R);if(!V.isValid){g(V);D.reject("Invalid system alias definition");return D;}var p=f(R,new U(window.location.toString()).protocol()),q=R[p],Q,L,t;if(k===S&&q.host===""&&(q.port===0||q.port==="")){p="";}n.protocol(p);n.hostname(q.host);n.port(q.port);j(n,m,q.pathPrefix,E).fail(function(w){D.reject(w);}).done(function(n){Q=n.query();if(typeof R.client==="string"&&R.client!==""){Q=Q+(Q.length>0?"&":"")+"sap-client="+R.client;}if(typeof R.language==="string"&&R.language!==""){L=R.language;}else{t=sap.ushell.Container.getUser();if(!t){jQuery.sap.log.error("Cannot retieve the User object via sap.ushell.Container while determining sap-language","will default to 'en' language","sap.ushell.services.ClientSideTargetResolution");L="en";}else{L=t.getLanguage();}}Q=Q+(Q.length>0?"&":"")+"sap-language="+L;n.query(Q);if(R.hasOwnProperty("rfc")&&m==="NATIVEWEBGUI"){var w=c(R.rfc,q.host,n);var P=n.path()+";"+w;n.path(P);o._parts.path=P;}D.resolve(n);});});return D.promise();}function s(o,k,l,m,n,p,E){var D=new jQuery.Deferred();if(p!==O.apply&&p!==O.applied){throw new Error("Invalid system alias semantic was provided: '"+p+"'");}if(p===O.applied&&((typeof l==="undefined"||k===l))){return D.resolve(o).promise();}if(p===O.apply&&typeof k==="undefined"&&typeof l==="undefined"){return D.resolve(o).promise();}if(n==="URL"&&p==O.applied){return b(o,k,l,m,E);}(new Promise(function(R){if(p===O.apply){R({targetUri:o,alias:l?l:k,sapSystemSrc:l?m:undefined});return;}d(o,k,undefined,n,E).fail(function(q){D.reject(q);}).done(function(q){R({targetUri:q,alias:l});});})).then(function(A){a(A.alias,A.sapSystemSrc,A.targetUri,n,E).fail(function(q){D.reject(q);}).done(function(I){D.resolve(I);});});return D.promise();}function b(o,k,l,m,E){var D=new jQuery.Deferred();if(k===S||typeof k==="undefined"){if(i(o)){return D.resolve(o);}a(l,m,o,"URL",E).fail(function(n){D.reject(n);}).done(function(n){D.resolve(n);});return D.promise();}r(k,m,E).fail(function(n){D.reject(n);}).done(function(R){var n=f(R,new U(window.location.toString()).protocol()),p=R[n],q;if((o.protocol()||"").toLowerCase()===n&&(o.hostname()||"")===p.host&&(o.path().indexOf(p.pathPrefix)===0)){o.protocol("");o.hostname("");q=o.path().replace(p.pathPrefix,"");o.path(q);h(o,["sap-language","sap-client"]);a(l,m,o,"URL",E).fail(function(t){D.reject(t);}).done(function(t){D.resolve(t);});}else{D.resolve(o);}});return D.promise();}function c(k,l){var R,m,I,t,n;I=!!k.systemId;if(I){t=[k.systemId&&("~sysid="+k.systemId),k.loginGroup&&("~loginGroup="+k.loginGroup),k.sncNameR3&&("~messageServer="+encodeURIComponent(k.sncNameR3)),k.sncNameR3&&("~sncNameR3="+encodeURIComponent(k.sncNameR3)),k.sncQoPR3&&("~sncQoPR3="+k.sncQoPR3)].filter(function(o){return(typeof o==="string")&&(o!=="");});}else{n=(k.host||"");m=n.toLowerCase()===l.toLowerCase();R=/^[/][HGMR][/].*/.test(n);if(n.length>0&&!m&&!R){jQuery.sap.log.error("Invalid connect string provided in 'host' field of system alias","Data for rfc destination provided are: "+JSON.stringify(k,null,3),"sap.ushell.services.ClientSideTargetResolution");}t=[n&&!R&&!m&&("~rfcHostName="+n),R&&("~connectString="+encodeURIComponent(n)),k.service&&("~service="+k.service),k.sncNameR3&&("~sncNameR3="+encodeURIComponent(k.sncNameR3)),k.sncQoPR3&&("~sncQoPR3="+k.sncQoPR3)].filter(function(o){return(typeof o==="string")&&(o!=="");});}return t.join(";").replace(/(%[A-F0-9]{2})/g,function(E){return E.toLowerCase();});}function d(o,k,l,m,E){var D=new jQuery.Deferred();if(typeof k==="undefined"){e(o,k,m,undefined,E).fail(function(n){D.reject(n);}).done(function(n){D.resolve(n);});return D.promise();}r(k,l,E).fail(function(n){D.reject(n);}).done(function(R){e(o,k,m,R,E).fail(function(n){D.reject(n);}).done(function(n){D.resolve(n);});});return D.promise();}function e(o,k,l,R,E){var m,n,t,p,D=new jQuery.Deferred(),P=new jQuery.Deferred();o.protocol("");o.hostname("");o.port("");h(o,["sap-client","sap-language"]);if(!jQuery.isPlainObject(R)||typeof k!=="string"){return D.resolve(o).promise();}n=f(R,new U(window.location.toString()).protocol());m=R[n];p=(typeof m.pathPrefix==="string")&&m.pathPrefix;if(p!==""){P.resolve(p);}else{r("",undefined,E).fail(function(q){D.reject(q);}).done(function(q){var w=q[n];P.resolve(w.pathPrefix);});}P.fail(function(q){D.reject(q);}).done(function(p){if(p&&p.length>0){t=o.path();t=t.replace(p,"");if(t.indexOf("/")!==0){t="/"+t;}o.path(t);}if(l==="NATIVEWEBGUI"&&R.hasOwnProperty("rfc")){t=o.path();t=t.split(";").filter(function(q){return q.indexOf("~sysid=")!==0&&q.indexOf("~service=")!==0&&q.indexOf("~loginGroup=")!==0&&q.indexOf("~messageServer=")!==0&&q.indexOf("~sncNameR3=")!==0&&q.indexOf("~sncQoPR3=")!==0;}).join(";");o.path(t);}D.resolve(o);});return D.promise();}function f(o,B){if(o.hasOwnProperty("https")){return"https";}if(o.hasOwnProperty("http")){return"http";}jQuery.sap.log.error("Cannot select which system alias to pick between http/https","make sure they are provided in the given system alias collection","sap.ushell.services.ClientSideTargetResolution");return undefined;}function g(V){jQuery.sap.log.error("Invalid system alias definition: "+V.debug,"ERRORS:"+V.errors.map(function(E){return"\n - "+E;}).join(""),"sap.ushell.ApplicationType");}function v(R){function k(F){var E=[];if(typeof F.host!=="string"){E.push("host field must be a string");}if(typeof F.port!=="number"&&typeof F.port!=="string"){E.push("port field must be a number or a string");}if(typeof F.pathPrefix!=="string"){E.push("pathPrefix field must be a string");}return E;}var E=[],H=R.hasOwnProperty("https"),l=R.hasOwnProperty("http");if(!l&&!H){E.push("at least one of 'http' or 'https' fields must be defined");}if(H){k(R.https).forEach(function(m){E.push("https>"+m);});}if(l){k(R.http).forEach(function(m){E.push("http>"+m);});}if(E.length>0){return{isValid:false,errors:E,debug:JSON.stringify(R,null,3)};}return{isValid:true};}function h(o,p){var B={},t;p.forEach(function(P){B[P]=true;});t=o.query();t=t.split("&").filter(function(P){var k=(P.split("=")[0]||"").toLowerCase();return!B.hasOwnProperty(k);}).join("&");o.query(t);}function j(o,k,p,E){var D=new jQuery.Deferred(),t;if(k==="URL"&&p.length===0){return D.resolve(o).promise();}function l(P){var R=P+o.path();o.path(R.replace(/\/+/g,"/"));D.resolve(o);}r("",undefined,E).fail(function(m){D.reject(m);}).done(function(R){var m=f(R,new U(window.location.toString()).protocol());var L=R[m].pathPrefix;var P=p===L;if(p.length>0&&!P){if((k==="WDA"||k==="WEBGUI")&&o.path().indexOf("~canvas")>=0){t=o.path();t="/~canvas"+t.split("~canvas")[1];o.path(t);}}if(p.length===0){l(L);}else{l(p);}});return D.promise();}return{LOCAL_SYSTEM_ALIAS:S,SYSTEM_ALIAS_SEMANTICS:O,spliceSapSystemIntoURI:s,isAbsoluteURI:i,stripURI:d,selectSystemAliasDataName:f,constructNativeWebguiParameters:c};},false);
sap.ui.predefine('sap/ushell/_ApplicationType/utils',["sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/_ApplicationType/systemAlias"],function(U,u,s){"use strict";var a;function g(){if(!a){a=sap.ushell.Container.getService("URLParsing");}return a;}function b(o,S,e){if(!e||e===s.SYSTEM_ALIAS_SEMANTICS.applied){return s.isAbsoluteURI(o)&&!S;}if(e===s.SYSTEM_ALIAS_SEMANTICS.apply){return s.isAbsoluteURI(o);}throw new Error("Invalid system alias semantics: '"+e+"'");}function c(p,e){var S,f;if(p){var h=e.match(/#.*/);if(h){f=h;S=e.replace(h,"");}else{S=e;f="";}e=S+((e.indexOf("?")<0)?"?":"&")+p+f;}return e;}function d(p,e){var a=g();var f=e.match(/#.*/);var h=f&&f[0];if(!h){var P=a.paramsToString(p);return c(P,e);}var i=a.parseShellHash(h);Object.keys(p).forEach(function(m){var n=p[m];i.params[m]=[n];});var j=Object.keys(i.params).reduce(function(o,K){var v=i.params[K];var V=v.map(function(m){return encodeURIComponent(m);});o[encodeURIComponent(K)]=V;return o;},{});i.params=j;var k=e.replace(h,"");var l=a.constructShellHash(i);return k+"#"+l;}return{getURLParsing:g,appendParametersToUrl:c,appendParametersToIntentURL:d,absoluteUrlDefinedByUser:b};},false);
sap.ui.predefine('sap/ushell/_ApplicationType/wdaResolution',["sap/ui/thirdparty/URI","sap/ushell/utils","sap/ushell/_ApplicationType/utils","sap/ushell/_ApplicationType/systemAlias"],function(U,u,a,s){"use strict";function c(p,m){return new Promise(function(R,j){var E=jQuery.extend(true,{},p);if(m.length>0){E["sap-ushell-defaultedParameterNames"]=[JSON.stringify(m)];}delete E["sap-system"];sap.ushell.Container.getService("ShellNavigation").compactParams(E,["sap-xapp-state","sap-ushell-defaultedParameterNames","sap-intent-params"],undefined,true).fail(function(k){j(k);}).done(function(o){var k=a.getURLParsing().paramsToString(o);R(k);});});}function b(o,j){var p=o.search();if(j){p=p+((p.indexOf("?")<0)?"?":"&")+j;}return o.search(p).toString();}function d(A,C,I,o,E){var S,j,k,l,m,n=jQuery.extend(true,{},o);if(C){n["sap-wd-configId"]=C;}S=n["sap-system"][0];delete n["sap-system"];if(n.hasOwnProperty("sap-system-src")){j=n["sap-system-src"][0];delete n["sap-system-src"];}m=a.getURLParsing().paramsToString(n);if(I){k=e(A,m);}else{k=f(A,m);}l=new U(k);return s.spliceSapSystemIntoURI(l,s.LOCAL_SYSTEM_ALIAS,S,j,"WDA",s.SYSTEM_ALIAS_SEMANTICS.apply,E);}function e(A,j){return"/ui2/nwbc/~canvas;window=app/wda/"+A+"/"+"?"+j;}function f(n,j){var N=n.indexOf("/")!==0;if(N){n="sap/"+n;}return"/webdynpro/"+n+"?"+j;}function g(I,F,S,j){var R={"sap-system":S,url:F,text:I.title,applicationType:"NWBC"};if(typeof j==="string"){R["sap-system-src"]=j;}["additionalInformation","applicationDependencies"].forEach(function(p){if(I.resolutionResult.hasOwnProperty(p)){R[p]=I.resolutionResult[p];}});return R;}function h(m,B,E){var I=jQuery.sap.getObject("inbound.resolutionResult",undefined,m),M=m.mappedIntentParamsPlusSimpleDefaults||{};var S=I.systemAlias;if(M["sap-system"]){S=M["sap-system"][0];}var j;if(M["sap-system-src"]){j=M["sap-system-src"][0];}var o={"sap-system":[S]};if(typeof j==="string"){o["sap-system-src"]=[j];}var C=I["sap.wda"].compatibilityMode;if(C==undefined){C=true;}return new Promise(function(R,k){d(I["sap.wda"].applicationId,I["sap.wda"].configId,C,o,E).done(function(w){var M=m.mappedIntentParamsPlusSimpleDefaults;c(M,m.mappedDefaultedParamNames).then(function(l){var F=b(w,l);var S=M["sap-system"]&&M["sap-system"][0];var j=M["sap-system-src"]&&M["sap-system-src"][0];var n=g(m.inbound,F,S,j);R(n);},function(l){k(l);});}).fail(function(l){k(l);});});}function i(m,B,E){var I=m.inbound,o=I&&I.resolutionResult,M=m.mappedIntentParamsPlusSimpleDefaults;var w=new U(B);var S=M["sap-system"]&&M["sap-system"][0];var j=M["sap-system-src"]&&M["sap-system-src"][0];return Promise.all([(new Promise(function(D,R){s.spliceSapSystemIntoURI(w,o.systemAlias,S,j,"WDA",o.systemAliasSemantics||s.SYSTEM_ALIAS_SEMANTICS.applied,E).fail(R).done(D);})),c(M,m.mappedDefaultedParamNames)]).then(function(R){var W=R[0];var k=R[1];var F=b(W,k);var l=g(I,F,S,j);return l;},function(k){return Promise.reject(k);});}function r(I,m,E){var C,A,o,j=true;A=I.params["sap-ui2-wd-app-id"][0];C=(jQuery.sap.getObject("params.sap-ui2-wd-conf-id",undefined,I)||[])[0];o=Object.keys(I.params).reduce(function(R,p){if(p!=="sap-ui2-wd-app-id"&&p!=="sap-ui2-wd-conf-id"){R[p]=I.params[p];}return R;},{});return new Promise(function(R,k){d(A,C,j,o,E).done(function(l){var S=I.params.hasOwnProperty("sap-system-src")&&I.params["sap-system-src"][0];var n={url:l.toString(),applicationType:"NWBC",text:A,additionalInformation:"","sap-system":I.params["sap-system"][0]};if(typeof S==="string"){n["sap-system-src"]=S;}if(m&&m.inbound&&m.inbound.resolutionResult&&m.inbound.resolutionResult["sap.platform.runtime"]){n["sap.platform.runtime"]=m.inbound.resolutionResult["sap.platform.runtime"];}R(n);}).fail(function(l){k(l);});});}return{resolveEasyAccessMenuIntentWDA:r,constructFullWDAResolutionResult:h,constructWDAResolutionResult:i};},false);
sap.ui.predefine('sap/ushell/_Config/utils',[],function(){"use strict";function i(p,C){var e=[];var n=[];var o=C;var f=false;var P=p.split("/");P.shift();P.forEach(function(g){if(!f&&o.hasOwnProperty(g)){o=o[g];e.push(g);return;}f=true;n.push(g);});return{contractPart:"/"+e.join("/"),nonContractPart:n};}function a(v){return v&&v.isA&&v.isA("sap.ui.model.Context");}function w(C,p,o,v){var D=o;p.forEach(function(P,I){if(I===p.length-1){D[P]=v;return;}if(!D.hasOwnProperty(P)){throw new Error("Cannot find "+P+" inside "+C);}D=D[P];});}function c(p){var P=function(e){return p+e;};if(typeof p==="object"){var S="/";P=function(e){var f=e.split(S);f.shift();var F=f.shift();return p[F]+(f.length>0?S+f.join(S):"");};}return P;}function b(p,m,P){var f=c(P);var F=f(p);if(a(m)&&p.charAt(0)!=="/"){var r=m.getPath()+"/"+p;F=f(r);}return F;}function s(f,C,m,p){m.setData=function(P,D){throw new Error("not yet implemented");};m.setProperty=function(P,D,M){var F=b(P,M,p);var I=i(F,C);if(I.nonContractPart.length===0){f.emit(I.contractPart,D);return;}var B=f.last(I.contractPart);w(I.contractPart,I.nonContractPart,B,D);f.emit(I.contractPart,B);};return m;}function d(f,C,p,e){var m,S,g,P;if(typeof p==="string"){var h=p;P=h;var I=f.last(h);if(Object.prototype.toString.apply(I)!=="[object Object]"){throw new Error("Cannot bind on leaf property of Configuration: '"+h+"'");}m=new e(I);g=m.setData.bind(m);f.on(h).do(function(v){g(v);});return s(f,C,m,P);}if(Object.prototype.toString.apply(p)==="[object Object]"){var D=p;var M=Object.keys(D).reduce(function(M,k){var j=D[k];M[k]=f.last(j);f.on(j).do(function(k,v){S("/"+k,v);}.bind(null,k));return M;},{});m=new e(M);S=m.setProperty.bind(m);return s(f,C,m,D);}throw new Error("Invalid parameter provided to createModel. Must be an object or a string.");}return{createModel:d};},false);
sap.ui.predefine('sap/ushell/adapters/cdm/ClientSideTargetResolutionAdapter',["sap/ushell/utils/utilsCdm","sap/ushell/services/CommonDataModel"],function(u){"use strict";var C=function(s,p,a){this._oAdapterConfig=a&&a.config;this._oLocalSystemAlias={http:{host:"",port:0,pathPrefix:"/sap/bc/"},https:{host:"",port:0,pathPrefix:"/sap/bc/"},rfc:{systemId:"",host:"",service:0,loginGroup:"",sncNameR3:"",sncQoPR3:""},id:"",client:"",language:""};this.getInbounds=function(){var t=this;if(!this._getInboundsDeferred){this._getInboundsDeferred=new jQuery.Deferred();sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(S){return S.getSite();}).then(function(S){var i=u.formatSite(S)||[];t._getInboundsDeferred.resolve(i);},function(e){t._getInboundsDeferred.reject(e);});}return this._getInboundsDeferred.promise();};this._createSIDMap=function(A){return Object.keys(A).sort().reduce(function(S,i){var c=A[i];var b="SID("+c["systemId"]+"."+c["client"]+")";if(!S.hasOwnProperty(b)&&c.hasOwnProperty("systemId")&&c.hasOwnProperty("client")){S[b]=i;}return S;},{})};this._getSystemAliases=function(){var t=this;if(!this.Deferred){this.Deferred=new jQuery.Deferred();sap.ushell.Container.getServiceAsync("CommonDataModel").then(function(S){return S.getSite();}).then(function(S){var o=jQuery.extend(true,{},S.systemAliases||{});Object.keys(o).forEach(function(i){o[i].id=i;});t.Deferred.resolve(o);},function(e){t.Deferred.reject(e);});}return this.Deferred.promise();};this.resolveSystemAlias=function(S){var d=new jQuery.Deferred(),t=this;this._getSystemAliases().done(function(o){var m;var M;if(o.hasOwnProperty(S)){d.resolve(o[S]);return;}if(S===""){d.resolve(t._oLocalSystemAlias);return;}S=S.toUpperCase(S);if(!t._oSIDMap){t._oSIDMap=t._createSIDMap(o);}if(t._oSIDMap.hasOwnProperty(S)){var b=o[t._oSIDMap[S]];d.resolve(b);return;}m="Cannot resolve system alias "+S;jQuery.sap.log.warning(m,"The system alias cannot be found in the site response","sap.ushell.adapters.cdm.ClientSideTargetResolutionAdapter");d.reject(m);}).fail(function(e){d.reject(e);});return d.promise();};};return C;},true);
sap.ui.predefine('sap/ushell/adapters/cdm/CommonDataModelAdapter',["sap/ushell/adapters/cdm/ClientSideTargetResolutionAdapter","jquery.sap.global","jquery.sap.script"],function(C,q){"use strict";var a=function(u,p,A){this.oAdapterConfiguration=A;if(A&&A.config&&A.config.siteData){this.oCdmSiteDataRequestPromise=new q.Deferred().resolve(A.config.siteData);}else if(A&&A.config&&A.config.siteDataPromise){this.oCdmSiteDataRequestPromise=A.config.siteDataPromise;}else{var s=this._identifySiteUrlFromConfig(A);this.oCdmSiteDataRequestPromise=this._requestSiteData(s);}};a.prototype._requestSiteData=function(u){var s=new q.Deferred();if(!u){return s.reject("Cannot load site: configuration property 'siteDataUrl' is missing for CommonDataModelAdapter.");}q.ajax({type:"GET",dataType:"json",url:u}).done(function(r){s.resolve(r);}).fail(function(e){q.sap.log.error(e.responseText);s.reject("CDM Site was requested but could not be loaded.");});return s.promise();};a.prototype.getSite=function(){var d=new q.Deferred();this.oCdmSiteDataRequestPromise.done(function(s){var S=q.extend({},s);delete S.personalization;d.resolve(S);}).fail(function(m){d.reject(m);});return d.promise();};a.prototype.getPersonalization=function(){var d=new q.Deferred(),t=this;this.oCdmSiteDataRequestPromise.done(function(s){var S=q.extend({},s);if(t.oAdapterConfiguration&&t.oAdapterConfiguration.config&&t.oAdapterConfiguration.config.ignoreSiteDataPersonalization){delete S.personalization;}if(S.personalization){d.resolve(S.personalization);}else{t._readPersonalizationDataFromStorage().done(function(p){d.resolve(p);}).fail(function(m){d.reject(m);});}}).fail(function(m){d.reject(m);});return d.promise();};a.prototype._storePersonalizationData=function(p){var P=new q.Deferred(),o=sap.ushell.Container.getService("Personalization"),c,s={keyCategory:o.constants.keyCategory.FIXED_KEY,writeFrequency:o.constants.writeFrequency.LOW,clientStorageAllowed:true},b={container:"sap.ushell.cdm.personalization",item:"data"},d=o.getPersonalizer(b,s,c);d.setPersData(p).done(function(){q.sap.log.info("Personalization data has been stored successfully.");P.resolve();}).fail(function(){P.reject("Writing personalization data failed.");});return P.promise();};a.prototype._readPersonalizationDataFromStorage=function(){var p=new q.Deferred();sap.ushell.Container.getServiceAsync("Personalization").then(function(P){var s={keyCategory:P.constants.keyCategory.FIXED_KEY,writeFrequency:P.constants.writeFrequency.LOW,clientStorageAllowed:true};var o={container:"sap.ushell.cdm.personalization",item:"data"};P.getPersonalizer(o,s).getPersData().done(function(b){p.resolve(b||{});}).fail(function(){p.reject("Fetching personalization data failed.");});});return p.promise();};a.prototype._identifySiteUrlFromConfig=function(A){var p=q.sap.getUriParameters();var s=p.get("sap-ushell-cdm-site-url");var c=A&&A.config;if((c&&!c.allowSiteSourceFromURLParameter)&&s){s=null;}if(c&&!s){s=c.siteDataUrl||c.cdmSiteUrl;}this.sCdmSiteUrl=s;return s;};return a;},true);
sap.ui.predefine('sap/ushell/adapters/local/UserDefaultParameterPersistenceAdapter',['sap/ushell/services/Personalization'],function(P){"use strict";var U=function(s,p,c){this._oConfig=c&&c.config;};U.prototype._getPersonalizationService=function(){return sap.ushell.Container.getService("Personalization");};U.prototype.saveParameterValue=function(p,v){var d=new jQuery.Deferred();if(!(typeof p==="string"&&p.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(p))){jQuery.sap.log.error("Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :\""+p+"\"");}this._getUDContainer().done(function(c){c.setItemValue(p,v);c.saveDeferred(50).done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype.deleteParameter=function(p,v){var d=new jQuery.Deferred();if(!(typeof p==="string"&&p.length<=40&&/^[A-Za-z0-9.-_]+$/.exec(p))){jQuery.sap.log.error("Illegal Parameter Key, less than 40 characters and [A-Za-z0-9.-_]+ :\""+p+"\"");}this._getUDContainer().done(function(c){c.delItem(p);c.save().done(d.resolve.bind(d)).fail(d.reject.bind(d));}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype.loadParameterValue=function(p){var d=new jQuery.Deferred();this._getUDContainer().done(function(c){var v=c.getItemValue(p);if(v){d.resolve(v);}else{d.reject("no value ");}}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype.getStoredParameterNames=function(){var d=new jQuery.Deferred();this._getUDContainer().done(function(c){var v=c.getItemKeys();d.resolve(v);}).fail(function(m){jQuery.sap.log.error(m);d.reject(m);});return d.promise();};U.prototype._getUDContainer=function(){var p=this._getPersonalizationService();if(this._oPromise){return this._oPromise;}this._oPromise=p.getContainer("sap.ushell.UserDefaultParameter",{keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true});return this._oPromise;};return U;},true);
sap.ui.predefine('sap/ushell/bootstrap/common/common.create.configcontract.core',[],function(){"use strict";function c(m){function g(p,d){var s=a(p);return s!==undefined?s:d;}function a(p){var P=p.split("/");var l=P.pop();var d=P.reduce(function(o,s){if(!o||!o.hasOwnProperty(s)){return{};}return o[s];},m);return d[l];}function e(p,o){var E=g("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined);var P=g("renderers/fiori2/componentData/config/applications/Shell-home/"+p,undefined);var O=g("renderers/fiori2/componentData/config/applications/Shell-home/"+o,undefined);P=(E===false)?false:P;P=(P!==undefined)?P:E;if(E==undefined||E){if(P===false){return false;}else{return(O!==undefined)?O:P;}}else{return false;}}var C={core:{extension:{enableHelp:g("renderers/fiori2/componentData/config/enableHelp",false),EndUserFeedback:g("services/EndUserFeedback/config/enabled",true),SupportTicket:g("services/SupportTicket/config/enabled",false)},navigation:{enableInPlaceForClassicUIs:{GUI:g("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/GUI",false),WDA:g("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WDA",false),WCF:g("services/ClientSideTargetResolution/config/enableInPlaceForClassicUIs/WCF",true)},enableWebguiLocalResolution:true,enableWdaLocalResolution:true,flpURLDetectionPattern:g("services/ClientSideTargetResolution/config/flpURLDetectionPattern","[/]FioriLaunchpad.html[^#]+#[^-]+?-[^-]+")},notifications:{enableNotificationsPreview:g("renderers/fiori2/componentData/config/applications/Shell-home/initialStateNotificationsPreview",g("services/Notifications/config/enableNotificationsPreview",false))},shell:{animationMode:g("renderers/fiori2/componentData/config/animationMode",'full'),enablePersonalization:g("renderers/fiori2/componentData/config/enablePersonalization",g("renderers/fiori2/componentData/config/applications/Shell-home/enablePersonalization",true)),enableRecentActivity:g("renderers/fiori2/componentData/config/enableRecentActivity",true),enableRecentActivityLogging:g("renderers/fiori2/componentData/config/enableRecentActivityLogging",true),enableFiori3:g("ushell/shell/enableFiori3",false),model:{enableSAPCopilotWindowDocking:undefined,enableBackGroundShapes:true,personalization:undefined,contentDensity:undefined,setTheme:undefined,userDefaultParameters:undefined,disableHomeAppCache:undefined,enableHelp:undefined,ShellAppTitleState:undefined,enableTrackingActivity:undefined,animationMode:"full",searchAvailable:false,title:"",searchFiltering:true,showEndUserFeedback:false,searchTerm:"",isPhoneWidth:false,enableNotifications:false,enableNotificationsUI:false,notificationsCount:0,currentViewPortState:"Center",userStatus:undefined,migrationConfig:undefined,allMyAppsMasterLevel:undefined,options:[],userStatusUserEnabled:true,shellAppTitleData:{currentViewInPopover:"navigationMenu",enabled:false,showGroupsApps:false,showCatalogsApps:false,showExternalProvidersApps:false},userPreferences:{dialogTitle:"Settings",isDetailedEntryMode:false,activeEntryPath:null,entries:[],profiling:[]},userImage:{personPlaceHolder:"sap-icon://person-placeholder",account:"sap-icon://account"},currentState:{stateName:"blank",showCurtain:false,headerVisible:true,showCatalog:false,showPane:false,showRightFloatingContainer:false,headItems:[],showRecentActivity:true,headEndItems:[],search:"",paneContent:[],actions:[],floatingActions:[],subHeader:[],toolAreaItems:[],RightFloatingContainerItems:[],toolAreaVisible:false,floatingContainerContent:[],application:{},showLogo:false}}},home:{animationRendered:false,disableSortedLockedGroups:g("renderers/fiori2/componentData/config/applications/Shell-home/disableSortedLockedGroups",false),draggedTileLinkPersonalizationSupported:true,editTitle:false,enableActionModeFloatingButton:g("renderers/fiori2/componentData/config/enableActionModeFloatingButton",g("renderers/fiori2/componentData/config/applications/Shell-home/enableActionModeFloatingButton",true)),enableActionModeMenuButton:g("renderers/fiori2/componentData/config/enableActionModeMenuButton",g("renderers/fiori2/componentData/config/applications/Shell-home/enableActionModeMenuButton",true)),enableDragIndicator:g("renderers/fiori2/componentData/config/enableDragIndicator",g("renderers/fiori2/componentData/config/applications/Shell-home/enableDragIndicator",false)),enableHomePageSettings:g("renderers/fiori2/componentData/config/applications/Shell-home/enableHomePageSettings",true),enableLockedGroupsCompactLayout:g("renderers/fiori2/componentData/config/enableLockedGroupsCompactLayout",g("renderers/fiori2/componentData/config/applications/Shell-home/enableLockedGroupsCompactLayout",false)),enableRenameLockedGroup:g("renderers/fiori2/componentData/config/applications/Shell-home/enableRenameLockedGroup",false),enableTileActionsIcon:g("renderers/fiori2/componentData/config/enableTileActionsIcon",g("renderers/fiori2/componentData/config/applications/Shell-home/enableTileActionsIcon",false)),enableTilesOpacity:g("services/ClientSideTargetResolution/config/enableTilesOpacity",g("renderers/fiori2/componentData/config/applications/Shell-home/enableTilesOpacity",true)),homePageGroupDisplay:g("renderers/fiori2/componentData/config/applications/Shell-home/homePageGroupDisplay","scroll"),isInDrag:false,optimizeTileLoadingThreshold:g("renderers/fiori2/componentData/config/applications/Shell-home/optimizeTileLoadingThreshold",100),sizeBehavior:g("renderers/fiori2/componentData/config/sizeBehavior","Responsive"),sizeBehaviorConfigurable:g("renderers/fiori2/componentData/config/sizeBehaviorConfigurable",false),wrappingType:g("ushell/home/tilesWrappingType","Normal"),segments:g("renderers/fiori2/componentData/config/applications/Shell-home/segments",undefined),tileActionModeActive:false,tileActionModeEnabled:g("renderers/fiori2/componentData/config/enableActionModeMenuButton",g("renderers/fiori2/componentData/config/applications/Shell-home/enableActionModeMenuButton",true))||g("renderers/fiori2/componentData/config/enableActionModeFloatingButton",g("renderers/fiori2/componentData/config/applications/Shell-home/enableActionModeFloatingButton",true))},catalog:{appFinderDisplayMode:g("renderers/fiori2/componentData/config/applications/Shell-home/appFinderDisplayMode",undefined),easyAccessNumbersOfLevels:g("renderers/fiori2/componentData/config/applications/Shell-home/easyAccessNumbersOfLevels",undefined),enableCatalogSearch:g("renderers/fiori2/componentData/config/enableSearchFiltering",g("renderers/fiori2/componentData/config/applications/Shell-home/enableSearchFiltering",g("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSearch",true))),enableCatalogSelection:g("renderers/fiori2/componentData/config/enableCatalogSelection",g("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogSelection",true)),enableCatalogTagFilter:g("renderers/fiori2/componentData/config/applications/Shell-home/enableTagFiltering",g("renderers/fiori2/componentData/config/applications/Shell-home/enableCatalogTagFilter",true)),enableEasyAccess:g("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined),enableEasyAccessSAPMenu:(g("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)===false)?false:g("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessSAPMenu",g("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)),enableEasyAccessSAPMenuSearch:e("enableEasyAccessSAPMenu","enableEasyAccessSAPMenuSearch"),enableEasyAccessUserMenu:(g("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)===false)?false:g("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccessUserMenu",g("renderers/fiori2/componentData/config/applications/Shell-home/enableEasyAccess",undefined)),enableEasyAccessUserMenuSearch:e("enableEasyAccessUserMenu","enableEasyAccessUserMenuSearch"),enableHideGroups:g("renderers/fiori2/componentData/config/enableHideGroups",g("renderers/fiori2/componentData/config/applications/Shell-home/enableHideGroups",true)),sapMenuServiceUrl:undefined,userMenuServiceUrl:g("renderers/fiori2/componentData/config/applications/Shell-home/userMenuServiceUrl",undefined)}}};return C;}return c;},false);
sap.ui.predefine('sap/ushell/bootstrap/common/common.load.model',['sap/ushell/Config','sap/ui/model/json/JSONModel'],function(C,J){"use strict";var _=undefined,m,s;function a(){var S=C.last("/core"),A=undefined;var i={animationMode:A?A:S.shell.animationMode,groups:[],rtl:sap.ui.getCore().getConfiguration().getRTL(),personalization:S.shell.enablePersonalization,tagList:[],selectedTags:[],userPreferences:{entries:[]},enableNotificationsPreview:S.notifications.enableNotificationsPreview,enableHelp:S.extension.enableHelp,previewNotificationItems:[],enableTileActionsIcon:sap.ui.Device.system.desktop?S.home.enableTileActionsIcon:false};i=jQuery.extend({},S.catalog,S.home,i);_=new J(i);_.setSizeLimit(10000);}function b(){sap.ui.getCore().getEventBus().subscribe("shell","changeNotificationPreview",s._updateNotificationPreview,this);sap.ui.getCore().getEventBus().subscribe('launchpad','afterSwitchState',s._handleShellViewPortSateChange,this);var g=window.matchMedia("(min-width: 800px)");if(g.addListener){g.addListener(s._handleMedia);s._handleMedia(g);}}function c(){sap.ui.getCore().getEventBus().unsubscribe("shell","changeNotificationPreview",s._updateNotificationPreview,this);sap.ui.getCore().getEventBus().unsubscribe('launchpad','afterSwitchState',s._handleShellViewPortSateChange,this);}s={_handleMedia:function(g){_.setProperty("/isPhoneWidth",!g.matches);},_updateNotificationPreview:function(g,E,D){var p=D;_.setProperty("/userEnableNotificationsPreview",p.bUserEnableNotificationsPreview);_.setProperty("/configEnableNotificationsPreview",p.bConfigEnableNotificationsPreview);if(p.bMainFlagExists===true){_.setProperty("/enableNotificationsPreview",p.bEnableNotificationsPreview);}},_handleShellViewPortSateChange:function(n,E,o){var g=o?o.getParameter('to'):'';_.setProperty('/viewPortState',g);}};function d(){return;}function e(){return;}function f(){if(_===undefined){a();b();}return _;}m={getModel:f,updateModelForCatalog:e,updateModelForHomepage:d,unsubscribeEventHandlers:c};return m;});
sap.ui.predefine('sap/ushell/components/CatalogsManager',["sap/ui/base/Object","sap/ushell/ui/launchpad/TileState","sap/ushell/EventHub","sap/ushell/utils","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/ushell/components/HomepageManager"],function(B,T,e,u,d,g,m,H){"use strict";var C=B.extend("sap.ushell.components.CatalogsManager",{metadata:{publicMethods:["createGroup","createGroupAndSaveTile","createTile","deleteCatalogTileFromGroup","notifyOnActionFailure","resetAssociationOnFailure"]},analyticsConstants:{PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"},_aDoableObjects:[],constructor:function(i,s){this.oLaunchPageService=sap.ushell.Container.getService("LaunchPage");this.aPendingCatalogQueue=[];this.oTileCatalogToGroupsMap={};this.skippedProcessCatalogs=0;this.tagsPool=[];this.oModel=s.model;var h={model:this.oModel};if(typeof sap.ushell.components.getHomepageManager==="function"){this.oHomepageManager=sap.ushell.components.getHomepageManager();}else{this.oHomepageManager=new H("dashboardMgr",h);}sap.ushell.components.getCatalogsManager=jQuery.sap.getter(this.getInterface());this.registerEvents();},registerEvents:function(){var E=sap.ui.getCore().getEventBus();E.subscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoableObjects=[e.on("showCatalog").do(this.updateTilesAssociation.bind(this)),e.on("updateGroups").do(this.updateTilesAssociation.bind(this))];},unregisterEvents:function(){var E=sap.ui.getCore().getEventBus();E.unsubscribe("renderCatalog",this.loadAllCatalogs,this);this._aDoableObjects.forEach(function(D){D.off();});},getModel:function(){return this.oModel;},loadAllCatalogs:function(c,E,D){var G=new jQuery.Deferred(),t=this,s;G.resolve();s=function(){G.done(function(){var a=t.getModel().getProperty("/groups");if(a&&a.length!==0){t.updateTilesAssociation();}});};if(!this.oModel.getProperty("/catalogs")){if(!this.oModel.getProperty("/groups")||this.oModel.getProperty("/groups").length===0){G=this.oHomepageManager.loadPersonalizedGroups();}d.destroyFLPAggregationModels(this.oModel.getProperty("/catalogs"));d.destroyTileModels(this.oModel.getProperty("/catalogTiles"));this.oModel.setProperty("/catalogs",[]);this.oModel.setProperty("/catalogSearchEntity",{appBoxes:[],customTiles:[]});this.aPromises=[];jQuery.sap.measure.start("FLP:DashboardManager.GetCatalogsRequest","GetCatalogsRequest","FLP");jQuery.sap.measure.start("FLP:DashboardManager.getCatalogTiles","getCatalogTiles","FLP");jQuery.sap.measure.pause("FLP:DashboardManager.getCatalogTiles");jQuery.sap.measure.start("FLP:DashboardManager.BuildCatalogModelWithRendering","BuildCatalogModelWithRendering","FLP");jQuery.sap.measure.pause("FLP:DashboardManager.BuildCatalogModelWithRendering");this.oLaunchPageService.getCatalogs().done(function(a){jQuery.sap.measure.end("FLP:DashboardManager.GetCatalogsRequest");jQuery.sap.measure.end("FLP:DashboardManager.getCatalogTiles");jQuery.when.apply(jQuery,this.aPromises).then(function(){t.onDoneLoadingCatalogs(a);});s();}.bind(this)).fail(m.showLocalizedErrorHelper("fail_to_load_catalog_msg")).progress(this.addCatalogToModel.bind(this));}else{s();}},updateTilesAssociation:function(){this.mapCatalogTilesToGroups();this.updateCatalogTilesToGroupsMap();},mapCatalogTilesToGroups:function(){this.oTileCatalogToGroupsMap={};var G=this.oModel.getProperty("/groups"),i,o,t,a,b,c,f,h=this;for(i=0;i<G.length;i++){o=G[i];["tiles","links"].forEach(function(A){a=o[A];if(a){for(t=0;t<a.length;++t){b=encodeURIComponent(h.oLaunchPageService.getCatalogTileId(a[t].object));c=h.oTileCatalogToGroupsMap[b]||[];f=h.oLaunchPageService.getGroupId(o.object);if(c.indexOf(f)===-1&&(typeof(o.isGroupVisible)==='undefined'||o.isGroupVisible)&&!o.isGroupLocked){c.push(f);}h.oTileCatalogToGroupsMap[b]=c;}}});}},updateCatalogTilesToGroupsMap:function(){var c=this.getModel().getProperty("/catalogs"),i,t,a,G,b,f,h,j,A,o;if(c){for(i=0;i<c.length;i++){f=c[i].appBoxes;if(f){for(j=0;j<f.length;j++){A=f[j];t=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(A.src));G=this.oTileCatalogToGroupsMap[t];a=(G||[]);A.associatedGroups=a;}}b=c[i].customTiles;if(b){for(h=0;h<b.length;h++){o=b[h];t=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(o.src));G=this.oTileCatalogToGroupsMap[t];a=(G||[]);o.associatedGroups=a;}}}}this.getModel().setProperty("/catalogs",c);},addCatalogToModel:function(c){var o={title:this.oLaunchPageService.getCatalogTitle(c),id:this.oLaunchPageService.getCatalogId(c),numberTilesSupportedOnCurrectDevice:0,static:false,customTiles:[],appBoxes:[]},p;jQuery.sap.measure.resume("FLP:DashboardManager.getCatalogTiles");p=this.oLaunchPageService.getCatalogTiles(c);this.aPromises.push(p);p.done(function(a){jQuery.sap.measure.pause("FLP:DashboardManager.getCatalogTiles");if(!a.length){return;}this.aPendingCatalogQueue.push({oCatalogEntry:a,oCatalogModel:o});if(this.skippedProcessCatalogs<10){clearTimeout(this.oprocessCatalogsTimer);this.skippedProcessCatalogs++;this.oprocessCatalogsTimer=setTimeout(function(){this.processPendingCatalogs();if(this.oModel.getProperty("/enableCatalogTagFilter")===true){this.getTagList();}}.bind(this),20);}}.bind(this)).fail(m.showLocalizedErrorHelper("fail_to_load_catalog_tiles_msg"));},getTagList:function(c){var i={},f=0,t=[],h,o,s;if(this.oModel.getProperty("/tagList")&&this.oModel.getProperty("/tagList").length>0){this.tagsPool.concat(this.oModel.getProperty("/tagList"));}for(f=0;f<this.tagsPool.length;f++){o=this.tagsPool[f];if(i[o]){i[o]++;}else{i[o]=1;}}for(h in i){t.push({tag:h,occ:i[h]});}s=t.sort(function(a,b){return b.occ-a.occ;});if(c){this.oModel.setProperty("/tagList",s.slice(0,c));}else{this.oModel.setProperty("/tagList",s);}},processPendingCatalogs:function(){var c=this.oModel.getProperty('/catalogs'),p,o,a,E,i,b,f,h=sap.ui.getCore().getEventBus(),A,j=this.oModel.getProperty('/masterCatalogs')||[{title:m.getLocalizedText("all")}];jQuery.sap.measure.resume("FLP:DashboardManager.BuildCatalogModelWithRendering");this.skippedProcessCatalogs=0;while(this.aPendingCatalogQueue.length>0){p=this.aPendingCatalogQueue.shift();o=p.oCatalogEntry;a=p.oCatalogModel;E=this.searchModelCatalogByTitle(a.title);if(E.result){b=this.oModel.getProperty('/catalogs')[E.indexOfPreviousInstanceInModel];i=false;}else{i=true;b=a;}o.forEach(function(o,k){if(this._getIsIntentSupported(o)){if(this._getIsAppBox(o)){A=this.createCatalogAppBoxes(o,true);b.appBoxes.push(A);}else{f=this.createCatalogTiles(o);b.customTiles.push(f);if(!this.aFnToGetTileView){this.aFnToGetTileView=[];}}}}.bind(this));if(b.appBoxes.length>0||b.customTiles.length>0){if(i){c.push(a);j.push({title:a.title});}}}this.oModel.setProperty('/masterCatalogs',j);this.oModel.setProperty('/catalogs',c);h.publish("launchpad","afterCatalogSegment");jQuery.sap.measure.pause("FLP:DashboardManager.BuildCatalogModelWithRendering");},loadCustomTilesKeyWords:function(){var f;if(this.aFnToGetTileView){while(this.aFnToGetTileView.length>0){f=this.aFnToGetTileView.pop();f();}}},searchModelCatalogByTitle:function(c){var a=this.oModel.getProperty('/catalogs'),b=false,i,n=0,G=false;$.each(a,function(f,t){if(t.title===sap.ushell.resources.i18n.getText('catalogsLoading')){G=true;}else if(c==t.title){i=f;n=t.numberOfTiles;b=true;return false;}});return{result:b,indexOfPreviousInstanceInModel:i,indexOfPreviousInstanceInPage:G?i-1:i,numOfTilesInCatalog:n};},createCatalogAppBoxes:function(c,G){var a=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(c)),b=this.oTileCatalogToGroupsMap[a]||[],t=this.oLaunchPageService.getCatalogTileTags(c)||[];if(t.length>0){this.tagsPool=this.tagsPool.concat(t);}var n=undefined;if(c.tileResolutionResult){n=c.tileResolutionResult.navigationMode;}return{id:a,associatedGroups:b,src:c,title:this.oLaunchPageService.getCatalogTilePreviewTitle(c),subtitle:this.oLaunchPageService.getCatalogTilePreviewSubtitle(c),icon:this.oLaunchPageService.getCatalogTilePreviewIcon(c),keywords:G?(this.oLaunchPageService.getCatalogTileKeywords(c)||[]).join(','):[],tags:t,navigationMode:n,url:this.oLaunchPageService.getCatalogTileTargetURL(c)};},onDoneLoadingCatalogs:function(c){var i,a=[];for(i=0;i<c.length;i++){a.push(this.oLaunchPageService.getCatalogTiles(c[i]));}Promise.all(a).then(function(r){var I,n=true;for(I=0;I<r.length;I++){if(r[I].length!=0){n=false;break;}}if(n||!c.length){this.oModel.setProperty("/catalogsNoDataText",sap.ushell.resources.i18n.getText('noCatalogs'));}});var E=sap.ui.getCore().getEventBus();E.publish("launchpad","catalogContentLoaded");var t=this,l=c.filter(function(o){var s=t.oLaunchPageService.getCatalogError(o);if(s){jQuery.sap.log.error("A catalog could not be loaded",s,"sap.ushell.components.CatalogsManager");}return!s;});if(l.length!==c.length){m.showLocalizedError("partialCatalogFail");}u.handleTilesVisibility();},createCatalogTiles:function(c,G){var t,a,b=encodeURIComponent(this.oLaunchPageService.getCatalogTileId(c)),f=this.oTileCatalogToGroupsMap[b]||[],h=this.oLaunchPageService.getCatalogTileTags(c)||[];if(h.length>0){this.tagsPool=this.tagsPool.concat(h);}t=new T({state:"Loading"});this.oLaunchPageService.getCatalogTileView(c);a=this.oLaunchPageService.getCatalogTilePreviewTitle(c);if(!a){a=this.oLaunchPageService.getCatalogTileTitle(c);}return{associatedGroups:f,src:c,catalog:c.title,catalogId:c.id,title:a,tags:h,keywords:(this.oLaunchPageService.getCatalogTileKeywords(c)||[]).join(','),id:b,size:this.oLaunchPageService.getCatalogTileSize(c),content:[t],isTileIntentSupported:this.oLaunchPageService.isTileIntentSupported(c),tileType:c.tileType};},createGroupAndSaveTile:function(D){var t=this,c=D.catalogTileContext,n=D.newGroupName,a=jQuery.Deferred(),r={};if(u.validHash(n)&&c){this.createGroup(n).then(function(o){var p=t.createTile({catalogTileContext:c,groupContext:o});p.done(function(b){r={group:b.group,status:1,action:'addTileToNewGroup'};a.resolve(r);}).fail(function(b){r={group:b.group,status:0,action:'addTileToNewGroup'};a.resolve(r);});}.bind(this));}return a.promise();},createGroup:function(t){var a=this,D=jQuery.Deferred();if(!u.validHash(t)){return D.reject({status:0,action:'createNewGroup'});}var r=this.oLaunchPageService.addGroup(t);r.done(function(G,s){var o=a.oHomepageManager.addGroupToModel(G);D.resolve(o);});r.fail(function(){m.showLocalizedError("fail_to_create_group_msg");var R={status:0,action:'createNewGroup'};D.resolve(R);});return D.promise();},createTile:function(D){var t=this,c=D.catalogTileContext,o=D.groupContext,G=this.oModel.getProperty(o.getPath()),s=G.groupId,r,a=jQuery.Deferred(),R={},E;E=sap.ui.getCore().getEventBus();E.publish("launchpad","addTile",{catalogTileContext:c,groupContext:o});if(!c){jQuery.sap.log.warning("CatalogsManager: Did not receive catalog tile object. Abort.",this);R={group:G,status:0,action:'add'};return Promise.resolve(R);}r=this.oLaunchPageService.addTile(c.getProperty("src"),o.getProperty("object"));r.done(function(b){var f=t.oModel.getProperty("/groups"),h=g.getModelPathOfGroup(f,s),i=t.oLaunchPageService.getTileTitle(b);t.oHomepageManager.addTileToGroup(h,b);R={group:G,status:1,action:'add'};sap.ushell.Container.getService("UsageAnalytics").logCustomEvent(t.analyticsConstants.PERSONALIZATION,t.analyticsConstants.ADD_TILE,[G.title,i]);a.resolve(R);}).fail(function(){m.showLocalizedError("fail_to_add_tile_msg");R={group:G,status:0,action:'add'};a.resolve(R);});return a.promise();},deleteCatalogTileFromGroup:function(D){var t=this,s=decodeURIComponent(D.tileId),G=D.groupIndex,o=this.oModel.getProperty("/groups/"+G),a=jQuery.Deferred(),b=[],r=[],p,c;["tiles","links"].forEach(function(A){o[A].forEach(function(f){var h=t.oLaunchPageService.getCatalogTileId(f.object);if(h===s){p=jQuery.Deferred();c=t.oLaunchPageService.removeTile(o.object,f.object);c.done((function(a){return function(){r.push(f.uuid);a.resolve({status:true});};})(p));c.fail((function(a){return function(){a.resolve({status:false});};})(p));b.push(p);}});});jQuery.when.apply(jQuery,b).done(function(f){var S=b.length===r.length;t.oHomepageManager.deleteTilesFromGroup(o.groupId,r);t.updateTilesAssociation();a.resolve({group:o,status:S,action:'remove'});});return a.promise();},calculateCatalogTileIndex:function(c,n,t){var r=parseInt(c*100000,10);r+=(n!==undefined?n:0)+t;return r;},notifyOnActionFailure:function(M,p){m.showLocalizedError(M,p);},resetAssociationOnFailure:function(M,p){this.notifyOnActionFailure(M,p);this.updateTilesAssociation();},_getIsIntentSupported:function(c){return!!(this.oLaunchPageService.isTileIntentSupported(c));},_getIsAppBox:function(c){var a,i;if(!sap.ushell.Container){return false;}a=this.oModel.getProperty("/appFinderDisplayMode");if(a==="tiles"){i=false;}else{i=!!(this.oLaunchPageService.getCatalogTileTargetURL(c)&&(this.oLaunchPageService.getCatalogTilePreviewTitle(c)||this.oLaunchPageService.getCatalogTilePreviewSubtitle(c)));}return i;},destroy:function(){this.unregisterEvents();}});return C;});
sap.ui.predefine('sap/ushell/components/HomepageManager',["jquery.sap.global","sap/ui/base/Object","sap/ui/Device","sap/ui/model/Filter","sap/ushell/ui/launchpad/TileState","sap/ushell/components/_HomepageManager/PagingManager","sap/ushell/components/_HomepageManager/DashboardLoadingManager","sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils","sap/ushell/resources","sap/ushell/components/DestroyHelper","sap/ushell/components/GroupsHelper","sap/ushell/components/MessagingHelper","sap/m/GenericTile","sap/m/SelectDialog","sap/m/StandardListItem","sap/ushell/components/homepage/ComponentKeysHandler"],function(Q,B,D,F,T,P,a,e,s,u,r,d,g,m,G,S,b,C){"use strict";var c={PERSONALIZATION:"FLP: Personalization",RENAME_GROUP:"FLP: Rename Group",MOVE_GROUP:"FLP: Move Group",DELETE_GROUP:"FLP: Delete Group",RESET_GROUP:"FLP: Reset Group",DELETE_TILE:"FLP: Delete Tile",ADD_TILE:"FLP: Add Tile",MOVE_TILE:"FLP: Move Tile"};var _=[];var f=false;function h(R){_.push(R);if(!f){f=true;_.shift()();}}function l(){if(_.length===0){f=false;}else{_.shift()();}}function n(){_=[];f=false;}function o(E,p){sap.ushell.Container.getServiceAsync("UsageAnalytics").then(function(U){U.logCustomEvent(c.PERSONALIZATION,E,p);});}var H=B.extend("sap.ushell.components.HomepageManager",{metadata:{publicMethods:["getModel","getDashboardView","loadPersonalizedGroups","resetGroupsOnFailure","addGroupToModel","addTileToGroup","deleteTilesFromGroup"]},analyticsConstants:c,constructor:function(i,j){if(sap.ushell.components.getHomepageManager){var k=sap.ushell.components.getHomepageManager();if(!k.view){k.setDashboardView(j.view);}return k;}sap.ui.getCore().attachThemeChanged(u.handleTilesVisibility);sap.ushell.components.getHomepageManager=Q.sap.getter(this.getInterface());this.oPageBuilderService=sap.ushell.Container.getService("LaunchPage");this.oModel=j.model;this.oRouter=j.router;this.oDashboardView=j.view;this.oSortableDeferred=Q.Deferred();this.oSortableDeferred.resolve();this.registerEvents();this.tileViewUpdateQueue=[];this.tileViewUpdateTimeoutID=0;this.tileUuid=null;this.bIsGroupsModelLoading=false;this.segmentsStore=[];this.bIsFirstSegment=true;this.bIsFirstSegmentViewLoaded=false;this.aGroupsFrame=null;this.iMinNumOfTilesForBlindLoading=this.oModel.getProperty("/optimizeTileLoadingThreshold")||100;this.bIsScrollModeAccordingKPI=false;this.oGroupNotLockedFilter=new F("isGroupLocked",sap.ui.model.FilterOperator.EQ,false);this.bLinkPersonalizationSupported=this.oPageBuilderService.isLinkPersonalizationSupported();this.oDashboardLoadingManager=new a("loadingManager",{oDashboardManager:this});if(this.oRouter){var t=this.oRouter.getTarget('home');t.attachDisplay(function(E){this.oDashboardView=E.getParameter('view');}.bind(this));}this.oModel.bindProperty("/tileActionModeActive").attachChange(this._changeLinksScope.bind(this));},isBlindLoading:function(){var i=s.last("/core/home/homePageGroupDisplay");if((i===undefined||i==="scroll")&&this.bIsScrollModeAccordingKPI){Q.sap.log.info("isBlindLoading reason IsScrollModeAccordingKPI and IsScrollMode: true");return true;}if(this.oModel.getProperty("/tileActionModeActive")){Q.sap.log.info("isBlindLoading reason TileActionModeActive : true");return true;}return false;},createMoveActionDialog:function(i){var j=this.oGroupNotLockedFilter,M=new S(i,{title:r.i18n.getText('moveTileDialog_title'),rememberSelections:false,search:function(E){var v=E.getParameter("value"),k=new F("title",sap.ui.model.FilterOperator.Contains,v),p=E.getSource().getBinding("items");p.filter([k,j]);},contentWidth:'400px',contentHeight:"auto",confirm:function(E){var k=E.getParameter("selectedContexts");this.publishMoveActionEvents(E,k,"movetile");}.bind(this),cancel:function(){var k=Q('.sapUshellTile[tabindex="0"]')[0];if(k){k.focus();}},items:{path:"/groups",filters:[j],template:new b({title:"{title}"})}});return M;},publishMoveActionEvents:function(E,i,M){var j=sap.ui.getCore().getEventBus();if(i.length){var k=this.tileType==="link"?"links":"tiles";j.publish("launchpad",M,{sTileId:this.tileUuid,sToItems:k,sFromItems:k,sTileType:k,toGroupId:i[0].getObject().groupId,toIndex:i[0].getObject()[this.tileType==="link"?"links":"tiles"].length,source:E.getSource().getId(),callBack:C.callbackSetFocus.bind(C)});j.publish("launchpad","scrollToGroup",{groupId:i[0].getObject().groupId,groupChanged:false,focus:false});}},_changeLinksScope:function(E){var t=this;if(this.bLinkPersonalizationSupported){var i=E.getSource().getValue();this.oModel.getProperty("/groups").forEach(function(j,k){if(!j.isGroupLocked){t._changeGroupLinksScope(j,i?'Actions':'Display');}});}},_changeGroupLinksScope:function(i,j){var t=this;i.links.forEach(function(L,k){t._changeLinkScope(L.content[0],j);});},_changeLinkScope:function(L,i){var j=L.getScope?L:L.getContent()[0];if(this.bLinkPersonalizationSupported&&j.setScope){j.setScope(i);}},registerEvents:function(){var E=sap.ui.getCore().getEventBus();E.subscribe("launchpad","addBookmarkTile",this._createBookmark,this);E.subscribe("launchpad","tabSelected",this.getSegmentTabContentViews,this);E.subscribe("sap.ushell.services.Bookmark","bookmarkTileAdded",this._addBookmarkToModel,this);E.subscribe("sap.ushell.services.Bookmark","catalogTileAdded",this._refreshGroupInModel,this);E.subscribe("sap.ushell.services.Bookmark","bookmarkTileDeleted",this.loadPersonalizedGroups,this);E.subscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);E.subscribe("launchpad","createGroupAt",this._createGroupAt,this);E.subscribe("launchpad","createGroup",this._createGroup,this);E.subscribe("launchpad","deleteGroup",this._deleteGroup,this);E.subscribe("launchpad","resetGroup",this._resetGroup,this);E.subscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);E.subscribe("launchpad","moveGroup",this._moveGroup,this);E.subscribe("launchpad","deleteTile",this._deleteTile,this);E.subscribe("launchpad","movetile",this._moveTile,this);E.subscribe("launchpad","sortableStart",this._sortableStart,this);E.subscribe("launchpad","sortableStop",this._sortableStop,this);E.subscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);E.subscribe("launchpad","convertTile",this._convertTile,this);this.oPageBuilderService.registerTileActionsProvider(this._addFLPActionsToTile.bind(this));},_addFLPActionsToTile:function(t){var L=this.bLinkPersonalizationSupported&&this.oPageBuilderService.isLinkPersonalizationSupported(t),A=[];A.push(this._getMoveTileAction(t));if(L){A.push(this._getConvertTileAction(t));}return A;},_getConvertTileAction:function(t){var E=sap.ui.getCore().getEventBus(),i=this,j=i.oPageBuilderService.getTileType(t);return{text:j==='link'?r.i18n.getText('ConvertToTile'):r.i18n.getText('ConvertToLink'),press:function(k){var p={tile:k,callBack:C.callbackSetFocus.bind(C)};E.publish("launchpad","convertTile",p);}};},_getMoveTileAction:function(t){var i=this;return{text:r.i18n.getText('moveTileDialog_action'),press:function(){i.tileType=i.oPageBuilderService.getTileType(t);i.tileUuid=i.getModelTileById(i.oPageBuilderService.getTileId(t),i.tileType==="link"?"links":"tiles").uuid;var M=i.tileType==="tile"?i.moveTileDialog:i.moveLinkDialog;if(i.tileType==="tile"||i.tileType==="link"){if(!M){M=i.createMoveActionDialog("move"+i.tileType+"Dialog");M.setModel(i.oModel);if(i.tileType==="tile"){i.moveTileDialog=M;}else{i.moveLinkDialog=M;}}else{M.getBinding("items").filter([i.oGroupNotLockedFilter]);}M.open();}}};},_handleTileAppearanceAnimation:function(j){if(!j){return;}var p=["webkit",""];function k(q,t){for(var i=0;i<p.length;i++){t=t.toLowerCase();j.attachBrowserEvent(p[i]+t,function(E){if(E.originalEvent&&E.originalEvent.animationName==="sapUshellTileEntranceAnimation"){j.removeStyleClass("sapUshellTileEntrance");}},false);}}k(j,"AnimationEnd");j.addStyleClass("sapUshellTileEntrance");},destroy:function(){var E=sap.ui.getCore().getEventBus();E.unsubscribe("launchpad","addBookmarkTile",this._createBookmark,this);E.unsubscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);E.unsubscribe("launchpad","createGroupAt",this._createGroupAt,this);E.unsubscribe("launchpad","createGroup",this._createGroup,this);E.unsubscribe("launchpad","deleteGroup",this._deleteGroup,this);E.unsubscribe("launchpad","resetGroup",this._resetGroup,this);E.unsubscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);E.unsubscribe("launchpad","moveGroup",this._moveGroup,this);E.unsubscribe("launchpad","deleteTile",this._deleteTile,this);E.unsubscribe("launchpad","movetile",this._moveTile,this);E.unsubscribe("launchpad","sortableStart",this._sortableStart,this);E.unsubscribe("launchpad","sortableStop",this._sortableStop,this);E.unsubscribe("launchpad","dashboardModelContentLoaded",this._modelLoaded,this);sap.ui.getCore().detachThemeChanged(u.handleTilesVisibility);sap.ushell.components.getHomepageManager=undefined;B.prototype.destroy.apply(this,arguments);},_sortableStart:function(){this.oSortableDeferred=Q.Deferred();},_createBookmark:function(i,E,j){var t=j.group?j.group.object:"";delete j.group;function k(){sap.ushell.Container.getServiceAsync("Bookmark").then(function(p){p.addBookmark(j,t).always(l).done(function(){m.showLocalizedMessage("tile_created_msg");}).fail(function(M){Q.sap.log.error("Failed to add bookmark",M,"sap.ushell.ui.footerbar.AddBookmarkButton");m.showLocalizedError("fail_to_add_tile_msg");});});}h(k);},_addBookmarkToModel:function(i,E,j){var t=j.tile,k,p=j.group,q,v,w,x,y,N,I;if(!j||!t){this.bIsGroupsModelDirty=true;if(!this.bGroupsModelLoadingInProcess){this._handleBookmarkModelUpdate();}return;}if(!p){k=this.getModel().getProperty("/groups");for(I=0;I<k.length;I++){if(k[I].isDefaultGroup===true){p=k[I].object;break;}}}q=this.oPageBuilderService;v=q.getTileType(t);w=this._getTileModel(t,q.isGroupLocked(p),v);this.getTileView(w);x=this._getIndexOfGroupByObject(p);y=this.oModel.getProperty("/groups/"+x);y.tiles.push(w);y.visibilityModes=u.calcVisibilityModes(y,true);N=y.tiles.length;this._updateModelWithTileView(x,N);this.oModel.setProperty("/groups/"+x,y);},_refreshGroupInModel:function(i,E,j){var L=this.oPageBuilderService,k='Failed to refresh group with id:'+j+' in the model',t=this;L.getGroups().fail(Q.sap.log.error(k,null,"sap.ushell.components.HomepageManager")).done(function(p){p.some(function(q){if(L.getGroupId(q)===j){L.getDefaultGroup().done(function(v){var I=j===v.getId()?true:false,w=t._getGroupModel(q,I,false,{isRendered:true}),x=t._getIndexOfGroupByObject(w.object);w.visibilityModes=sap.ushell.utils.calcVisibilityModes(q,true);t.oModel.setProperty("/groups/"+x,w);if(w&&w.tiles){w.tiles.forEach(function(y){t.getTileView(y);});}});return true;}});});},_sortableStop:function(){this.oSortableDeferred.resolve();},_handleAfterSortable:function(i){return function(){var j=Array.prototype.slice.call(arguments);this.oSortableDeferred.done(function(){i.apply(null,j);});}.bind(this);},_createGroup:function(){var i=this._getGroupModel(null),M=this.oModel,j=M.getProperty("/groups");M.setProperty("/groups/"+j.length,i);},_createGroupAt:function(j,E,k){var p=parseInt(k.location,10),q=this.oModel.getProperty("/groups"),t=this._getGroupModel(null,false,p===q.length,k),M=this.oModel,i;t.index=p;q.splice(p,0,t);for(i=0;i<q.length-1;i++){q[i].isLastGroup=false;}for(i=p+1;i<q.length;i++){q[i].index++;}M.setProperty("/groups",q);},_getIndexOfGroupByObject:function(i){var j=null,k=this.oModel.getProperty("/groups"),p=this.oPageBuilderService.getGroupId(i);k.every(function(M,q){var t=this.oPageBuilderService.getGroupId(M.object);if(t===p){j=q;return false;}return true;}.bind(this));return j;},addTileToGroup:function(i,t){var j=i+"/tiles",k=this.oModel.getProperty(i),N=this.oModel.getProperty(j).length,p=this.oPageBuilderService.getTileType(t);var q=this.oModel.getProperty(i+"/isGroupLocked"),v=this.oModel.getProperty("/personalization");k.tiles[N]=this._getTileModel(t,q,p);this.getTileView(k.tiles[N]);k.visibilityModes=u.calcVisibilityModes(k,v);this._updateModelWithTileView(k.index,N);this.oModel.setProperty(i,k);},_getPathOfTile:function(t){var i=this.oModel.getProperty("/groups"),j=null,k=null,p,E=function(q,v){if(v.uuid===t){k=q;return false;}};Q.each(i,function(q,v){Q.each(v.tiles,E);if(k!==null){j=q;p="tiles";return false;}Q.each(v.links,E);if(k!==null){j=q;p="links";return false;}});return j!==null?"/groups/"+j+"/"+p+"/"+k:null;},_moveInArray:function(A,i,j){if(j>=A.length){var k=j-A.length;while((k--)+1){A.push(undefined);}}A.splice(j,0,A.splice(i,1)[0]);},_updateGroupIndices:function(A){var k;for(k=0;k<A.length;k++){A[k].index=k;}},_deleteGroup:function(i,E,j){var t=this,k=j.groupId,p,q=this.oModel.getProperty("/groups"),v=g.getIndexOfGroup(q,k),I=q.length-1===v,w=null,M,x,y;x=I?v-1:v;d.destroyFLPAggregationModel(this.oModel.getProperty("/groups/"+v));w=q.splice(v,1)[0].object;if(I){this.oModel.setProperty("/groups/"+x+"/isLastGroup",I);}p=this.oPageBuilderService.getGroupId(w);M=this.oModel;M.setProperty("/groups",q);this._updateGroupIndices(q);if(x>=0){y=sap.ui.getCore().getEventBus();window.setTimeout(Q.proxy(y.publish,y,"launchpad","scrollToGroup",{groupId:this.oModel.getProperty("/groups")[x].groupId}),200);}function z(){var A=this.oPageBuilderService.getGroupTitle(w);try{this.oPageBuilderService.removeGroup(w).done(function(){o(c.DELETE_GROUP,[A,p]);m.showLocalizedMessage("group_deleted_msg",[A]);}).fail(this._handleAfterSortable(t._resetGroupsOnFailureHelper("fail_to_delete_group_msg"))).always(l);}catch(J){this._resetGroupsOnFailure("fail_to_delete_group_msg");}}h(z.bind(this));},_resetGroup:function(i,E,j){var t=this,k=j.groupId,p=this.oModel.getProperty("/groups"),q=g.getIndexOfGroup(p,k),v=this.oModel.getProperty("/groups/"+q),w,x,y;this.oModel.setProperty("/groups/"+q+"/sortable",false);x=this.oPageBuilderService.getGroupId(v.object);w=this.oPageBuilderService.getGroupTitle(v.object);function z(){try{this.oPageBuilderService.resetGroup(v.object).done(this._handleAfterSortable(Q.proxy(function(k,v,R){o(c.RESET_GROUP,[w,x]);var p=this.oModel.getProperty("/groups"),q=g.getIndexOfGroup(p,k);this._loadGroup(q,R||v.object);m.showLocalizedMessage("group_reset_msg",[v.title]);this.oModel.setProperty("/groups/"+q+"/sortable",true);y=sap.ui.getCore().byId('dashboardGroups').getGroupControlByGroupId(k);if(y.getBindingContext().getObject().links&&y.getBindingContext().getObject().links.length&&!y.getIsGroupLocked()){this._changeGroupLinksScope(y.getBindingContext().getObject(),this.oModel.getProperty("/tileActionModeActive")?sap.m.GenericTileScope.Actions:sap.m.GenericTileScope.Display);}if(y){y.rerender();e.emit("updateGroups",Date.now());u.handleTilesVisibility();}},this,k,v))).fail(this._handleAfterSortable(t._resetGroupsOnFailureHelper("fail_to_reset_group_msg"))).always(l);}catch(A){this._resetGroupsOnFailure("fail_to_reset_group_msg");}}h(z.bind(this));},_moveGroup:function(j,E,k){var p=k.fromIndex,t=k.toIndex,q=this.oModel.getProperty("/groups"),M=this.oModel,A=this.oModel.getProperty("/tileActionModeActive"),v,w,x=this,i,y;if(!A){p=this._adjustFromGroupIndex(p,q);}v=q[p];w=v.groupId;if(!A){t=this._adjustToGroupIndex(t,q,w);}y=q[t].object;this._moveInArray(q,p,t);this._updateGroupIndices(q);for(i=0;i<q.length-1;i++){q[i].isLastGroup=false;}q[q.length-1].isLastGroup=true;M.setProperty("/groups",q);function z(){q=this.oModel.getProperty("/groups");var v=this.oModel.getProperty(g.getModelPathOfGroup(q,w));if(!v.object){return;}try{this._getOriginalGroupIndex(y).done(function(J){this.oPageBuilderService.moveGroup(v.object,J).done(function(){o(x.analyticsConstants.MOVE_GROUP,[v.title,p,t,w]);}).fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_move_group_msg"))).always(l);}.bind(this));}catch(I){this._resetGroupsOnFailure("fail_to_move_group_msg");}}h(z.bind(this));},_adjustToGroupIndex:function(t,j,k){var v=0,I=false,i=0;for(i=0;i<j.length&&v<t;i++){if(j[i].isGroupVisible){if(j[i].groupId===k){I=true;}else{v++;}}}if(I){return i-1;}return i;},_adjustFromGroupIndex:function(j,k){var v=0,i;for(i=0;i<k.length;i++){if(k[i].isGroupVisible){v++;}if(v===j+1){return i;}}return j;},_getOriginalGroupIndexByIndex:function(i){var j=this.oModel.getProperty("/groups"),k=j[i].object;return this._getOriginalGroupIndex(k);},_getOriginalGroupIndex:function(i){var j=this.oPageBuilderService,k=this.oPageBuilderService.getGroups(),p=new Q.Deferred();k.done(function(q){var t=null;Q.each(q,function(v,w){if(j.getGroupId(w)===j.getGroupId(i)){t=v;return false;}});p.resolve(t);});k.fail(function(){m.showLocalizedError("fail_to_load_groups_msg");p.reject();});return p;},_changeGroupTitle:function(i,E,j){var N=j.newTitle,k=this.oModel.getProperty("/groups"),p=j.groupId,q=j.groupId,t=g.getIndexOfGroup(k,p),v=this.oModel.getProperty("/groups/"+t),O=v.title;this.oModel.setProperty("/groups/"+t+"/title",N);function w(){try{if(t===k.length-1){this.oPageBuilderService.addGroup(N,t).done(this._handleAfterSortable(Q.proxy(function(p,z){var k=this.oModel.getProperty("/groups"),t=g.getIndexOfGroup(k,p);this._loadGroup(t,z);o(c.RENAME_GROUP,[O,N,p]);},this,p))).fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_create_group_msg"))).always(l);}else{this._getOriginalGroupIndexByIndex(t+1).done(function(z){this.oPageBuilderService.addGroupAt(N,z).done(this._handleAfterSortable(Q.proxy(function(p,A){var k=this.oModel.getProperty("/groups"),t=g.getIndexOfGroup(k,p);this._loadGroup(t,A);o(c.RENAME_GROUP,[O,N,p]);},this,p))).fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_create_group_msg"))).always(l);}.bind(this));}}catch(y){this._resetGroupsOnFailure("fail_to_create_group_msg");}}function x(){try{this.oPageBuilderService.setGroupTitle(v.object,N).done(function(){q=this.oPageBuilderService.getGroupId(v.object);o(c.RENAME_GROUP,[O,N,q]);}.bind(this)).fail(this._handleAfterSortable(Q.proxy(function(p,O){var k=this.oModel.getProperty("/groups"),z=g.getModelPathOfGroup(k,p);m.showLocalizedError("fail_to__msg");this.oModel.setProperty(z+"/title",O);n();},this,p))).always(l);}catch(y){this._resetGroupsOnFailure("fail_to_rename_group_msg");}}if(!v.object){l.call(this);h(w.bind(this));}else{h(x.bind(this));}},addGroupToModel:function(i){var j=this._getGroupModel(i,false,true),k=this.oModel.getProperty("/groups"),p=k.length,q;if(p>0){k[p-1].isLastGroup=false;}j.index=p;k.push(j);this.oModel.setProperty("/groups/",k);q=new sap.ui.model.Context(this.oModel,"/groups/"+p);return q;},_deleteTile:function(i,E,j){var t=this,k=j.tileId||j.originalTileId,p=this.oModel.getProperty("/groups"),I=j.items||'tiles';Q.each(p,function(q,v){var w=false;Q.each(v[I],function(x,y){if(y.uuid!==k&&y.originalTileId!==k){return true;}d.destroyTileModel(t.oModel.getProperty("/groups/"+q+"/"+I+"/"+x));var z=v[I].splice(x,1)[0],A=t.oPageBuilderService.getTileTitle(z.object),J=t.oPageBuilderService.getCatalogTileId(z.object),K=t.oPageBuilderService.getCatalogTileTitle(z.object),L=t.oPageBuilderService.getTileId(z.object),M=t.oModel.getProperty("/personalization");v.visibilityModes=u.calcVisibilityModes(v,M);t.oModel.setProperty("/groups/"+q,v);function N(){try{t.oPageBuilderService.removeTile(v.object,z.object).done(t._handleAfterSortable(function(){m.showLocalizedMessage("tile_deleted_msg",[A,v.title]);o(c.DELETE_TILE,[A||L,J,K,v.title]);})).fail(t._handleAfterSortable(t._resetGroupsOnFailureHelper("fail_to_remove_tile_msg"))).always(l);}catch(O){t._resetGroupsOnFailure("fail_to_remove_tile_msg");}}h(N);u.handleTilesVisibility();w=true;return false;});return!w;});},deleteTilesFromGroup:function(i,R){var j=this.oModel.getProperty("/groups"),k=g.getIndexOfGroup(j,i),p=this.oModel.getProperty("/groups/"+k),q=[];["tiles","links"].forEach(function(A){q=p[A].filter(function(t){if(R.indexOf(t.uuid)<0){return true;}return false;});p[A]=q;});p.visibilityModes=u.calcVisibilityModes(p,true);this.oModel.setProperty("/groups/"+k,p);},_getGroupIndex:function(i){var j=this.oModel.getProperty("/groups"),k=this._getNewGroupInfo(j,i);if(k){return k.newGroupIndex;}},_convertTile:function(i,E,j){var k=j.tile?j.tile:j,p=j.srcGroupId?this._getGroupIndex(j.srcGroupId):undefined,q=j.srcGroupId?this.oModel.getProperty("/groups/"+p):k.getParent().getBindingContext().getObject(),t=k.getBindingContext().sPath.split("/"),v=k.getBindingContext().getObject(),w=t[t.length-2],x=v.uuid,y=parseInt(t[t.length-1],10),z=j.toIndex!==undefined?j.toIndex:undefined,R,A=this.oModel.getProperty("/tileActionModeActive"),I=j.toGroupId?this._getGroupIndex(j.toGroupId):q.index,J=j.toGroupId?this.oModel.getProperty("/groups/"+I):q;var K=this._getIndexForConvert(w,y,z,q,J),L={"tileIndex":y,"groupIndex":p,"group":q};function M(){try{R=this.oPageBuilderService.moveTile(v.object,K.tileIndex,K.newTileIndex,q.object,J.object,w==="links"?"tile":"link");}catch(N){this._resetGroupsOnFailure("fail_to_move_tile_msg");return;}v.tileIsBeingMoved=true;R.done(this._handleAfterSortable(Q.proxy(function(x,O){var U=this._getPathOfTile(x);if(U){l();this.oPageBuilderService.getTileView(O).done(function(V){if(w==="tiles"){this._attachLinkPressHandlers(V);this._addDraggableAttribute(V);this._changeLinkScope(V,A&&w!=='links'?'Actions':'Display');}var W={"tileIndex":z,"groupIndex":I,"group":J},X={"tile":v,"view":V,"type":w,"tileObj":O};this.replaceTileViewAfterConvert(L,W,X);e.emit("updateGroups",Date.now());u.handleTilesVisibility();if(j.callBack){j.callBack(V);}}.bind(this));}},this,x)));R.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_move_tile_msg")));}h(M.bind(this));},replaceTileViewAfterConvert:function(i,j,t){var k=t.tile,p=k.content;k.tileIsBeingMoved=false;k.content=[t.view];k.object=t.tileObj;k.originalTileId=this.oPageBuilderService.getTileId(t.tileObj);i.group[t.type].splice(i.tileIndex,1);if(j.tileIndex!==undefined){j.group[t.type==="tiles"?"links":"tiles"].splice(j.tileIndex,0,k);}else{j.group[t.type==="tiles"?"links":"tiles"].push(k);}this.oModel.setProperty("/groups/"+j.groupIndex,j.group);this.oModel.setProperty("/groups/"+i.groupIndex,i.group);if(t.type==="links"){this._handleTileAppearanceAnimation(k.content[0].getParent());}else{this._handleTileAppearanceAnimation(k.content[0]);}if(p&&p[0]){p[0].destroy();}},_getIndexForConvert:function(t,i,j,k,p){var q;if(t==="tiles"){if(j!==undefined){q=p[t].length+j;}else{q=p[t].length+p["links"].length;}if(k.groupId===p.groupId){q--;}}else{q=j?j:k['tiles'].length;i+=k["tiles"].length;}return{"tileIndex":i,"newTileIndex":q};},_getIndexForMove:function(t,i,j,k,p){var q;if(t==="tiles"){q=j!==undefined?j:k[t].length;}else{if(j!==undefined){q=k["tiles"].length+j;}else{q=k["tiles"].length+k["links"].length;}i+=p["tiles"].length;}return{"tileIndex":i,"newTileIndex":q};},_getTileInfo:function(i,t,I){var j;Q.each(i,function(k,p){var q=false;Q.each(p[I],function(v,w){if(w.uuid===t){j={"oTile":w,"tileIndex":v,"oGroup":p,"groupIndex":k};q=true;return false;}});return!q;});return j;},_getNewGroupInfo:function(i,N){var j;Q.each(i,function(k,t){if(t.groupId===N){j={"oNewGroup":t,"newGroupIndex":k};}});return j;},_moveTile:function(i,E,j){var k=j.toIndex,N=j.toGroupId,t=j.sTileId,p=j.source,q=j.sTileType==="tiles"||j.sTileType==="tile"?"tile":"link",v=j.sToItems,w=j.sFromItems,x=this.oPageBuilderService,A=this.oModel.getProperty("/tileActionModeActive"),y=this.oModel.getProperty("/groups"),z,I,R,J,K,L,M={};K=this._getTileInfo(y,t,w);L=this._getNewGroupInfo(y,N);if(K.oGroup.groupId==L.oNewGroup.groupId&&(p==="movetileDialog"||k===null||p==="movelinkDialog")){return;}if(q==="link"){K.oTile.content[0].addStyleClass("sapUshellZeroOpacity");}if(q==="tile"&&v==='tiles'){if(k&&k>L.oNewGroup[v].length){k=L.oNewGroup[v].length;}}if(K.oGroup.groupId===N&&v===w){if(k===null||k===undefined){K.oGroup[v].splice(K.tileIndex,1);k=K.oGroup[v].length;K.oGroup[v].push(K.oTile);}else{k=this._adjustTileIndex(k,K.oTile,K.oGroup,v);this._moveInArray(K.oGroup[v],K.tileIndex,k);}this.oModel.setProperty("/groups/"+K.groupIndex+"/"+v,K.oGroup[v]);}else{J=this.oModel.getProperty("/personalization");K.oGroup[w].splice(K.tileIndex,1);K.oGroup.visibilityModes=u.calcVisibilityModes(K.oGroup,J);this.oModel.setProperty("/groups/"+K.groupIndex+"/"+w,K.oGroup[w]);if(k===null||k===undefined){k=L.oNewGroup[v].length;L.oNewGroup[v].push(K.oTile);}else{k=this._adjustTileIndex(k,K.oTile,L.oNewGroup,v);L.oNewGroup[v].splice(k,0,K.oTile);}L.oNewGroup.visibilityModes=u.calcVisibilityModes(L.oNewGroup,J);this.oModel.setProperty("/groups/"+L.newGroupIndex+"/"+v,L.oNewGroup[v]);}e.emit("updateGroups",Date.now());u.handleTilesVisibility();z=this.oModel.getProperty("/groups/"+K.groupIndex);I=this.oModel.getProperty("/groups/"+L.newGroupIndex);M=this._getIndexForMove(w,K.tileIndex,k,L.oNewGroup,z);function O(){try{R=this.oPageBuilderService.moveTile(K.oTile.object,M.tileIndex,M.newTileIndex,z.object,I.object,q);}catch(U){this._resetGroupsOnFailure("fail_to_move_tile_msg");return;}K.oTile.tileIsBeingMoved=true;R.done(this._handleAfterSortable(Q.proxy(function(t,V){var W,X=[x.getTileTitle(K.oTile.object),x.getGroupTitle(z.object),x.getGroupTitle(I.object),t];o(c.MOVE_TILE,X);W=this._getPathOfTile(t);if(W){this.oModel.setProperty(W+"/object",V);this.oModel.setProperty(W+"/originalTileId",this.oPageBuilderService.getTileId(V));l();this.oPageBuilderService.getTileView(V).done(function(Y){var Z=this.oModel.getProperty(W+"/content");if(v==='links'){this._changeLinkScope(Y,A?"Actions":"Display");this._attachLinkPressHandlers(Y);this._addDraggableAttribute(Y);this._handleTileAppearanceAnimation(Y);K.oTile.content=[Y];this.oModel.setProperty(W,Q.extend({},K.oTile));this.oModel.setProperty("/groups/"+L.newGroupIndex+"/"+v,this.oModel.getProperty("/groups/"+L.newGroupIndex+"/"+v));}else{this.oModel.setProperty(W+"/content",[Y]);}if(Z&&Z[0]){var $=Y.onAfterRendering;Y.onAfterRendering=function(){$.apply(this);Z[0].destroy();Y.onAfterRendering=$;};}this.oModel.setProperty(W+"/tileIsBeingMoved",false);if(j.callBack){j.callBack(Y);}}.bind(this));}},this,t)));R.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_move_tile_msg")));}h(O.bind(this));},_adjustTileIndex:function(j,t,k,I){var v=0,p=false,i=0;for(i=0;i<k[I].length&&v<j;i++){if(k[I][i].isTileIntentSupported){if(k[I][i]===t){p=true;}else{v++;}}}if(p){return i-1;}return i;},getModel:function(){return this.oModel;},getDashboardView:function(){return this.oDashboardView;},setDashboardView:function(i){this.oDashboardView=i;return this;},updateSettings:function(i){this.oModel=i.model||this.oModel;this.oConfig=i.config||this.oConfig;this.oRouter=i.router||this.oRouter;this.oDashboardView=i.view||this.oDashboardView;},_getIsAppBox:function(i){if(!sap.ushell.Container){return false;}var j=this.oPageBuilderService,I=!!(j.getCatalogTileTargetURL(i)&&(j.getCatalogTilePreviewTitle(i)||j.getCatalogTilePreviewSubtitle(i)));return I;},_resetGroupsOnFailureHelper:function(M){var t=this;return function(i){m.showLocalizedError(M);n();window.setTimeout(function(){t.bStartLoadRemainSegment=false;t.loadGroupsFromArray(i);});};},_resetGroupsOnFailure:function(M,p){n();m.showLocalizedError(M,p);this.loadPersonalizedGroups();this.oModel.updateBindings(true);},resetGroupsOnFailure:function(){this._resetGroupsOnFailure.apply(this,arguments);},_bindSegment:function(i,j){var k,p,q,t;for(k=0;k<j.length;k++){q=j[k];t=q.index;p=i[t];if(p){p.isRendered=true;p.tiles=p.tiles.concat(q.tiles);p.links=p.links.concat(q.links);}}return i;},createGroupsModelFrame:function(i,p){var j,k=[],O,q;q=function(t){var v=Q.extend({},t);v.tiles=[];v.pendingLinks=[];v.links=[];return v;};for(j=0;j<i.length;j++){O=i[j];k[j]=q(O);k[j].isRendered=false;k[j].visibilityModes=u.calcVisibilityModes(O,p);}return k;},_splitGroups:function(i,j){var k,t=[],p=0,I=this.oModel.getProperty("/homePageGroupDisplay")==='tabs',q=0,v;var w=500;for(k=0;k<i.length;k++){v=i[k];t.push(v);if(!this.segmentsStore.length){p+=this.PagingManager.getGroupHeight(v,j===k);}else{q+=v.tiles.length+v.links.length;}if(I&&!this.segmentsStore.length&&p>0){t.loadTilesView=true;this.segmentsStore.push(t);t=[];p=0;}if(p>=1||q>=w){this.segmentsStore.push(t);t=[];p=0;q=0;}}if(t.length){this.segmentsStore.push(t);}},_processSegment:function(i){var j=this.segmentsStore.shift();if(!j){return i;}if(this.isBlindLoading()===false){if(this.oModel.getProperty("/homePageGroupDisplay")!=='tabs'||j.loadTilesView){this.getSegmentContentViews(j);}}i=this._bindSegment(i,j);return i;},getSegmentContentViews:function(i){var j,k,p,q;for(j=0;j<i.length;j++){p=i[j];for(k=0;k<p.tiles.length;k++){q=p.tiles[k];if(q.isTileIntentSupported){this.getTileView(q);}}for(k=0;k<p.links.length;k++){q=p.links[k];if(q.isTileIntentSupported){this.getTileView(q,p.index);}}}this.bIsFirstSegmentViewLoaded=true;},getSegmentTabContentViews:function(i,E,p){var j,k,q=p.iSelectedGroup,t;t=this.oModel.getProperty("/groups/"+q);for(j=0;j<t.tiles.length;j++){k=t.tiles[j];if(k.isTileIntentSupported){this.getTileView(k);}}for(j=0;j<t.links.length;j++){k=t.links[j];if(k.isTileIntentSupported){this.getTileView(k,q);}}},_handleBookmarkModelUpdate:function(){this.bIsGroupsModelDirty=false;this.bGroupsModelLoadingInProcess=true;this.loadPersonalizedGroups();},_modelLoaded:function(){this.bGroupsModelLoadingInProcess=false;if(this.bIsGroupsModelDirty){this._handleBookmarkModelUpdate();}},handleFirstSegmentLoaded:function(){var i=this.oModel.getProperty("/groups");if(this.aGroupsFrame){Array.prototype.push.apply(i,this.aGroupsFrame);this.aGroupsFrame=null;}this._initializeAnchorNavigationBar();if(!this.bStartLoadRemainSegment){this._processRemainingSegments();}},_initializeAnchorNavigationBar:function(){var A,i=sap.ushell.components.getHomepageManager().getDashboardView();A=i._getAnchorItemTemplate();this.oDashboardView.oAnchorNavigationBar.bindAggregation("groups",{path:"/groups",template:A});},_processRemainingSegments:function(){var U;if(this.segmentsStore.length>0){window.setTimeout(function(){U=this._processSegment(this.oModel.getProperty('/groups'));this.oModel.setProperty('/groups',U);this.bIsFirstSegment=false;this._processRemainingSegments();}.bind(this),0);}else{this.bIsGroupsModelLoading=false;this._updateModelWithTileView(0,0);u.handleTilesVisibility();sap.ui.getCore().getEventBus().publish("launchpad","dashboardModelContentLoaded");e.emit("updateGroups",Date.now());}},loadGroupsFromArray:function(j){if(this.bIsGroupsModelLoading){Q.sap.log.info("Skip set the group model, because the group model is still loading");return;}j=(j||[]).slice();this.bIsGroupsModelLoading=true;var t=this;Q.sap.flpmeasure.end(0,"Service: Get Data for Dashboard");Q.sap.flpmeasure.start(0,"Process & render the first segment/tiles",4);Q.sap.measure.start("FLP:DashboardManager.loadGroupsFromArray","loadGroupsFromArray","FLP");Q.sap.measure.start("FLP:DashboardManager.getDefaultGroup","getDefaultGroup","FLP");this.oPageBuilderService.getDefaultGroup().done(function(k){Q.sap.measure.end("FLP:DashboardManager.getDefaultGroup");if(j.length==0&&k==undefined){return;}var i=0,p=[],q,v=j.indexOf(k),w,N,z=[],A,E,I,J,K,L=0,M=0,O,R,U=null,V,W,X=[];j.splice(v,1);while(i<j.length){A=j[i];E=t.oPageBuilderService.isGroupLocked(A);if(E){p.push(A);j.splice(i,1);}else{i++;}}w=p.length;if(!t.oModel.getProperty('/disableSortedLockedGroups')){p.sort(function(x,y){var $=t.oPageBuilderService.getGroupTitle(x).toLowerCase(),a1=t.oPageBuilderService.getGroupTitle(y).toLowerCase();return $<a1?-1:1;});}q=p;q.push(k);q.push.apply(q,j);j=q;I=j.length;K=t.oModel.getProperty("/groups/length");for(i=I;i<K;++i){d.destroyFLPAggregationModel(t.oModel.getProperty("/groups/"+i));}t.oModel.setProperty("/iSelectedGroup",J);if(!t.PagingManager){var Y=Q("#dashboardGroups").width();if(!Y){Y=window.innerWidth;if(Y>=1024&&t.oModel.getProperty('/enableNotificationsPreview')){Y-=27*16;}}var Z=Q('#sapUshellDashboardPage-cont').height();if(Z<100){Z=window.innerHeight;}t.PagingManager=new P('dashboardPaging',{supportedElements:{tile:{className:'sapUshellTile'},link:{className:'sapUshellLinkTile'}},containerHeight:Z,containerWidth:Y});}Q.sap.measure.start("FLP:DashboardManager._getGroupModel","_getGroupModel","FLP");for(i=0;i<I;++i){N=t._getGroupModel(j[i],i===w,i===I-1);N.index=i;if(N.isGroupVisible){L+=N.tiles.length;}z.push(N);}t.bIsScrollModeAccordingKPI=L>t.iMinNumOfTilesForBlindLoading;Q.sap.measure.end("FLP:DashboardManager._getGroupModel");t.aGroupsFrame=t.createGroupsModelFrame(z,t.oModel.getProperty("/personalization"));for(var i=0;i<t.aGroupsFrame.length;i++){if(t.aGroupsFrame[i].isGroupVisible&&t.aGroupsFrame[i].visibilityModes[0]){if(U===null){U=i;t.aGroupsFrame[i]["isGroupSelected"]=true;t.oModel.setProperty("/iSelectedGroup",i);}M++;if(M>1){t.aGroupsFrame[U]["showGroupHeader"]=false;break;}}}t._splitGroups(z,U);R=t.segmentsStore[0].length;O=t.aGroupsFrame.splice(0,R);Q.sap.measure.start("FLP:DashboardManager._processSegment","_processSegment","FLP");X=t._processSegment(O);X["indexOfDefaultGroup"]=w;if(t.oModel.getProperty("/homePageGroupDisplay")==='tabs'){V=t.getDashboardView();if(V){W=V.oDashboardGroupsBox;W.getBinding('groups').filter([V.oFilterSelectedGroup]);}}Q.sap.measure.end("FLP:DashboardManager._processSegment");t.oModel.setProperty('/groups',X);t.aGroupModel=X;if(t.oDashboardView){e.once("firstSegmentCompleteLoaded").do(t.handleFirstSegmentLoaded.bind(t));}else{setTimeout(function(){Array.prototype.push.apply(t.aGroupModel,t.aGroupsFrame);t.aGroupsFrame=null;t.bStartLoadRemainSegment=true;t._processRemainingSegments();},0);}if(t.bIsFirstSegmentViewLoaded){e.emit("firstSegmentCompleteLoaded",true);}Q.sap.measure.end("FLP:DashboardManager.loadGroupsFromArray");Q.sap.flpmeasure.end(0,"Process & render the first segment/tiles");}).fail(t._resetGroupsOnFailureHelper("fail_to_get_default_group_msg"));},getPreparedGroupModel:function(){return this.aGroupModel;},_loadGroup:function(i,j){var t=this,k="/groups/"+i,p=t.oModel.getProperty("/groups/indexOfDefaultGroup"),I=t.oModel.getProperty(k).isLastGroup,O,N;d.destroyFLPAggregationModel(t.oModel.getProperty(k));O=this.oModel.getProperty(k+"/groupId");N=this._getGroupModel(j,i===p,I,undefined);if(O){N.groupId=O;}N.index=i;N.isRendered=true;this.oModel.setProperty(k,N);},_getGroupModel:function(j,k,L,p){var q=this.oPageBuilderService,t=(j&&q.getGroupTiles(j))||[],M=[],v=[],i,w,x=this.getModel();w=x.getProperty("/personalization");var y=j&&q.isGroupLocked(j)?true:false;for(i=0;i<t.length;++i){var z=t[i],A=q.getTileType(z).toLowerCase();if(A==="tile"){M.push(this._getTileModel(t[i],y,A));}else if(A==="link"){v.push(this._getTileModel(t[i],y,A));}else{Q.sap.log.error("Unknown tile type: '"+A+"'",undefined,"sap.ushell.components.HomepageManager");}}return{title:(k&&m.getLocalizedText("my_group"))||(j&&q.getGroupTitle(j))||(p&&p.title)||"",object:j,groupId:Q.sap.uid(),links:v,pendingLinks:[],tiles:M,isDefaultGroup:!!k,editMode:!j,isGroupLocked:y,visibilityModes:[true,true],removable:!j||q.isGroupRemovable(j),sortable:w,isGroupVisible:!j||q.isGroupVisible(j),isEnabled:!k,isLastGroup:L||false,isRendered:!!(p&&p.isRendered),isGroupSelected:false};},_hasPendingLinks:function(M){for(var i=0;i<M.length;i++){if(M[i].content[0]===undefined){return true;}}return false;},_addModelToTileViewUpdateQueue:function(t,i){this.tileViewUpdateQueue.push({uuid:t,view:i});},_updateModelWithTileView:function(i,j){var t=this;if(this.tileViewUpdateTimeoutID){clearTimeout(this.tileViewUpdateTimeoutID);}this.tileViewUpdateTimeoutID=window.setTimeout(function(){t.tileViewUpdateTimeoutID=undefined;t.oSortableDeferred.done(function(){t._updateModelWithTilesViews(i,j);});},50);},_updateGroupModelWithTilesViews:function(t,i,k,p){var v,U,w,L,x=i||0;for(var j=x;j<t.length;j=j+1){v=t[j];for(var q=0;q<this.tileViewUpdateQueue.length;q++){U=this.tileViewUpdateQueue[q];if(v.uuid==U.uuid){k.push(q);if(U.view){if(p){v.content=[U.view];}else{v.content[0].destroy();v.content=[U.view];}this.oDashboardLoadingManager.setTileResolved(v);w=this.oPageBuilderService.getTileSize(v.object);L=((w!==null)&&(w==="1x2"))||false;if(v['long']!==L){v['long']=L;}}else{v.content[0].setState("Failed");}break;}}}},_updateModelWithTilesViews:function(j,k){var p=this.oModel.getProperty("/groups"),q=j||0,t=[];if(!p||this.tileViewUpdateQueue.length===0){return;}for(var i=q;i<p.length;i=i+1){this._updateGroupModelWithTilesViews(p[i].tiles,k,t);if(p[i].links){this._updateGroupModelWithTilesViews(p[i].links,k,t,true);if(p[i].pendingLinks.length>0){if(!p[i].links){p[i].links=[];}p[i].links=p[i].links.concat(p[i].pendingLinks);p[i].pendingLinks=[];}}}var v=[],w;for(w=0;w<this.tileViewUpdateQueue.length;w++){if(t.indexOf(w)===-1){v.push(this.tileViewUpdateQueue[w]);}}this.tileViewUpdateQueue=v;this.oModel.setProperty("/groups",p);},getModelTileById:function(i,I){var j=this.oModel.getProperty('/groups'),M,k=false;j.every(function(p){p[I].every(function(t){if(t.uuid===i||t.originalTileId===i){M=t;k=true;}return!k;});return!k;});return M;},_addDraggableAttribute:function(v){if(this.isIeHtml5DnD()){v.addEventDelegate({onAfterRendering:function(){this.$().attr("draggable","true");}.bind(v)});}},_attachLinkPressHandlers:function(v){var E=sap.ui.getCore().getEventBus(),t=v.attachPress?v:v.getContent()[0];t.attachPress(function(i){var j=v.getBindingContext().getObject().tileIsBeingMoved;if(!j&&this.getScope&&this.getScope()==="Actions"){switch(i.getParameters().action){case"Press":var k=v.getState?v.getState():"";if(k!=="Failed"){sap.ushell.components.homepage.ActionMode._openActionsMenu(i,v);}break;case"Remove":var p=v.getBindingContext().getObject().uuid;E.publish("launchpad","deleteTile",{tileId:p,items:'links'});break;}}else{E.publish("launchpad","dashboardTileLinkClick");}});},handleDisplayModeChange:function(N){this.oModel.setProperty("/homePageGroupDisplay",N);switch(N){case"scroll":this._handleDisplayModeChangeToScroll();break;case"tabs":this._handleDisplayModeChangeToTabs();break;}},_handleDisplayModeChangeToTabs:function(){var j=this.oModel.getProperty("/iSelectedGroup"),k=this.oModel.getProperty("/groups");if(k.length>0){for(var i=0;i<k.length;i++){this.oModel.setProperty("/groups/"+i+"/isGroupSelected",false);}this.oModel.setProperty("/groups/"+j+"/isGroupSelected",true);sap.ui.getCore().getEventBus().publish("launchpad","beforeAndAfterContentRemoved");}},_handleDisplayModeChangeToScroll:function(){if(this.isBlindLoading()){return;}var k=this.oModel.getProperty("/groups"),p,t,q,L=[],i,j;for(i=0;i<k.length;i++){p=k[i];t=p.tiles||[];for(j=0;j<t.length;j++){q=t[j];if(q.content.length===0){this.getTileView(q,i);}}L=p.links||[];for(j=0;j<L.length;j++){this.getTileView(L[j],i);}}this.oModel.refresh(false);var v=this.oModel.getProperty("/iSelectedGroup");if(v){setTimeout(function(){sap.ui.getCore().getEventBus().publish("launchpad","scrollToGroup",{groupId:k[v].groupId});},100);}},getTileViewsFromArray:function(R){var t=this;if(R.length===0){return;}R.forEach(function(i){t.getTileView(i.oTile,i.iGroup);});this.oModel.refresh(false);if(this.bIsFirstSegmentViewLoaded===false){this.bIsFirstSegmentViewLoaded=true;e.emit("firstSegmentCompleteLoaded",true);}},getTileView:function(t,i){var j,k=this,p=this.oPageBuilderService,M,q,v,U=this._addModelToTileViewUpdateQueue,w,N=false,x=t.uuid,y=false;var z=Q.sap.flpmeasure.startFunc(0,"Service + model binding and rendering for all tile-Views",5,"getTileView",t.object);if(k.oDashboardLoadingManager.isTileViewRequestIssued(t)){return;}this.oDashboardLoadingManager.setTileInProgress(t);p.setTileVisible(t.object,false);j=p.getTileView(t.object);if(j.state()==="resolved"){y=true;}j.done(function(V){if(V.oController&&V.oController.navigationTargetUrl&&!t.isCustomTile){t.target=V.oController.navigationTargetUrl;}w=V;if(w.getComponentInstance){Q.sap.measure.average("FLP:getComponentInstance","get info for navMode","FLP1");var A=w.getComponentInstance().getComponentData();if(A&&A.properties){t.navigationMode=A.properties.navigationMode;}Q.sap.measure.end("FLP:getComponentInstance");}k.oDashboardLoadingManager.setTileResolved(t);M=V.getMode?V.getMode():"ContentMode";if(k.bLinkPersonalizationSupported&&M==="LineMode"){k._attachLinkPressHandlers(w);k._addDraggableAttribute(w);if(i!=undefined){q=k.oModel.getProperty("/groups");if(q[i]){t.content=[w];v=k.oModel.getProperty("/groups/"+i+"/links");k.oModel.setProperty("/groups/"+i+"/links",[]);k.oModel.setProperty("/groups/"+i+"/links",v);}}}else if(k.isBlindLoading()){if(t.content.length>0){t.content[0].destroy();}t.content=[w];if(i!=undefined&&!y){k.oModel.refresh(false);}}if(k.isBlindLoading()){var E=k.oPageBuilderService.getTileSize(t.object);var L=E==="1x2";if(t['long']!==L){t['long']=L;}}else if(M==="LineMode"){t.content=[w];if(N){v=k.oModel.getProperty("/groups/"+i+"/links");k.oModel.setProperty("/groups/"+i+"/links",[]);k.oModel.setProperty("/groups/"+i+"/links",v);}}else if(t.content.length===0){t.content=[w];}else{U.apply(k,[x,w]);k._updateModelWithTileView(0,0);}Q.sap.flpmeasure.endFunc(0,"Service + model binding and rendering for all tile-Views",z);});j.fail(function(){if(k.sTileType==="link"&&k.bLinkPersonalizationSupported){var A=k.oPageBuilderService.getCatalogTilePreviewSubtitle(t.object);var E=k.oPageBuilderService.getCatalogTilePreviewTitle(t.object);if(!E&&!A){E=r.i18n.getText("cannotLoadLinkInformation");}w=new G({mode:"LineMode",state:"Failed",header:E,subheader:A});k._attachLinkPressHandlers(w);}else{w=new T({state:"Failed"});}t.content=[w];});if(!w){if(p.getTileType(t.object)==="link"){N=true;w=new G({mode:"LineMode"});}else{w=new T();}t.content=[w];}},_getTileModel:function(t,i,j){var k=this.oPageBuilderService,p=Q.sap.uid(),q;this.sTileType=j;var v=k.getTileSize(t);var L=[];if(j==="link"){L=[new G({mode:"LineMode"})];}q={"isCustomTile":!this._getIsAppBox(t),"object":t,"originalTileId":k.getTileId(t),"uuid":p,"tileCatalogId":encodeURIComponent(k.getCatalogTileId(t)),"content":L,"long":v==="1x2","target":k.getTileTarget(t)||"","debugInfo":k.getTileDebugInfo(t),"isTileIntentSupported":k.isTileIntentSupported(t),"rgba":"","isLocked":i,"showActionsIcon":this.oModel.getProperty("/enableTileActionsIcon")||false,"navigationMode":this.navigationMode};return q;},isIeHtml5DnD:function(){return(D.browser.msie||D.browser.edge)&&(D.system.combi||D.system.tablet);},loadPersonalizedGroups:function(){Q.sap.flpmeasure.start(0,"Service: Get Data for Dashboard",4);Q.sap.measure.start("FLP:DashboardManager.loadPersonalizedGroups","loadPersonalizedGroups","FLP");return this.oPageBuilderService.getGroups().done(function(i){Q.sap.measure.end("FLP:DashboardManager.loadPersonalizedGroups");this.loadGroupsFromArray(i);}.bind(this)).fail(function(){m.showLocalizedError("fail_to_load_groups_msg");});}});return H;});
sap.ui.predefine('sap/ushell/components/SharedComponentUtils',["sap/ushell/Config","sap/ushell/UserActivityLog","sap/ushell/resources","sap/ushell/components/homepage/ComponentKeysHandler","sap/ushell/renderers/fiori2/AccessKeysHandler","sap/ushell/bootstrap/common/common.load.model","sap/base/Log"],function(C,U,r,a,A,m,L){"use strict";var s={PERS_KEY:"flp.settings.FlpSettings",bFlpSettingsAdded:false,toggleUserActivityLog:function(){C.on("/core/extension/SupportTicket").do(function(c){if(c){U.activate();}else{U.deactivate();}});},initializeAccessKeys:function(R){var t,S;if(sap.ui.Device.system.phone){return;}a.init(m.getModel(),R);A.registerAppKeysHandler(a.handleFocusOnMe);t=r.i18n;S=[];S.push({text:"Alt+H",description:t.getText("hotkeyHomePage")});if(m.getModel().getProperty("/personalization")){S.push({text:"Alt+A",description:t.getText("hotkeyFocusOnAppFinderButton")});S.push({text:"Ctrl+Enter",description:t.getText("hotkeySaveEditing")});}A.registerAppShortcuts(a.handleShortcuts,S);},getEffectiveHomepageSetting:function(c,b){var p,d=new jQuery.Deferred(),e=C.last(b)!==false,i=c.split("/").reverse()[0];if(e){p=this._getPersonalization(i);}else{p=jQuery.Deferred().resolve();}p.done(function(v){v=v||C.last(c);if(v!==undefined){C.emit(c,v);}d.resolve(v);});p.fail(function(){var v=C.last(c);d.resolve(v);});return d;},_getPersonalization:function(i){var p=s.getPersonalizer(i,sap.ushell.Container.getRenderer("fiori2"));var P=p.getPersData();P.fail(function(e){L.error("Failed to load "+i+" from the personalization",e,"sap.ushell.components.flp.settings.FlpSettings");});return P;},getPersonalizer:function(i,c){var p=sap.ushell.Container.getService("Personalization");var o=sap.ui.core.Component.getOwnerComponentFor(c);var S={keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true};var P={container:this.PERS_KEY,item:i};return p.getPersonalizer(P,S,o);}};return s;});
sap.ui.predefine('sap/ushell/components/_HomepageManager/DashboardLoadingManager',["sap/ui/base/Object"],function(B){"use strict";var D=B.extend("sap.ushell.components._HomepageManager.DashboardLoadingManager",{metadata:{publicMethods:[]},constructor:function(i,s){var e=sap.ui.getCore().getEventBus();this.currentVisibleTiles=[];this.aRefreshTiles=[];this.oBusyIndicatorTiles={};this.oActiveDynamicTiles={};this.oResolvedTiles={};this.oInProgressTiles={};this.oDashboardManager=s.oDashboardManager;e.subscribe("launchpad","visibleTilesChanged",this._onVisibilityChanged,this);e.subscribe("launchpad","dashboardTileClick",this._addTileToRefreshArray,this);e.subscribe("launchpad","refresTiles",this._refreshTiles,this);e.subscribe("launchpad","setTilesNoVisibility",this._setTilesNoVisibility,this);e.subscribe("launchpad","onHiddenTab",this._setTilesNoVisibility,this);},_onVisibilityChanged:function(c,e,v){this.currentVisibleTiles=v;if(this.oDashboardManager.isBlindLoading()){this.manageTilesView();}this.manageBusyIndicatorTiles();this.manageDynamicTiles();},manageDynamicTiles:function(){var v;jQuery.sap.measure.average("DashboardLoadingManagerActiveDynamicTile","Manage Active Dynamic Tiles","FLP_SHELL");var l=sap.ushell.Container.getService("LaunchPage"),k,V,t,a,n={},c=jQuery.extend(true,{},{},this.oActiveDynamicTiles);for(var i=0;i<this.currentVisibleTiles.length;i++){var o=this.currentVisibleTiles[i];if(!o.bIsExtanded){delete c[o.oTile.uuid];}}for(k in c){t=this.oActiveDynamicTiles[k];a=t.object;l.setTileVisible(a,false);}for(V=0;V<this.currentVisibleTiles.length;V++){v=this.currentVisibleTiles[V];if(!v.bIsExtanded){t=v.oTile;a=t.object;if(this.oActiveDynamicTiles[t.uuid]===undefined&&a){l.setTileVisible(a,true);}n[t.uuid]=t;}}this.oActiveDynamicTiles=n;jQuery.sap.measure.end("DashboardLoadingManagerActiveDynamicTile");},isTileViewRequestIssued:function(t){if(this.oInProgressTiles[t.uuid]==undefined&&this.oResolvedTiles[t.uuid]==undefined){return false;}else{return true;}},manageBusyIndicatorTiles:function(){jQuery.sap.measure.average("DashboardLoadingManagerBusyIndicators","Manage Busy Indicators on Tiles","FLP_SHELL");var v,c,C,I,r=[],b,a=[];for(c in this.oBusyIndicatorTiles){b=true;I=this.oBusyIndicatorTiles[c];if(this.oResolvedTiles[c]===undefined){for(var i=0;i<this.currentVisibleTiles.length;i++){if(this.currentVisibleTiles[i].oTile.uuid===I.oTile.uuid){b=false;break;}}if(b){r.push(I);}}}for(v=0;v<this.currentVisibleTiles.length;v++){C=this.currentVisibleTiles[v];if(this.oBusyIndicatorTiles[C.oTile.uuid]===undefined&&this.oResolvedTiles[C.oTile.uuid]===undefined){a.push(C);}}for(v=0;v<r.length;v++){C=r[v];if(C.oTile.content[0]&&C.oTile.content[0].setState){if(C.oTile.content[0].getState){if(C.oTile.content[0].getState()!=="Failed"){C.oTile.content[0].setState();}}else{C.oTile.content[0].setState();}}delete this.oBusyIndicatorTiles[C.oTile.uuid];}for(v=0;v<a.length;v++){C=a[v];if(C.oTile.content[0]&&C.oTile.content[0].setState){if(C.oTile.content[0].getState){if(C.oTile.content[0].getState()!=="Failed"){C.oTile.content[0].setState("Loading");}}else{C.oTile.content[0].setState("Loading");}}this.oBusyIndicatorTiles[C.oTile.uuid]=C;}jQuery.sap.measure.end("DashboardLoadingManagerBusyIndicators");},setTileInProgress:function(t){this.oInProgressTiles[t.uuid]=t;},setTileResolved:function(t){delete this.oInProgressTiles[t.uuid];this.oResolvedTiles[t.uuid]=t;},_addTileToRefreshArray:function(c,e,d){this.aRefreshTiles.push(d.uuid);},_refreshTiles:function(){var l=sap.ushell.Container.getService("LaunchPage");for(var v=0;v<this.currentVisibleTiles.length;v++){var t=this.currentVisibleTiles[v].oTile;var a=t.object;if(a){for(var r=0;r<this.aRefreshTiles.length;r++){if(t.uuid===this.aRefreshTiles[r]){this.aRefreshTiles.splice(r,1);l.setTileVisible(a,true);l.refreshTile(a);break;}}}}},_setTilesNoVisibility:function(){if(!sap.ushell.Container){return;}var l=sap.ushell.Container.getService("LaunchPage");for(var v=0;v<this.currentVisibleTiles.length;v++){var t=this.currentVisibleTiles[v].oTile;var a=t.object;if(a){l.setTileVisible(a,false);}delete this.oActiveDynamicTiles[t.uuid];}},manageTilesView:function(){var v,c,r=[];for(v=0;v<this.currentVisibleTiles.length;v++){c=this.currentVisibleTiles[v];if(this.oInProgressTiles[c.oTile.uuid]==undefined&&this.oResolvedTiles[c.oTile.uuid]==undefined){r.push(c);}}this.oDashboardManager.getTileViewsFromArray(r);}});return D;});
sap.ui.predefine('sap/ushell/components/_HomepageManager/PagingManager',["sap/ui/base/Object","sap/ui/Device","sap/ushell/Config"],function(B,D,C){"use strict";var T=7;var P=B.extend("sap.ushell.components._HomepageManager.PagingManager",{metadata:{publicMethods:["setElementClass","GetGroupHeight","setContainerSize","getNumberOfAllocatedElements","moveToNextPage","getTileHeight"]},constructor:function(i,s){sap.ushell.components._HomepageManager.getPagingManager=jQuery.sap.getter(this.getInterface());this.currentPageIndex=0;this.containerHeight=s.containerHeight||0;this.containerWidth=s.containerWidth||0;this.supportedElements=s.supportedElements||"";this.tileHeight=0;this.tileSize={"sapUshellTile":{width:100,height:100},"sapUshellLinkTile":{width:40,height:20},"default":{width:40,height:20}};},getTileHeight:function(){return this.tileHeight;},setElementClass:function(c){this.supportedElements=c;},_getTileHeight:function(i){return i?148:176;},_getTileWidth:function(i,I){if(i){return I?304:360;}else{return I?148:176;}},getGroupHeight:function(g,f){if(!g||g.isGroupVisible===false){return 0;}var t=g.tiles,l=g.links,I=D.system.phone||C.last("/core/home/sizeBehavior")==="Small",w=this._getTileWidth(false,I),W=this._getTileWidth(true,I),a=48,b=8,A=this.containerWidth-b;var r=0,R=1,c,d,i;var s=t.some(function(c){return!!c&&c.isTileIntentSupported!==false;});if(!s){if(g.isGroupLocked||g.isDefaultGroup){return 0;}else{return(a+b)/this.containerHeight;}}var h=b;if(!f){h+=a;}if(l&&l.length){h+=44;}for(i=0;i<t.length;i++){if(h>this.containerHeight){break;}c=t[i];if(!c||c.isTileIntentSupported===false){continue;}d=c.long?W:w;if(r>0){r+=T;}r+=d;if(r>A){R+=1;r=d;}}h+=(this._getTileHeight(I)+T)*R;return h/this.containerHeight;},setContainerSize:function(n,a){var t=this.getNumberOfAllocatedElements();this.containerHeight=n;this.containerWidth=a;this._changePageSize(t);},getNumberOfAllocatedElements:function(){return this._calcElementsPerPage()*this.currentPageIndex;},_changePageSize:function(t){this.currentPageIndex=Math.ceil(t/this._calcElementsPerPage());},moveToNextPage:function(){this.currentPageIndex++;},resetCurrentPageIndex:function(){this.currentPageIndex=0;},getSizeofSupportedElementInUnits:function(t){return this.supportedElements[t].sizeInBaseUnits;},_calcElementMatrix:function(c){var e=jQuery("<div>").addClass(c);jQuery('body').append(e);var a=e.height();var b=e.width();var r;if(a<20||b<40){r=this.tileSize[c]||this.tileSize["default"];}else{r={width:b,height:a};}this.tileHeight=a;e.remove();return r;},_calcElementsPerPage:function(){var s,b,a,m,a,c,e,d;for(s in this.supportedElements){a=this.supportedElements[s];m=this._calcElementMatrix(a.className);a.matrix=m;if(b){b.width=b.width>m.width?m.width:b.width;b.height=b.height>m.height?m.height:b.height;}else{b={width:m.width,height:m.height};}}for(s in this.supportedElements){a=this.supportedElements[s];c=a.matrix;a.sizeInBaseUnits=Math.round(c.width/b.width*c.height/b.height);}e=Math.round(this.containerWidth/b.width);d=Math.round(this.containerHeight/b.height);if(!d||!e||e===Infinity||d===Infinity||e===0||d===0){return 10;}return d*e;}});return P;});
sap.ui.predefine('sap/ushell/components/applicationIntegration/AppLifeCycle',['sap/ushell/components/applicationIntegration/elements/model','sap/ushell/components/applicationIntegration/Storage','sap/ushell/components/container/ApplicationContainer','sap/ushell/ui5service/ShellUIService','sap/ushell/components/applicationIntegration/application/Application','sap/ushell/components/applicationIntegration/relatedServices/RelatedServices','sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements','sap/ushell/components/applicationIntegration/configuration/AppMeta','sap/ushell/services/AppConfiguration','sap/ushell/utils','sap/ushell/resources','sap/ui/Device','sap/ushell/Config','sap/ushell/EventHub','sap/ushell/ui5service/AppIsolationService'],function(E,S,A,a,b,R,c,d,e,u,r,D,C,f,g){"use strict";function h(){var v,i=["URL"],s,j,o,k,l=false,m={},n={home:{embedded:"embedded-home",headerless:"headerless-home",merged:"blank-home",blank:"blank-home"},app:{minimal:"minimal",app:"app",standalone:"standalone",embedded:"embedded",headerless:"headerless",merged:"merged",home:"home",blank:"blank",lean:"lean"}},p,G=[],q={};this.shellElements=function(){return c;};this.service=function(){return R;};this.isCurrentApp=function(t){return m.appId===t?true:false;};this.isAppWithSimilarShellHashInCache=function(t,F){var w=S.get(t);if(w){if(w.shellHash===F){return true;}else{return false;}}else{return false;}};this.isAppInCache=function(t){return!!S.get(t);};this.normalizeAppId=function(t){var w="-component",x=t.endsWith(w);if(x){return t.substring(0,t.length-w.length);}else{return t;}};this.onComponentCreated=function(t,w,x){var y=x.component,z=this.normalizeAppId(y.getId());if(y.active){y.active();}if(this.isAppInCache(z)){S.get(z).app=y;}else{m.app=y;}};this.onGetMe=function(t,w,x){x.AppLifeCycle=this;};this.store=function(t){var w=S.get(t);if(w){b.store(w.app);R.store(w.service);d.store(w.meta);}};this.destroy=function(t,F){var w=S.get(t);function x(){b.destroy(F);c.destroy(F);d.destroy(F);}this.removeControl(t);if(w){w.container.destroy();S.remove(t);}else{var P=F&&F.sendBeforeAppCloseEvent&&F.sendBeforeAppCloseEvent();if(P===undefined){x();}else{P.then(function(){x();},function(y){x();jQuery.sap.log.error("FLP got a failed response from the iframe for the 'sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent' message sent",y,"sap.ushell.components.applicationIntegration.AppLifeCycle.js");});}}};this.restore=function(t){var w=S.get(t);if(w){b.restore(w.app);R.restore(w.service);d.restore(w.meta);}};this.onAfterNavigate=function(F,t,T){if(F&&t){if(S.get(F)){this.store(F);}else if(t.getApplicationType&&this.applicationIsStatefulType(t.getApplicationType())){if(T.indexOf("Shell-appfinder-component")>0||T.indexOf("Shell-home-component")>0){t.postMessageRequest("sap.gui.triggerCloseSessionImmediately");}}else{if(this.isAppOfTypeCached(F)===false){this.destroy(F,t);}}if(F.indexOf("Shell-appfinder-component")>0){sap.ui.getCore().getEventBus().publish("sap.ushell","appFinderAfterNavigate");}}if(T){if(S.get(T)){this.restore(T);}else{}}};this.storeApp=function(t,w,T,x,y,H,F){if(!this.isAppInCache(t)){S.set(t,{service:R.create(),shellHash:F,appId:t,stt:'loading',appRelatedElements:c.getAppRelatedElement(),container:w,meta:e.getMetadata(T),app:undefined,target:y,hash:H});return true;}return false;};this.resoterApp=function(t){if(this.isAppInCache(t)){m=S.get(t);}};this.isAppOfTypeCached=function(t){if(!l&&t.indexOf(s)!==-1){return true;}if(!l&&t.indexOf("Shell-appfinder")!==-1){return true;}if(jQuery.sap.getUriParameters().get("sap-keep-alive")=="true"){return true;}return false;};h.prototype._getURLParsing=function(){if(!this._oURLParsing){this._oURLParsing=sap.ushell.Container.getService("URLParsing");}return this._oURLParsing;};this.openApp=function(t,T,w,F){var x;var y=undefined,H=undefined;var z="application"+t;if(typeof T!=="undefined"){y=Object.assign({},T);delete y.componentHandle;}if(typeof w!=="undefined"){H=Object.assign({},w);}if(this.isAppOfTypeCached(z)||this.isCachedEnabledAsAppParameter(w,T)){if(!this.isAppInCache(z)){x=this.createApplicationContainer(t,T);this.storeApp(z,x,T,w,y,H,F);}this.resoterApp(z);}else if(this.applicationIsStatefulType(T.applicationType)){x=this.getStatefulContainer(T.applicationType);if(!x){x=this.createApplicationContainer(t,T);this.setStatefulContainer(T.applicationType,x);x.setIsStateful(true);}m={appId:z,stt:'loading',container:x,meta:e.getMetadata(T),app:undefined,target:y,hash:H};}else{x=this.createApplicationContainer(t,T);m={appId:z,stt:'loading',container:x,meta:e.getMetadata(T),app:undefined,target:y,hash:H};}};this.getAppMeta=function(){return d;};this.init=function(t,I,w,x,y,z){o=new a({scopeObject:y.ownerComponent,scopeType:"component"});k=new g({scopeObject:y.ownerComponent,scopeType:"component"});j=t;v=I;s=w;d.init(s);l=x;S.init(z,function(B){var F=B.value;this.destroy(F.appId,F.container);}.bind(this));sap.ui.getCore().getEventBus().subscribe("sap.ushell","appComponentLoaded",this.onComponentCreated,this);sap.ui.getCore().getEventBus().subscribe("sap.ushell","getAppLifeCycle",this.onGetMe,this);c.init(this.getElementsModel());};this.addControl=function(t){v.addCenterViewPort(t);};this.removeControl=function(I){v.removeCenterViewPort(I,true);};this.removeApplication=function(I){var t=this.getControl(I);if(t){this.removeControl(t.getId());t.destroy();}};this.getControl=function(I){return v&&(v.getViewPortControl('centerViewPort',"application"+'-'+I)||v.getViewPortControl('centerViewPort',"applicationShellPage"+'-'+I));};this.getViewPortContainer=function(){return v;};this.navTo=function(I){v.navTo('centerViewPort',I,'show');};this.getCurrentApplication=function(){return m;};this.setApplicationFullWidth=function(I){var t=this.getCurrentApplication();if(t.container){t.container.toggleStyleClass("sapUShellApplicationContainerLimitedWidth",!I);}};this.createComponent=function(t,P){this.shellElements().setDangling(true);return b.createComponent(t,P);};this.getAppContainer=function(t,w,I,x,F){w.shellUIService=o.getInterface();w.appIsolationService=k.getInterface();w.targetNavigationMode=I?"explace":"inplace";this.openApp(t,w,x,F);if(G.length>0)m.container.registerShellCommunicationHandler(G);if(q["UI5APP"])m.container.setIframeHandlers(q["UI5APP"]);return m.container;};this.getShellUIService=function(){return o;};this.getAppIsolationService=function(){return k;};this.initShellUIService=function(t){o._attachHierarchyChanged(d.onHierarchyChange.bind(this));o._attachTitleChanged(d.onTitleChange.bind(this));o._attachRelatedAppsChanged(d.onRelatedAppsChange.bind(this));o._attachBackNavigationChanged(t.fnOnBackNavigationChange.bind(this));};this.parseStatefulContainerConfiguration=function(t){var w={};if(t){var x={"GUI":true};Object.keys(t).filter(function(y){return true===t[y]&&x[y];}).map(function(U){var y=U;if(y==="GUI"){y="TR";}return y;}).forEach(function(y){w[y]=null;});}p=w;};this.setStatefulApplicationContainer=function(t){p=t;};this.getStatefulApplicationContainer=function(){return p;};this.applicationIsStatefulType=function(t){return p.hasOwnProperty(t);};this.getStatefulContainer=function(t){return p[t];};this.setStatefulContainer=function(t,w){return p[t]=w;};this.statefulContainerForTypeExists=function(t){return!!this.getStatefulContainer(t);};this.getAllApplicationContainers=function(){return Object.keys(p).map(function(K){return p[K];}).filter(function(t){return!!t;});};this.getElementsModel=function(){return E;};this.activeContainer=function(t){var w=this.getAllApplicationContainers();w.forEach(function(x){jQuery.sap.log.info("Deactivating container "+x.getId());x.setActive(false);});if(t){jQuery.sap.log.info("Activating container "+t.getId());t.setActive(true);}};this.reuseApplicationContainer=function(t,w,x){var y=this;return t.setNewApplicationContext(w,x).then(function(){y.navTo(t.getId());t.toggleStyleClass("hidden",false);jQuery.sap.log.info("New application context opened successfully in an existing transaction UI session.");},function(z){jQuery.sap.log.error(z&&z.message||z);});};this.createApplicationContainer=function(t,w){return b.createApplicationContainer(t,w);};this.publishNavigationStateEvents=function(t,w,O){var x,I=t.getId?t.getId():"",y=this;var z=e.getMetadata(),B=z.icon,T=z.title;t.addEventDelegate({onAfterRendering:O});x=t.exit;t.exit=function(){if(x){x.apply(this,arguments);}y.getAppMeta()._applyContentDensityByPriority();setTimeout(function(){var F=jQuery.extend(true,{},w);delete F.componentHandle;F["appId"]=I;F["usageIcon"]=B;F["usageTitle"]=T;sap.ui.getCore().getEventBus().publish("sap.ushell","appClosed",F);jQuery.sap.log.info('app was closed');},0);var P=y._publicEventDataFromResolutionResult(w);sap.ushell.renderers.fiori2.utils.publishExternalEvent("appClosed",P);};};this._publicEventDataFromResolutionResult=function(t){var P={};if(!t){return t;}["applicationType","ui5ComponentName","url","additionalInformation","text"].forEach(function(w){P[w]=t[w];});Object.freeze(P);return P;};this.isCachedEnabledAsAppParameter=function(t,T){if(t&&t.params&&t.params["sap-keep-alive"]){if(t.params["sap-keep-alive"]=="true"){return true;}}if(T&&T.url){if(jQuery.sap.getUriParameters(T.url).get("sap-keep-alive")=="true"){return true;}}return false;};this.getInMemoryInstance=function(I,F){var t="application-"+I,w=S.get(t);if(w){if(w.shellHash===F){return{isInstanceSupported:true,appId:w.appId,container:w.container};}else{return{isInstanceSupported:false,appId:w.appId,container:w.container};}}return{isInstanceSupported:false,appId:undefined,container:undefined};};this.handleControl=function(I,t,w,T,W,x,F){var y=this.getControl(I),z=this.statefulContainerForTypeExists(T.applicationType),M=e.getMetadata(T),L=(T.applicationType==="NWBC"||T.applicationType==="TR"),B=i.indexOf(T.applicationType)>=0,H="application-"+I,J=this.isAppOfTypeCached(H,B)||this.isCachedEnabledAsAppParameter(w,T);if(!z&&y&&!J){this.destroy(y.getId(),y);y=W(I,M,w,T,t,T.fullWidth||M.fullWidth||L,F);}else if(!y){y=W(I,M,w,T,t,T.fullWidth||M.fullWidth||L,F);}else if(I===s){x();}if(!z){this.resoterApp(y.getId());this.navTo(y.getId());}v.switchState("Center");u.setPerformanceMark("FLP -- centerViewPort");this.activeContainer(y);if(z){this.reuseApplicationContainer(y,T.applicationType,T.url);}};this.switchViewState=function(t,w,x){var y=t,z;if(n[t]&&n[t][j]){y=n[t][j];}var I=C.last("/core/shell/model/currentState/stateName")==="home";if(!I&&(!m.appId||!S.get(m.appId))){E.destroyManageQueue();}z=S.get("application"+x);if(z){c.restore(z);}else{c.assignNew(t);}var B=E.switchState(y,w,x);this.shellElements().setDangling(false);this.shellElements().processDangling();if(t==="searchResults"){this.getElementsModel().setProperty("/lastSearchScreen",'');if(!window.hasher.getHash().indexOf("Action-search")===0){var F=sap.ui.getCore().getModel("searchModel");window.hasher.setHash("Action-search&/searchTerm="+F.getProperty("/uiFilter/searchTerms")+"&dataSource="+JSON.stringify(F.getProperty("/uiFilter/dataSource").getJson()));}}sap.ui.getCore().getEventBus().publish("launchpad","shellViewStateChanged",B);};this.registerShellCommunicationHandler=function(t,T){if(T==="global"){G=t;}else{m.container.registerShellCommunicationHandler(t);}};this.registerIframeCommunicationHandler=function(H,t){q[t]=H;};}return new h();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/Storage',[],function(){"use strict";function S(){var c,e;function L(l){this.size=0;(typeof l=="number")?this.limit=l:this.limit=10;this.map={};this.head=null;this.tail=null;}L.prototype.LRUnode=function(k,v){if(typeof k!="undefined"&&k!==null){this.key=k;}if(typeof v!="undefined"&&v!==null){this.value=v;}this.prev=null;this.next=null;};L.prototype.setHead=function(n){n.next=this.head;n.prev=null;if(this.head!==null){this.head.prev=n;}this.head=n;if(this.tail===null){this.tail=n;}this.size++;this.map[n.key]=n;};L.prototype.set=function(k,v){var n=new L.prototype.LRUnode(k,v);if(this.map[k]){this.map[k].value=n.value;this.remove(n.key);}else{if(this.size>=this.limit){if(e){e(this.map[this.tail.key]);}delete this.map[this.tail.key];this.size--;this.tail=this.tail.prev;this.tail.next=null;}}this.setHead(n);};L.prototype.get=function(k){if(this.map[k]){var v=this.map[k].value;var n=new L.prototype.LRUnode(k,v);this.remove(k);this.setHead(n);return v;}else{return null;}};L.prototype.remove=function(k){var n=this.map[k];if(n.prev!==null){n.prev.next=n.next;}else{this.head=n.next;}if(n.next!==null){n.next.prev=n.prev;}else{this.tail=n.prev;}delete this.map[k];this.size--;};L.prototype.removeAll=function(l){this.size=0;this.map={};this.head=null;this.tail=null;if(typeof l=="number"){this.limit=l;}};L.prototype.forEach=function(a){var n=this.head,i=0;while(n){a.apply(this,[n,i,this]);i++;n=n.next;}};L.prototype.toJSON=function(){var j=[],n=this.head;while(n){j.push({key:n.key,value:n.value});n=n.next;}return j;};L.prototype.toString=function(){var s='',n=this.head;while(n){s+=String(n.key)+':'+n.value;n=n.next;if(n){s+='\n';}}return s;};this.init=function(l,i){c=new L(l);e=i;};this.get=function(k){return c.get(k);};this.set=function(k,v){c.set(k,v);};this.remove=function(k){c.remove(k);};}return new S();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/application/Application',['sap/ushell/components/container/ApplicationContainer'],function(A){"use strict";var a,o=A.getMetadata().getJSONKeys();function b(){this._createWaitForRendererCreatedPromise=function(){var p,r;r=sap.ushell.Container.getRenderer();if(r){jQuery.sap.log.debug("Shell controller._createWaitForRendererCreatedPromise: shell renderer already created, return empty array.");return[];}else{p=new Promise(function(c,d){var O;O=function(){jQuery.sap.log.info("Shell controller: resolving component waitFor promise after shell renderer created event fired.");c();sap.ushell.Container.detachRendererCreatedEvent(O);};r=sap.ushell.Container.getRenderer();if(r){jQuery.sap.log.debug("Shell controller: resolving component waitFor promise immediately (shell renderer already created");c();}else{sap.ushell.Container.attachRendererCreatedEvent(O);}});return[p];}};this.createComponent=function(r,p){return sap.ushell.Container.getService("Ui5ComponentLoader").createComponent(r,p,this._createWaitForRendererCreatedPromise());};this.createApplicationContainer=function(s,r){var t={};this._cleanTargetResolution(r,t);a=new A("application"+s,r);this._restoreTargetResolution(r,t);return a;};b.prototype._cleanTargetResolution=function(r,t){var k;if(r){for(k in r){if(o[k]===undefined){t[k]=r[k];delete r[k];}}}};b.prototype._restoreTargetResolution=function(r,t){var k;if(r){for(k in t){r[k]=t[k];}}};this.restore=function(c){if(c){if(c.restore){c.restore();}if(c.setInitialConfiguration){c.setInitialConfiguration();}if(c.getRouter&&c.getRouter()&&c.getRouter().initialize){c.getRouter().initialize();}}};this.store=function(c){if(c){if(c.suspend){c.suspend();}if(c.getRouter&&c.getRouter()){c.getRouter().stop();}}};this.destroy=function(c){if(c&&c.destroy){c.destroy();}};}return new b();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/configuration/AppMeta',['sap/ushell/services/AppConfiguration','sap/ushell/components/applicationIntegration/elements/model','sap/ui/Device','sap/ushell/Config','sap/ushell/utils','sap/ushell/resources','sap/ushell/EventHub','sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements'],function(A,E,D,C,u,r,a,R){"use strict";function b(){var i,t=this,c,s,d;this.getIsTitleChanged=function(){return i;};this.getIsRelatedAppsChanged=function(){return d;};this.getHierarchyDefaultValue=function(){var h=[];var e=C.last("/core/shell/model/currentState/stateName");if(e&&((e==="app"||e==="embedded"))){h=[{icon:"sap-icon://home",title:r.i18n.getText("actionHomePage"),intent:s?"#"+s:"#"}];}return h;};this.init=function(I){s=I;};this.getIsHierarchyChanged=function(){return c;};this.onHierarchyChange=function(e){c=true;var h=e.getParameters().data,H,f=[],g=C.last("/core/shell/model/currentState/stateName");if(!h){h=[];}H=t.getHierarchyDefaultValue();h.forEach(function(I,j){f[j]=jQuery.extend({},I);});f=f.concat(H);if(g==="home"){E.updateStateProperty("application/hierarchy",f,false,["home"]);}E.updateStateProperty("application/hierarchy",f,true);};this.onRelatedAppsChange=function(e){d=true;var o=e.getParameters().data,f=C.last("/core/shell/model/currentState/stateName");if(!o){o=[];}if(f==="home"){E.updateStateProperty("application/relatedApps",o,false,["home"]);}E.updateStateProperty("application/relatedApps",o,true);};this.resetShellUIServiceHandlers=function(){d=false;c=false;i=false;};this.onTitleChange=function(e){i=true;var T=e.getParameters().data;if(!T){T=this.getAppMeta().getTitleDefaultValue();}var f=C.last("/core/shell/model/currentState/stateName");if(f==="home"){E.updateStateProperty("application/title",T,false,["home"]);}E.updateStateProperty("application/title",T,true);R.genericSetItem("application/title",T);window.document.title=T;u.setPerformanceMark("FLP -- title change");a.emit("TitleChanged",T);};this._getDefaultFavIcon=function(p){var f=p.get('sapUiShellFavicon');if(f){var m=/url[\s]*\('?"?([^\'")]*)'?"?\)/.exec(f);if(m){f=m[1];}else if(f==="''"||f==="none"){f=null;}}if(!f){var M=jQuery.sap.getModulePath("sap.ushell");return M+'/themes/base/img/launchpad_favicon.ico';}return f;};this.getFavIconHref=function(){return jQuery('link').filter('[rel="shortcut icon"]').attr('href')||'';};this.getAppIcon=function(){var I="sap-icon://folder",e=A.getMetadata();if(e&&e.icon){I=e.icon;}return I;};this.setAppIcons=function(m){sap.ui.require(["sap/ui/core/theming/Parameters"],function(P){jQuery.sap.measure.start("FLP:ShellController.setAppIcons","setAppIcons","FLP");var M=jQuery.sap.getModulePath("sap.ushell"),l=(m&&m.homeScreenIconPhone)||(M+'/themes/base/img/launchicons/57_iPhone_Desktop_Launch.png'),L=(m&&m["homeScreenIconPhone@2"])||(M+'/themes/base/img/launchicons/114_iPhone-Retina_Web_Clip.png'),o=(m&&m.homeScreenIconTablet)||(M+'/themes/base/img/launchicons/72_iPad_Desktop_Launch.png'),e=(m&&m["homeScreenIconTablet@2"])||(M+'/themes/base/img/launchicons/144_iPad_Retina_Web_Clip.png'),f=(m&&m.favIcon)||(this._getDefaultFavIcon(P)),g=this.getFavIconHref();if(D.os.ios){jQuery.sap.setIcons({'phone':l,'phone@2':L,'tablet':o,'tablet@2':e,'favicon':f,'precomposed':false});}else if(g!==f){jQuery.sap.setIcons({'phone':'','phone@2':'','tablet':'','tablet@2':'','favicon':f,'precomposed':true});}jQuery.sap.measure.end("FLP:ShellController.setAppIcons");}.bind(this));};this._applyContentDensityByPriority=function(e){var f;if(e===undefined){if(D.system.combi){var g=sap.ushell.Container.getService("UserInfo"),U=g.getUser(),h="autoDetect";if(U){h=U.getContentDensity();}switch(h){case"cozy":e=false;break;case"compact":e=true;break;default:f=A.getMetadata();if(f.compactContentDensity&&!f.cozyContentDensity){e=true;}else{e=false;}}}else{f=A.getMetadata();if(f.compactContentDensity&&!f.cozyContentDensity){e=true;}else if(!f.compactContentDensity&&f.cozyContentDensity){e=false;}else{e=this._isCompactContentDensityByDevice();}}}this._applyContentDensityClass(e);};this._applyContentDensityClass=function(e){var I=this._isCompactContentDensityByDevice();return new Promise(function(f,g){function h(j){jQuery('body').toggleClass('sapUiSizeCompact',j).toggleClass('sapUiSizeCozy',!j);f();}if(e===undefined){sap.ushell.Container.getServiceAsync("UserInfo").then(function(j){var U=j.getUser?j.getUser():undefined;h(U&&U.getContentDensity()==='cozy'?false:I);});}else{h(!!e);}});};this._isCompactContentDensityByDevice=function(){return!D.support.touch||D.system.combi;};this.getTitleDefaultValue=function(){var T="",e=A.getMetadata();if(e&&e.title){T=e.title;}return T;};this.create=function(){};this.restore=function(I){this._applyContentDensityByPriority();this.setAppIcons(I);};this.store=function(I){};this.destroy=function(I){};}return new b();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/elements/model',["sap/ushell/EventHub","sap/ushell/Config","sap/ushell/utils","sap/ushell/ui/footerbar/ContactSupportButton","sap/ushell/ui/footerbar/EndUserFeedback","sap/ushell/ui/shell/ShellHeadItem"],function(E,C,u,a,b,S){"use strict";var B;var c;function d(){return{"home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn"]},"app":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"minimal":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"standalone":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded-home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"lean":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]}};}function e(){return{"blank":{"stateName":"blank","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"showLogo":false,"search":""},"blank-home":{"stateName":"blank-home","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"showLogo":false,"search":""},"home":{"stateName":"home","showCurtain":false,"headerVisible":true,"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"headItems":['meAreaHeaderButton'],"showRecentActivity":true,"headEndItems":[],"search":"","paneContent":[],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"showLogo":false},"app":{"stateName":"app","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"search":"","headItems":['meAreaHeaderButton','backBtn','homeBtn'],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"showLogo":false},"minimal":{"stateName":"minimal","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton','homeBtn'],"actions":["openCatalogBtn","userSettingsBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"showLogo":false,"search":""},"standalone":{"stateName":"standalone","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton','backBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"showLogo":false,"search":""},"embedded":{"stateName":"embedded","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton','backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"showLogo":false,"search":""},"embedded-home":{"stateName":"embedded-home","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['meAreaHeaderButton'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"showLogo":false,"search":""},"headerless":{"stateName":"headerless","showCurtain":false,"headerVisible":false,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"search":""},"merged":{"stateName":"merged","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":['backBtn','homeBtn'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"search":""},"headerless-home":{"stateName":"headerless-home","showCurtain":false,"headerVisible":false,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"search":""},"merged-home":{"stateName":"merged-home","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showLogo":false,"showRightFloatingContainer":true,"showRecentActivity":true,"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"search":""},"lean":{"stateName":"lean","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":false,"paneContent":[],"search":"","headItems":['meAreaHeaderButton'],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"showLogo":false},"lean-home":{"stateName":"lean-home","showCurtain":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"showRightFloatingContainer":true,"showRecentActivity":false,"paneContent":[],"search":"","headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"toolAreaVisible":false,"floatingContainerContent":[],"application":{},"showLogo":false}};}function r(O,K){return Object.keys(O).reduce(function(o,s){if(!K[s]){o[s]=O[s];}return o;},{});}function v(i,j,s){return j!=undefined;}function n(i,j,s){return true;}function g(o,m){var p=m.split("/");var M=o;p.shift();p.forEach(function(P){if(!M){return;}M=M[P];});return M;}function f(m,V,o){var p=m.split("/");var M=o;p.shift();var P=p.pop();p.forEach(function(s){M=M[s];});M[P]=V;}function h(){var o;var s;var l;var A;var m;var I;var p;var q;var t;var T;var w;this.createDefaultTriggers=function(i){var R=function(D,F,G){if(G.sProperty=="actions"){var H=g(G.oModel,G.path);if(H&&H.length===0&&G.aIds&&G.aIds.length>0){this._renderShellState();}}}.bind(this);var j=function(H){function D(O,N){var U=sap.ushell.Container.getService("URLParsing"),G=U.getHash(O),J=U.getHash(N),K=U.parseShellHash(G).appSpecificRoute,L=U.parseShellHash(J).appSpecificRoute;return K!==L;}var F=D(H.oldURL,H.newURL);if(F){this.addHeaderItem(["backBtn"],true);}}.bind(this);this.createTriggersOnBaseStates([{sName:'onAddFirstAction',fnRegister:function(){sap.ui.getCore().getEventBus().subscribe("launchpad","updateShell",R,this);},fnUnRegister:function(){sap.ui.getCore().getEventBus().unsubscribe("launchpad","updateShell",R,this);}}],["blank","blank-home"],i);var y=this;var z;this.createTriggersOnBaseStates([{sName:'onAddFirstAction',fnRegister:function(){window.addEventListener("hashchange",j);var N=0;z=E.on("AppRendered").do(function(){N++;if(N>=2){y.addHeaderItem(["backBtn"],true);}});},fnUnRegister:function(){window.removeEventListener("hashchange",j);if(z){z.off();}}}],["lean","lean-home"],i);};this.init=function(i,j){B=e();c=d();s=C.last("/core/shell/model");o={};m={};I=false;p=false;t=false;T=[];w=true;A=j;q=undefined;if(i){jQuery.sap.measure.start("FLP:ElementsModel.init","moveShellHeaderEndItems","FLP");if(i.moveEditHomePageActionToShellHeader){this._moveActionsToShellHeader("ActionModeBtn");}if(i.moveContactSupportActionToShellHeader){this._moveCustomeDataActionBtnToShellHeader("ContactSupportBtn");}if(i.moveGiveFeedbackActionToShellHeader){this._moveCustomeDataActionBtnToShellHeader("EndUserFeedbackBtn");}if(i.moveAppFinderActionToShellHeader){this._moveActionsToShellHeader("openCatalogBtn");}if(i.moveUserSettingsActionToShellHeader){this._moveActionsToShellHeader("userSettingsBtn");}jQuery.sap.measure.end("FLP:ElementsModel.init");}var y=i&&i.appState?i.appState:"home";this.createDefaultTriggers(y);this.switchState(y);};this.destroy=function(){s=undefined;o=undefined;A=undefined;m=undefined;I=undefined;p=undefined;w=undefined;t=undefined;q=undefined;B=undefined;c=undefined;};this.getModel=function(){var R=sap.ushell.Container.getRenderer("fiori2");if(!R){return undefined;}return R._oShellView.getModel();};this._moveCustomeDataActionBtnToShellHeader=function(i){for(var j in c){var y=c[j];var z=y.actions;var D=z.indexOf(i);if(D!=-1){c[j].actions.splice(D,1);D=B[j].headEndItems.indexOf(i);if(D===-1){B[j].headEndItems.push(i);}}}var F=sap.ui.getCore().byId(i);if(!F){var G;if(i==="ContactSupportBtn"){G=new a("tempContactSupportBtn",{visible:true});}else if(i==="EndUserFeedbackBtn"){G=new b("EndUserFeedbackHandlerBtn",{});}var H=G.getIcon();var J=G.getText();var K=function(){G.firePress();};var L=new S(i,{icon:H,tooltip:J,text:J,showSeparator:false});if(i==="ContactSupportBtn"){L.attachPress(K);}if(i==="EndUserFeedbackBtn"){L.setVisible(false);}L.data("isShellHeader",true);}};this._attachPressToUserSettings=function(){jQuery.sap.measure.start("FLP:ElementsModel._attachPressToUserSettings","_attachPressToUserSettings","FLP");var i=sap.ui.getCore().byId("userSettingsBtn");i.attachPress(function(){var j=sap.ui.getCore().byId('meArea');if(!j.oSettingsDialog.getModel()){j.oSettingsDialog.setModel(j.getModel());}var O=function(){j.oSettingsDialog.open();sap.ui.getCore().byId("viewPortContainer").detachAfterSwitchStateAnimationFinished(O);};var y=sap.ui.getCore().byId('viewPortContainer');if(y.getCurrentState()!="Center"){sap.ui.getCore().byId("viewPortContainer").attachAfterSwitchStateAnimationFinished(O);sap.ui.getCore().byId("viewPortContainer").switchState("Center");}else{O();}});jQuery.sap.measure.end("FLP:ElementsModel._attachPressToUserSettings");};this._moveActionsToShellHeader=function(i){var j;for(j in B){var y=B[j];if(j==="blank"||j==="blank-home"){continue;}if(i==="ActionModeBtn"&&j==="app"){continue;}if((i==="openCatalogBtn"||i==="userSettingsBtn")&&(j==="lean"||j==="lean-home")){continue;}var z=y.actions;var D=z.indexOf(i);if(D!=-1){B[j].actions.splice(D,1);}D=B[j].headEndItems.indexOf(i);if(D===-1){B[j].headEndItems.push(i);}}if(i==="userSettingsBtn"){var F="userSettingsBtn";var G=sap.ushell.resources.i18n.getText("userSettings");var H='sap-icon://action-settings';var U=sap.ui.getCore().byId(F);E.on("CoreResourcesComplementLoaded").do(this._attachPressToUserSettings.bind(this));if(!U){var J=new S(F,{icon:H,tooltip:G,text:G,showSeparator:false});J.data("isShellHeader",true);}}};this.destroyManageQueue=function(){this._destroyManageQueue(["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"]);};this.switchState=function(i){var j=u.clone(B[i]);var y=r(j,{aTriggers:true,oCheckPoints:true});C.emit("/core/shell/model/currentState",y);l=A.customShellState;q=undefined;this._renderShellState();return j;};this.setLeftPaneVisibility=function(V,i,j){this.updateStateProperty("showPane",V,i,j);};this.setHeaderHiding=function(){jQuery.sap.log.warning("Application Life Cycle model: headerHiding property is deprecated and has no effect");};this.setHeaderVisibility=function(V,i,j){this.updateStateProperty("headerVisible",V,i,j);};this.showLogo=function(i,j){this.updateStateProperty("showLogo",true,i,j,false);};this.addHeaderItem=function(i,j,y){this._addHeaderItemInCorrectOrder("headItems",i,j,y);};this._removeReservedItemId=function(R,i,j){var y=false,z=j.indexOf(R);if(z>-1){j.splice(z,1);y=true;}z=i.indexOf(R);if(z>-1){i.splice(z,1);y=true;}return y;};this._addHeaderItemInCorrectOrder=function(P,i,j,y){var z=this;function V(D,F,G){var H=3-D.length;F.forEach(function(J,K){var L=(J==='meAreaHeaderButton'||J==='backBtn'||J==='homeBtn');if(D[J]===-1&&!L){H--;}});if(H<0){jQuery.sap.log.warning("Maximum of three items has been reached, cannot add more items.");return false;}return true;}function U(D,F,G){jQuery.sap.measure.start("FLP:ElementsModel.fnUpdate","update shell head end items","FLP");var H=g(G,D),J=[],K=F.slice(0);if(z._removeReservedItemId("meAreaHeaderButton",H,K)===true){J.push("meAreaHeaderButton");}if(z._removeReservedItemId("backBtn",H,K)===true){J.push("backBtn");}if(z._removeReservedItemId("homeBtn",H,K)===true){J.push("homeBtn");}H.some(function(L){if(J.length<3){J.push(L);}else{return true;}});K.some(function(L){if(J.length<3){J.push(L);}else{return true;}});f(D,J,G);jQuery.sap.measure.end("FLP:ElementsModel.fnUpdate");}this._setShellItem(P,i,j,y,V,U);};this.removeHeaderItem=function(i,j,y){this._removeShellItem("headItems",i,j,y);};this.addHeaderEndItem=function(i,j,y,D){if(i.length){this._addUpToSixItem("headEndItems",i,j,y,D);}};this.removeHeaderEndItem=function(i,j,y){this._removeShellItem("headEndItems",i,j,y);};this.addSubHeader=function(i,j,y){if(i.length){this._addShellItem("subHeader",i,j,y);}};this.removeSubHeader=function(i,j,y){this._removeShellItem("subHeader",i,j,y);};this.addActionButton=function(i,j,y,z){if(z){this._addActionButtonAtStart("actions",i,j,y);}else{this._addActionButton("actions",i,j,y);}};this.removeActionButton=function(i,j,y){this._removeShellItem("actions",i,j,y);};this.addToolAreaItem=function(i,j,y){if(i.length){this._addToolAreaItem("toolAreaItems",i,j,y);}};this.removeToolAreaItem=function(i,j,y){this._removeShellItem("toolAreaItems",i,j,y);};this.addLeftPaneContent=function(i,j,y){if(i.length){this._addShellItem("paneContent",i,j,y);}};this.removeLeftPaneContent=function(i,j,y){this._removeShellItem("paneContent",i,j,y);};this.addRightFloatingContainerItem=function(i,j,y){if(i.length){this._addRightFloatingContainerItem("RightFloatingContainerItems",i,j,y);}};this.removeRightFloatingContainerItem=function(i,j,y){this._removeShellItem("RightFloatingContainerItems",i,j,y);};this.showSettingsButton=function(i,j){this.addActionButton(["userSettingsBtn"],i,j,false);};this.showSignOutButton=function(i,j){this.addActionButton(["logoutBtn"],i,j,false);};this.showRightFloatingContainer=function(i){this._showRightFloatingContainer(i);};this.addFloatingActionButton=function(i,j,y){if(i.length){this._addShellItem("floatingActions",i,j,y);}};this.removeFloatingActionButton=function(i,j,y){this._removeShellItem("floatingActions",i,j,y);};this.updateStateProperty=function(P,V,i,j,D){this._setShellItem(P,V,i,j,v,f,D);};this._handleTriggers=function(N){var i,j,y=[],z={};w=false;while(T.length>0){i=T.pop();if(N[i.sName]){y.push(i);z[i.sName]=i;}else{i.fnUnRegister(this);}}for(var D in N){if(N.hasOwnProperty(D)){if(!z[D]){j=N[D];j.fnRegister(this);y.push(j);}}}T=y;w=true;};this._registerTriggers=function(i){w=false;i.forEach(function(j){j.fnRegister(this);T.push(j);});w=true;};function x(i,j){var y=[];if(!j.aTriggers){j.aTriggers=[];}i.forEach(function(z){var F={sName:z.sName,fnRegister:z.fnRegister,fnUnRegister:z.fnUnRegister};j.aTriggers.push(F);y.push(F);});return y;}this.createTriggersOnState=function(i,j){var y=x(i,B);if(!I){this._registerTriggers(y);}};this.createTriggersOnBaseStates=function(i,j,y){var z=[];j.forEach(function(F){var G=B[F];z=x(i,G);});var D=j.indexOf(y)>=0;if(D&&!I){this._registerTriggers(z);}};this.createTriggers=function(i,j,y){var z=s.currentState;if(j===true){this.createTriggersOnState(i,z);return;}this.createTriggersOnBaseStates(i,y,z.stateName);};this.createInspection=function(j,y,z,D){var F=function(M,j,y){var N,O;if(!M.oCheckPoints){M.oCheckPoints=[];}if(!M.oCheckPoints[j]){M.oCheckPoints[j]=[];}N=M.oCheckPoints[j];for(O=0;O<y.length;O++){G=y[O];N.push({fnCondition:G.fnCondition,fnCheckPoint:G.fnAction});}};if(z===true){var G,H=s.currentState;F(H,j,y);if(!t&&!I){F(l.currentState,j,y);}this._renderShellState();}else{var i,J=s.currentState.stateName;for(i=0;i<D.length;i++){var K=D[i],L=B[K];F(L,j,y);if(J===K){if(!I){this._renderShellState();}}}}};this.showShellItem=function(P,j,V){var y=this._getModelStates(j),M="/currentState"+P,z;for(var i=0;i<y.length;i++){z=B[y[i]].stateName;B[z][P.split("/")[1]]=V;}if(s.currentState.stateName===j){f(M,V,s);}};this.addCustomItems=function(i,j,y,z){if(this._isValidStateEntry(i)){this._isValidStateEntry(i).fnAdd(j,y,z);}else{throw new Error("Invalid state entry:"+i);}};this.removeCustomItems=function(i,j,y,z){if(this._isValidStateEntry(i)){this._isValidStateEntry(i).fnRemove(j,y,z);}else{throw new Error("Invalid state entry:"+i);}};this.createExtendedShellState=function(i,j){var y,z=this._createCustomShellState(i);if(!A){A={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState("custom")};}y=A.extendedShellStates;if(y[i]){return false;}s=z;t=true;j();if(y[i]){y[i].customState=z;}else{y[i]={managedObjects:[],customState:z};}s=C.last("/core/shell/model");t=false;return true;};this.applyExtendedShellState=function(i){q=i;this._renderShellState();};this.addEntryInShellStates=function(i,j,y,R,z){var D,F;if(!o[i]){o[i]={fnAdd:y,fnHide:R};var G=this._getStatesList();for(D=0;D<G.length;D++){F=G[D];B[F][i]=z[F];}this["remove"+j]=R;this["add"+j]=y;}else{throw new Error("State entry already exsists:"+i);}};this.addElementToManagedQueue=function(i){var j=C.last("/core/shell/model/currentState/stateName"),y,z=i.getId();if(!A){A={extendedShellStates:{},oCheckPoints:{},aTriggers:[],customShellState:this._createCustomShellState("custom")};}y=A.extendedShellStates;if(!y[j]){y[j]={managedObjects:[],customState:undefined};}y[j].managedObjects.push(z);var M=m[z];if(M){M.nRefCount++;}else{M={oItem:i,nRefCount:1};m[z]=M;}};this.updateNeededTriggersMap=function(i,j){var y;if(!j){return;}for(y=0;y<j.length;y++){i[j[y].sName]=j[y];}};this._renderShellState=function(){if(B===undefined){return;}var i=C.last("/core/shell/model/currentState/stateName"),j,y,z=u.clone(B[i]),D=A,F,N={};if(I){return;}if(D){F=D.customShellState.currentState;}var G={"currentState":u.clone(z)};s=G;I=true;if(q){if(D.extendedShellStates[q]){j=D.extendedShellStates[q].customState;y=j.currentState;this._addCustomShellStates(y);}}if(F){this._addCustomShellStates(F);}s=C.last("/core/shell/model");if(z&&z.aTriggers){this.updateNeededTriggersMap(N,z.aTriggers);}if(y&&y.aTriggers){this.updateNeededTriggersMap(N,y.aTriggers);}if(F&&F.aTriggers){this.updateNeededTriggersMap(N,F.aTriggers);}if(w){this._handleTriggers(N);}delete G.currentState.aTriggers;delete G.currentState.oCheckPoints;var H=r(G.currentState,{aTriggers:true,oCheckPoints:true});C.emit("/core/shell/model/currentState",H);I=false;};this._addCustomShellStates=function(i){this.addHeaderItem(i.headItems,true);this.addToolAreaItem(i.toolAreaItems,true);this.addHeaderEndItem(i.headEndItems,true);this.addSubHeader(i.subHeader,true);this.addRightFloatingContainerItem(i.RightFloatingContainerItems,true);this.addActionButton(i.actions,true,undefined,false);this.addLeftPaneContent(i.paneContent,true);this.addFloatingActionButton(i.floatingActions,true);this._setCurrentApplicationInformation(i.application);this.showRightFloatingContainer(i.showRightFloatingContainer);this.setHeaderVisibility(i.headerVisible,true);if(i.showLogo){this.showLogo(true);}};this._createCustomShellState=function(i){var j={"currentState":{"stateName":i,"headEndItems":[],"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"application":{},"showRightFloatingContainer":undefined,"headerHeading":undefined}};var y=c[i];if(y){jQuery.extend(j.currentState,y);}return j;};this._setCurrentApplicationInformation=function(i){if(!i){i={};}i=jQuery.extend(true,{},s.currentState.application,i);this.updateStateProperty("application",i,true);};this._showRightFloatingContainer=function(i){this._setShellItem("showRightFloatingContainer",i,true,[],v,f);};this._addActionButtonAtStart=function(P,i,j,y){function U(z,D,F){var G=g(F,z),H=[],O=D.indexOf("openCatalogBtn");if(O>-1){D.splice(O,1);H.push("openCatalogBtn");}else{if(G[0]==="openCatalogBtn"){G.splice(0,1);H.push("openCatalogBtn");}}H=H.concat(D).concat(G);f(z,H,F);}this._setShellItem(P,i,j,y,n,U);};this._addActionButton=function(P,i,j,y){function U(z,D,F){var G=g(F,z);var L=G.indexOf("logoutBtn");if(L>-1){G.splice.apply(G,[L,0].concat(D));}else{G=G.concat(D);}var O=G.indexOf("openCatalogBtn"),H=[];if(O>-1){G.splice(O,1);H.push("openCatalogBtn");H=H.concat(G);}else{H=G;}f(z,H,F);}this._setShellItem(P,i,j,y,n,U);};this.setFloatingContainerContent=function(P,i,j,y){function V(z,i,D){return i.length===1;}function U(z,i,D){f(z,i,D);}this._setShellItem(P,i,j,y,V,U);};this._addUpToSixItem=function(P,i,j,y,D){function V(z,F,G){var H=0,J,K;if(F.length===1&&F[0]==="endItemsOverflowBtn"){return true;}for(J=0;J<z.length;J++){K=z[J];if(K!=="endItemsOverflowBtn"){H++;}if(H+F.length>6){jQuery.sap.log.warning("maximum of six items has reached, cannot add more items.");return false;}if(F.indexOf(K)>-1){return false;}}return true;}function U(z,F,G){var H=g(G,z),J=H.slice(0);J=J.sort();J=J.concat(F);var K=J.indexOf("NotificationsCountButton");if(K!=-1){J.splice(K,1);J.splice(J.length,0,"NotificationsCountButton");}var L=J.indexOf("copilotBtn");if(L!=-1){J.splice(L,1);if(J.indexOf("sf")!=-1){J.splice(1,0,"copilotBtn");}else{J.splice(0,0,"copilotBtn");}}var M=J.indexOf("sf");if(M!=-1){J.splice(M,1);J.splice(0,0,"sf");}f(z,J,G);}this._setShellItem(P,i,j,y,V,U,D);};this._addShellItem=function(P,i,j,y){function V(z,i,D){if(z.length>0){jQuery.sap.log.warning("You can only add one item. Replacing existing item: "+z[0]+" in state: "+D+", with the new item: "+i[0]+".");}return true;}function U(z,D,F){f(z,i.slice(0),F);}this._setShellItem(P,i,j,y,V,U);};this._addRightFloatingContainerItem=function(P,i,j,y){function U(z,D,F){var G=g(F,z);G=G.concat(D);f(z,G,F);}this._setShellItem(P,i,j,y,n,U);};this._addToolAreaItem=function(P,i,j,y){function U(F,i,G){var H=g(G,F);H.push(i);f(F,H,G);}var z,D=this._getPassStates(y);for(z=0;z<D.length;z++){this.showShellItem("/toolAreaVisible",D[z],true);}this._setShellItem(P,i,j,y,n,U);};this._removeShellItem=function(P,i,j,y){function V(z,D){var F,i,G;for(G=0;G<D.length;G++){i=D[G];F=z.indexOf(i);if(F<0){jQuery.sap.log.warning("You cannot remove Item: "+i+", the headItem does not exists.");return false;}}return true;}function U(z,D,F){var G=g(F,z),H,i,J;for(J=0;J<D.length;J++){i=D[J];H=G.indexOf(i);if(H>-1){G.splice(H,1);}}f(z,G,F);}this._setShellItem(P,i,j,y,V,U);};this._commitCheckPoints=function(i,j,y){var z;for(z=0;z<i.length;z++){if(i[z].fnCondition(j,y,this)){i[z].fnCheckPoint(j,y,this);}}};this._setShellItem=function(P,O,y,z,V,U,D){var F,G;var H=Array.isArray(O)?O.slice(0):O;if(y===true){F="/currentState/"+P;G=g(s,F);if(V(G,H,"currentState")===false){return;}if(I&&!p){var J=C.last("/core/shell/model/currentState/stateName"),K=B[J],L=A;p=true;if(K.oCheckPoints){var M=K.oCheckPoints[P];if(M&&M.length){this._commitCheckPoints(M,G,H);}}if(q){if(L.extendedShellStates[q]){var N=L.extendedShellStates[q].customState,Q=N.currentState;if(Q&&Q.oCheckPoints&&Q.oCheckPoints[P]){this._commitCheckPoints(Q.oCheckPoints[P],G,H);}}}var R=L.customShellState.currentState;if(R&&R.oCheckPoints&&R.oCheckPoints[P]){M=R.oCheckPoints[P];if(M&&M.length){this._commitCheckPoints(M,G,H);}}p=false;}if(!t&&!I){U(F,H,l);sap.ui.getCore().getEventBus().publish('launchpad','updateShell',{oModel:s,path:F,aIds:H,sProperty:P});this._renderShellState();}else{U(F,H,s);}}else{var W=D?z:this._getPassStates(z),i,X=s.currentState.stateName;for(i=0;i<W.length;i++){var Y=W[i],j;G=g(B[Y],"/"+P);if(V(G,H,Y)===false){continue;}var Z=this._getModelStates(Y,D);for(j=0;j<Z.length;j++){F="/"+Z[j]+"/"+P;U(F,H,B);if(X===Z[j]){if(!I){this._renderShellState();}}}}}};this._getPassStates=function(j){var P=[],i;j=j||[];for(i=0;i<j.length;i++){if(j[i]!==undefined){if(j[i]!=="home"&&j[i]!=="app"){throw new Error("sLaunchpadState value is invalid");}P.push(j[i]);}}if(!P.length){P=["app","home"];}return P;};this._getModelStates=function(i,D){var M=[];if(i==="app"&&!D){var j=["app","minimal","standalone","embedded","headerless","merged","blank","lean"];M=M.concat(j);}else if(i==="home"&&!D){var j=["home","embedded-home","headerless-home","merged-home","blank-home","lean-home"];M=M.concat(j);}else{M.push(i);}return M;};this._getStatesList=function(){return Object.keys(B);};this._destroyManageQueue=function(i){var j,y,M,z,D,F;z=A.extendedShellStates;for(D in z){if(z.hasOwnProperty(D)){F=z[D].managedObjects;for(j=0;j<F.length;j++){y=F[j];M=m[y];M.nRefCount--;if(M.nRefCount===0){M.oItem.destroy();m[y]=null;}}delete z[D];}}};this._isValidStateEntry=function(N){return!!o[N];};this.getModelToUpdate=function(){return s;};this.setModelToUpdate=function(M,i){t=i;s=M;};this._getManagedElements=function(){return m;};this.extendStates=function(i){var j;for(j in i){if(i.hasOwnProperty(j)){B[j]=i[j];}}};this.getBaseStateMember=function(i,j){return B[i][j];};this.getCustomStateDeltaMember=function(i,j){return c[i][j];};this.getAllStatesInDelta=function(){return Object.keys(c);};}var k=new h();return k;},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/relatedServices/RelatedServices',[],function(){"use strict";function R(){var b;var s={};this._historyBackNavigation=function(){window.history.back();};this.navigateBack=function(){if(b){b();}else{this._historyBackNavigation();}};this.setNavigateBack=function(i){b=i;s.backNavigationHander=b;};this.resetNavigateBack=function(){b=this._historyBackNavigation;s.backNavigationHander=b;};this.create=function(){b=this._historyBackNavigation;s={backNavigationHander:b};return s;};this.restore=function(i){if(i){s=i;b=s.backNavigationHander;}};this.store=function(S){s={backNavigationHander:this._historyBackNavigation};};this.destroy=function(S){};}return new R();},true);
sap.ui.predefine('sap/ushell/components/applicationIntegration/relatedShellElements/RelatedShellElements',[],function(){"use strict";function R(){var d=[],E,a,c={},s,i=false,C={},A,t=[],o={home:{NWBC:{headerless:"headerless",default:"minimal"},TR:{headerless:"minimal",default:"minimal"},default:{default:"home"}},app:{NWBC:{headerless:"headerless",default:"minimal"},TR:{headerless:"minimal",default:"minimal"},default:{default:"app"}}};this.init=function(b){E=b;};this.processDangling=function(){var D,b;for(D=0;D<d.length;D++){b=d.pop();b.func.apply(this,b.args);}};this.setDangling=function(I){i=I;};this.calculateElementsState=function(n,b,e,f){var N=!!o[n]?o[n]:o.default,g=!!N[f?undefined:b]?N[b]:N.default,h=!!g[e]?g[e]:g.default;return h;};this.createCustomShellState=function(S){var b={"currentState":{"stateName":S,"headEndItems":[],"paneContent":[],"headItems":[],"actions":[],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"application":{},"showRightFloatingContainer":undefined,"headerHeading":undefined}},e={"home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn"]},"app":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"minimal":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"standalone":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"embedded-home":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]},"lean":{"actions":["ContactSupportBtn","EndUserFeedbackBtn","aboutBtn"]}},f=e[S];if(f){jQuery.extend(b.currentState,f);}return b;};this.createExtendedShellState=function(S,f){var b,e=this.createCustomShellState(S);b=a.extendedShellStates;if(b[S]){return false;}s=e;f();if(b[S]){b[S].customState=e;}else{b[S]={managedObjects:[],customState:e};}s=a.customShellState;return true;};this.assignNew=function(S){c=this.createCustomShellState(S);a.customShellState=c;a.aTriggers=[];a.extendedShellStates={};a.oCheckPoints={};this._updateModel();s=a.customShellState;};this._genericSetItem=function(b,v){var e=b.split("/");var l=e.pop();var L=e.reduce(function(f,m){return f[m];},s.currentState);L[l]=v;E._renderShellState();};this._genericAddItems=function(b,I,e){var f=s.currentState[b];if(!!e){s.currentState[b]=I.concat(f);}else{s.currentState[b]=f.concat(I);}E._renderShellState();};this.genericSetItem=function(b,v){if(i){d.push({func:this._genericSetItem,args:arguments});}else{this._genericSetItem(b,v);}};this.genericAddItems=function(b,I,e){if(i){d.push({func:this.genericAddItems,args:arguments});}else{this._genericAddItems(b,I,e);}};this.setShellModelForApplications=function(b,v){var l=["paneContent","headItems","RightFloatingContainerItems","toolAreaItems","floatingActions","showRightFloatingContainer","headEndItems","headerVisible","subHeader","actions"];if(l.indexOf(b)>-1){this.genericSetItem(b,v);}else{jQuery.sap.log.error("Not a valid attribute:"+b);}};this.addShellModelForApplications=function(b,I,e){var l=["paneContent","headItems","RightFloatingContainerItems","toolAreaItems","floatingActions","showRightFloatingContainer","headEndItems","headerVisible","subHeader","actions"];if(l.indexOf(b)>-1){this.genericAddItems(b,I,e);}else{jQuery.sap.log.error("Not a valid attribute:"+b);}};this.setStateModelToUpdate=function(I){s=I;};this.getStateModelToUpdate=function(){return s;};this.model=function(){if(!a){this.create();}A={customShellState:a.customShellState,aTriggers:a.aTriggers,extendedShellStates:a.extendedShellStates,oCheckPoints:a.oCheckPoints};return A;};this._updateModel=function(){if(A){A.customShellState=a.customShellState;A.aTriggers=a.aTriggers;A.extendedShellStates=a.extendedShellStates;A.oCheckPoints=a.oCheckPoints;}};this.getAppRelatedElement=function(){return{customShellState:a.customShellState,aTriggers:a.aTriggers,extendedShellStates:a.extendedShellStates,oCheckPoints:a.oCheckPoints};};this.create=function(){a={extendedShellStates:{},oCheckPoints:C,aTriggers:t,customShellState:{"currentState":{"stateName":"app","headEndItems":[],"paneContent":[],"headItems":[],"actions":["aboutBtn"],"floatingActions":[],"subHeader":[],"toolAreaItems":[],"RightFloatingContainerItems":[],"application":{},"showRightFloatingContainer":undefined,"headerHeading":undefined}}};s=a.customShellState;this._updateModel();return a;};this.restore=function(S){if(S&&S.appRelatedElements){var b=S.appRelatedElements;a.aTriggers=b.aTriggers;a.extendedShellStates=b.extendedShellStates;a.oCheckPoints=b.oCheckPoints;a.customShellState=b.customShellState;}this._updateModel();s=a.customShellState;};this.store=function(m){};this.clean=function(){a=undefined;};this.destroy=function(m){};}return new R();},true);
sap.ui.predefine('sap/ushell/components/container/ApplicationContainer',["sap/ui/Device","sap/ushell/utils","sap/ushell/library","sap/m/MessagePopover","sap/ui/core/Component","sap/ui/core/ComponentContainer","sap/ui/core/Control","sap/ui/thirdparty/URI","sap/ushell/EventHub"],function(D,u,a,M,C,b,c,U,E){"use strict";var p="sap.ushell.components.container.",s=p+"ApplicationContainer",d="sap.ushell.Container.dirtyState.",l,S={"sap.ushell.services.CrossApplicationNavigation":{isTrustedPostMessageSourceFn:function(){return true;},oServiceCalls:{"hrefForExternal":{executeServiceCallFn:function(e){return new jQuery.Deferred().resolve(sap.ushell.Container.getService("CrossApplicationNavigation").hrefForExternal(e.oMessageData.body.oArgs)).promise();}},"getSemanticObjectLinks":{executeServiceCallFn:function(e){return sap.ushell.Container.getService("CrossApplicationNavigation").getSemanticObjectLinks(e.oMessageData.body.sSemanticObject,e.oMessageData.body.mParameters,e.oMessageData.body.bIgnoreFormFactors,undefined,undefined,e.oMessageData.body.bCompactIntents);}},"isIntentSupported":{executeServiceCallFn:function(e){return sap.ushell.Container.getService("CrossApplicationNavigation").isIntentSupported(e.oMessageData.body.aIntents);}},"isNavigationSupported":{executeServiceCallFn:function(e){return sap.ushell.Container.getService("CrossApplicationNavigation").isNavigationSupported(e.oMessageData.body.aIntents);}},"backToPreviousApp":{executeServiceCallFn:function(e){sap.ushell.Container.getService("CrossApplicationNavigation").backToPreviousApp();return new jQuery.Deferred().resolve().promise();}},"historyBack":{executeServiceCallFn:function(e){sap.ushell.Container.getService("CrossApplicationNavigation").historyBack(e.oMessageData.body.iSteps);return new jQuery.Deferred().resolve().promise();}},"getAppStateData":{executeServiceCallFn:function(e){return sap.ushell.Container.getService("CrossApplicationNavigation").getAppStateData(e.oMessageData.body.sAppStateKey);}},"toExternal":{executeServiceCallFn:function(e){var P=u.clone(e.oMessageData.body.oArgs);var Q=(P||{}).params;var R=Q&&Q.hasOwnProperty("sap-system");if(R){if(u.isPlainObject(Q["sap-system"])){var T=Q["sap-system"];var V=Q["sap-system-src"];var W=typeof V==="string";if(!W){e.storeSapSystemData(T);}else{e.storeSapSystemData(T,V);Q["sap-system-src"]=V;}Q["sap-system"]=T.id;}else if(e.matchesLocalSid(Q["sap-system"])){delete Q["sap-system"];}}return new jQuery.Deferred().resolve(sap.ushell.Container.getService("CrossApplicationNavigation").toExternal(P)).promise();}},"registerBeforeAppCloseEvent":{executeServiceCallFn:function(e){e.oContainer.setProperty("beforeAppCloseEvent",{enabled:true,params:e.oMessageData.body},true);return new jQuery.Deferred().resolve().promise();}}}},"sap.ushell.CrossApplicationNavigation":{isTrustedPostMessageSourceFn:function(){return true;},oServiceCalls:{"backToPreviousApp":{executeServiceCallFn:function(e){sap.ushell.Container.getService("CrossApplicationNavigation").backToPreviousApp();return new jQuery.Deferred().resolve().promise();}}}},"sap.ushell.ui5service.ShellUIService":{isTrustedPostMessageSourceFn:function(){return true;},oServiceCalls:{"setTitle":{executeServiceCallFn:function(e){return new jQuery.Deferred().resolve(e.oContainer.getShellUIService().setTitle(e.oMessageData.body.sTitle)).promise();}},"setBackNavigation":{executeServiceCallFn:function(e){return e.executeSetBackNavigationService(e.oMessage,e.oMessageData);}}}},"sap.ushell.services.Container":{isTrustedPostMessageSourceFn:function(){return true;},oServiceCalls:{"setDirtyFlag":{executeServiceCallFn:function(e){sap.ushell.Container.setDirtyFlag(e.oMessageData.body.bIsDirty);return new jQuery.Deferred().resolve().promise();}},"getFLPUrl":{executeServiceCallFn:function(e){return new jQuery.Deferred().resolve(sap.ushell.Container.getFLPUrl()).promise();}}}}},r;function f(T){var e=sap.ushell.Container.getService("CrossApplicationNavigation");e.isUrlSupported(T.url).done(function(){T.promise.resolve({"allowed":true,"id":T.id});}).fail(function(){T.promise.resolve({"allowed":false,"id":T.id});});}function i(){var e={"asyncURLHandler":O.prototype._adaptIsUrlSupportedResultForMessagePopover};if(M&&M.setDefaultHandlers){M.setDefaultHandlers(e);}}E.once("RendererExtensionPluginsLoaded").do(i);l=new u.Map();function g(e){return l.get(e.getId());}function h(e){var P=S[e.sService];if(P){Object.keys(e.oServiceCalls).forEach(function(R){P.oServiceCalls[R]=e.oServiceCalls[R];});return;}var Q={isTrustedPostMessageSourceFn:function(){return true;},oServiceCalls:{}};if(e.isTrustedPostMessageSourceFn){Q.isTrustedPostMessageSourceFn=e.isTrustedPostMessageSourceFn;}Object.keys(e.oServiceCalls).forEach(function(R){Q.oServiceCalls[R]=e.oServiceCalls[R];});S[e.sService]=Q;}function j(){return S;}function k(e){var P=jQuery.sap.getUriParameters(e).mParams,Q=P["sap-xapp-state"],R;delete P["sap-xapp-state"];R={startupParameters:P};if(Q){R["sap-xapp-state"]=Q;}return R;}function m(e,P){if(!r){r=jQuery.sap.resources({url:jQuery.sap.getModulePath(p)+"/resources/resources.properties",language:sap.ui.getCore().getConfiguration().getLanguage()});}return r.getText(e,P);}function n(){return new sap.ui.core.Icon({size:"2rem",src:"sap-icon://error",tooltip:O.prototype._getTranslatedText("an_error_has_occured")});}function o(e){var P=e.getAggregation("child"),Q;if(P instanceof b){Q=P.getComponentInstance().getMetadata().getName().replace(/\.Component$/,"");jQuery.sap.log.debug("unloading component "+Q,null,s);}e.destroyAggregation("child");}function q(e,P,Q){var R,T,V,W,X,Y,Z,$={},_,a1;V=P.indexOf("?");if(V>=0){Y=O.prototype._getParameterMap(P);$=Y.startupParameters;P=P.slice(0,V);}if(P.slice(-1)!=='/'){P+='/';}if(/\.view\.(\w+)$/i.test(Q)){X=/^SAPUI5=(?:([^\/]+)\/)?([^\/]+)\.view\.(\w+)$/i.exec(Q);if(!X){jQuery.sap.log.error("Invalid SAPUI5 URL",Q,s);return O.prototype._createErrorControl();}Z=X[1];_=X[2];a1=X[3].toUpperCase();if(Z){_=Z+"."+_;}else{W=_.lastIndexOf(".");if(W<1){jQuery.sap.log.error("Missing namespace",Q,s);return O.prototype._createErrorControl();}Z=_.slice(0,W);}}else{Z=Q.replace(/^SAPUI5=/,"");}jQuery.sap.registerModulePath(Z,P+Z.replace(/\./g,'/'));O.prototype._destroyChild(e);if(_){if(e.getApplicationConfiguration()){$.config=e.getApplicationConfiguration();}T=sap.ui.view({id:e.getId()+"-content",type:a1,viewData:$||{},viewName:_});e.fireEvent("applicationConfiguration");}else{jQuery.sap.log.debug("loading component "+Z,null,s);var b1=Y?{startupParameters:Y.startupParameters}:{startupParameters:{}};if(Y&&Y["sap-xapp-state"]){b1["sap-xapp-state"]=Y["sap-xapp-state"];}if(e.getApplicationConfiguration()){b1.config=e.getApplicationConfiguration();}R=sap.ui.component({id:e.getId()+"-component",componentData:b1,name:Z});e.fireEvent("applicationConfiguration",{"configuration":R.getMetadata().getConfig()});T=new b({id:e.getId()+"-content",component:R});}T.setWidth(e.getWidth());T.setHeight(e.getHeight());T.addStyleClass("sapUShellApplicationContainer");e.setAggregation("child",T,true);return T;}function t(e,P){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell",e,P);},0);}function v(e,P,Q){var R,T,V,W,X={startupParameters:{}},Y,Z=e.getComponentHandle(),$=sap.ushell.Container.getService("PluginManager"),_,a1;u.addTime("createUi5Component");R=P.indexOf("?");if(R>=0){W=O.prototype._getParameterMap(P);X={startupParameters:W.startupParameters};if(W["sap-xapp-state"]){X["sap-xapp-state"]=W["sap-xapp-state"];}P=P.slice(0,R);}if(e.getApplicationConfiguration()){X.config=e.getApplicationConfiguration();}if(P.slice(-1)!=='/'){P+='/';}O.prototype._destroyChild(e);Y={id:e.getId()+"-component",name:Q,componentData:X};jQuery.sap.log.debug("Creating component instance for "+Q,JSON.stringify(Y),s);sap.ui.getCore().getEventBus().publish("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",{name:Q});if(Z){T=Z.getInstance(Y);}else{jQuery.sap.registerModulePath(Q,P);jQuery.sap.log.error("No component handle available for '"+Q+"'; fallback to component.load()",null,s);T=sap.ui.component({id:e.getId()+"-component",name:Q,componentData:X});}e.fireEvent("applicationConfiguration",{"configuration":T.getMetadata().getConfig()});V=new b({id:e.getId()+"-content",component:T});V.setHeight(e.getHeight());V.setWidth(e.getWidth());V.addStyleClass("sapUShellApplicationContainer");e._disableRouterEventHandler=O.prototype._disableRouter.bind(this,T);sap.ui.getCore().getEventBus().subscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",e._disableRouterEventHandler);e.setAggregation("child",V,true);if($){_=$.getPluginLoadingPromise("RendererExtensions");a1=_&&_.state();if(a1==="pending"){_.done(function(){O.prototype._publishExternalEvent("appComponentLoaded",{component:T});}).fail(function(){O.prototype._publishExternalEvent("appComponentLoaded",{component:T});});}if(a1==="resolved"||a1==="rejected"){O.prototype._publishExternalEvent("appComponentLoaded",{component:T});}}O.prototype._publishExternalEvent("appComponentLoaded",{component:T});return V;}function w(e){var P;if((e instanceof C)&&(typeof e.getRouter==="function")){P=e.getRouter();if(P&&(typeof P.stop==="function")){jQuery.sap.log.info("router stopped for instance "+e.getId());P.stop();}}}function x(e){var P=document.createElement("a"),Q=jQuery.sap.getUriParameters(e).get("sap-client"),R;P.href=e;R=P.protocol+"//"+P.host;return new sap.ushell.System({alias:Q?R+"?sap-client="+Q:R,baseUrl:R,client:Q||undefined,platform:"abap"});}function y(e,P){var T=false,Q=e.getDomRef(),R=e.getApplicationType(),V,W;if(Q){if(u.isApplicationTypeEmbeddedInIframe(R)){V=U(Q.src||window.location&&window.location.href||'');W=V.protocol()+"://"+V.host();T=(P.source===Q.contentWindow)||(P.origin===W);}else if(R===sap.ushell.components.container.ApplicationType.URL){V=U();W=V.protocol()+"://"+V.host();T=(P.origin===W);}}return T;}function z(e,P,Q){var R=JSON.stringify({type:"request",service:P,request_id:jQuery.sap.uid(),body:{}});jQuery.sap.log.debug("Sending post message request to origin ' "+Q+"': "+R,null,"sap.ushell.components.container.ApplicationContainer");e.postMessage(R,Q);}function A(){var e=this.getDomRef();if(!e||e.tagName!=="IFRAME"){return null;}return e;}function B(P,Q,R){var T=jQuery.sap.getObject("sap-ushell-config.services.PostMessage.config",0),V=R&&R.service,W,X,Y,Z,$=false;jQuery.sap.log.debug("Received post message request from origin '"+Q.origin+"': "+JSON.stringify(R),null,"sap.ushell.components.container.ApplicationContainer");if(R.type!=="request"||!V){return;}for(var _ in S){if(S.hasOwnProperty(_)){if(V.indexOf(_)!==-1){X=S[_];Y=_;$=true;break;}}}if($===false){return;}W=V.split(".")[3];if(T&&T.enabled===false){jQuery.sap.log.warning("Received message for "+W+", but this "+"feature is disabled. It can be enabled via launchpad configuration "+"property 'services.PostMessage.config.enabled: true'",undefined,"sap.ushell.components.container.ApplicationContainer");return;}if(!O.prototype._isTrustedPostMessageSource(P,Q)||!X.isTrustedPostMessageSourceFn(P,Q)){jQuery.sap.log.warning("Received message from untrusted origin '"+Q.origin+"': "+JSON.stringify(Q.data),null,"sap.ushell.components.container.ApplicationContainer");return;}function a1(e,h1){var i1=JSON.stringify({type:"response",service:R.service,request_id:R.request_id,status:e,body:h1});jQuery.sap.log.debug("Sending post message response to origin ' "+Q.origin+"': "+i1,null,"sap.ushell.components.container.ApplicationContainer");if(typeof Q.source!=="object"||Q.source===null){jQuery.sap.log.debug("Cannot send response message to origin ' "+Q.origin,"`source` member of request message is not an object","sap.ushell.components.container.ApplicationContainer");return;}Q.source.postMessage(i1,Q.origin);}function b1(Q,R){var e=new jQuery.Deferred(),h1;if(R.body&&R.body.callbackMessage&&R.body.callbackMessage.service){h1=O.prototype._backButtonPressedCallback.bind(null,Q.source,R.body.callbackMessage.service,Q.origin);}e.resolve(P.getShellUIService().setBackNavigation(h1));return e.promise();}function c1(h1,i1){var j1,k1,l1,m1=[h1.id];if(arguments.length>1){m1.unshift(i1);}try{l1=JSON.stringify(h1);}catch(e){jQuery.sap.log.error("Cannot stringify and store expanded system data: "+e);}if(l1){k1=u.getLocalStorage();j1=u.generateLocalStorageKey("sap-system-data",m1);k1.setItem(j1,l1);}}function d1(){var e=sap.ushell.Container.getLogonSystem();var h1=e.getName();var i1=e.getClient();return"sid("+h1+"."+i1+")";}function e1(e){return d1().toLowerCase()===e.toLowerCase();}var f1={matchesLocalSid:e1,getLocalSystemInSidForma:d1,storeSapSystemData:c1,executeSetBackNavigationService:b1,sendResponseMessage:a1,oMessage:Q,oMessageData:R,oContainer:P,oAppIsolationService:P.getAppIsolationService()};try{Z=X.oServiceCalls[R.service.replace(Y+".","")];if(Z&&Z.executeServiceCallFn){Z.executeServiceCallFn(f1).done(function(e){a1("success",{result:e});}).fail(function(e){a1("error",{message:e});});}else{a1("error",{message:"Unknown service name: '"+R.service+"'"});}}catch(g1){a1("error",{message:g1.message});}}function F(P,Q){var R=P.getUi5ComponentName&&P.getUi5ComponentName(),T=Q.data;if(typeof T==="string"){try{T=JSON.parse(Q.data);}catch(e){jQuery.sap.log.debug("Message received from origin '"+Q.origin+"' cannot be parsed: "+e,T,"sap.ushell.components.container.ApplicationContainer");return;}}if(typeof R==="string"&&P.getIsolated()!==true){jQuery.sap.log.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(T)+"' on container of UI5 application '"+R+"'","Only non UI5 application containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return;}if(!P.getActive()){jQuery.sap.log.debug("Skipping handling of postMessage 'message' event with data '"+JSON.stringify(T)+"' on inactive container '"+P.getId()+"'","Only active containers can handle 'message' postMessage event","sap.ushell.components.container.ApplicationContainer");return;}if(T.action==="pro54_setGlobalDirty"&&localStorage.getItem(P.globalDirtyStorageKey)===sap.ushell.Container.DirtyState.PENDING){if(!O.prototype._isTrustedPostMessageSource(P,Q)){jQuery.sap.log.warning("Received message from untrusted origin: "+Q.origin,T,"sap.ushell.components.container.ApplicationContainer");return;}jQuery.sap.log.debug("getGlobalDirty() pro54_setGlobalDirty SetItem key:"+P.globalDirtyStorageKey+" value: "+T.parameters.globalDirty,null,"sap.ushell.components.container.ApplicationContainer");u.localStorageSetItem(P.globalDirtyStorageKey,T.parameters.globalDirty,true);}else{O.prototype._handleServiceMessageEvent(P,Q,T);}}function G(e,P){var Q=e._getIFrame(),R=e.getApplicationType();if(u.isApplicationTypeEmbeddedInIframe(e.getApplicationType(R))&&Q){Q.contentWindow.postMessage(JSON.stringify({action:"pro54_disableDirtyHandler"}),"*");P.preventDefault();}}function H(R,e,P){R.write("<div").writeControlData(e).writeAccessibilityState(e).addClass("sapUShellApplicationContainer").writeClasses(e).addStyle("height",e.getHeight()).addStyle("width",e.getWidth()).writeStyles().write(">").renderControl(P);R.write("</div>");}function I(P,Q){var R=Q==="TR"?"":"-NWBC";var V,T=function(){var V,W;try{V=sap.ui.getVersionInfo().version;}catch(e){jQuery.sap.log.error("sap ui version could not be determined, using sap.ui.version (core version) as fallback "+e);V=window.sap&&sap.ui&&sap.ui.version;}W=/\d+\.\d+\.\d+/.exec(V);if(W&&W[0]){V=W[0];}else{V=undefined;}return V;};V=T();if(V){P+=P.indexOf("?")>=0?"&":"?";P+="sap-shell="+encodeURIComponent("FLP"+V+R);}return P;}function J(e,P,T,R){var Q,V=function(){var Y=u.getParameterValueBoolean("sap-accessibility");if(Y!==undefined){return Y;}return sap.ushell.Container.getUser().getAccessibilityMode();},W=function(){var Y=jQuery.sap.getUriParameters(e)||{mParams:{}};if(Y.mParams["sap-theme"]===undefined){return sap.ushell.Container.getUser().getTheme(sap.ushell.User.prototype.constants.themeFormat.NWBC);}return undefined;},X=function(){var Y=false,Z=jQuery.sap.getUriParameters(e)||{mParams:{}};Y=sap.ui.getCore().getConfiguration().getStatistics()&&!Z.mParams.hasOwnProperty("sap-statistics");return Y;};e+=e.indexOf("?")>=0?"&":"?";e+="sap-ie=edge";Q=W();if(Q){e+=e.indexOf("?")>=0?"&":"?";e+="sap-theme="+encodeURIComponent(Q);}if(T){e+=e.indexOf("?")>=0?"&":"?";e+="sap-target-navmode="+encodeURIComponent(T);}if(V()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-accessibility=X";}if(X()){e+=e.indexOf("?")>=0?"&":"?";e+="sap-statistics=true";}if(R){e+=e.indexOf("?")>=0?"&":"?";e+="sap-keepclientsession=1";}return I(e,P);}function K(R,e,P,Q){var T=e.getAggregation("child");if(!T||e._bRecreateChild){T=O.prototype._createUi5Component(e,P,Q);e._bRecreateChild=false;}O.prototype._renderControlInDiv(R,e,T);}function L(e,P,V){var Q=e.getProperty(P);if(jQuery.sap.equal(Q,V)){return;}e.setProperty(P,V);e._bRecreateChild=true;}function N(R,e,P,Q,T){var V;localStorage.removeItem(e.globalDirtyStorageKey);if(T&&T.indexOf("SAPUI5.Component=")===0&&P===sap.ushell.components.container.ApplicationType.URL&&!!!e.getIsolated()){K(R,e,Q,T.replace(/^SAPUI5\.Component=/,""));return;}if(T&&T.indexOf("SAPUI5=")===0&&P===sap.ushell.components.container.ApplicationType.URL&&!!!e.getIsolated()){O.prototype._renderControlInDiv(R,e,O.prototype._createUi5View(e,Q,T));return;}jQuery.sap.log.debug("Not resolved as \"SAPUI5.Component=\" or \"SAPUI5=\" , "+"will attempt to load into iframe "+T);if(!e.getActive()){jQuery.sap.log.debug("Skipping rendering container iframe","Container '"+e.getId()+"' is inactive");return;}try{if(!!!e.getIsolated()){Q=e.getFrameSource(P,Q,T);}else{Q=e.getIframeUrl();}}catch(W){jQuery.sap.log.error(W.message||W,null,s);e.fireEvent("applicationConfiguration");R.renderControl(O.prototype._createErrorControl());return;}if(sap.ushell.Container){V=O.prototype._getLogoutHandler(e);if(!V){if(u.isApplicationTypeEmbeddedInIframe(P)){V=O.prototype._logout.bind(null,e);l.put(e.getId(),V);sap.ushell.Container.attachLogoutEvent(V);sap.ushell.Container.addRemoteSystem(O.prototype._createSystemForUrl(Q));}}else if(!u.isApplicationTypeEmbeddedInIframe(P)){sap.ushell.Container.detachLogoutEvent(V);l.remove(e.getId());}}if(u.isApplicationTypeEmbeddedInIframe(P)||!!e.getIsolated()){var X=(!!e.getIsolated()?"inplace":e.getTargetNavigationMode());if(!!!e.getIsolated()){Q=O.prototype._adjustNwbcUrl(Q,P,X,e.getIsStateful());}u.localStorageSetItem(e.globalDirtyStorageKey,sap.ushell.Container.DirtyState.INITIAL);}e.fireEvent("applicationConfiguration");R.write("<iframe").writeControlData(e).writeAccessibilityState(e).writeAttributeEscaped("src",Q).addClass("sapUShellApplicationContainer").writeClasses(e).addStyle("height",e.getHeight()).addStyle("width",e.getWidth()).writeStyles().write("></iframe>");}var O=c.extend(s,{metadata:{properties:{additionalInformation:{defaultValue:"",type:"string"},application:{type:"object"},applicationConfiguration:{type:"object"},applicationType:{defaultValue:"URL",type:p+"ApplicationType"},height:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},navigationMode:{defaultValue:"",type:"string"},targetNavigationMode:{defaultValue:"",type:"string"},text:{defaultValue:"",type:"string"},url:{defaultValue:"",type:"string"},visible:{defaultValue:true,type:"boolean"},active:{defaultValue:true,type:"boolean"},"sap-system":{defaultValue:undefined,type:"string"},applicationDependencies:{type:"object"},componentHandle:{type:"object"},ui5ComponentName:{type:"string"},width:{defaultValue:"100%",type:"sap.ui.core.CSSSize"},shellUIService:{type:"object"},appIsolationService:{type:"object"},reservedParameters:{type:"object"},coreResourcesFullyLoaded:{type:"boolean"},isStateful:{defaultValue:false,type:"boolean"},isolated:{defaultValue:false,type:"boolean"},iframeUrl:{defaultValue:"",type:"string"},appLifeCycle:{type:"object"},iframeHandlers:{defaultValue:"",type:"string"},beforeAppCloseEvent:{type:"object"}},events:{"applicationConfiguration":{}},aggregations:{child:{multiple:false,type:"sap.ui.core.Control",visibility:"hidden"}},library:"sap.ushell",designtime:"sap/ushell/designtime/ApplicationContainer.designtime"},exit:function(){var e,P=this;if(sap.ushell.Container){e=O.prototype._getLogoutHandler(P);if(e){sap.ushell.Container.detachLogoutEvent(e);l.remove(P.getId());}}localStorage.removeItem(P.globalDirtyStorageKey);if(P._unloadEventListener){removeEventListener("unload",P._unloadEventListener);}if(P._disableRouterEventHandler){sap.ui.getCore().getEventBus().unsubscribe("sap.ushell.components.container.ApplicationContainer","_prior.newUI5ComponentInstantion",P._disableRouterEventHandler);}if(P._storageEventListener){removeEventListener("storage",P._storageEventListener);}if(P._messageEventListener){removeEventListener("message",P._messageEventListener);}O.prototype._destroyChild(P);if(c.exit){c.exit.apply(P);}},init:function(){var e=this;e.globalDirtyStorageKey=d+jQuery.sap.uid();e._unloadEventListener=e.exit.bind(e);addEventListener("unload",e._unloadEventListener);e._storageEventListener=function(P){var Q=e.getApplicationType();if(P.key===e.globalDirtyStorageKey&&P.newValue===sap.ushell.Container.DirtyState.PENDING&&u.isApplicationTypeEmbeddedInIframe(Q)){var R=e._getIFrame();if(R){jQuery.sap.log.debug("getGlobalDirty() send pro54_getGlobalDirty ",null,"sap.ushell.components.container.ApplicationContainer");R.contentWindow.postMessage(JSON.stringify({action:"pro54_getGlobalDirty"}),'*');}}};addEventListener('storage',e._storageEventListener);e._messageEventListener=O.prototype._handleMessageEvent.bind(null,e);addEventListener('message',e._messageEventListener);},onAfterRendering:function(e){if(this.getIsStateful()){this.rerender=function(){};}if(D.os.ios&&this.$().prop("tagName")==="IFRAME"){this.$().parent().css("overflow","auto");}},renderer:function(R,e){var P=e.getApplication(),Q=e.launchpadData,T;if(!e.getVisible()){O.prototype._renderControlInDiv(R,e);return;}if(e.error){delete e.error;O.prototype._renderControlInDiv(R,e,O.prototype._createErrorControl());}else if(!P){O.prototype._render(R,e,e.getApplicationType(),e.getUrl(),e.getAdditionalInformation());}else if(!P.isResolvable()){O.prototype._render(R,e,P.getType(),P.getUrl(),"");}else if(Q){O.prototype._render(R,e,Q.applicationType,Q.Absolute.url.replace(/\?$/,""),Q.applicationData);}else{jQuery.sap.log.debug("Resolving "+P.getUrl(),null,s);P.resolve(function(V){jQuery.sap.log.debug("Resolved "+P.getUrl(),JSON.stringify(V),s);e.launchpadData=V;O.prototype._destroyChild(e);},function(V){var W=P.getMenu().getDefaultErrorHandler();if(W){W(V);}O.prototype._destroyChild(e);e.error=V;});T=new sap.m.Text({text:O.prototype._getTranslatedText("loading",[P.getText()])});O.prototype._destroyChild(e);e.setAggregation("child",T);O.prototype._renderControlInDiv(R,e,T);}}});O.prototype.getFrameSource=function(e,P,Q){if(!Object.prototype.hasOwnProperty.call(sap.ushell.components.container.ApplicationType,e)){throw new Error("Illegal application type: "+e);}return P;};O.prototype.setUrl=function(V){L(this,"url",V);};O.prototype.setAdditionalInformation=function(V){L(this,"additionalInformation",V);};O.prototype.setApplicationType=function(V){L(this,"applicationType",V);};O.prototype.createPostMessageRequest=function(e,P){var R=Date.now().toString();return{"type":"request","request_id":R,"service":e,"body":P};};O.prototype.registerShellCommunicationHandler=function(e){var P=this;if(Array.isArray(e)){e.forEach(function(Q){P._addShellCommunicationHandler(Q);});}else{this._addShellCommunicationHandler(e);}};O.prototype.setNewTRApplicationContext=function(e){var P=this._getIFrame();if(!P){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."});}e=I(e);var R=this.createPostMessageRequest("sap.its.startService",{"url":e});return this.postMessageToIframe(R,P,true).catch(function(Q){return Promise.reject({eventData:Q,message:"Failed to change application context."});});};O.prototype.postMessageToIframe=function(P,Q,W){var R=this;var T=P.request_id;return new Promise(function(V,X){function Y($){var _;try{_=JSON.parse($.data);if(T!==_.request_id){return;}if("success"===_.status){V(_);}else{X(_);}window.removeEventListener("message",Y);}catch(e){V();jQuery.sap.log.warning("Obtained bad response from framework in response to message "+P.request_id);jQuery.sap.log.debug("Underlying framework returned invalid response data: '"+$.data+"'");}}var Z=JSON.stringify(P);jQuery.sap.log.debug("Sending postMessage "+Z+" to application container '"+R.getId()+"'");if(W){window.addEventListener("message",Y,false);Q.contentWindow.postMessage(Z,"*");}else{Q.contentWindow.postMessage(Z,"*");V();}});};O.prototype.setNewApplicationContext=function(e,P){var Q=this;var R=this["setNew"+e+"ApplicationContext"];if(!R){return Promise.reject({message:"Unsupported application type"});}var T=this._getIFrame();if(!T){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."});}var V=this.createPostMessageRequest("sap.gui.triggerCloseSessionImmediately",{});return this.postMessageToIframe(V,T,true).then(function(){return R.call(Q,P);},function(W){return Promise.reject({eventData:W,message:"Failed to change application context."});});};O.prototype.onApplicationOpened=function(e){var P=this.getIsStateful();if(!P){return Promise.resolve();}var Q=this.getApplicationType();if(Q==="TR"&&e!=="TR"){var R=this._getIFrame();if(!R){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."});}var T=this.createPostMessageRequest("sap.gui.triggerCloseSession",{});return this.postMessageToIframe(T,R,false).catch(function(V){return Promise.reject({eventData:V,message:"Failed to change application context."});});}return Promise.resolve();};O.prototype.postMessageRequest=function(e){var P=this._getIFrame();if(!P){return Promise.reject({message:"Expected an exisiting TR application application frame but found none."});}var R=this.createPostMessageRequest(e,{});return this.postMessageToIframe(R,P,false).catch(function(Q){return Promise.reject({eventData:Q,message:"Failed to post message."});});};O.prototype.sendBeforeAppCloseEvent=function(){var e=this.getBeforeAppCloseEvent&&this.getBeforeAppCloseEvent(),R;if(e&&e.enabled&&e.enabled===true){R=this.createPostMessageRequest("sap.ushell.services.CrossApplicationNavigation.beforeAppCloseEvent",e.params);return this.postMessageToIframe(R,this._getIFrame(),true);}else{return undefined;}};O.prototype._addShellCommunicationHandler=h;O.prototype._getCommunicationHandlers=j;O.prototype._adaptIsUrlSupportedResultForMessagePopover=f;O.prototype._getLogoutHandler=g;O.prototype._getParameterMap=k;O.prototype._getTranslatedText=m;O.prototype._createErrorControl=n;O.prototype._destroyChild=o;O.prototype._createUi5View=q;O.prototype._publishExternalEvent=t;O.prototype._createUi5Component=v;O.prototype._disableRouter=w;O.prototype._createSystemForUrl=x;O.prototype._isTrustedPostMessageSource=y;O.prototype._handleServiceMessageEvent=B;O.prototype._handleMessageEvent=F;O.prototype._logout=G;O.prototype._renderControlInDiv=H;O.prototype._adjustNwbcUrl=J;O.prototype._render=N;O.prototype._backButtonPressedCallback=z;O.prototype._getIFrame=A;return O;},true);
sap.ui.predefine('sap/ushell/components/homepage/ComponentKeysHandler',['sap/ushell/ui/launchpad/AccessibilityCustomData','sap/ushell/EventHub'],function(A,E){"use strict";var C=function(){};C.prototype={keyCodes:jQuery.sap.KeyCodes,tileFocusCustomData:new A({key:"tabindex",value:"0",writeToDom:true}),goToTileContainer:function(){if(this.oModel.getProperty('/tileActionModeActive')){this.goToFirstVisibleTileContainer();}else{this.goToLastVisitedTile();}},goToFirstVisibleTileContainer:function(){var j=jQuery('#dashboardGroups').find('.sapUshellTileContainer:visible'),t=this.oModel.getProperty("/topGroupInViewPortIndex");if(j.length){var a=jQuery(j.get(t));if(a.length){this._setTileContainerSelectiveFocus(a);}}},goToLastVisitedTile:function(j,l){var a,b,d;if(l){var e=jQuery('#dashboardGroups').find('.sapUshellTileContainer:visible'),t=this.oModel.getProperty("/topGroupInViewPortIndex");var f=j||jQuery(e.get(t));a=f.find(".sapUshellTile:visible:first");b=f.find(".sapUshellTile:visible[tabindex=0]");d=f.find(".sapMGTLineMode:visible[tabindex=0]");if(a.length===0){a=jQuery(".sapUshellTile:visible:first");}}else{a=jQuery(".sapUshellTile:visible:first");b=jQuery(".sapUshellTile:visible[tabindex=0]");d=jQuery(".sapMGTLineMode:visible[tabindex=0]");}if(b.length){this._moveScrollDashboard(b);}else if(d.length){this._moveScrollDashboard(d);}else if(a.length){a.attr("tabindex","0");this._moveScrollDashboard(a);}},_goToFirstTileOfNextGroup:function(d,e){this._preventDefault(e);var i=this._getGroupAndTilesInfo();if(i){var n=this._getNextGroup(d,i.oGroup,false,true);if(n){this._goToTileOfGroup("first",n);}}},_goToTileOfGroup:function(p,g){if(g){var a=g.getTiles();if(this.oModel.getProperty('/tileActionModeActive')){a.push(g.oPlusTile);}a=a.concat(g.getLinks());p=p==="first"?0:p;p=p==="last"?a.length-1:p;var t=a[p];if(t&&t.getDomRef()){var j=jQuery(t.getDomRef());if(j.length===1){this._moveScrollDashboard(j);return true;}}}return false;},_moveTile:function(d){var i=this._getGroupAndTilesInfo(),D=this._getNextTile(d,true,i);if(D){var o=D.getParent(),s=D.getMode?D.getMode():'ContentMode',a=i.oCurTile.getMode?i.oCurTile.getMode():'ContentMode',b=s==='LineMode'?o.getLinks():o.getTiles(),n=0;if(i.oGroup===o){n=b.indexOf(D);if(a==="LineMode"&&s==="ContentMode"&&d==="left"){n=b.length;}}else if(d==="left"||d==="up"){n=b.length;}var e,f,t=this;if(a===s){var g=jQuery(".sapUshellDashboardView").control(0);e="movetile";f={sTileId:g.getController()._getTileUuid(i.oCurTile),toGroupId:o.getGroupId?o.getGroupId():o.groupId,toIndex:n,sToItems:a==='LineMode'?'links':'tiles',sFromItems:a==='LineMode'?'links':'tiles',sTileType:a==='LineMode'?'link':'tile'};if(s==="LineMode"){f.callBack=function(){setTimeout(function(){var b=s==='LineMode'?o.getLinks():o.getTiles();t._moveScrollDashboard(b[n].$());},10);};}else{setTimeout(function(){var b=s==='LineMode'?o.getLinks():o.getTiles();t._moveScrollDashboard(b[n].$());},10);}}else{e="convertTile";f={toGroupId:o.getGroupId?o.getGroupId():o.groupId,srcGroupId:i.oGroup.getGroupId?i.oGroup.getGroupId():i.oGroup.groupId,toIndex:n,callBack:function(){setTimeout(function(){var b=s==='LineMode'?o.getLinks():o.getTiles();t._moveScrollDashboard(b[n].$());},10);},tile:i.oCurTile,longDrop:false};}sap.ui.getCore().getEventBus().publish("launchpad",e,f);}},callbackSetFocus:function(t){var a=this;setTimeout(function(){if(t.oParent&&t.oParent instanceof sap.ushell.ui.launchpad.Tile){a._moveScrollDashboard(jQuery(t.oParent.getDomRef()));}else{a._moveScrollDashboard(t.$());}});},_getTileCenter:function(d,t,T){if(!(T instanceof HTMLElement)){var j=T.$().find(".sapMGTLineStyleHelper");if(T.isLink&&j&&j.length>1){if(d==="down"){return t.right;}return t.left;}}return t.right-((t.right-t.left)/2);},_getTileRect:function(d,t){if(t instanceof HTMLElement){return t.getBoundingClientRect();}var j=t.$().find(".sapMGTLineStyleHelper");if(t.isLink&&j&&j.length){if(d==="down"){return j.get(j.length-1).getBoundingClientRect();}else{return j.get(0).getBoundingClientRect();}}if(t.getDomRef()){return t.getDomRef().getBoundingClientRect();}},_findClosestTile:function(d,t,o){var a=this._getTileRect(d,o),n=this._getTileCenter(d,a,o);var b,e=Infinity,f=d==="down"?1:-1,g=t.indexOf(o)+f,h;for(;;g+=f){var T=t[g];if(!T){return b;}if(!b){if(d==="down"&&g===t.length-1){return T;}if(d==="up"&&g===0){return T;}}var i=this._getTileRect(d,T);if(!i){return b;}if(d==="down"&&a.bottom+5>=i.bottom){continue;}if(d==="up"&&a.top-5<=i.top){continue;}if(b&&h!=i.top){return b;}h=i.top;var j=Math.min(Math.abs(i.left-n),Math.abs(i.right-n));if(e>j){e=j;b=T;}else{return b;}}},_getNextTile:function(d,m,g){var i=g||this._getGroupAndTilesInfo(),l=true;if(!i||(m&&i.oGroup.getProperty('isGroupLocked'))){return null;}if(m){var t=i.oCurTile.getBindingContext().getObject().object;l=sap.ushell.Container.getService("LaunchPage").isLinkPersonalizationSupported(t);}if(d==="right"||d==="left"){var f=i.oCurTile.isLink?i.aLinks:i.aTiles,n=f.indexOf(i.oCurTile),a=d==="right"?n+1:n-1;if(f[a]&&f[a].getDomRef()){if(m&&f[a]===i.oGroup.oPlusTile){}else{return f[a];}}if(d==="right"&&!i.oCurTile.isLink&&i.aLinks.length&&l){return i.aLinks[0];}if(d==="left"&&i.oCurTile.isLink&&i.aTiles.length){return i.oGroup.getShowPlaceholder()?i.oGroup.oPlusTile:i.aTiles[i.aTiles.length-1];}}var N=this._getNextGroup(d,i.oGroup,m,l);if(N&&d==="right"){if(N.getTiles().length===0&&(N.getLinks().length===0)){return N.oPlusTile;}else if(N.getTiles().length===0){return N.getLinks()[0];}else{return N.getTiles()[0];}}if(N&&d==="left"){if(N.getTiles().length===0&&(N.getLinks().length===0)){return N.oPlusTile;}else if(N.getLinks().length===0){return N.getTiles()[N.getTiles().length-1];}else{return N.getLinks()[N.getLinks().length-1];}}if(d==="down"||d==="up"){var G=l?i.aTiles.concat(i.aLinks):i.aTiles,b=[];if(N){b=l?N.getTiles().concat(N.getLinks()):N.getTiles();if(b.length===0){b.push(N.oPlusTile);}}var j=(d==="down")?G.concat(b):b.concat(G);return this._findClosestTile(d,j,i.oCurTile);}},_getNextGroup:function(d,o,m,l){var n,a,g=o.getParent().getGroups(),b=g.indexOf(o),e=b;if(d==="down"||d==="right"){a=1;}else if(d==="up"||d==="left"){a=-1;}else{jQuery.sap.log.error("Direction is unkown",d,"sap.ushell.components.homepage.ComponentKeysHandler");return null;}e+=a;while(g[e]){n=g[e];var f=l?n.getTiles().concat(n.getLinks()):n.getTiles();var i=n.getVisible()&&!(n.getIsGroupLocked()&&m)&&!(f.length===0&&!(m||this.oModel.getProperty('/tileActionModeActive')));if(i){return n;}e+=a;}},_getGroupAndTilesInfo:function(){var j=this._getFocusOnTile(jQuery(document.activeElement));if(!j||!j.length){return null;}var o=j.control(0);o.isLink=j.hasClass('sapUshellLinkTile')||j.hasClass('sapMGTLineMode');var g=j.closest(".sapUshellTileContainer").control(0);if(!g){return null;}var t=g.getTiles();if(g.getShowPlaceholder()){t.push(g.oPlusTile);}return{oCurTile:o,oGroup:g,aTiles:t,aLinks:g.getLinks()};},_goToSiblingElementInTileContainer:function(d,j){var a=j.closest('.sapUshellTileContainer'),b,e,f;b=j.closest('.sapUshellTileContainerBeforeContent');if(b.length){if(d==='up'||d==="left"){this._goToNextTileContainer(b,d);}else{f=a.find('.sapUshellTileContainerHeader:first');this._setTabIndexOnTileContainerHeader(f);f.focus();}return;}b=j.closest('.sapUshellTileContainerHeader');if(b.length){if(d==='up'){this._setTabIndexOnTileContainerHeader(f);if(!this._goToTileContainerBeforeContent(a)){this._goToNextTileContainer(b,d);}}else if(d==="down"){e=a.find('.sapUshellTile:first');if(e.length){this._moveScrollDashboard(jQuery(e));}else{this._goToNextTileContainer(b,d);}}else if(d==="left"){if(j.hasClass("sapUshellTileContainerHeader")){if(!this._goToTileContainerBeforeContent(a)){this._goToNextTileContainer(b,"left");}}else{f=j.closest(".sapUshellTileContainerHeader");f.focus();}}else if(d==="right"){var g=j.hasClass("sapMInputBaseInner");if(!g){e=a.find('.sapUshellTile:first');if(e.length){this._moveScrollDashboard(e);}else{this._goToNextTileContainer(b,"down");}}}return;}b=this._getFocusOnTile(j);if(b){this._goFromFocusedTile(d,b,true);return;}b=j.closest('.sapUshellTileContainerAfterContent');if(b.length){if(d==='up'||d==="left"){this._goToTileOfGroup("first",b.control(0));}else{this._goToNextTileContainer(b,d);}}},_goToNextTileContainer:function(j,d){var a=j.closest('.sapUshellTileContainer');if(a.length===1){var b=jQuery('.sapUshellTileContainer:visible'),n=(d==='down')?1:-1,e=jQuery(b[b.index(a)+n]);if(e.length===1){var f=e.find('.sapUshellTileContainerHeader');if(d==='down'){if(!this._goToTileContainerBeforeContent(e)){this._setTabIndexOnTileContainerHeader(f);this._setTileContainerSelectiveFocus(e);}}else if(!this._goToTileContainerAfterContent(e)){if(d==="up"||d==="left"){var s=d==="up"?"first":"last";if(!this._goToTileOfGroup(s,e.control(0))){this._setTabIndexOnTileContainerHeader(f);f.focus();}}}}}},_goToTileContainerBeforeContent:function(j){var a=j.hasClass('sapUshellTileContainer')?j:j.closest('.sapUshellTileContainer'),b=a.find('.sapUshellTileContainerBeforeContent button:visible');if(b.length){b.focus();return true;}else{return false;}},_goToTileContainerAfterContent:function(j){var a=j.hasClass('sapUshellTileContainer')?j:j.closest('.sapUshellTileContainer'),b=a.find('.sapUshellTileContainerAfterContent button:visible');if(b.length){b.focus();return true;}else{return false;}},_goFromFocusedTile:function(d,j,i){var n=this._getNextTile(d);if(n){var a=n.$();if(i){var b=jQuery(j).closest('.sapUshellTileContainer'),e=n.oParent.$();if(b.get(0).id===e.get(0).id){this._moveScrollDashboard(a);}else if(d==='down'||d==='right'){if(!this._goToTileContainerAfterContent(b)){this._setTabIndexOnTileContainerHeader(e.find('.sapUshellTileContainerHeader'));this._setTileContainerSelectiveFocus(e);}}else if(d==='up'||d==='left'){var f=b.find('.sapUshellTileContainerHeader');this._setTabIndexOnTileContainerHeader(f);f.focus();}}else{this._moveScrollDashboard(a);}}},_setTabIndexOnTileContainerHeader:function(j){jQuery(".sapUshellTileContainerHeader").attr("tabindex",-1);jQuery(".sapUshellTileContainerHeader .sapUshellContainerTitle").attr("tabindex",-1);jQuery(".sapUshellTileContainerHeader .sapUshellContainerHeaderActions button").attr("tabindex",-1);if(j){var a=j.find('.sapUshellContainerTitle:first'),b=j.find('.sapUshellContainerHeaderActions:first');j.attr('tabindex',0);a.attr('tabindex',0);b.find('button').attr('tabindex',0);}},_setTileContainerSelectiveFocus:function(j){var a=jQuery('#dashboardGroups').find('.sapUshellTileContainer:visible'),b=j.find('.sapUshellTileContainerBeforeContent button'),d=j.find('.sapUshellTileContainerHeader:first'),B=b.length&&b.is(":visible");if(B){b.focus();}else if(j.get(0)===a.get(0)){this.goToLastVisitedTile();}else if(d.length){this._setTabIndexOnTileContainerHeader(d);d.focus();}},setTileFocus:function(j){if(!j.hasClass('sapUshellPlusTile')){if(j.parents('#catalogView').length>0){this.setFocusOnCatalogTile(j.find('[tabindex]').eq(0));}}jQuery(".sapUshellTile [tabindex = 0]").get().forEach(function(h){jQuery(h).attr("tabindex",-1);});jQuery(".sapUshellTile:visible[tabindex=0]").get().forEach(function(h){jQuery(h).attr("tabindex",-1);});jQuery(".sapMGTLineMode [tabindex = 0]").get().forEach(function(h){jQuery(h).attr("tabindex",-1);});jQuery(".sapUshellLinkTile [tabindex = 0]").get().forEach(function(h){jQuery(h).attr("tabindex",-1);});if(j.length>0){j.attr("tabindex",0);var a=jQuery("#Fiori2LoadingDialog")[0];if(!a||a.style.visibility==="hidden"){if(j.prop("tagName")==="DIV"&&jQuery(j).hasClass("sapUshellLinkTile")&&j.getMode==undefined){j=j.find("a").length?j.find("a")[0]:j;}j.focus();if(j[0]&&j[0].id){var t=sap.ui.getCore().byId(j[0].id);var b=this.tileFocusCustomData.getParent&&this.tileFocusCustomData.getParent();if(b){b.removeAggregation("customData",this.tileFocusCustomData,true);}if(t&&sap.ui.getCore().byId(t.getId())&&this.tileFocusCustomData&&sap.ui.getCore().byId(this.tileFocusCustomData.getId())){t.addAggregation("customData",this.tileFocusCustomData,true);}}}}else{var d=jQuery(j.prevObject.selector.substring(0,j.prevObject.selector.length-3));if(d.length>0){var o=d.control(0),i={oCurTile:o.oPlusTile,oGroup:o,aTiles:o.getTiles(),aLinks:o.getLinks()},n=this._getNextTile("left",false,i);if(!n){n=this._getNextTile("right",false,i);}jQuery(n.getDomRef()).attr("tabindex",0);}}},setFocusOnCatalogTile:function(j){var p=jQuery(".sapUshellTile[tabindex=0]"),a,v;if(p.length){jQuery(".sapUshellTileContainerContent [tabindex=0]").get().forEach(function(h){jQuery(h).attr("tabindex",-1);});a=p.find('[tabindex], a').andSelf().filter('[tabindex], a');a.attr("tabindex",-1);}if(!j){v=jQuery(".sapUshellTile:visible,.sapUshellAppBox:visible");if(v.length){j=jQuery(v[0]);}else{return;}}j.attr("tabindex",0);j.find("button").attr("tabindex",0);j.focus();},_moveScrollDashboard:function(j){var y=-1*(document.getElementById('dashboardGroups').getBoundingClientRect().top)+j[0].getBoundingClientRect().top;jQuery('#sapUshellDashboardPage section').stop().animate({scrollTop:y},0,function(){this.setTileFocus(j);}.bind(this));},_moveGroupFromDashboard:function(d,j){var a,t=jQuery(".sapUshellDashboardGroupsContainerItem"),i,b;a=j.closest(".sapUshellDashboardGroupsContainerItem");i=t.index(a);b=d=="up"||d=="left"?i-1:i+1;this._moveGroup(i,b);},_moveGroup:function(f,t){if(t<0||t>=jQuery(".sapUshellDashboardGroupsContainerItem").length||t<jQuery(".sapUshellDisableDragAndDrop").length){return;}sap.ui.getCore().getEventBus().publish("launchpad","moveGroup",{fromIndex:f,toIndex:t});var a=this;setTimeout(function(){var b=jQuery(".sapUshellTileContainerHeader")[t];a._setTabIndexOnTileContainerHeader(jQuery(b));jQuery(b).focus();},100);},_getFocusOnTile:function(j){var a;['.sapUshellTile','.sapUshellLinkTile'].forEach(function(s){var b=j.closest(s);if(b.length){a=b;}});return a;},_renameGroup:function(j){if(j.closest('.sapUshellTileContainerHeader').length===1){j=j[0].tagName==='H2'?j:j.find("h2");j.click();}},_arrowsButtonsHandler:function(d,e,j){var i=this.oModel.getProperty('/tileActionModeActive');if((i&&j.hasClass('sapMInputBaseInner'))||j.hasClass("sapMITBFilter")){return;}else{this._preventDefault(e);}if(j.hasClass("sapUshellAnchorItem")){this._handleAnchorNavigationItemsArrowKeys(d,j);return;}var a=this._getFocusOnTile(j);if(e.ctrlKey===true&&this.oModel.getProperty("/personalization")){var b=j.closest('.sapUshellTileContainerHeader');if(a){this._moveTile(d,a);}else if(b.length){var f=b.closest('.sapUshellTileContainerContent');if(!f.hasClass('sapUshellTileContainerDefault')||!f.hasClass('sapUshellTileContainerLocked')){this._moveGroupFromDashboard(d,b);}}}else if(i){this._goToSiblingElementInTileContainer(d,j);}else if(a){this._goFromFocusedTile(d,a,i);}else if(!j.hasClass("sapUshellActionItem")){this.goToLastVisitedTile();}},_handleAnchorNavigationItemsArrowKeys:function(d,j){var a=jQuery(".sapUshellAnchorItem:visible"),n=a.index(j),N=j;if(d==="left"||d==="up"){if(n>0){N=a.get(n-1);}}else if(d==="right"||d==="down"){if(n<a.length-1){N=a.get(n+1);}}this._setAnchorItemFocus(jQuery(N));},_setAnchorItemFocus:function(j){jQuery(".sapUshellAnchorItem").get().forEach(function(h){jQuery(h).attr("tabindex",-1);});j.attr("tabindex",0);j.focus();},_appFinderHomeEndButtonsHandler:function(d,e,j){var v=jQuery(".sapUshellTile:visible,.sapUshellAppBox:visible"),a;if(v.length){if(d==="home"){a=jQuery(v.get(0));}if(d==="end"){a=jQuery(v.get(v.length-1));}}if(a){this._preventDefault(e);this._appFinderFocusAppBox(j,a);}},_homeEndButtonsHandler:function(s,e,j){if(j.hasClass("sapUshellAnchorItem")){this._preventDefault(e);this._setAnchorItemFocus(jQuery(".sapUshellAnchorItem:visible:"+s));}else if(e.ctrlKey===true){this._preventDefault(e);var a=jQuery(".sapUshellTile:visible")[s]();this._moveScrollDashboard(a);}else{var b=j.closest('.sapUshellTileContainer');if(b){var g=b.control(0);if(g){this._preventDefault(e);this._goToTileOfGroup(s,g);}}}},_deleteButtonHandler:function(j){if(this.oModel.getProperty("/personalization")&&this.oModel.getProperty("/tileActionModeActive")){var a=this._getFocusOnTile(j);if(a&&!a.hasClass('sapUshellLockedTile')&&!a.hasClass('sapUshellPlusTile')){var i=this._getGroupAndTilesInfo();if(i){var d=jQuery(".sapUshellDashboardView").control(0),t=d.getController()._getTileUuid(i.oCurTile),b=this;setTimeout(function(){if(i.oCurTile.getDomRef()){b._moveScrollDashboard(i.oCurTile.$());}else{b._moveScrollDashboard(i.oGroup.oPlusTile.$());}},100);sap.ui.getCore().getEventBus().publish("launchpad","deleteTile",{tileId:t},this);}}}},_ctrlPlusArrowKeyButtonsHandler:function(d){var j=jQuery(document.activeElement),a=j.closest('.sapUshellTileContainerHeader');if(this._getFocusOnTile(j)){this._moveTile(d);}else if(a.length){var b=a.closest('.sapUshellTileContainerContent');if(!b.hasClass('sapUshellTileContainerDefault')||!b.hasClass('sapUshellTileContainerLocked')){this._moveGroupFromDashboard(d,a);}}},_spaceButtonHandler:function(e,j){if(this._getFocusOnTile(j)){e.preventDefault();j.click(j);if(j.control(0).getUuid){sap.ui.getCore().getEventBus().publish("launchpad","dashboardTileClick",{uuid:j.control(0).getUuid()});}}else{j.click();}},_enterButtonHandler:function(j){if(j.hasClass('sapMInputBaseInner')){var a=j.closest('.sapUshellTileContainerHeader'),t=this;if(a.length===1){setTimeout(function(){a=jQuery("#"+a[0].id);t._setTabIndexOnTileContainerHeader(a);a.focus();},10);}}if(this._getFocusOnTile(j)){j.click(j);if(j.control(0).getUuid){sap.ui.getCore().getEventBus().publish("launchpad","dashboardTileClick",{uuid:j.control(0).getUuid()});}}},goToSelectedAnchorNavigationItem:function(){this._setAnchorItemFocus(jQuery(".sapUshellAnchorItemSelected"));return jQuery(document.activeElement).hasClass("sapUshellAnchorItemSelected");},handleFocusOnMe:function(e,f){var r=sap.ushell.Container.getRenderer("fiori2"),h=c;if(r){var s=r.getCurrentCoreView();if(s==="home"){if(f){if(e.shiftKey){var a=jQuery("#sapUshellDashboardFooterDoneBtn:visible");if(a.length){a.focus();}else{h.goToLastVisitedTile();}}else if(!h.goToSelectedAnchorNavigationItem()){h.goToLastVisitedTile();}}else{h._dashboardKeydownHandler(e);}}if(s==="appFinder"){if(f){if(e.shiftKey){h.setFocusOnCatalogTile();}else{var o=sap.ui.getCore().byId("openCloseButtonAppFinderSubheader");if(o&&o.getVisible()){o.focus();}else{h.appFinderFocusMenuButtons(e);}}}else{h._appFinderKeydownHandler(e);}}}},_groupHeaderNavigation:function(j){var a;if(j.hasClass("sapUshellTileContainerHeader")){a=j.find(".sapUshellContainerTitle");a.focus();}else if(j.closest(".sapUshellTileContainerHeader")){a=j.closest(".sapUshellTileContainerHeader");a.focus();}},_appFinderFocusAppBox:function(j,a){if(j&&a){j.attr("tabindex","-1").find(".sapUshellPinButton").attr("tabindex","-1");a.attr("tabindex","0").focus();a.find(".sapUshellPinButton").attr("tabindex","0");}},_preventDefault:function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();},_getNextCatalog:function(d,j){var a;if(d==="down"||d==="right"){a=j.next();}else if(d==="up"||d==="left"){a=j.prev();}else{jQuery.sap.log.error("Direction is unkown",d,"sap.ushell.components.homepage.ComponentKeysHandler");return null;}if(a.length>0){var n=a.find("li.sapUshellAppBox, li.sapUshellTile").get().length;if(n>0){return a;}else{return this._getNextCatalog(d,a);}}},_getNextCatalogItem:function(d,j,p){var a=jQuery(j.parents()[2]),b=a.find("li.sapUshellAppBox, li.sapUshellTile").get();if(d==="right"||d==="left"){var n=b.indexOf(j.get(0)),e=d==="right"?n+1:n-1;if(b[e]){return b[e];}}var f=this._getNextCatalog(d,a),N=f?f.find("li.sapUshellAppBox, li.sapUshellTile").get():[];if(N.length>0&&d==="right"){return N[0];}if(N.length>0&&d==="left"){return N[N.length-1];}if(d==="down"||d==="up"){if(N.length>0&&p){return N[0];}else{var J=(d==="down")?b.concat(N):N.concat(b);return this._findClosestTile(d,J,j.get(0));}}},_appFinderKeysHandler:function(d,e,j,p){if(j.is(".sapUshellAppBox, .sapUshellTile")){this._preventDefault(e);var a=jQuery(this._getNextCatalogItem(d,j,p));if(a){this._appFinderFocusAppBox(j,a);}}},_handleAppFinderButton:function(){var o=window.document.getElementById("openCatalogBtn"),a=sap.ushell.Container.getRenderer("fiori2").getShellConfig(),O=window.document.getElementById("endItemsOverflowBtn");if(o){o.focus();return;}if(a.moveAppFinderActionToShellHeader){if(O){O.focus();}}else{E.emit('showMeArea',Date.now());window.setTimeout(function(){o=window.document.getElementById("openCatalogBtn");if(o){o.focus();}else{O=window.document.getElementById("overflowActions-overflowButton");if(O){O.focus();}}},300);}},handleShortcuts:function(e){var h=c,s=window.document.getElementById("shell-header");if(e.altKey&&s){switch(e.keyCode){case h.keyCodes.A:if(h.oModel.getProperty("/personalization")){s.setAttribute("accesskey","a");window.setTimeout(function(){h._handleAppFinderButton();s=window.document.getElementById("shell-header");if(s){s.removeAttribute("accesskey");}},0);e.preventDefault();}break;case h.keyCodes.H:h.oRouter.navTo("home");E.emit('showMeArea',false);E.emit('showNotifications',false);s.setAttribute("accesskey","h");window.setTimeout(function(){var f=jQuery(".sapUshellAnchorItem:visible:first");if(f.length){f.focus();}s=window.document.getElementById("shell-header");if(s){s.removeAttribute("accesskey");}},0);e.preventDefault();break;default:}}var i=h.oModel.getProperty('/tileActionModeActive');if(e.ctrlKey&&e.keyCode===h.keyCodes.ENTER&&i){var d=sap.ui.getCore().byId("sapUshellDashboardFooterDoneBtn");if(d){d.firePress();}}},appFinderFocusMenuButtons:function(e){var b=jQuery("#catalog-button, #userMenu-button, #sapMenu-button").filter("[tabindex=0]");if(b.length){b.eq(0).focus();this._preventDefault(e);return true;}else{return false;}},_appFinderKeydownHandler:function(e){var j=jQuery(document.activeElement);if(e.srcElement.id!="appFinderSearch-I"){var p=e.keyCode,i=sap.ui.getCore().getConfiguration().getRTL();if(i&&p===this.keyCodes.ARROW_RIGHT){p=this.keyCodes.ARROW_LEFT;}else if(i&&p===this.keyCodes.ARROW_LEFT){p=this.keyCodes.ARROW_RIGHT;}switch(p){case this.keyCodes.ARROW_UP:this._appFinderKeysHandler("up",e,j);break;case this.keyCodes.ARROW_DOWN:this._appFinderKeysHandler("down",e,j);break;case this.keyCodes.ARROW_RIGHT:this._appFinderKeysHandler("right",e,j);break;case this.keyCodes.ARROW_LEFT:this._appFinderKeysHandler("left",e,j);break;case this.keyCodes.PAGE_UP:this._appFinderKeysHandler("up",e,j,true);break;case this.keyCodes.PAGE_DOWN:this._appFinderKeysHandler("down",e,j,true);break;case this.keyCodes.HOME:this._appFinderHomeEndButtonsHandler("home",e);break;case this.keyCodes.END:this._appFinderHomeEndButtonsHandler("end",e);break;case this.keyCodes.SPACE:this._spaceButtonHandler(e,j);break;default:return;}}},_dashboardKeydownHandler:function(e){var t=document.activeElement&&document.activeElement.tagName;if(t==="INPUT"||t==="TEXTAREA"){return;}var p=e.keyCode,i=sap.ui.getCore().getConfiguration().getRTL(),j=jQuery(document.activeElement);if(i){if(p===this.keyCodes.ARROW_RIGHT){p=this.keyCodes.ARROW_LEFT;}else if(p===this.keyCodes.ARROW_LEFT){p=this.keyCodes.ARROW_RIGHT;}}switch(p){case this.keyCodes.F2:this._renameGroup(j);break;case this.keyCodes.F7:this._groupHeaderNavigation(j);break;case this.keyCodes.DELETE:this._deleteButtonHandler(j);break;case this.keyCodes.BACKSPACE:this._deleteButtonHandler(j);break;case this.keyCodes.ARROW_UP:this._arrowsButtonsHandler("up",e,j);break;case this.keyCodes.ARROW_DOWN:this._arrowsButtonsHandler("down",e,j);break;case this.keyCodes.ARROW_RIGHT:this._arrowsButtonsHandler("right",e,j);break;case this.keyCodes.ARROW_LEFT:this._arrowsButtonsHandler("left",e,j);break;case this.keyCodes.PAGE_UP:this._goToFirstTileOfNextGroup("up",e);break;case this.keyCodes.PAGE_DOWN:this._goToFirstTileOfNextGroup("down",e);break;case this.keyCodes.HOME:this._homeEndButtonsHandler("first",e,j);break;case this.keyCodes.END:this._homeEndButtonsHandler("last",e,j);break;case this.keyCodes.SPACE:this._spaceButtonHandler(e,j);break;case this.keyCodes.ENTER:this._enterButtonHandler(j);break;default:break;}return true;},init:function(m,r){this.oModel=m;this.oRouter=r;}};var c=new C();return c;},true);
sap.ui.predefine('sap/ushell/functionBindPrototype',function(){"use strict";if(!Function.prototype.bind){Function.prototype.bind=function(t){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");}var a=Array.prototype.slice.call(arguments,1),b=this,n=function(){},B=function(){return b.apply(this instanceof n&&t?this:t,a.concat(Array.prototype.slice.call(arguments)));};n.prototype=this.prototype;B.prototype=new n();return B;};}},false);
sap.ui.predefine('sap/ushell/iconfonts',['sap/ui/core/IconPool'],function(I){"use strict";var a={};a.registerFiori2IconFont=function(){I.registerFont({fontFamily:"BusinessSuiteInAppSymbols",fontURI:jQuery.sap.getModulePath("sap.ushell.themes.base.fonts")});I.registerFont({fontFamily:"SAP-icons-TNT",fontURI:jQuery.sap.getModulePath("sap.tnt.themes.base.fonts")});I.registerFont({fontFamily:"SAP-icons-TNT",collectionName:"TNTIcons",fontURI:sap.ui.require.toUrl("sap/tnt/themes/base/fonts")});var f={fontFamily:"SAP-Icons",collectionName:"Fiori2",icons:[["F0017","e05e"],["F0018","e0c3"],["F0019","e0c3"],["F0020","e0c3"],["F0021","e10d"],["F0366","e129"],["F0392","e04f"],["F0394","e044"],["F0395","e132"],["F0396","e064"],["F0397","e0a4"],["F0398","e0a4"],["F0399","e044"],["F0401","e08d"],["F0402","e13e"],["F0403","e13e"],["F0404","e033"],["F0405","e0b3"],["F0406","e043"],["F0407","e043"],["F0408","e043"],["F0409","e075"],["F0410","e007"],["F0411","e075"]]},F={fontFamily:"Fiori2",collectionName:"Fiori3",icons:[["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0263","E2A8"],["F0508","E2A9"],["F0509","E2AA"],["F0510","E2AB"],["F0533","E2AC"],["F0534","E2AD"],["F0535","E2AE"],["F0536","E2AF"],["F0537","E2B0"],["F0538","E2B1"],["Lumira001","E2B2"]]},A={fontFamily:"Fiori2",collectionName:"Fiori2",icons:[["F0002","E236"],["F0003","E202"],["F0004","E203"],["F0005","E204"],["F0006","E205"],["F0009","E206"],["F0010","E207"],["F0012","E208"],["F0014","E209"],["F0018","E200"],["F0019","E201"],["F0023","E20A"],["F0024","E20B"],["F0025","E20C"],["F0026","E20D"],["F0072","E23A"],["F0100","E23B"],["F0101","E23C"],["F0102","E23D"],["F0106","E20F"],["F0144","E210"],["F0190","E23E"],["F0194","E23F"],["F0210","E242"],["F0211","E243"],["F0212","E244"],["F0217","E211"],["F0220","E213"],["F0243","E215"],["F0244","E216"],["F0245","E217"],["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0248","E21A"],["F0249","E21B"],["F0252","E21E"],["F0257","E21F"],["F0281","E220"],["F0282","E221"],["F0283","E222"],["F0284","E223"],["F0292","E224"],["F0295","E225"],["F0296","E226"],["F0316","E227"],["F0317","E228"],["F0321","E229"],["F0339","E22A"],["F0340","E22B"],["F0341","E22C"],["F0342","E22D"],["F0365","E212"],["F0366","E22F"],["F0367","E230"],["F0368","E231"],["F0369","E235"],["F0370","E22E"],["F0372","E232"],["F0380","E233"],["F0381","E234"],["F0382","E246"],["F0390","E20E"],["F0412","E213"],["F0429","E2A6"],["F0xx1","E240"],["F0xx2","E241"],["F0013","E237"],["F0016","E238"],["F0028","E239"],["F0029","E283"],["F0030","E284"],["F0031","E285"],["F0032","E286"],["F0033","E287"],["F0034","E288"],["F0036","E289"],["F0038","E28A"],["F0039","E28B"],["F0041","E28C"],["F0044","E28D"],["F0293","E28E"],["F0294","E28F"],["F0297","E290"],["F0298","E291"],["F0299","E292"],["F0300","E293"],["F0301","E294"],["F0302","E295"],["F0303","E296"],["F0304","E297"],["F0305","E298"],["F0306","E299"],["F0323","E29A"],["F0324","E29B"],["F0326","E29C"],["F0327","E29D"],["F0328","E29E"],["F0329","E29F"],["F0331","E2A1"],["F0332","E2A2"],["F0343","E2A3"],["F0344","E2A4"],["F0345","E2A5"],["F0388","E2A7"],["F0391","E2A0"],["F0260","E2B4"],["FD10N","E2B5"],["FK10N","E2B6"],["FS10N","E2B7"],["FBL5N","E2B8"],["FBL1N","E2B9"],["FFS01","E2BA"],["FBL3N","E2BB"],["FCOA1","E2BC"]]},o={fontFamily:"Fiori2",collectionName:"Fiori4",icons:[["F0194","E2BD"],["F0260","E2B4"],["F0433","E21C"],["F0251","E2BE"],["F0499","E2BF"],["F0500","E2C0"],["F0501","E2C1"],["F0502","E2C2"],["F0503","E2C3"],["F0504","E2C4"],["F0507","E2C5"],["F0530","E2C6"],["F0531","E2C7"],["F0539","E2C8"],["F0544","E2C9"],["F0545","E2CA"],["F0547","E2CB"],["F0576","E2CC"],["F0578","E2CD"],["F0579","E2CE"],["F0580","E2CF"],["F0581","E2D0"],["F0582","E2D1"],["F0583","E2D2"],["F0584","E2D3"],["F0586","E2D4"],["F0587","E2D5"],["F0588","E2D6"],["F0589","E2D7"],["F0590","E2D8"],["F0591","E2D9"],["F0593","E2DA"],["F0594","E2DB"],["F0597","E2DC"],["F0603","E2DD"],["F0604","E2DE"],["F0605","E2DF"],["F0606","E2E0"],["F0607","E2E1"],["F0608","E2E2"],["F0609","E2E3"],["F0615","E2E4"],["F0616","E2E5"],["F0618","E2E6"],["F0617","E2E7"],["F0622","E2E8"],["F0623","E2E9"],["F0624","E2BC"],["F0625","E2EB"],["F0626","E2EC"],["F0627","E2ED"],["F0629","E2EE"],["F0630","E2EF"],["F0632","E2F0"],["F0633","E2F1"],["F0634","E2F2"],["F0635","E2F3"],["F0636","E2F4"],["F0638","E2F5"],["F0639","E2F6"],["F0643","E2F7"],["F0644","E2F8"],["F0645","E2F9"],["F0646","E2FA"],["F0648","E2FB"],["F0649","E2FC"],["F0650","E2FD"],["F0654","E2FE"],["F0655","E2FF"],["F0659","E300"],["F0660","E301"],["F0661","E302"],["F0665","E303"],["F0666","E304"],["F0667","E305"],["F0671","E306"],["F0672","E307"],["F0673","E308"],["F0675","E309"],["F0676","E30A"],["F0677","E30B"],["F0678","E30C"],["F0679","E30D"],["F0680","E30E"],["F0682","E30F"],["F0683","E310"],["F0684","E240"],["F0685","E312"],["F0686","E313"],["F0687","E314"],["F0690","E315"],["F0691","E316"],["F0692","E317"],["F0693","E318"],["F0694","E319"],["F0695","E31A"],["F0700","E31B"],["F0598","E31C"],["F0600","E38A"]]},b={fontFamily:"Fiori2",collectionName:"Fiori5",icons:[["F0263","E321"],["F0266","E322"],["F0834","E31D"],["F2001","E31E"],["F0839","E320"],["F0270","E323"],["F0273","E324"],["F0439","E325"],["F0443","E326"],["F0549","E327"],["F0550","E328"],["F0551","E329"],["F0577","E32A"],["F0585","E32B"],["F0637","E32C"],["F0668","E32D"],["F0669","E32E"],["F0670","E330"],["F0688","E331"],["F0689","E332"],["F0701","E333"],["F0702","E334"],["F0703","E335"],["F0706","E336"],["F0707","E337"],["F0708","E338"],["F0711","E339"],["F0712","E33A"],["F0731","E33B"],["F0732","E33C"],["F0733","E33D"],["F0735","E33E"],["F0736","E340"],["F0737","E341"],["F0742","E342"],["F0743","E343"],["F0744","E344"],["F0745","E345"],["F0746","E346"],["F0747","E347"],["F0748","E348"],["F0749","E349"],["F0750","E34A"],["F0751","E34B"],["F0755","E34C"],["F0756","E34D"],["F0757","E34E"],["F0758","E350"],["F0759","E351"],["F0760","E352"],["F0761","E353"],["F0763","E354"],["F0764","E355"],["F0765","E356"],["F0768","E357"],["F0770","E358"],["F0771","E359"],["F0772","E35A"],["F0774","E35B"],["F0776","E35C"],["F0777","E35D"],["F0778","E35E"],["F0788","E360"],["F0789","E361"],["F0790","E362"],["F0791","E363"],["F0792","E364"],["F0793","E365"],["F0794","E366"],["F0806","E367"],["F0807","E368"],["F0808","E369"],["F0809","E36A"],["F0810","E36B"],["F0811","E36C"],["F0812","E36D"],["F0813","E36E"],["F0814","E370"],["F0815","E371"],["F0816","E372"],["F0817","E373"],["F0818","E374"],["F0819","E375"],["F0820","E376"],["F0821","E377"],["F0822","E378"],["F0823","E379"],["F0824","E37A"],["F0825","E37B"],["F0826","E37C"],["F0827","E37D"],["F0828","E37E"],["F0829","E380"],["F0830","E381"],["F0831","E382"],["F0717","E383"],["F0718","E384"],["F0241","E385"],["F0246","E386"],["F0250","E387"],["F0248","E388"],["F0252","E389"],["F0600","E38A"],["F0674","E38B"],["F0247","E38E"],["F0251","E390"]]},c={fontFamily:"Fiori2",collectionName:"Fiori6",icons:[["F0795","E397"],["F0866","E3A0"],["F0865","E3A1"],["F0867","E3A2"],["F0868","E3A3"],["F0869","E3A4"],["F0870","E3A5"],["F0138","E3A6"],["F0752","E3A7"],["F0753","E3A8"],["F0773","E3A9"],["F0891","E3AA"],["F0892","E3AB"],["F1023","E3AC"],["F0767","E3AD"],["F0849","E3AE"],["F0670-1","E393"],["F0670-2","E394"],["F0670-3","E395"],["F0670-4","E396"]]},d={fontFamily:"Fiori2",collectionName:"Fiori7",icons:[["F1079","E3B0"],["F0738","E3B1"],["F1301","E3B2"],["F1302","E3B3"],["F1303","E3B4"],["F1338","E3B5"],["F1263","E3B6"],["F1373","E3B7"],["F0863","E3B8"],["F1068","E3BA"],["F0955","E3B9"],["F1242","E3BB"],["F1405","E3BC"],["F1406","E3BD"],["F1407","E3BE"],["F1408","E3BF"],["F1409","E3C0"],["F1410","E3C1"],["F1411","E3C2"],["F1412","E3C3"],["F1413","E3C4"],["F1414","E3C5"],["F1415","E3C6"],["F0797","E3C8"],["F0798","E3C9"],["F0800","E3CA"],["F0801","E3CB"],["F0804","E3CC"],["F0850","E3CD"],["F0890","E3CE"],["F1075","E3CF"],["F1394","E3D0"],["F1061","E3D1"],["F1062","E3D2"],["F1255","E3D3"],["F1077","E3D4"],["F0843","E3D5"],["F1076","E3D6"],["F0859","E3D7"],["F1060","E3D8"],["F1053","E3D9"],["F0900","E3DA"],["F0840","E3DB"],["F0842-1","E3A6"],["F0842-2","E22C"],["F1476","E3C7"]]},e={fontFamily:"Fiori2",collectionName:"Fiori8",icons:[["F1317","E3DC"],["F1318","E3DD"],["F1319","E3DE"],["F1369","E3DF"],["F1475","E3E0"],["F1345","E3E1"],["F1248","E3E2"],["F1067","E3E3"],["F1332","E3E4"],["F1333","E3E5"],["F1334","E3E6"],["F1335","E3E7"],["F1030","E3E8"],["F1457","E3E9"],["F1504","E3EA"],["F1505","E3EB"]]},g={fontFamily:"Fiori2",collectionName:"Fiori9",icons:[["F1094","E3EC"],["F1096","E3ED"],["F1353","E3EE"],["F1354","E3EF"],["F1428","E3F0"],["F1492","E3F1"],["F1515","E3F2"],["F1516","E3F3"],["F0997","E400"],["F1512","E401"],["F1563","E402"],["F1564","E403"],["F1599","E404"],["F1596","E405"],["F1254","E406"],["F1618","E407"],["F1561","E408"],["learning-compass","E409"]]},s={fontFamily:"Fiori2",collectionName:"S4Hana",icons:[["S0001","E3F4"],["S0002","E3F5"],["S0003","E3F6"],["S0004","E3F7"],["S0005","E3F8"],["S0006","E3F9"],["S0007","E3FA"],["S0008","E3FB"],["S0009","E3FC"],["S0010","E3FD"],["S0011","E3FE"],["S0012","E3FF"]]},h={fontFamily:"FioriInAppIcons",collectionName:"FioriInAppIcons",icons:[["Hierarchal Tree","E700"],["Open","E701"],["Blocked","E702"],["Partially Blocked","E703"],["Open1","E704"],["Partially Adopted","E705"],["Due","E706"],["Overdue","E707"],["Sort","E708"],["Missing Parts","E709"],["Fire","E70A"],["Dangerous Chemicals","E70B"],["Share","E70C"],["Entertainment","E70D"],["Gift","E70E"],["QR Code","E70F"],["Wifi-Online","E710"],["Wifi-Offline","E711"],["Sunrise","E712"],["Sunset","E713"],["Afternoon","E714"],["Night","E715"],["Loading Date","E715"],["Cloudy","e717"],["Rain","e718"],["Storm","e719"],["Partly Sunny","e71A"],["Heavy Rain","e71B"],["Foggy","e71C"],["Snow","e71D"],["Risk Assessment","e71E"],["Database","e71f"],["Marine","e720"],["Blister","e721"],["Pills","e722"],["Main-Sequence","e723"],["Parallel Sequence","e724"],["Alternative Sequence","e725"],["3D","e726"],["Presentation","e727"],["Mute","e728"],["Windy","e729"],["Oil Tank","e72A"],["Location Assets","e72B"],["Transport Systems","e72C"]]},i={fontFamily:"Fiori2",collectionName:"FioriNonNative",icons:[["FN0001","E392"],["FN0002","E398"],["FN0003","E399"],["FN0004","E39A"],["FN0005","E39B"],["FN0006","E39C"],["FN0007","E39D"],["FN0008","E39E"],["FN0009","E39F"]]};this.registerFonts(f,F,A,h,o,b,i,c,d,e,g,s);};a.registerFonts=function(){var o,i,j;for(i=0;i<arguments.length;i=i+1){o=arguments[i];for(j=0;j<o.icons.length;j=j+1){I.addIcon(o.icons[j][0],o.collectionName,o.fontFamily,o.icons[j][1],false,true);}}};return a;},true);
sap.ui.predefine('sap/ushell/library',["sap/ui/core/library","sap/m/library","sap/ui/core/Core"],function(c,l,C){"use strict";C.initLibrary({name:"sap.ushell",dependencies:["sap.ui.core","sap.m"],types:["sap.ushell.ui.launchpad.ViewPortState","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow","sap.ushell.components.container.ApplicationType"],interfaces:[],controls:["sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.ui.appfinder.AppBox","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.EndUserFeedback","sap.ushell.ui.footerbar.HideGroupsButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SettingsButton","sap.ushell.ui.footerbar.UserPreferencesButton","sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.launchpad.AnchorItem","sap.ushell.ui.launchpad.AnchorNavigationBar","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage","sap.ushell.ui.launchpad.Fiori2LoadingDialog","sap.ushell.ui.launchpad.GroupHeaderActions","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.HeaderTile","sap.ushell.ui.launchpad.LinkTileWrapper","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Panel","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.launchpad.ViewPortContainer","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],elements:[],version:"1.60.40",extensions:{"sap.ui.support":{diagnosticPlugins:["sap/ushell/support/plugins/flpConfig/FlpConfigurationPlugin"]}}});sap.ushell.ui.launchpad.ViewPortState={Left:"Left",Center:"Center",Right:"Right",LeftCenter:"LeftCenter",CenterLeft:"CenterLeft",RightCenter:"RightCenter",CenterRight:"CenterRight"};sap.ushell.ui.tile.State={Neutral:"Neutral",None:"None",Negative:"Negative",Error:"Error",Positive:"Positive",Success:"Success",Critical:"Critical",Warning:"Warning"};sap.ushell.ui.tile.StateArrow={None:"None",Up:"Up",Down:"Down"};sap.ushell.components.container.ApplicationType={URL:"URL",WDA:"WDA",NWBC:"NWBC",TR:"TR",WCF:"WCF"};return sap.ushell;},true);
sap.ui.predefine('sap/ushell/navigationMode',[],function(){"use strict";var e={};var _=function(E){var i=true;if(E){if(typeof E!=="object"){i=false;}else{Object.keys(E).forEach(function(k){if(["GUI","WDA","WCF"].indexOf(k)===-1){i=false;}else if(typeof E[k]!=="boolean"){i=false;}});}}if(!i){jQuery.sap.log.error("Invalid parameter: 'enableInPlaceForClassicUIs' must be an object; allowed properties: GUI|WDA, type boolean","Actual parameter: "+JSON.stringify(E),"sap.ushell.services.navigationMode");}};e._isLegacyApplicationType=function(A){switch(A){case"WDA":case"TR":case"NWBC":case"WCF":return true;default:return false;}};var a=function(A){switch(A){case"TR":return"GUI";case"WDA":return"WDA";case"WCF":return"WCF";default:return undefined;}};var b=function(E,A){if(jQuery.isPlainObject(E)){return E[a(A)];}return false;};e.compute=function(n,E,s,A,o){var i,l,c=["inplace","explace"];_(o);var N={};if(c.indexOf(E)>=0){N["sap-ushell-next-navmode"]=E;}if(c.indexOf(s)>=0){i=e._getInternalNavigationMode(s,n);jQuery.sap.log.debug("Navigation mode was forced to "+i,"because sap-ushell-navmode parameter was set to "+s+" for target with applicationType: "+A,"sap.ushell.navigationMode");N.navigationMode=i;N.explicitNavMode=true;return N;}l=e._isLegacyApplicationType(A)&&e._isLegacyApplicationType(n);if(b(o,n)===true&&!l){N.navigationMode="embedded";}return N;};e._getInternalNavigationMode=function(E,A){var i={SAPUI5:{inplace:"embedded",explace:"newWindowThenEmbedded"},WDA:{inplace:"embedded",explace:"newWindowThenEmbedded"},TR:{inplace:"embedded",explace:"newWindowThenEmbedded"},URL:{inplace:"embedded",explace:"newWindow"},WCF:{inplace:"embedded",explace:"newWindowThenEmbedded"}};if(!i.hasOwnProperty(A)){jQuery.sap.log.error(A+" is not a valid application type","expected one of "+Object.keys(i).join(", "),"sap.ushell.navigationMode");return null;}if(E!=="inplace"&&E!=="explace"){jQuery.sap.log.error(E+" is not a valid external navigation mode","expected one of 'inplace', 'explace'","sap.ushell.navigationMode");return null;}return i[A][E];};e.getExternalNavigationMode=function(i){var E={embedded:"inplace",newWindowThenEmbedded:"explace",replace:"inplace",newWindow:"explace"};if(!E.hasOwnProperty(i)){jQuery.sap.log.error(i+" is not a recognized internal navigation mode","expected one of "+Object.keys(E).join(","),"sap.ushell.navigationMode");return null;}return E[i];};var w=["NWBC","WDA","TR","WCF"];e.getNavigationMode=function(r,c){var A=r.additionalInformation,s=r.applicationType,u,U;if(w.indexOf((c||{}).applicationType)>-1&&!(c||{}).explicitNavMode){return'newWindowThenEmbedded';}if((A===null||typeof A==="string"||typeof A==="undefined")&&(s==="URL"||s==="SAPUI5")){if(A&&A.indexOf("managed=")===0){if(A==="managed=FioriWave1"){return"embedded";}if(A==="managed="){return"newWindow";}return undefined;}if(A&&A.indexOf("SAPUI5.Component=")===0){u="[a-zA-Z0-9_]+";U=["^SAPUI5.Component=",u,"([.]",u,")*$"].join("");if(!(new RegExp(U)).test(A)){jQuery.sap.log.warning(["The UI5 component name in",A,"is not valid.","Please use names satisfying",U].join(" "));}return"embedded";}return"newWindow";}if(w.indexOf(s)>-1){return"newWindowThenEmbedded";}return undefined;};e.computeNavigationModeForHomepageTiles=function(A,s,i){var r={applicationType:A,additionalInformation:s};if(w.indexOf(A)>-1&&i){return"embedded";}return this.getNavigationMode(r);};return e;},true);
sap.ui.predefine('sap/ushell/override',function(){"use strict";var o={};o.updateAggregation=function(n){if(this.isTreeBinding(n)){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}else{var b=this.mBindingInfos[n],B=b.binding,a=B.getContexts(),f=b.factory,A=this.getMetadata().getJSONKeys()[n],g=A._sMutator+"Group",G=B.isGrouped()&&this[g],i=0,I=[],c=jQuery.proxy(function(C){var s=this.getId()+"-"+jQuery.sap.uid(),d=f(s,C);d.setBindingContext(C,b.model);this[A._sMutator](d);},this);if(G){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments);}else{I=this[A._sGetter]();for(i=0;i<a.length;++i){if(i<I.length){I[i].setBindingContext(a[i],b.model);}else{c(a[i]);}}for(;i<I.length;++i){I[i].destroy();}I.length=a.length;}}};o.updateAggregationGrouped=function(n){var b=this.mBindingInfos[n],B=b.binding,f=b.factory,c,N=null,g=null,G=null,t=this,I=t.getItems(),l=0,L=0,i,s,T=[];g=B.isGrouped()&&this.addItemGroup;jQuery.each(B.getContexts(),function(a,C){if(g&&B.aSorters.length>0){N=B.aSorters[0].fnGroup(C);if(typeof N==="string"){N={key:N};}if(N.key!==G){var d,h;if(b.groupHeaderFactory){d=b.groupHeaderFactory(N);}h=d||new sap.m.GroupHeaderListItem({title:N.text||N.key}).addStyleClass("sapMListHdr");t.insertAggregation("items",h,L,true);L=L+1;G=N.key;}}I=t.getItems();for(i=L;i<I.length;i=i+1){if(I[i].constructor===sap.m.GroupHeaderListItem){T.push(t.removeItem(I[i]));I=t.getItems();}}if(L<I.length){I[L].setBindingContext(C,b.model);if(I[L].aDelegates){jQuery.each(I[L].aDelegates,function(i,v){v.vThis=C;});}}else{s=t.getId()+"-"+L;c=f(s,C);c.setBindingContext(C,b.model);t.addItem(c);}L=L+1;l=L;});for(i=I.length-1;i>=l;i=i-1){T.push(t.removeItem(I[i]));}setTimeout(function(){jQuery.each(T,function(i,v){v.destroy();});},1);};o.updateAggregatesFactory=function(n){return function(){jQuery.proxy(o.updateAggregation,this,n)();};};return o;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/AccessKeysHandler',['sap/ushell/EventHub','sap/ushell/ui/launchpad/ShortcutsHelpContainer','jquery.sap.keycodes','sap/ui/Device'],function(E,S,k,D){"use strict";var A=function(){};A.prototype={keyCodes:jQuery.sap.KeyCodes,bFocusOnShell:true,bFocusPassedToExternalHandlerFirstTime:true,isFocusHandledByAnotherHandler:false,fnExternalKeysHandler:null,sLastExternalKeysHandlerUrl:null,fnExternalShortcuts:null,isleftAltPressed:false,bForwardNavigation:true,appOpenedHandler:function(){var c=hasher.getHash();if(c!==this.sLastExternalKeysHandlerUrl){this.fnExternalKeysHandler=null;}this.sLastExternalKeysHandlerUrl=c;},handleSearchKey:function(){var s=sap.ui.getCore().byId('sf');if(s&&$('#sf:visible').length===0){}jQuery(s).click();},setFocusOnSearchButton:function(e){e.preventDefault();var s=sap.ui.getCore().byId('sf');if(s){jQuery(s).focus();}},handleSearchAppFinderKey:function(e){var b=sap.ui.getCore().byId('appFinderSearch');if(!b||jQuery('#appFinderSearch:visible').length===0){return;}else if(jQuery('.sapUshellViewPortCenter').hasClass('centerClass')){jQuery(b).focus();e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();}},handleNavToMeArea:function(){var m=sap.ui.getCore().byId("mainShell");if(m&&m.getController().getModelConfiguration().appState!="headerless"){E.emit('showMeArea',Date.now());}setTimeout(function(){jQuery(".sapUshellActionItem:first").focus();},300);},handleSettingsButton:function(){var s=window.document.getElementById("userSettingsBtn"),c=sap.ushell.Container.getRenderer("fiori2").getShellConfig(),o=window.document.getElementById("endItemsOverflowBtn");if(s){s.focus();return;}if(c.moveUserSettingsActionToShellHeader){if(o){o.focus();}}else{E.emit('showMeArea',Date.now());window.setTimeout(function(){s=window.document.getElementById("userSettingsBtn");if(s){s.focus();}else{o=window.document.getElementById("overflowActions-overflowButton");if(o){o.focus();}}},300);}},handleNavToNotifications:function(){var m=sap.ui.getCore().byId("mainShell"),s;if(m){s=m.getController().getModelConfiguration().appState;}if(s!="headerless"){E.emit('showNotifications',Date.now());setTimeout(function(){jQuery("#notificationsView .sapUshellNotificationsListItem:visible:first").focus();},2000);}},handleSettings:function(){var u=sap.ui.getCore().byId('userSettingsBtn');if(u){u.firePress({"hotkeys":"ctrl_comma"});}},handleAccessOverviewKey:function(){var t=sap.ushell.resources.i18n,i=this.oModel.getProperty("/searchAvailable"),m=sap.ui.getCore().byId("mainShell"),c=[],s,d,b,o;if(D.browser.msie){document.addEventListener("help",this._cancelHelpEvent);}if(m){b=m.getController().getModelConfiguration().appState;}this.aShortcutsDescriptions.forEach(function(v){c.push(new sap.m.Label({text:v.description}));c.push(new sap.m.Text({text:v.text}));});if(i){c.push(new sap.m.Label({text:t.getText("hotkeyFocusOnSearchButton")}));c.push(new sap.m.Text({text:"Alt+F"}));}if(b!="headerless"){c.push(new sap.m.Label({text:t.getText("hotkeyFocusOnMeArea")}));c.push(new sap.m.Text({text:"Alt+M"}));c.push(new sap.m.Label({text:t.getText("hotkeyFocusOnNotifications")}));c.push(new sap.m.Text({text:"Alt+N"}));}c.push(new sap.m.Label({text:t.getText("hotkeyFocusOnSettingsButton")}));c.push(new sap.m.Text({text:"Alt+S"}));c.push(new sap.m.Label({text:t.getText("hotkeyOpenSettings")}));c.push(new sap.m.Text({text:"Ctrl+Comma"}));if(i){c.push(new sap.m.Label({text:t.getText("hotkeyFocusOnSearchField")}));c.push(new sap.m.Text({text:"Ctrl+Shift+F"}));}s=new S({content:c});o=new sap.m.Button({text:t.getText("okBtn"),press:function(){d.close();}});d=new sap.m.Dialog({id:"hotKeysGlossary",title:t.getText("hotKeysGlossary"),contentWidth:"29.6rem",leftButton:o,afterClose:function(){d.destroy();}});d.addContent(s);d.open();},handleShortcuts:function(e){var s=window.document.getElementById("shell-header"),t=this;if(e.altKey&&!e.shiftKey&&!e.ctrlKey&&s){switch(String.fromCharCode(e.keyCode)){case'M':this.handleNavToMeArea();e.preventDefault();break;case'N':this.handleNavToNotifications();e.preventDefault();break;case'S':s.setAttribute("accesskey","s");window.setTimeout(function(){t.handleSettingsButton();s=window.document.getElementById("shell-header");if(s){s.removeAttribute("accesskey");}},0);e.preventDefault();break;case'F':this.setFocusOnSearchButton(e);e.preventDefault();break;}}if(e.ctrlKey){if(e.shiftKey){if(e.keyCode===70){this.handleSearchKey();}}else if(e.keyCode===188){this.handleSettings();}else if(e.keyCode===112){this.handleAccessOverviewKey();}else if(e.keyCode===83){this.handleSearchAppFinderKey(e);}}},registerAppKeysHandler:function(h){this.fnExternalKeysHandler=h;this.sLastExternalKeysHandlerUrl=hasher.getHash();},resetAppKeysHandler:function(){this.fnExternalKeysHandler=null;},getAppKeysHandler:function(){return this.fnExternalKeysHandler;},registerAppShortcuts:function(h,s){this.fnExternalShortcuts=h;this.aShortcutsDescriptions=s;},_handleFocusBackToMe:function(e,i){this.bFocusOnShell=true;if(i){jQuery("#"+i).focus();}else if(!e){jQuery("#meAreaHeaderButton").focus();}else if(e.shiftKey){this.bForwardNavigation=false;if(e.keyCode===jQuery.sap.KeyCodes.TAB){jQuery("#sapUshellHeaderAccessibilityHelper").focus();}else if(e.keyCode===jQuery.sap.KeyCodes.F6){e.preventDefault();jQuery("#meAreaHeaderButton").focus();}}else{this.bForwardNavigation=true;e.preventDefault();if(!jQuery("#meAreaHeaderButton").length){jQuery("#sapUshellHeaderAccessibilityHelper").focus();}else{jQuery("#meAreaHeaderButton").focus();}}this.bFocusPassedToExternalHandlerFirstTime=true;},setIsFocusHandledByAnotherHandler:function(h){this.isFocusHandledByAnotherHandler=h;},sendFocusBackToShell:function(p){var e=undefined,i=undefined;var P=typeof p;if(P==="string"){i=p;}else if(P==="object"){e=p;}this._handleFocusBackToMe(e,i);},_handleEventUsingExteranlKeysHandler:function(e){if(!this.bFocusOnShell&&!this.isFocusHandledByAnotherHandler){if(this.fnExternalKeysHandler&&jQuery.isFunction(this.fnExternalKeysHandler)){this.fnExternalKeysHandler(e,this.bFocusPassedToExternalHandlerFirstTime);this.bFocusPassedToExternalHandlerFirstTime=false;}}this.setIsFocusHandledByAnotherHandler(false);},_cancelHelpEvent:function(e){e.preventDefault();document.removeEventListener("help",this._cancelHelpEvent);},init:function(m){this.oModel=m;document.addEventListener("keydown",function(e){if(e.keyCode===16){return;}if(e.shiftKey){this.bForwardNavigation=false;}else{this.bForwardNavigation=true;}if(e.keyCode===this.keyCodes.TAB||e.keyCode===this.keyCodes.F6){setTimeout(function(){this._handleEventUsingExteranlKeysHandler(e);}.bind(this),0);}else{this._handleEventUsingExteranlKeysHandler(e);}if(e.keyCode===18){if(e.location===window.KeyboardEvent.DOM_KEY_LOCATION_LEFT){this.isleftAltPressed=true;}else{this.isleftAltPressed=false;}}if(this.isleftAltPressed||!e.altKey){this.handleShortcuts(e);if(this.fnExternalShortcuts){this.fnExternalShortcuts(e);}}}.bind(this),true);this._cancelHelpEvent=this._cancelHelpEvent.bind(this);}};var a=new A();E.on("AppRendered").do(A.prototype.appOpenedHandler.bind(a));return a;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/FlpMeasure',["jquery.sap.global","sap/ushell/utils/WindowUtils"],function(q,W){"use strict";var P=function(){var p=false,b={};function M(h,n,s,i){this.hash=h;this.name=n;this.start=s;this.end=0;this.duration=0;this.info=i;}function B(h,n,s,a,c){this.hash=h;this.name=n;this.scenario=a;this.sequence=c;this.start=s;this.end=0;this.percent=null;this.duration=0;this.funcs={};}this.start=function(s,a,c){var t=q.sap.now(),o;if(!p){return;}if(b[s]===undefined||b[s]===null){b[s]={};}if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]===null){o=new B(this.hash(),a,t,s,c);b[s][o.name]=o;}};this.startFunc=function(s,a,c,f,i){if(!p)return;var t=q.sap.now();var d=null;if(b[s]===undefined||b[s]===null){b[s]={};}if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]===null){d=new B(this.hash(),a,t,s,c);b[s][a]=d;}var e=new M(this.hash(),f,t,i);b[s][a].funcs[e.hash]=e;return e.hash;};this.end=function(s,a){if(!p)return;var t=q.sap.now();if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]!=null){b[s][a].end=t;b[s][a].duration=Math.round(b[s][a].end-b[s][a].start);}};this.endFunc=function(s,a,f){if(!p)return;var t=q.sap.now();if(b[s][a]===undefined){b[s][a]=null;}if(b[s][a]!=null){b[s][a].end=t;b[s][a].duration=Math.round(b[s][a].end-b[s][a].start);b[s][a].funcs[f].end=t;b[s][a].funcs[f].duration=Math.round(b[s][a].funcs[f].end-b[s][a].funcs[f].start);}};this.calc=function(){if(!p)return;return b;};this.hash=function(){if(!p)return;var v=(new Date()).valueOf().toString()+Math.random().toString();var h=5381;for(var i=0;i<v.length;i++){var c=v.charCodeAt(i);h=((h<<5)+h)+c;}return h;};this.getActive=function(){return p;};this.setActive=function(o,c){if(p===o){return;}p=o;document.addEventListener('keyup',function(e){if(e.shiftKey&&e.ctrlKey&&e.altKey&&e.keyCode==77){window.calc=JSON.stringify(q.sap.flpmeasure.calc());W.openURL(q.sap.getResourcePath("sap/ushell/renderers/fiori2/stat.html"));}},false);return p;};var m=location.href.match(/sap-flp-measure=([^\&]*)/);if(m&&m[1]){if(m[1]==="true"||m[1]==="x"||m[1]==="X"){this.setActive(true);}else{this.setActive(true,m[1]);}}};q.sap.flpmeasure=q.sap.flpmeasure||new P();return q.sap.flpmeasure;});
sap.ui.predefine('sap/ushell/renderers/fiori2/History',function(){"use strict";var H=function(){this._history=[];this.backwards=false;this._historyPosition=-1;this._virtual={};};H.prototype.hashChange=function(n,o){var h=this._history.indexOf(n);if(h===-1){if(this._historyPosition+1<this._history.length){this._history=this._history.slice(0,this._historyPosition+1);}this._history.push(n);this._historyPosition+=1;this.backwards=false;this.forwards=false;}else{this.backwards=this._historyPosition>h;this.forwards=this._historyPosition<h;this._historyPosition=h;}};H.prototype.pop=function(){var l;if(this._history.length>0){l=this._history.pop();this._historyPosition--;}return l;};H.prototype.isVirtualHashchange=function(n,o){return this._virtual.hasOwnProperty(o)&&this.getCurrentHash()===n&&this._history.length-1>this._historyPosition&&this._history[this._historyPosition+1]===o;};H.prototype.setVirtualNavigation=function(h){this._virtual[h]=true;};H.prototype.getCurrentHash=function(){return this._history[this._historyPosition]||null;};H.prototype.getHashIndex=function(h){return this._history.indexOf(h);};H.prototype.getHistoryLength=function(){return this._history.length;};return H;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/Renderer',['sap/ui/core/UIComponent','./RendererExtensions','sap/ushell/ui/shell/ToolAreaItem','./FlpMeasure','sap/ushell/Config','sap/ushell/EventHub','sap/ushell/components/applicationIntegration/AppLifeCycle','sap/ui/model/json/JSONModel','sap/ushell/components/SharedComponentUtils','sap/ushell/services/AppConfiguration','sap/ushell/resources'],function(U,R,T,f,C,E,A,J,s,a,r){"use strict";var b=U.extend("sap.ushell.renderers.fiori2.Renderer",{metadata:{version:"1.60.40",dependencies:{version:"1.60.40",libs:["sap.ui.core","sap.m"],components:[]},routing:{config:{path:"sap.ushell.components",async:true,controlId:"viewPortContainer",clearAggregation:false,controlAggregation:"centerViewPort"},routes:[{name:"appfinder-legacy",pattern:"Shell-home&/appFinder/:menu:/:filter:"},{name:"home",pattern:["Shell-home?:hashParameters:","Shell-home&/:innerHash*:","Shell-home"],target:"home"},{name:"appfinder",pattern:["Shell-appfinder?:hashParameters:&/:innerHash*:","Shell-appfinder?:hashParameters*:","Shell-appfinder&/:innerHash*:","Shell-appfinder"],target:"appfinder"}],targets:{home:{name:"homepage",type:"Component",title:r.i18n.getText("homeBtn_tooltip"),id:"Shell-home-component",options:{manifest:false,asyncHints:{preloadBundles:["sap/fiori/flp-controls.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}},appfinder:{name:"appfinder",type:"Component",id:"Shell-appfinder-component",options:{manifest:false,asyncHints:{preloadBundles:["sap/fiori/flp-controls.js"]},componentData:{config:{enablePersonalization:true,enableHomePageSettings:false}}}}}}},init:function(){U.prototype.init.apply(this,arguments);var t=this;var o=this.getRouter();o.getRoute("home").attachMatched(function(){var h=r.i18n.getText("homeBtn_tooltip");A.switchViewState("home",false,"Shell-home");t.setCurrentCoreView("home");a.setCurrentApplication(null);A.getShellUIService().setTitle(h);A.getShellUIService().setHierarchy();A.getShellUIService().setRelatedApps();A.getAppMeta().setAppIcons();});o.getRoute("appfinder-legacy").attachMatched(function(e){o.navTo("appfinder",{},true);});o.getRoute("appfinder").attachMatched(function(e){var c=sap.ui.getCore().getComponent(t.createId("Shell-appfinder-component"));var d=e.getParameter("arguments");if(sap.ushell.Container.getRenderer("fiori2")){sap.ushell.Container.getRenderer("fiori2").setCurrentCoreView("appFinder");}a.setCurrentApplication(null);var g=c.getRouter();g.parse(d["innerHash*"]||"");A.switchViewState("app",false,"Shell-appfinder");A.getAppMeta().setAppIcons();});s.initializeAccessKeys(o);}});b.prototype.createContent=function(){var p=jQuery.sap.getUriParameters().get("appState")||jQuery.sap.getUriParameters().get("sap-ushell-config"),w,v=this.getComponentData()||{},o={applications:{"Shell-home":{}},rootIntent:"Shell-home"},V;w=(p==="headerless-opt")?"headerless":p;if(w){if(!v.config){v.config={};}v.config.appState=w;v.config.appStateOrig=p;v.config.inHeaderLessOpt=(p==="headerless-opt");}if(v.config){if(v.config.rootIntent===undefined){v.config.migrationConfig=true;}v.config=jQuery.extend(true,o,v.config);jQuery.extend(v.config.applications["Shell-home"],C.last("/core/home"),C.last("/core/catalog"));if(v.config.appState==="headerless"||v.config.appState==="merged"||v.config.appState==="blank"){v.config["enablePersonalization"]=false;C.emit("/core/shell/enablePersonalization",false);}else{v.config["enablePersonalization"]=C.last("/core/shell/enablePersonalization");}}f.start(0,"Creating Shell",0);if(v.config&&v.config.customViews){Object.keys(v.config.customViews).forEach(function(c){var V=v.config.customViews[c];sap.ui.view(c,{type:V.viewType,viewName:V.viewName,viewData:V.componentData});});}var S=C.createModel("/core/shell/model",J);v.shellModel=S;V=sap.ui.view('mainShell',{type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.renderers.fiori2.Shell",height:"100%",viewData:v});V.setModel(S);this._oShellView=V;this.oShellModel=A.getElementsModel();V.loaded().then(function(V){sap.ushell.renderers.fiori2.utils.init(V.getController());this.shellCtrl=V.oController;}.bind(this));return V;};b.prototype.createExtendedShellState=function(S,c){return A.shellElements().createExtendedShellState(S,c);};b.prototype.applyExtendedShellState=function(S,c){this.oShellModel.applyExtendedShellState(S,c);};b.prototype.showLeftPaneContent=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("paneContent",typeof i==="string"?[i]:i);}else{this.oShellModel.addLeftPaneContent(typeof i==="string"?[i]:i,false,S);}};b.prototype.showHeaderItem=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("headItems",typeof i==="string"?[i]:i);}else{this.oShellModel.addHeaderItem(typeof i==="string"?[i]:i,false,S);}};b.prototype.showRightFloatingContainerItem=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("RightFloatingContainerItems",typeof i==="string"?[i]:i);}else{this.oShellModel.addRightFloatingContainerItem(typeof i==="string"?[i]:i,false,S);}};b.prototype.showRightFloatingContainer=function(S){A.shellElements().setShellModelForApplications("showRightFloatingContainer",S);};b.prototype.showToolAreaItem=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("toolAreaItems",typeof aIds==="string"?[i]:i);}else{this.oShellModel.addToolAreaItem(i,false,S);}};b.prototype.showActionButton=function(i,c,S,I){var B=[],d=[],o;if(typeof i==="string"){i=[i];}B=i.filter(function(e){o=sap.ui.getCore().byId(e);return o instanceof sap.m.Button&&!(o instanceof sap.ushell.ui.launchpad.ActionItem);});d=i.filter(function(e){o=sap.ui.getCore().byId(e);return o instanceof sap.ushell.ui.launchpad.ActionItem;});if(B.length){this.convertButtonsToActions(B,c,S,I);}if(d.length){if(c){A.shellElements().addShellModelForApplications("actions",i,I);}else{this.oShellModel.addActionButton(i,false,S,I);}}this.toggleOverFlowActions();};b.prototype.showFloatingActionButton=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("floatingActions",typeof i==="string"?[i]:i);}else{this.oShellModel.addFloatingActionButton(typeof i==="string"?[i]:i,false,S);}};b.prototype.showHeaderEndItem=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("headEndItems",typeof i==="string"?[i]:i);}else{this.oShellModel.addHeaderEndItem(typeof i==="string"?[i]:i,false,S);}};b.prototype.setHeaderVisibility=function(v,c,S){if(c){A.shellElements().setShellModelForApplications("headerVisible",v);}else{this.oShellModel.setHeaderVisibility(v,false,S);}};b.prototype.showSubHeader=function(i,c,S){if(c){A.shellElements().addShellModelForApplications("subHeader",typeof i==="string"?[i]:i);}else{this.oShellModel.addSubHeader(typeof i==="string"?[i]:i,false,S);}};b.prototype.showSignOutItem=function(c,S){if(c){A.shellElements().addShellModelForApplications("actions",["logoutBtn"],false);}else{this.oShellModel.showSignOutButton(c,S);}};b.prototype.showSettingsItem=function(c,S){this.oShellModel.showSettingsButton(c,S);};b.prototype.setFooter=function(F){this.shellCtrl.setFooter(F);};b.prototype.setShellFooter=function(p){var d=new jQuery.Deferred(),t=this,c,o,e=p.controlType,g=p.oControlProperties;if(g&&g.id&&sap.ui.getCore().byId(g.id)){o=sap.ui.getCore().byId(g.id);if(o){if(this.lastFooterId){this.removeFooter();}this.lastFooterId=oInnerControl.getId();this.shellCtrl.setFooter(o);d.resolve(o);}}if(e){c=e.replace(/\./g,"/");sap.ui.require([c],function(h){o=new h(g);if(t.lastFooterId){t.removeFooter();}t.lastFooterId=o.getId();t.shellCtrl.setFooter(o);d.resolve(o);});}else{jQuery.sap.log.warning("You must specify control type in order to create it");}return d.promise();};b.prototype.setFooterControl=function(c,o){var d=c.replace(/\./g,"/"),e=sap.ui.require(d),g,h,i=false;if(e){i=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}h=function(o){if(c){if(i){return new e(o);}else{var j=jQuery.sap.getObject(c);return new j(o);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};g=this.createItem(o,undefined,undefined,h);if(this.lastFooterId){this.removeFooter();}this.lastFooterId=g.getId();this.shellCtrl.setFooter(g);return g;};b.prototype.hideHeaderItem=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeHeaderItem([i],c,S);}else{this.oShellModel.removeHeaderItem(i,c,S);}};b.prototype.removeToolAreaItem=function(i,c,S){E.once("ToolAreaCreated").do(function(){if(typeof i==="string"){this.oShellModel.removeToolAreaItem([i],c,S);}else{this.oShellModel.removeToolAreaItem(i,c,S);}}.bind(this));};b.prototype.removeRightFloatingContainerItem=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeRightFloatingContainerItem([i],c,S);}else{this.oShellModel.removeRightFloatingContainerItem(i,c,S);}};b.prototype.hideActionButton=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeActionButton([i],c,S);}else{this.oShellModel.removeActionButton(i,c,S);}this.toggleOverFlowActions();};b.prototype.toggleOverFlowActions=function(){jQuery.sap.measure.start("FLP:Shell.controller.toggleMeAreaView","show or hide actionbox if no actions in me area","FLP");var m=sap.ui.getCore().byId('meArea');var B={};try{if(m){if(m.actionBox){if(m.actionBox._getControlsIds().length===0){sap.ui.getCore().byId('overflowActions').setVisible(false);}else{m.actionBox._getControlsIds().forEach(function(c){var d=sap.ui.getCore().byId(c);if(d.getVisible()){throw B;}});sap.ui.getCore().byId('overflowActions').setVisible(false);}}}}catch(e){if(e!==B){throw e;}else{sap.ui.getCore().byId('overflowActions').setVisible(true);}}jQuery.sap.measure.end("FLP:Shell.controller.toggleMeAreaView");};b.prototype.hideLeftPaneContent=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeLeftPaneContent([i],c,S);}else{this.oShellModel.removeLeftPaneContent(i,c,S);}};b.prototype.hideFloatingActionButton=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeFloatingActionButton([i],c,S);}else{this.oShellModel.removeFloatingActionButton(i,c,S);}};b.prototype.hideHeaderEndItem=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeHeaderEndItem([i],c,S);}else{this.oShellModel.removeHeaderEndItem(i,c,S);}};b.prototype.hideSubHeader=function(i,c,S){if(typeof i==="string"){this.oShellModel.removeSubHeader([i],c,S);}else{this.oShellModel.removeSubHeader(i,c,S);}};b.prototype.removeFooter=function(){this.shellCtrl.removeFooter();if(this.lastFooterId){var F=sap.ui.getCore().byId(this.lastFooterId);if(F){F.destroy();}this.lastFooterId=undefined;}};b.prototype.getCurrentViewportState=function(){return this.shellCtrl.getCurrentViewportState();};b.prototype.addShellSubHeader=function(p){var d=new jQuery.Deferred(),t=this,c,o,e=p.controlType,g=p.oControlProperties,i=p.bIsVisible,h=p.bCurrentState,S=p.aStates;if(g&&g.id&&sap.ui.getCore().byId(g.id)){o=sap.ui.getCore().byId(g.id);if(o){if(i){this.showSubHeader(o.getId(),h,S);}d.resolve(o);}}if(e){c=e.replace(/\./g,"/");sap.ui.require([c],function(j){o=new j(g);if(i){t.showSubHeader(o.getId(),h,S);t.oShellModel.addElementToManagedQueue(o);}d.resolve(o);});}else{jQuery.sap.log.warning("You must specify control type in order to create it");}return d.promise();};b.prototype.addSubHeader=function(c,o,i,d,S){var e=c.replace(/\./g,"/"),g=sap.ui.require(e),h,j,k=false;if(g){k=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}j=function(o){if(c){if(k){return new g(o);}else{var l=jQuery.sap.getObject(c);return new l(o);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};h=this.createItem(o,d,S,j);if(i){this.showSubHeader(h.getId(),d,S);}return h;};b.prototype.addUserAction=function(p){var d=new jQuery.Deferred(),t=this,c,o,e=p.controlType,g=p.oControlProperties,i=p.bIsVisible,h=p.bCurrentState,m=h?A.shellElements().getStateModelToUpdate():this.oShellModel.getModelToUpdate(),S=p.aStates,I=p.bIsFirst||true,n;if(g){o=sap.ui.getCore().byId(g.id);}if(o){d.resolve(o);}if(e){if(e==="sap.m.Button"){e="sap.ushell.ui.launchpad.ActionItem";}c=e.replace(/\./g,"/");sap.ui.require([c],function(j){var O=h?A.shellElements().getStateModelToUpdate():t.oShellModel.getModelToUpdate();h?A.shellElements().setStateModelToUpdate(m):t.oShellModel.setModelToUpdate(m,true);o=o||new j(g);if(!o.getActionType){o=new j(g);}if(i){t.showActionButton(o.getId(),h,S,I);}h?A.shellElements().setStateModelToUpdate(O):t.oShellModel.setModelToUpdate(O,false);d.resolve(o);});}else{n="You must specify control type in order to create it";jQuery.sap.log.warning(n);d.reject(n);}return d.promise();};b.prototype.addActionButton=function(c,o,i,d,S,I){var e,g,h,j,k=false;if(c==="sap.m.Button"){c="sap.ushell.ui.launchpad.ActionItem";}e=c.replace(/\./g,"/");g=sap.ui.require(e);if(g){k=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}j=function(o){if(c){if(k){return new g(o);}else{var l=jQuery.sap.getObject(c);return new l(o);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};h=this.createItem(o,d,S,j);if(i){this.showActionButton(h.getId(),d,S,I);}return h;};b.prototype.addFloatingButton=function(p){var d=new jQuery.Deferred(),t=this,c,o,e=p.controlType,g=p.oControlProperties,i=p.bIsVisible,h=p.bCurrentState,S=p.aStates;if(g&&g.id&&sap.ui.getCore().byId(g.id)){o=sap.ui.getCore().byId(g.id);if(o){if(i){t.showFloatingActionButton(oItem.getId(),h,S);t.oShellModel.addElementToManagedQueue(o);}d.resolve(o);}}if(e){c=e.replace(/\./g,"/");}else{c="sap/m/Button";}sap.ui.require([c],function(j){o=new j(g);if(i){this.showFloatingActionButton(oItem.getId(),h,S);}d.resolve(o);});return d.promise();};b.prototype.addFloatingActionButton=function(c,o,i,d,S){var e,g,h,j,k=false;if(!c){c="sap.m.Button";}e=c.replace(/\./g,"/");g=sap.ui.require(e);if(g){k=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}j=function(o){if(c){if(k){return new g(o);}else{var l=jQuery.sap.getObject(c);return new l(o);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};h=this.createItem(o,d,S,j);if(i){this.showFloatingActionButton(h.getId(),d,S);}return h;};b.prototype.addSidePaneContent=function(p){var d=new jQuery.Deferred(),t=this,c,o,e=p.controlType,g=p.oControlProperties,i=p.bIsVisible,h=p.bCurrentState,S=p.aStates;if(g&&g.id&&sap.ui.getCore().byId(g.id)){o=sap.ui.getCore().byId(g.id);if(o){d.resolve(o);}}if(e){c=e.replace(/\./g,"/");sap.ui.require([c],function(j){o=new j(g);if(i){t.oShellModel.addElementToManagedQueue(o);t.showLeftPaneContent(oItem.getId(),h,S);}d.resolve(o);});}else{jQuery.sap.log.warning("You must specify control type in order to create it");}return d.promise();};b.prototype.addLeftPaneContent=function(c,o,i,d,S){var e=c.replace(/\./g,"/"),g=sap.ui.require(e),h,j,k;if(g){k=true;}else{if(!jQuery.sap.getObject(c)){jQuery.sap.require(c);}}j=function(o){if(c){if(k){return new g(o);}else{var l=jQuery.sap.getObject(c);return new l(o);}}else{jQuery.sap.log.warning("You must specify control type in order to create it");}};h=this.createItem(o,d,S,j);if(i){this.showLeftPaneContent(h.getId(),d,S);}return h;};b.prototype.addHeaderItem=function(c,o,i,d,S){if(typeof(arguments[0])==='object'&&typeof(arguments[1])==='boolean'){o=arguments[0];i=arguments[1];d=arguments[2];S=arguments[3];}else{jQuery.sap.log.warning("sap.ushell.renderers.fiori2.Renderer: The parameter 'controlType' of the function 'addHeaderItem' is deprecated. Usage will be ignored!");}var p=o;p.showSeparator=false;var e=function(o){return new sap.ushell.ui.shell.ShellHeadItem(o);},I=this.createItem(p,d,S,e);if(i){this.showHeaderItem(I.getId(),d,S);}return I;};b.prototype.addRightFloatingContainerItem=function(c,i,d,S){var e=function(c){return new sap.m.NotificationListItem(c);},I=this.createItem(c,d,S,e);if(i){this.showRightFloatingContainerItem(I.getId(),d,S);}return I;};b.prototype.addToolAreaItem=function(c,i,d,S){var e=function(c){return new T(c);},I=this.createItem(c,d,S,e);E.once("ToolAreaCreated").do(function(){if(i){this.showToolAreaItem(I.getId(),d,S);}}.bind(this));return I;};b.prototype.addHeaderEndItem=function(c,o,i,d,S){var p=o;p.showSeparator=false;var e=function(o){return new sap.ushell.ui.shell.ShellHeadItem(o);},I=this.createItem(p,d,S,e);if(i){this.showHeaderEndItem(I.getId(),d,S);}return I;};b.prototype.getModelConfiguration=function(){return this.shellCtrl.getModelConfiguration();};b.prototype.addEndUserFeedbackCustomUI=function(c,S){this.shellCtrl.addEndUserFeedbackCustomUI(c,S);};b.prototype.addUserPreferencesEntry=function(e){return this.shellCtrl.addUserPreferencesEntry(e);};b.prototype.setHeaderTitle=function(t,c,o){var d,e=null,g;if(o&&o.id&&sap.ui.getCore().byId(o.id)){e=sap.ui.getCore().byId(o.id);this.shellCtrl.setHeaderTitle(t,e);}else if(c){d=c.replace(/\./g,"/");g=sap.ui.require(d);if(g){e=new g(o);this.shellCtrl.setHeaderTitle(t,e);}else{sap.ui.require([d],function(g){e=new g(o);this.shellCtrl.setHeaderTitle(t,e);});}}else{this.shellCtrl.setHeaderTitle(t,e);}};b.prototype.setLeftPaneVisibility=function(l,v){this.oShellModel.setLeftPaneVisibility(v,false,[l]);};b.prototype.showToolArea=function(l,v){this.oShellModel.showShellItem("/toolAreaVisible",l,v);};b.prototype.setHeaderHiding=function(h){return this.oShellModel.setHeaderHiding(h);};b.prototype.setFloatingContainerContent=function(c,d,S){this.shellCtrl.setFloatingContainerContent("floatingContainerContent",[c.getId()],d,S);};b.prototype.setFloatingContainerVisibility=function(v){this.shellCtrl.setFloatingContainerVisibility(v);};b.prototype.getFloatingContainerState=function(){return this.shellCtrl.getFloatingContainerState();};b.prototype.getFloatingContainerVisiblity=function(){return this.shellCtrl.getFloatingContainerVisibility();};b.prototype.getRightFloatingContainerVisibility=function(){return this.shellCtrl.getRightFloatingContainerVisibility();};b.prototype.setFloatingContainerDragSelector=function(e){this.shellCtrl.setFloatingContainerDragSelector(e);};b.prototype.makeEndUserFeedbackAnonymousByDefault=function(e){this.shellCtrl.makeEndUserFeedbackAnonymousByDefault(e);};b.prototype.showEndUserFeedbackLegalAgreement=function(S){this.shellCtrl.showEndUserFeedbackLegalAgreement(S);};b.prototype.LaunchpadState={App:"app",Home:"home"};b.prototype.createInspection=function(c,d,e,S){this.oShellModel.createInspection(c,d,e,S);};b.prototype.createTriggers=function(t,c,S){this.oShellModel.createTriggers(t,c,S);};b.prototype.convertButtonsToActions=function(i,c,S,I){var p={},B,t=this;i.forEach(function(d){B=sap.ui.getCore().byId(d);p.id=B.getId();p.text=B.getText();p.icon=B.getIcon();p.tooltip=B.getTooltip();p.enabled=B.getEnabled();p.visible=B.getVisible();if(B.mEventRegistry&&B.mEventRegistry.press){p.press=B.mEventRegistry.press[0].fFunction;}B.destroy();t.addActionButton("sap.ushell.ui.launchpad.ActionItem",p,p.visible,c,S,I);});};b.prototype.createItem=function(c,d,S,e){var i;if(c&&c.id){i=sap.ui.getCore().byId(c.id);}if(!i){i=e(c);if(d){this.oShellModel.addElementToManagedQueue(i);}}return i;};b.prototype.addEntryInShellStates=function(n,e,c,d,S){this.oShellModel.addEntryInShellStates(n,e,c,d,S);};b.prototype.removeCustomItems=function(S,i,c,d){if(typeof i==="string"){this.oShellModel.removeCustomItems(S,[i],c,d);}else{this.oShellModel.removeCustomItems(S,i,c,d);}};b.prototype.addCustomItems=function(S,i,c,d){if(typeof i==="string"){this.oShellModel.addCustomItems(S,[i],c,d);}else{this.oShellModel.addCustomItems(S,i,c,d);}};b.prototype.addRightViewPort=function(v){this.shellCtrl.oViewPortContainer.addRightViewPort(v,false);};b.prototype.addLeftViewPort=function(v){this.shellCtrl.oViewPortContainer.addLeftViewPort(v,false);};b.prototype.getShellController=function(){return this.shellCtrl;};b.prototype.getViewPortContainerCurrentState=function(){return this.shellCtrl.oViewPortContainer.getCurrentState();};b.prototype.ViewPortContainerNavTo=function(n,t,c){return this.shellCtrl.oViewPortContainer.navTo(n,t,c);};b.prototype.switchViewPortStateByControl=function(o,S){var t=this,c=false;if(o&&o.setEnabled&&typeof o.setEnabled==="function"){c=true;}if(c){o.addStyleClass("sapUshellShellHeadItemOverrideDisableStyle");o.setEnabled(false);}function d(){o.setEnabled(true);o.removeStyleClass("sapUshellShellHeadItemOverrideDisableStyle");t.shellCtrl.oViewPortContainer.detachAfterSwitchStateAnimationFinished(d);}if(c){this.ViewPortContainerAttachAfterSwitchStateAnimationFinished(d);}this.shellCtrl.oViewPortContainer.switchState(S);};b.prototype.ViewPortContainerAttachAfterSwitchStateAnimationFinished=function(c){this.shellCtrl.oViewPortContainer.attachAfterSwitchStateAnimationFinished(c);};b.prototype.setMeAreaSelected=function(S){this.shellCtrl.setMeAreaSelected(S);};b.prototype.getMeAreaSelected=function(){return this.shellCtrl.getMeAreaSelected();};b.prototype.setNotificationsSelected=function(S){this.shellCtrl.setNotificationsSelected(S);};b.prototype.getNotificationsSelected=function(){return this.shellCtrl.getNotificationsSelected();};b.prototype.addShellDanglingControl=function(c){this.shellCtrl.getView().addDanglingControl(c);};b.prototype.getShellConfig=function(){return(this.shellCtrl.getView().getViewData()?this.shellCtrl.getView().getViewData().config||{}:{});};b.prototype.getEndUserFeedbackConfiguration=function(){return this.shellCtrl.oEndUserFeedbackConfiguration;};b.prototype.reorderUserPrefEntries=function(e){return this.shellCtrl._reorderUserPrefEntries(e);};b.prototype.addUserProfilingEntry=function(e){this.shellCtrl.addUserProfilingEntry(e);};b.prototype.logRecentActivity=function(o){if(!o.appType){o.appType="App";}if(!o.appId){o.appId=o.url;}return this.shellCtrl._logRecentActivity(o);};b.prototype.setCurrentCoreView=function(c){this.currentCoreView=c;};b.prototype.getCurrentCoreView=function(){return this.currentCoreView;};return b;});
sap.ui.predefine('sap/ushell/renderers/fiori2/RendererExtensions',['sap/ushell/EventHub'],function(E){"use strict";function _(C){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell","rendererLoaded",{rendererName:"fiori2"});},0);E.emit("RendererLoaded",{rendererName:"fiori2"});}function a(x,D){setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell.renderers.fiori2.Renderer",x,D);},0);}sap.ushell.renderers.fiori2.utils={};sap.ushell.renderers.fiori2.utils.publishExternalEvent=a;sap.ushell.renderers.fiori2.utils.init=_;function b(I,L,x){sap.ushell.Container.getRenderer("fiori2").showSubHeader(I.getId(),false,[L,x]);}function c(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideSubHeader(I.getId(),false,[L,x]);}function d(I,L,x){sap.ushell.Container.getRenderer("fiori2").showHeaderItem(I.getId(),false,[L,x]);}function e(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideHeaderItem(I.getId(),false,[L,x]);}function f(B,L,x){sap.ushell.Container.getRenderer("fiori2").showActionButton(B.getId(),false,[L,x]);}function g(B,L,x){sap.ushell.Container.getRenderer("fiori2").hideActionButton(B.getId(),false,[L,x]);}function h(C,L,x){sap.ushell.Container.getRenderer("fiori2").showLeftPaneContent(C.getId(),false,[L,x]);}function i(L,x){sap.ushell.Container.getRenderer("fiori2").hideLeftPaneContent(false,[L,x]);}function j(I,L,x){sap.ushell.Container.getRenderer("fiori2").showFloatingActionButton(I.getId(),false,[L,x]);}function k(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideFloatingActionButton(I.getId(),false,[L,x]);}function l(I,L,x){sap.ushell.Container.getRenderer("fiori2").showHeaderEndItem(I.getId(),false,[L,x]);}function m(I,L,x){sap.ushell.Container.getRenderer("fiori2").hideHeaderEndItem(I.getId(),false,[L,x]);}function n(){return sap.ushell.Container.getRenderer("fiori2").getModelConfiguration();}function o(I,L,T,x){var y=sap.ui.getCore().byId(I);if(x){sap.ushell.Container.getRenderer("fiori2").showHeaderItem(y.getId(),T,[L]);}}function p(C,S){sap.ushell.Container.getRenderer("fiori2").addEndUserFeedbackCustomUI(C,S);}function q(x){sap.ushell.Container.getRenderer("fiori2").addUserPreferencesEntry(x);}function r(T){sap.ushell.Container.getRenderer("fiori2").setHeaderTitle(T);}function s(L,V){sap.ushell.Container.getRenderer("fiori2").setLeftPaneVisibility(L,V);}function t(H){sap.ushell.Container.getRenderer("fiori2").setHeaderHiding(H);}function u(F){sap.ushell.Container.getRenderer("fiori2").setFooter(F);}function v(){sap.ushell.Container.getRenderer("fiori2").removeFooter();}function R(){this.addHeaderItem=d;this.setHeaderItemVisibility=o;this.addSubHeader=b;this.removeSubHeader=c;this.addHeaderEndItem=l;this.removeHeaderItem=e;this.removeHeaderEndItem=m;this.addEndUserFeedbackCustomUI=p;this.addOptionsActionSheetButton=f;this.removeOptionsActionSheetButton=g;this.setFooter=u;this.removeFooter=v;this.addUserPreferencesEntry=q;this.setHeaderTitle=r;this.setHeaderHiding=t;this.LaunchpadState={App:"app",Home:"home"};this.addFloatingActionButton=j;this.removeFloatingActionButton=k;this.setLeftPaneContent=h;this.removeLeftPaneContent=i;this.setLeftPaneVisibility=s;this.getConfiguration=n;}var w=new R();return w;},true);
sap.ui.predefine('sap/ushell/renderers/fiori2/Shell.controller',["sap/ushell/ui5service/ShellUIService","sap/ui/Device","sap/ushell/CanvasShapesManager","./AccessKeysHandler","./History","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/ushell/services/AppConfiguration","sap/ushell/services/AppType","sap/ushell/services/Message","sap/ushell/ui/launchpad/Fiori2LoadingDialog","sap/ushell/utils","sap/ushell/resources","sap/ushell/UserActivityLog","sap/ushell/EventHub","sap/ushell/Config","sap/ui/core/Component","jquery.sap.storage","sap/ushell/utils/WindowUtils"],function(S,D,C,A,H,a,b,c,M,F,u,r,U,E,d,f,g,W){"use strict";var h=true,p=false,B=false,s,j=a.getElementsModel(),m,o={embedded:0,newWindowThenEmbedded:1,newWindow:1,replace:0},n={embedded:"embedded",newWindowThenEmbedded:"newWindowThenEmbedded",newWindow:"newWindow",replace:"replace"},k={};sap.ui.controller("sap.ushell.renderers.fiori2.Shell",{_aDoableObjects:[],onComponentTargetDisplay:function(e){var P=e.getParameters(),i=P.control,l=P.object;i.navTo("centerViewPort",l.getId(),"show");},onInit:function(){var e=this.getView().updateShellAggregation;sap.ui.getCore().byId("shell-header").updateAggregation=e;sap.ui.getCore().byId("shell").updateAggregation=e;sap.ui.getCore().byId("right-floating-container").updateAggregation=e;sap.ui.getCore().byId("shell-split").updateAggregation=e;var R=f.getOwnerComponentFor(this.getView()).getRouter();R.getTarget("home").attachDisplay(this.onComponentTargetDisplay);R.getTarget("appfinder").attachDisplay(this.onComponentTargetDisplay);R.initialize(true);this.bEnableHashChange=true;B=false;h=true;var v=this.getView();var i=window.matchMedia("(min-width: 600px)"),l;var k=(v.getViewData()?v.getViewData().config:{})||{};a.parseStatefulContainerConfiguration(k.statefulApplicationContainer);this.oEndUserFeedbackConfiguration={showAnonymous:true,anonymousByDefault:true,showLegalAgreement:true,showCustomUIContent:true,feedbackDialogTitle:true,textAreaPlaceholder:true,customUIContent:undefined};k["enableBackGroundShapes"]=k.enableBackGroundShapes===undefined?true:k.enableBackGroundShapes;this.initShellModel(k);l=function(w){d.emit("/core/shell/model/isPhoneWidth",!w.matches);};if(i.addListener){i.addListener(l);l(i);}v.setModel(r.i18nModel,"i18n");v.oShellHeader.setModel(m);v.oShellHeader.setModel(r.i18nModel,"i18n");sap.ui.getCore().getEventBus().subscribe("externalSearch",this.externalSearchTriggered,this);this._setConfigurationToModel();this._aDoableObjects=this._registerAndCreateEventHubDoables(k);sap.ushell.Container.getService("AppLifeCycle");s.addHeaderEndItem(["NotificationsCountButton"],false,["home","app","minimal"],true);this.history=new H();this.oViewPortContainer=sap.ui.getCore().byId("viewPortContainer");a.init(k.appState,this.oViewPortContainer,k.rootIntent,k.disableHomeAppCache,{ownerComponent:this.getOwnerComponent()},k.storageSize?k.storageSize:10);this.oNotificationsCountButton=sap.ui.getCore().byId("NotificationsCountButton");this.oFiori2LoadingDialog=sap.ui.getCore().byId("Fiori2LoadingDialog");var q=function(w){this.oShellNavigation=w;this.oShellNavigation.registerExtraRouter(R);this.oShellNavigation.registerNavigationFilter(this._handleEmptyHash.bind(this));this.oShellNavigation.init(this.doHashChange.bind(this));this.oShellNavigation.registerNavigationFilter(this._disableSourceAppRouter.bind(this));this.oShellNavigation.registerNavigationFilter(this.handleDataLoss.bind(this));this.oShellNavigation.registerNavigationFilter(this._savePreviousHash.bind(this));this._previousHash=null;E.emit("ShellNavigationInitialized");}.bind(this);Promise.all([sap.ushell.Container.getServiceAsync("URLParsing"),sap.ushell.Container.getServiceAsync("URLShortening")]).then(function(){return sap.ushell.Container.getServiceAsync("ShellNavigation");}).then(q);sap.ushell.Container.setLogonFrameProvider(this._getLogonFrameProvider());A.init(m);window.onbeforeunload=function(){if(sap.ushell.Container&&sap.ushell.Container.getDirtyFlag()){if(!r.browserI18n){r.browserI18n=r.getTranslationModel(window.navigator.language).getResourceBundle();}return r.browserI18n.getText("dataLossExternalMessage");}};if(d.last("/core/shell/model/contentDensity")){a.getAppMeta()._applyContentDensityClass();}D.media.attachHandler(this.onScreenSizeChange,this,D.media.RANGESETS.SAP_STANDARD);this.onScreenSizeChange(D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD));D.orientation.attachHandler(function(){var w=sap.ui.getCore().byId('viewPortContainer');if(w&&w.getCurrentState()!=="Center"){w.switchState("Center");}});this.initShellUIService();sap.ui.getCore().attachThemeChanged(this.redrawBackGroundShapes);if(k.sessionTimeoutIntervalInMinutes){var L=20000,t=this;setTimeout(function(){t._createSessionHandler(k);},L);}this.oViewPortContainer.onfocusin=function(){A.bFocusOnShell=false;A.bFocusPassedToExternalHandlerFirstTime=false;};this.oViewPortContainer.onfocusout=function(){A.bFocusOnShell=true;A.bFocusPassedToExternalHandlerFirstTime=true;};},shellUpdateAggItem:function(i,e){return sap.ui.getCore().byId(e.getObject());},_registerAndCreateEventHubDoables:function(k){var e=[E.once("CenterViewPointContentRendered").do(this._loadCoreExt.bind(this)),E.on("AppRendered").do(this.setBackGroundShapes.bind(this)),E.on("AppRendered").do(this.delayedCloseLoadingScreen.bind(this)),E.once("AppRendered").do(this._loadCoreExtNonUI5.bind(this)),E.on("toggleContentDensity").do(this.toggleContentDensity.bind(this)),E.on("ShellFloatingContainerDockedIsResized").do(this._onResizeWithDocking.bind(this)),E.on("LaunchpadCustomRouterRouteMatched").do(this._centerViewPort.bind(this)),E.once("CoreResourcesComplementLoaded").do(this._onCoreResourcesComplementLoaded.bind(this)),E.once("RendererExtensionPluginsLoaded").do(this._onRendererExtensionPluginsLoaded.bind(this)),E.join(E.once("RendererExtensionPluginsLoaded"),E.once("firstSegmentCompleteLoaded"),E.once("ShellComplete")).do(this._loadWarmupPlugins.bind(this))];if(k&&k.moveEditHomePageActionToShellHeader){e.push(E.on("showCatalog").do(this._hideEditButton.bind(this)));}return e;},initShellModel:function(k){s=j;s.init(k,a.shellElements().model());m=this.getView().getViewData().shellModel;d.emit("/core/shell/model/personalization",d.last("/core/shell/enablePersonalization"));},redrawBackGroundShapes:function(){if(k.enableBackGroundShapes){C.drawShapes();}},setBackGroundShapes:function(){var e=d.last("/core/shell/model/animationMode")!=='minimal';if(!B&&k.enableBackGroundShapes){B=true;C.drawShapes();C.enableAnimationDrawing(e);}},initShellUIService:function(){a.initShellUIService({fnOnBackNavigationChange:this.onBackNavigationChange.bind(this)});if(k.enableOnlineStatus){sap.ui.require(["sap/ushell/ui5service/UserStatus"],function(e){this.oUserStatus=new e({scopeObject:this.getOwnerComponent(),scopeType:"component"});this.oUserStatus.attachEnabledStatusChanged(function(i){d.emit("/core/shell/model/userStatusEnabled",i.mParameters.data);}.bind(this));this.oUserStatus.attachStatusChanged(function(i){var l=i.mParameters.data;d.emit("/core/shell/model/userStatus",l);if(l===null){d.emit("/core/shell/model/userStatusUserEnabled",false);}else{d.emit("/core/shell/model/userStatusUserEnabled",true);}}.bind(this));}.bind(this));}},onBackNavigationChange:function(e){this.isBackNavigationChanged=true;var i=e.getParameters().data,l=d.last("/core/shell/model/currentState");if(i){a.service().setNavigateBack(i);if(l.stateName==='minimal'||l.stateName==='standalone'||l.stateName==='embedded'){sap.ushell.Container.getRenderer('fiori2').showHeaderItem('backBtn',true);}}else{a.service().resetNavigateBack();}},toggleContentDensity:function(e){var i=e.contentDensity==="compact";a.getAppMeta()._applyContentDensityByPriority(i);},_handleEmptyHash:function(e){e=(typeof e==="string")?e:"";e=e.split("?")[0];if(e.length===0){var v=this.getView()?this.getView().getViewData():{};k=v.config||{};if(k.migrationConfig){return this.oShellNavigation.NavigationFilterStatus.Continue;}if(k.rootIntent){setTimeout(function(){window.hasher.setHash(k.rootIntent);},0);return this.oShellNavigation.NavigationFilterStatus.Abandon;}}return this.oShellNavigation.NavigationFilterStatus.Continue;},_setConfigurationToModel:function(){var v=this.getView().getViewData();if(v){k=v.config||{};}if(k){if(k.states){j.extendStates(k.states);}if(k.changeEndUserFeedbackTitle!==undefined){this.oEndUserFeedbackConfiguration.feedbackDialogTitle=k.changeEndUserFeedbackTitle;}if(k.changeEndUserFeedbackPlaceholder!==undefined){this.oEndUserFeedbackConfiguration.textAreaPlaceholder=k.changeEndUserFeedbackPlaceholder;}if(k.showEndUserFeedbackAnonymousCheckbox!==undefined){this.oEndUserFeedbackConfiguration.showAnonymous=k.showEndUserFeedbackAnonymousCheckbox;}if(k.makeEndUserFeedbackAnonymousByDefault!==undefined){this.oEndUserFeedbackConfiguration.anonymousByDefault=k.makeEndUserFeedbackAnonymousByDefault;}if(k.showEndUserFeedbackLegalAgreement!==undefined){this.oEndUserFeedbackConfiguration.showLegalAgreement=k.showEndUserFeedbackLegalAgreement;}if(k.enableSetTheme!==undefined){m.setProperty("/setTheme",k.enableSetTheme);}m.setProperty("/contentDensity",k.enableContentDensity===undefined?true:k.enableContentDensity);if(k.title){m.setProperty("/title",k.title);}if(k.migrationConfig!==undefined){m.setProperty("/migrationConfig",k.migrationConfig);}if(k.enableUserDefaultParameters!==undefined){m.setProperty("/userDefaultParameters",k.enableUserDefaultParameters);}if(k.disableHomeAppCache!==undefined){m.setProperty("/disableHomeAppCache",k.disableHomeAppCache);}m.setProperty("/enableHelp",d.last("/core/extension/enableHelp"));m.setProperty("/searchAvailable",(k.enableSearch!==false));m.bindProperty('/animationMode').attachChange(this.handleAnimationModeChange.bind(this));m.setProperty("/animationMode",k.animationMode);this._getPersData({container:"flp.launchpad.animation.mode",item:"animationMode"}).then(function(e){m.setProperty("/animationMode",e?e:k.animationMode);k.animationMode=e?e:k.animationMode;});this._getPersData({container:"flp.settings.FlpSettings",item:"userActivitesTracking"}).then(function(e){if(e===undefined){e=true;}m.setProperty("/enableTrackingActivity",e);}).catch(function(e){jQuery.sap.log.error("Failed to ltracking activities state state from the personalization",e,"sap.ushell.components.flp.settings.FlpSettings");});}},_hideEditButton:function(){var e=sap.ui.getCore().byId("ActionModeBtn");if(e){e.setVisible(false);}},_getPreviousPageDirty:function(){return p;},_setPreviousPageDirty:function(e){p=e;},getModelConfiguration:function(){var v=this.getView().getViewData(),e,i;if(v){e=v.config||{};i=jQuery.extend({},e);}delete i.applications;return i;},_getLogonFrameProvider:function(){var v=this.getView();return{create:function(){return v.createIFrameDialog();},show:function(){v.showIFrameDialog();},destroy:function(){v.destroyIFrameDialog();}};},onExit:function(){this._aDoableObjects.forEach(function(l){l.off();});sap.ui.getCore().getEventBus().unsubscribe("externalSearch",this.externalSearchTriggered,this);D.media.detachHandler(this.onScreenSizeChange,this,D.media.RANGESETS.SAP_STANDARD);if(this.oShellNavigation){this.oShellNavigation.hashChanger.destroy();}var e=this.getView().aDanglingControls;if(e){e.forEach(function(l){if(l.destroyContent){l.destroyContent();}l.destroy();});}var i=this.getView().oShellHeader;if(i&&i.destroy){i.destroy();}U.deactivate();s.destroy();a.shellElements().clean();a.destroy();s=undefined;this.bEnableHashChange=true;},handleAnimationModeChange:function(){var e=d.last("/core/shell/model/animationMode"),i=e!=='minimal';C.enableAnimationDrawing(i);sap.ui.getCore().getEventBus().publish("launchpad","animationModeChange",{sActionMode:e});},getAnimationType:function(){return"show";},_getCurrentAppRouter:function(){var e=sap.ushell.Container.getService("AppLifeCycle"),i=e&&e.getCurrentApplication&&e.getCurrentApplication(),l=i&&i.componentInstance;if(l){return l.getRouter();}return null;},_disableSourceAppRouter:function(e,i){if(!this.bEnableHashChange){return this.oShellNavigation.NavigationFilterStatus.Continue;}var l=this.oShellNavigation.hashChanger.isInnerAppNavigation(e,i);if(!l){var q=this._getCurrentAppRouter();if(q){q.stop();}}return this.oShellNavigation.NavigationFilterStatus.Continue;},_resumeAppRouterIgnoringCurrentHash:function(){var e=this._getCurrentAppRouter();if(e){e.initialize(true);}},handleDataLoss:function(e,i){if(!this.bEnableHashChange){this.bEnableHashChange=true;this.closeLoadingScreen();return this.oShellNavigation.NavigationFilterStatus.Custom;}if(sap.ushell.Container.getDirtyFlag()){if(!r.browserI18n){r.browserI18n=r.getTranslationModel(window.navigator.language).getResourceBundle();}if(confirm(r.browserI18n.getText("dataLossInternalMessage"))){sap.ushell.Container.setDirtyFlag(false);p=true;return this.oShellNavigation.NavigationFilterStatus.Continue;}this._resumeAppRouterIgnoringCurrentHash();if(this._previousHash===e){this.bEnableHashChange=false;window.hasher.setHash(i);return this.oShellNavigation.NavigationFilterStatus.Custom;}var l=this.oShellNavigation.hashChanger.isInnerAppNavigation(e,i);var w=this.oShellNavigation.wasHistoryEntryReplaced();if(l&&w){return{status:this.oShellNavigation.NavigationFilterStatus.Custom,hash:i};}this.bEnableHashChange=false;window.history.back(1);return this.oShellNavigation.NavigationFilterStatus.Custom;}return this.oShellNavigation.NavigationFilterStatus.Continue;},_savePreviousHash:function(e,i){var l=this.oShellNavigation.hashChanger.isInnerAppNavigation(e,i);var w=this.oShellNavigation.wasHistoryEntryReplaced();if(l&&w){return this.oShellNavigation.NavigationFilterStatus.Continue;}this._previousHash=i;return this.oShellNavigation.NavigationFilterStatus.Continue;},_isColdStart:function(){var R=sap.ushell.Container.getRenderer('fiori2');var N=!R||!R.getCurrentCoreView();if(this.history.getHistoryLength()<=1&&N){return true;}this._isColdStart=function(){return false;};return false;},_setEnableHashChange:function(v){this.bEnableHashChange=v;},_logRecentActivity:function(R){return b.addActivity(R);},_logApplicationUsage:function(e){if(sap.ushell.Container){sap.ushell.Container.getServiceAsync("UserRecents").then(function(i){i.addAppUsage(e);});}},doHashChange:function(e,i,O,l,P){jQuery.sap.measure.start("FLP:ShellController.doHashChange","doHashChange","FLP");u.addTime("ShellControllerHashChange");return this._doHashChange(this,e,i,O,l,P).then(function(){jQuery.sap.measure.end("FLP:ShellController.doHashChange");},function(v){jQuery.sap.measure.end("FLP:ShellController.doHashChange");});},_doHashChange:function(e,i,l,O,q,P){var I,t,v;if(!this.bEnableHashChange){this.bEnableHashChange=true;e.closeLoadingScreen();return jQuery.when();}if(P){e.hashChangeFailure(e.history.getHistoryLength(),P.message,null,"sap.ushell.renderers.fiori2.Shell.controller",false);return jQuery.when();}if(sap.m.InstanceManager&&h){sap.m.InstanceManager.closeAllDialogs();sap.m.InstanceManager.closeAllPopovers();}h=true;e.openLoadingScreen();if(u.getParameterValueBoolean("sap-ushell-no-ls")){e.closeLoadingScreen();}t=e.history.getHistoryLength();v=e.fixShellHash(i);e.history.hashChange(v,O);e.currentAppBeforeNav=b.getCurrentApplication();jQuery.sap.flpmeasure.end(0,"Creating Shell");jQuery.sap.flpmeasure.start(0,"targetResolution",1);return e._resolveHashFragment(v).then(function(R,w){jQuery.sap.flpmeasure.end(0,"targetResolution");jQuery.sap.flpmeasure.start(0,"CreateComponent",3);var x=w?w.semanticObject+"-"+w.action:"",k=e._getConfig(),y=!!(R&&R.componentHandle),T=R&&R.ui5ComponentName;R=e._calculateNavigationMode(w,R);if(R&&(R.navigationMode===n.newWindow||u.isNativeWebGuiNavigation(R))){e.logOpenAppAction(v,R,l);e._openAppInNewWindowAndRestore(R);return;}if(d.last("/core/shell/model/migrationConfig")){k.migrationConfig=false;e.getModel().setProperty("/migrationConfig",false);if(R&&v==='#'){k.rootIntent="";}else if(v==='#'){setTimeout(function(){window.hasher.setHash(k.rootIntent);},0);return;}}if(k&&k.applications&&k.applications[x]){R.applicationConfiguration=k.applications[x];}I=a.getInMemoryInstance(x,v);if(I.isInstanceSupported){e._initiateApplication(R,v,w,t,l);return;}else{if(y||!T){e._initiateApplication(R,v,w,t,l);return;}a.destroy(I.appId,I.container);}a.removeApplication(x);b.setApplicationInInitMode();sap.ui.getCore().getEventBus().publish("ApplicationContainer","_prior.newUI5ComponentInstantion",{name:T});jQuery.sap.measure.start("FLP:ShellController.UI5createComponent","UI5 createComponent","FLP");sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(){a.createComponent(R,w).done(function(z){jQuery.sap.measure.end("FLP:ShellController.UI5createComponent");jQuery.sap.flpmeasure.end(0,"CreateComponent");e._initiateApplication(R,v,w,t,l);}).fail(function(z){var G=r.i18n.getText("cannot_load_ui5_component_details",[v]),J="Failed to load UI5 component for navigation intent "+v;b.setCurrentApplication(e.currentAppBeforeNav);e.hashChangeFailure(t,{title:r.i18n.getText("error"),message:r.i18n.getText("failed_to_open_ui5_component"),technicalMessage:J},{info:G,technicalMessage:z.message+"\n"+z.stack},"sap.ushell.renderers.fiori2.Shell.controller",false);});});},function(w){var x=r.i18n.getText("cannot_resolve_navigation_target_details",[v]),y="Failed to resolve navigation target: "+v+". This is most likely caused by an incorrect SAP Fiori launchpad content configuration or by missing role assignment.";e.hashChangeFailure(t,{title:r.i18n.getText("error"),message:r.i18n.getText("failed_to_open_app_missing_configuration_or_role_assignment"),technicalMessage:y},{info:x,fixedShellHash:v,technicalMessage:w},"sap.ushell.renderers.fiori2.Shell.controller",false);});},_initiateApplication:function(R,e,P,O,i){jQuery.sap.measure.start("FLP:ShellController._initiateApplication","_initiateApplication","FLP");var l=b.getMetadata(R),q=d.last("/core/extension/SupportTicket");if(l.title){window.document.title=l.title;}else{jQuery.sap.log.debug("Shell controller._initiateApplication: the title of the window is not changed because most probably the application was resolved with undefined");}if(q){setTimeout(function(){sap.ushell.UserActivityLog.activate();},0);}var N=false;try{this.navigate(P,e,l,R);N=true;}catch(t){if(t.stack){jQuery.sap.log.error("Application initialization (Intent: \n"+e+"\n failed due to an Exception:\n"+t.stack);}this.hashChangeFailure(O,t.name,t.message,l?l.title:"",false);}if(N){this.logOpenAppAction(e,R,i);}jQuery.sap.measure.end("FLP:ShellController._initiateApplication");},_resolveHashFragment:function(e){jQuery.sap.measure.start("FLP:ShellController._resolveHashFragment","_resolveHashFragment","FLP");var R,P,i=sap.ushell.Container.getService("URLParsing").parseShellHash(e),l=new jQuery.Deferred(),k=this._getConfig();P=i&&i.params||{};if(i&&i.contextRaw&&i.contextRaw==="navResCtx"&&P&&P.additionalInformation&&(P.additionalInformation[0]||P.additionalInformation[0]==="")&&P.applicationType&&P.applicationType[0]&&P.url&&P.url[0]&&P.navigationMode&&(P.navigationMode[0]||P.additionalInformation[0]==="")){P=i.params||{};R={additionalInformation:P.additionalInformation[0],applicationType:P.applicationType[0],url:P.url[0],navigationMode:P.navigationMode[0]};if(P.title){R.text=P.title[0];}l.resolve(R,i);}else{if(window["sap-ushell-async-libs-promise-directstart"]){window["sap-ushell-async-libs-promise-directstart"].then(function(q){l.resolve(q.resolvedHashFragment,i);delete window["sap-ushell-async-libs-promise-directstart"];},function(q){l.reject(q);delete window["sap-ushell-async-libs-promise-directstart"];});return l.promise();}sap.ushell.Container.getService("NavTargetResolution").resolveHashFragment(e).done(function(R){if(i&&(i.semanticObject+"-"+i.action)===k.rootIntent){R.navigationMode="embedded";}jQuery.sap.measure.end("FLP:ShellController._resolveHashFragment");l.resolve(R,i);}).fail(function(q){l.reject(q);});}return l.promise();},_calculateNavigationMode:function(P,R){if(!R){return undefined;}var N=R.navigationMode;if(N===n.newWindowThenEmbedded){if(this._isColdStart()||(P.contextRaw&&P.contextRaw==="navResCtx")||this.history.backwards){R.navigationMode=n.embedded;}else{R.navigationMode=n.newWindow;if(!u.isNativeWebGuiNavigation(R)){R.url=this._getCurrentLocationHash();}}return R;}if(N===n.newWindow&&this._isColdStart()){R.navigationMode=n.replace;return R;}return R;},_usesNavigationRedirect:function(e){if(!e){return new jQuery.Deferred().reject().promise();}var t=this,i=e.getInstance({});if(i&&typeof i.navigationRedirect==="function"){var l=new jQuery.Deferred();var N=i.navigationRedirect();if(N&&typeof N.then==="function"){N.then(function(q){jQuery.sap.log.warning("Performing navigation redirect to hash "+q);i.destroy();t.history.pop();sap.ushell.Container.getService("ShellNavigation").toExternal({target:{shellHash:q}},undefined,false);l.resolve(true);},function(){l.reject();});return l.promise();}}return new jQuery.Deferred().reject().promise();},navigate:function(P,e,i,R){jQuery.sap.measure.start("FLP:ShellController.navigate","navigate","FLP");var N=(jQuery.isPlainObject(R)?R.navigationMode:null),t=this;if(N===null){if(this._isColdStart()){window.hasher.setHash("");return;}this.bEnableHashChange=false;this.history.pop();this._windowHistoryBack(1);return;}R=this._calculateNavigationMode(P,R);N=(jQuery.isPlainObject(R)?R.navigationMode:null);if(N===n.embedded){var l=this._usesNavigationRedirect(R.componentHandle);l.then(null,function(){t._handleEmbeddedNavMode(e,P,i,R);if(P&&P.contextRaw==="navResCtx"){jQuery.sap.log.error(" This path will no longer be supported in 1.40");t.bEnableHashChange=false;if(P&&P.params&&P.params.original_intent&&P.params.original_intent[0]){window.hasher.replaceHash(P.params.original_intent[0]);t.history._history[0]=P.params.original_intent[0];}}});jQuery.sap.measure.end("FLP:ShellController.navigate");return;}if(N===n.replace){this.bEnableHashChange=false;this._changeWindowLocation(R.url);return;}if(N===n.newWindow){this._openAppInNewWindowAndRestore(R);return;}this.hashChangeFailure(this.history.getHistoryLength(),"Navigation mode is not recognized",null,"sap.ushell.renderers.fiori2.Shell.controller",false);},_openAppInNewWindowAndRestore:function(R){this.bEnableHashChange=false;if(u.isNativeWebGuiNavigation(R)){try{var i=u.appendUserIdToUrl("sap-user",R.url);var l=u.getPrivateEpcm();var q=o[R.navigationMode];if(u.hasNavigationModeCapability()){l.doNavigate(i,q||o[n.embedded]);}else{l.doNavigate(i);}}catch(e){if(e.stack){jQuery.sap.log.error("Application initialization failed due to an Exception:\n"+e.stack);}this.hashChangeFailure(this.history.getHistoryLength(),e.name,e.message,R.text,false);}}else{this._openAppNewWindow(R.url);}this.history.pop();var v=R.componentHandle&&R.componentHandle.getInstance&&R.componentHandle.getInstance({});if(v){v.destroy();}this._resumeAppRouterIgnoringCurrentHash();this._windowHistoryBack(1);b.setCurrentApplication(this.currentAppBeforeNav);return;},_handleEmbeddedNavMode:function(e,P,i,R){jQuery.sap.measure.start("FLP:ShellController._handleEmbeddedNavMode","_handleEmbeddedNavMode","FLP");var l,I,q;this.resetShellUIServiceHandlers();a.getAppMeta().setAppIcons(i);l='-'+P.semanticObject+'-'+P.action;I=e==="#"||(k.rootIntent&&k.rootIntent===P.semanticObject+"-"+P.action);q=P?P.semanticObject+"-"+P.action:"";a.switchViewState(a.shellElements().calculateElementsState(I?"home":"app",R.applicationType,k.appState,R.explicitNavMode),undefined,l);if(I){a.getShellUIService().setBackNavigation();}this._handleHomeAndBackButtonsVisibility();a.handleControl(q,l,P,R,this.getWrappedApplicationWithMoreStrictnessInIntention.bind(this),this.closeLoadingScreen.bind(this),e);this.closeLoadingScreen();if(this.currentAppBeforeNav){var t=a.getStatefulContainer(this.currentAppBeforeNav.applicationType);if(t){t.onApplicationOpened(R.applicationType);}}jQuery.sap.measure.end("FLP:ShellController._handleEmbeddedNavMode");sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(){E.emit("loadCoreResourcesComplement");});},_centerViewPort:function(){this.oViewPortContainer.switchState("Center");},_isShellHomeIntent:function(i){return i==="#"||i===k.rootIntent;},getWrappedApplicationWithMoreStrictnessInIntention:function(i,e,l,R,q,t,v){var w,x=this;setTimeout(function(){setTimeout(function(){var y;if(d.last("/core/shell/model/currentState/stateName")==="app"){y="shellAppTitle";}A.sendFocusBackToShell(y);setTimeout(function(){x.readNavigationEnd();},500);},100);sap.ui.getCore().getEventBus().publish("launchpad","appOpening",R);jQuery.sap.log.info('app is being opened');},0);if(k.applications){R.applicationConfiguration=k.applications[i];}w=a.getAppContainer(q,R,this._isColdStart(),l,v);R.sShellHash=i;a.publishNavigationStateEvents(w,R,this.onAppAfterRendering.bind(this,R));w.addStyleClass('sapUshellApplicationPage');if(!t){w.addStyleClass("sapUShellApplicationContainerLimitedWidth");}if(this._isDock()&&window.matchMedia('(min-width: 106.4rem)').matches){w.addStyleClass("sapUShellDockingContainer");w.removeStyleClass("sapUShellApplicationContainerLimitedWidth");}else if(this._isDock()){w.removeStyleClass("sapUShellApplicationContainerLimitedWidth");}w.toggleStyleClass('sapUshellDefaultBackground',!e.hideLightBackground);a.getAppMeta()._applyContentDensityByPriority();a.addControl(w);setTimeout(function(){x.closeLoadingScreen();},0);jQuery.sap.measure.end("FLP:ShellController.getWrappedApplication");return w;},resetShellUIServiceHandlers:function(){a.getAppMeta().resetShellUIServiceHandlers();this.isBackNavigationChanged=false;},onAppAfterRendering:function(e){var i=a.getShellUIService();setTimeout(function(){sap.ui.getCore().getEventBus().publish("sap.ushell","appOpened",e);jQuery.sap.log.info('app was opened');},0);var l=a._publicEventDataFromResolutionResult(e);E.emit("AppRendered",l);sap.ushell.renderers.fiori2.utils.publishExternalEvent("appOpened",l);if(i){if(!a.getAppMeta().getIsHierarchyChanged()){i.setHierarchy();}if(!a.getAppMeta().getIsTitleChanged()){i.setTitle();}if(!a.getAppMeta().getIsRelatedAppsChanged()){i.setRelatedApps();}if(!this.isBackNavigationChanged){i.setBackNavigation();}}s.updateStateProperty("application/icon",a.getAppMeta().getAppIcon(),true);s.updateStateProperty("application/showNavMenuTitle",this.bNavMenuTitleVisible,true);},_saveHomePageComponent:function(){if(this.oHomeApp){return;}var t=this,e="sap.ushell",l=function(i,q,v){t.oHomeApp=v.component;sap.ui.getCore().getEventBus().unsubscribe(e,"appComponentLoaded",l);};sap.ui.getCore().getEventBus().subscribe(e,"appComponentLoaded",l);},hashChangeFailure:function(i,v,e,l,q){if(u.isPlainObject(v)){this.reportError(v.technicalMessage,e.technicalMessage,l);this.closeLoadingScreen();sap.ushell.Container.getService("Message").show(sap.ushell.services.Message.Type.ERROR,v.message,{title:v.title,details:e});}else{this.reportError(v,e,l);this.closeLoadingScreen();this.delayedMessageError(r.i18n.getText("fail_to_start_app_try_later"));}h=false;this._resumeAppRouterIgnoringCurrentHash();if(i===0){window.hasher.setHash("");}else if(jQuery.sap.getUriParameters().get("bFallbackToShellHome")){window.hasher.setHash("");}else{this.bEnableHashChange=q;sap.ushell.Container.setDirtyFlag(p);this._windowHistoryBack(1);}},reportError:function(e,i,l){jQuery.sap.log.error(e,i,l);},delayedMessageError:function(e){setTimeout(function(){if(sap.ushell.Container!==undefined){sap.ushell.Container.getService("Message").error(e);}},0);},fixShellHash:function(e){if(!e){e='#';}else if(e.charAt(0)!=='#'){e='#'+e;}return e;},_openAppNewWindow:function(e){if(e.trim().indexOf("sap-nwbc://")===0&&(D.browser.edge||D.browser.msie)){window.location.href=e;}else{var i=W.openURL(e);if(!i&&!(D.browser.msie||D.browser.edge)){var l=r.i18n.getText("fail_to_start_app_popup_blocker",[window.location.hostname]);this.delayedMessageError(l);}}},_windowHistoryBack:function(i){window.history.back(i);},_changeWindowLocation:function(e){window.location.href=e;},handleEndItemsOverflow:function(P){var e=d.last("/core/shell/model/currentState/headEndItems");if(e.length===1||(e.length===2&&e.indexOf("NotificationsCountButton")!=-1)){return;}function i(){s.removeHeaderEndItem(["endItemsOverflowBtn"],false,["home","app"]);var l=sap.ui.getCore().byId('headEndItemsOverflow');if(l){l.destroy();}}if(P.name==='Phone'||P.name==='Tablet'){if(e.indexOf("endItemsOverflowBtn")===-1){s.addHeaderEndItem(["endItemsOverflowBtn"],false,["home","app"]);}else{i();s.addHeaderEndItem(["endItemsOverflowBtn"],false,["home","app"]);}}else if(P.name==="Desktop"){if(P.showOverFlowBtn){if(e.indexOf("endItemsOverflowBtn")===-1){s.addHeaderEndItem(["endItemsOverflowBtn"],false,["home","app"]);}}else{i();}}},isHeadEndItemOverflow:function(){var e=0,l,q=d.last("/core/shell/model/currentState/headEndItems");if(q.indexOf("endItemsOverflowBtn")===-1){return false;}else{var t=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;var v=3;if(t==="Phone"){v=1;}for(var i=0;i<q.length;i++){l=sap.ui.getCore().byId(q[i]);if(l&&l.getVisible()){e++;}}if(sap.ui.getCore().byId("endItemsOverflowBtn").getVisible()){return e>v+1;}else{return e>v;}}},isHeadEndItemInOverflow:function(e){return e!=="ENDITEMSOVERFLOWBTN"&&!this.isHeadEndItemNotInOverflow(e);},isHeadEndItemNotInOverflow:function(e){if(this.isHeadEndItemOverflow()){if(e==="NOTIFICATIONSCOUNTBUTTON"||e==="ENDITEMSOVERFLOWBTN"){return true;}else{var i=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;if(i==="Tablet"){return e==="SF"||e==="FLOATINGCONTAINERBUTTON";}else if(i==="Desktop"){return e==="SF"||e==="FLOATINGCONTAINERBUTTON"||e==="COPILOTBTN";}else{return i!=="Phone";}}}else if(e==="ENDITEMSOVERFLOWBTN"){return false;}else{return true;}},pressEndItemsOverflow:function(e){var P=sap.ui.getCore().byId('headEndItemsOverflow');function i(){if(P.isOpen()){P.close();}}if(!P){var l=new sap.ui.model.Filter('','EQ','a');l.fnTest=this.isHeadEndItemInOverflow.bind(this);P=new sap.m.Popover("headEndItemsOverflow",{placement:sap.m.PlacementType.Bottom,showHeader:false,showArrow:false,content:{path:"/currentState/headEndItems",filters:[l],factory:function(I,q){var t=sap.ui.getCore().byId(q.getObject()).clone();t.detachPress(i);t.attachPress(i);return t;}}});P.addStyleClass("sapUshellPopupContainer sapMPopoverheadEndItemsOverflow");P.updateAggregation=this.getView().updateShellAggregation;P.setModel(m);this.getView().aDanglingControls.push(P);}if(P.isOpen()){P.close();}else{P.updateAggregation("content");P.openBy(e.getSource());}},externalSearchTriggered:function(e,i,l){d.emit("/core/shell/model/searchTerm",l.searchTerm);l.query=l.searchTerm;},onAfterNavigate:function(e){var t=e.mParameters?e.mParameters.toId:undefined;this.closeLoadingScreen();u.addTime("ShellController.onAfterNavigate");if(t==="application-"+k.rootIntent){var i=sap.ui.getCore().byId("configBtn");if(i){i.focus();}}a.onAfterNavigate(e.getParameter("fromId"),e.getParameter("from"),t);},logOpenAppAction:function(e,R,i){var l=d.last("/core/shell/enableRecentActivity")&&d.last("/core/shell/enableRecentActivityLogging");if(!l){return;}var q={};var t=b.getMetadata(R);var v=e;if(i){v+=i;}q.title=t.title;q.appType=c.APP;q.url=v;sap.ushell.Container.getServiceAsync("URLParsing").then(function(w){var P=w.parseShellHash(e);if(P){q.appId="#"+w.constructShellHash({semanticObject:P.semanticObject,action:P.action});}else{q.appId=e;}if(e.indexOf("#Action-search")>=0){q.appType=c.SEARCH;}if(d.last("/core/shell/model/enableTrackingActivity")){setTimeout(function(){this._logRecentActivity(q);}.bind(this),1500);}if(k.enableTilesOpacity&&d.last("/core/shell/enableRecentActivity")){setTimeout(function(){this._logApplicationUsage(e);}.bind(this),1500);}}.bind(this));},openLoadingScreen:function(){jQuery.sap.measure.start("FLP:ShellController.openLoadingScreen","openLoadingScreen","FLP");if(this.oFiori2LoadingDialog){var e=d.last("/core/shell/model/animationMode")||"full";this.oFiori2LoadingDialog.openLoadingScreen(e);}jQuery.sap.measure.end("FLP:ShellController.openLoadingScreen");},closeLoadingScreen:function(){if(this.oFiori2LoadingDialog){this.oFiori2LoadingDialog.closeLoadingScreen();}},readNavigationEnd:function(){var e=document.getElementById("sapUshellLoadingAccessibilityHelper-loadingComplete");if(e){e.setAttribute("aria-live","polite");e.innerHTML=r.i18n.getText("loadingComplete");setTimeout(function(){e.setAttribute("aria-live","off");e.innerHTML="";},0);}},delayedCloseLoadingScreen:function(){setTimeout(function(){this.closeLoadingScreen();}.bind(this),600);},togglePane:function(e){var i=e.getSource(),l=i.getSelected();sap.ui.getCore().getEventBus().publish("launchpad","togglePane",{currentContent:d.last("/core/shell/model/currentState/paneContent")});if(e.getParameter("id")==="categoriesBtn"){i.getModel().setProperty("/currentState/showCurtainPane",!l);}else{i.getModel().setProperty("/currentState/showPane",!l);}},_switchViewPortStateByControl:function(O,e){var i=false,v=this.oViewPortContainer;if(O&&O.setEnabled&&typeof O.setEnabled==="function"){i=true;}if(i){O.addStyleClass("sapUshellShellHeadItemOverrideDisableStyle");O.setEnabled(false);}function l(){O.setEnabled(true);O.removeStyleClass("sapUshellShellHeadItemOverrideDisableStyle");v.detachAfterSwitchStateAnimationFinished(l);}if(i){v.attachAfterSwitchStateAnimationFinished(l);}v.switchState(e);},onScreenSizeChange:function(P){this.validateShowLogo(P);this.handleNavMenuTitleVisibility(P);this._handleHomeAndBackButtonsVisibility();this.handleEndItemsOverflow(P);},_handleHomeAndBackButtonsVisibility:function(){var i=jQuery("#mainShell").width()<1024&&jQuery(".sapUshellContainerDocked").length>0,I=d.last("/core/shell/model/currentViewPortState")==="Center",e=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name,l=sap.ui.getCore().byId("homeBtn"),q=sap.ui.getCore().byId("backBtn"),t=e==="Desktop",v=e!=="Phone"||I;if(i){if(l){t=false;}}if(l){l.setVisible(t);}if(q){q.setVisible(v);}},validateShowLogo:function(P){var e;var i=d.last("/core/shell/model/currentState/stateName");var I=i==='merged'||i==='headerless';if(P){e=P.name;}else{e=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD).name;}var l=true;if(e==="Phone"&&!this.getMeAreaSelected()||I){l=false;}s.updateStateProperty("showLogo",l,false,["home","app","blank","blank-home","minimal","lean"],true);},handleNavMenuTitleVisibility:function(P){this.bNavMenuTitleVisible=false;if(P.name!=="Desktop"){this.bNavMenuTitleVisible=true;}s.updateStateProperty("application/showNavMenuTitle",this.bNavMenuTitleVisible,true);},navigateFromShellApplicationNavigationMenu:function(i){if(window.hasher.getHash()!==i.substr(1)){this.oViewPortContainer.switchState("Center");window.hasher.setHash(i);}var e=sap.ui.getCore().byId("shellAppTitle");if(e){e.close();}},_loadCoreExtNonUI5:function(e,i,l){if(l&&(l.applicationType=="NWBC"||l.applicationType=="TR")){setTimeout(this._loadCoreExt.bind(this),2000);}},_onRendererExtensionPluginsLoaded:function(){sap.ushell.Container.getServiceAsync("UsageAnalytics").then(function(e){e.init(r.i18n.getText("usageAnalytics"),r.i18n.getText("i_agree"),r.i18n.getText("i_disagree"),r.i18n.getText("remind_me_later"));});},_onCoreResourcesComplementLoaded:function(){var v=this.getView();if(v){v.createPostCoreExtControls();}function e(P){var V=this.getView()?this.getView().getViewData():{},k=V.config||{},i=jQuery.sap.getUriParameters().get("sap-ushell-xx-pluginmode")==="delayed",t=this;function l(){t._publishCoreExtLoadedEvent();E.emit("RendererExtensionPluginsLoaded");}function L(){P.loadPlugins("RendererExtensions").always(l);}if(!P.getRegisteredPlugins().RendererExtensions.init){P.registerPlugins({init:{component:"sap.ushell.components.shell.defaults",url:jQuery.sap.getResourcePath("sap/ushell/components/shell/defaults")}});}jQuery.sap.log.info("Triggering load of 'RendererExtension' plug-ins after loading core-ext module",null,"sap.ushell.renderers.fiori2.Shell");if(!k.inHeaderLessOpt){if(i){setTimeout(L,5000);}else{L();}}else{l();}}sap.ushell.Container.getServiceAsync("PluginManager").then(e.bind(this));},_loadWarmupPlugins:function(){sap.ushell.Container.getService("PluginManager").loadPlugins("AppWarmup").always(function(){jQuery.sap.log.debug("WARMUP plugins loaded",null,"sap.ushell.renderers.fiori2.Shell");});},_loadCoreExt:function(){jQuery.sap.measure.end("FLP:Container.InitLoading");sap.ushell.Container.getServiceAsync("Ui5ComponentLoader").then(function(){E.emit("loadCoreResourcesComplement");});},_publishCoreExtLoadedEvent:function(){setTimeout(function(){sap.ui.getCore().getEventBus().publish("shell","FLP-FMP");},3000);},getCurrentViewportState:function(){return d.last("/core/shell/model/currentViewPortState");},makeEndUserFeedbackAnonymousByDefault:function(e){this.oEndUserFeedbackConfiguration.anonymousByDefault=e;},showEndUserFeedbackLegalAgreement:function(e){this.oEndUserFeedbackConfiguration.showLegalAgreement=e;},_activateFloatingUIActions:function(w){if(w<417){this.oFloatingUIActions.disable();}else{this.oFloatingUIActions.enable();}},setFloatingContainerDragSelector:function(e){jQuery(e).addClass("sapUshellShellFloatingContainerSelector");sap.ui.require(["sap/ushell/UIActions"],function(i){if(!this.oFloatingUIActions){this.oFloatingUIActions=new sap.ushell.UIActions({containerSelector:".sapUiBody",wrapperSelector:'.sapUshellShellFloatingContainerWrapper',draggableSelector:'.sapUshellShellFloatingContainerWrapper',rootSelector:".sapUiBody",cloneClass:"sapUshellFloatingContainer-clone",dragCallback:this._handleFloatingContainerUIStart.bind(this),endCallback:this._handleFloatingContainerDrop.bind(this),moveTolerance:3,onDragStartUIHandler:this._onDragStartUI.bind(this),onDragEndUIHandler:this._setFloatingContainerHeight.bind(this),dragAndScrollCallback:this._doDock.bind(this),switchModeDelay:1000,isLayoutEngine:false,isTouch:false,elementToCapture:e,defaultMouseMoveHandler:function(){},debug:jQuery.sap.debug()});}else{this.oFloatingUIActions.elementsToCapture=jQuery(e);}this._activateFloatingUIActions(jQuery(window).width());var t;jQuery(window).bind("resize",function(){clearTimeout(t);t=setTimeout(this._activateFloatingUIActions(jQuery(window).width()),300);}.bind(this));}.bind(this));},_doDock:function(e){jQuery.sap.measure.start("FLP:Shell.controller._doDock","dragging co-pilot element","FLP");var i=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD);if(i.name==="Desktop"){var w=jQuery(window).width();if(e){e.docked={};var l=e.docked;if(e.moveX>=w-64){l.dockPos="right";l.setIsDockingAreaOpen=true;this._openDockingArea(e);}else if(e.moveX<64){l.dockPos="left";l.setIsDockingAreaOpen=true;this._openDockingArea(e);}else{if(this._isDockingAreaOpen()){this._closeDockingArea(e);}if(jQuery("#canvas").hasClass('sapUshellContainerDocked')){this._handleCloseCanvas(e);}}}}jQuery.sap.measure.end("FLP:Shell.controller._doDock");},_finishDoDock:function(e){this._openDockingArea(false);var i=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");i.put("lastState","docked:"+e.dockPos);this._handleOpenCanvas(e);var w=jQuery('#sapUshellFloatingContainerWrapper');w.css("height","100%");jQuery("#shell-floatingContainer").addClass("sapUshellShellFloatingContainerFullHeight");sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerIsDocked",e.dockPos);if(jQuery(".sapUShellApplicationContainerLimitedWidth").length>0){jQuery('#application-Action-toappnavsample').removeClass("sapUShellApplicationContainerLimitedWidth");jQuery('#application-Action-toappnavsample').addClass("sapUShellDockingContainer");}},_onResizeWithDocking:function(){this.onScreenSizeChange(D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD));setTimeout(function(){sap.ui.getCore().getEventBus().publish("launchpad","appFinderWithDocking");},300);},_onDragStartUI:function(e){jQuery.sap.measure.start("FLP:Shell.controller._onDragStartUI","start drag","FLP");if(this._isDock()){var i=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");i.put("lastState","floating");jQuery("#sapUshellFloatingContainerWrapper").removeClass('sapUshellContainerDocked');jQuery(".sapUshellShellFloatingContainerFullHeight").removeClass("sapUshellShellFloatingContainerFullHeight");sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerIsUnDocked");jQuery("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");jQuery("#sapUshellFloatingContainerWrapper").addClass('sapUshellContainerDockedMinimizeCoPilot');jQuery(jQuery(".sapUshellContainerDockedMinimizeCoPilot")).on('webkitAnimationEnd oanimationend msAnimationEnd animationend',this._handleAnimations(false));this._handleCloseCanvas(e);}jQuery.sap.measure.end("FLP:Shell.controller._onDragStartUI");},_handleAnimations:function(i,e){var l="sapUshellContainerDockedLaunchpad";var q=jQuery('#canvas');var w=jQuery('#sapUshellFloatingContainerWrapper');function t(x,T){jQuery(l).toggleClass(x,T);}if(i){jQuery('#canvas,#shell-header').addClass(l);if(q.hasClass('sapUshellContainer-Narrow-Right')||e=="right"){t("closeRight",true);}else{t("closeLeft",true);}w.addClass("sapUshellContainerDockedExtendCoPilot");setTimeout(function(){if(q.hasClass('sapUshellContainer-Narrow-Right')||e=="right"){t("closeRight",false);t("openRight",true);}else if(q.hasClass('sapUshellContainer-Narrow-Left')||e=="left"){t("closeLeft",false);t("openLeft",true);}},300);this._onResizeWithDocking();}else{jQuery("#sapUshellFloatingContainerWrapper").addClass("sapUshellContainerDockedExtendCoPilot");if(q.hasClass('sapUshellContainer-Narrow-Right')||e=="right"){t("openRight",false);}else{t("openLeft",false);}setTimeout(function(){jQuery(l).removeClass(l+" closeLeft openLeft closeRight openRight");},550);}var v=sap.ui.getCore().byId('shell-header');v._handleResizeChange();},_openDockingArea:function(e){var i=e?e.docked:false;var I=i?i.setIsDockingAreaOpen:false;if(I&&jQuery("#DockinaAreaDiv").length==0){var l=sap.ui.getCore().getConfiguration().getRTL();if((i.dockPos==="right"&&e.clone&&!l)||(i.dockPos==="left"&&e.clone&&l)){jQuery('<div id="DockinaAreaDiv"  class="sapUshellShellDisplayDockingAreaRight">').appendTo(e.clone.parentElement);}else if((i.dockPos==="left"&&e.clone&&!l)||(i.dockPos==="right"&&e.clone&&l)){jQuery('<div id="DockinaAreaDiv"  class="sapUshellShellDisplayDockingAreaLeft">').appendTo(e.clone.parentElement);}e.clone.oDockedProp={};e.clone.oDockedProp.dockPos=i.dockPos;}else if(!I){this._closeDockingArea();}},_closeDockingArea:function(e){setTimeout(function(){jQuery('.sapUshellShellDisplayDockingAreaRight').remove();jQuery('.sapUshellShellDisplayDockingAreaLeft').remove();},150);var i=sap.ui.getCore().byId('shell-header');if(i){i._handleResizeChange();}},_isDock:function(){return jQuery('.sapUshellContainerDocked').size()!==0;},_isDockingAreaOpen:function(){return jQuery('.sapUshellShellDisplayDockingAreaRight').size()!==0||jQuery('.sapUshellShellDisplayDockingAreaLeft').size()!==0;},_handleOpenCanvas:function(e){var i=jQuery('#canvas');var l=jQuery('.sapUshellShellHead');var I=sap.ui.getCore().getConfiguration().getRTL();if((e.dockPos==="right"&&!I)||(e.dockPos==="left"&&I)){i.addClass('sapUshellContainer-Narrow-Right sapUshellContainerDocked ');l.addClass('sapUshellContainerDocked');}if((e.dockPos==="left"&&!I)||(e.dockPos==="right"&&I)){i.addClass('sapUshellContainer-Narrow-Left sapUshellContainerDocked ');l.addClass('sapUshellContainerDocked');}var v=sap.ui.getCore().byId("viewPortContainer");if(v){v._handleSizeChange();}},_handleCloseCanvas:function(e){var i=jQuery('#canvas');var l=jQuery('.sapUshellShellHead');if(e){e.docked.setIsDockingAreaOpen=false;}if(i.hasClass('sapUshellContainer-Narrow-Right')){i.removeClass('sapUshellContainer-Narrow-Right sapUshellContainerDocked sapUshellMoveCanvasRight');l.removeClass('sapUshellContainerDocked');this._openDockingArea(e);this._setFloatingContainerHeight();}if(i.hasClass('sapUshellContainer-Narrow-Left')){i.removeClass('sapUshellContainer-Narrow-Left sapUshellContainerDocked sapUshellMoveCanvasLeft');l.removeClass('sapUshellContainerDocked');this._openDockingArea(e);this._setFloatingContainerHeight();}if(jQuery(".sapUShellDockingContainer").length>0){jQuery('#application-Action-toappnavsample').removeClass("sapUShellDockingContainer");jQuery('#application-Action-toappnavsample').addClass("sapUShellApplicationContainerLimitedWidth");}this._onResizeWithDocking();var v=sap.ui.getCore().byId("viewPortContainer");if(v){v._handleSizeChange();}},_setFloatingContainerHeight:function(e){var w=jQuery(window).width();var i=jQuery('#sapUshellFloatingContainerWrapper');if(this._isDock()){if(e&&(e.clientX>=w-64||e.clientX<64)){i.addClass(' sapUshellContainerDocked');i.addClass("sapUshellContainerDockedMinimizeCoPilot");jQuery(i).on('webkitAnimationEnd oanimationend msAnimationEnd animationend',this._handleAnimations(true));}}else if(!this._isDock()){jQuery("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");}},_handleFloatingContainerDrop:function(e,i,l){jQuery.sap.measure.start("FLP:Shell.controller._handleFloatingContainerDrop","drop floating container","FLP");var q=i.firstChild?sap.ui.getCore().byId(i.firstChild.id):undefined,t=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.FloatingContainer"),w=jQuery(window).width(),v=jQuery(window).height(),P=l.deltaX/w,x=l.deltaY/v,O=i.style.visibility,y=i.style.display,z=parseFloat(i.style.left.replace("%","")),G=parseFloat(i.style.top.replace("%",""));i.style.visibility='hidden';i.style.display='block';if(typeof(z)==='number'){P=z+100*l.deltaX/w;}if(typeof(G)==='number'){x=G+100*l.deltaY/v;}if(this._isDockingAreaOpen()){x=0;}i.setAttribute("style","left:"+P+"%;top:"+x+"%;position:absolute;");i.visibility=O;i.display=y;t.put("floatingContainerStyle",i.getAttribute("style"));if(q){q.handleDrop();if(!!l.clone.oDockedProp&&this._isDockingAreaOpen()){this._finishDoDock(l.clone.oDockedProp);}}jQuery.sap.measure.end("FLP:Shell.controller.handleFloatingContainerDrop");},_handleFloatingContainerUIStart:function(i,l){jQuery.sap.measure.start("FLP:Shell.controller._handleFloatingContainerUIStart","starts dragging floating container","FLP");var q=l;q.style.display="none";if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges();}catch(e){}}jQuery.sap.measure.end("FLP:Shell.controller._handleFloatingContainerUIStart");},getFloatingContainerState:function(){var e=jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState");var l="floating";if(e!=null){l=e.get("lastState");if(l==null){l="floating";}}return l;},setFloatingContainerVisibility:function(v){var l=this.getFloatingContainerState();if(l){if(l=="floating"){this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}else if(l.indexOf("docked")!=-1){var V=sap.ui.getCore().byId("viewPortContainer");if(v==true){var e=D.media.getCurrentRange(D.media.RANGESETS.SAP_STANDARD);if(e.name=="Desktop"){var w=jQuery('#sapUshellFloatingContainerWrapper');w.addClass("sapUshellContainerDocked");jQuery("#canvas, .sapUshellShellHead").addClass("sapUshellContainerDocked");w.css("height","100%");sap.ui.getCore().byId("shell-floatingContainer").addStyleClass("sapUshellShellFloatingContainerFullHeight");if(V){V._handleSizeChange();}if(sap.ui.getCore().getConfiguration().getRTL()){if(l.indexOf("right")!=-1){jQuery("#canvas").addClass('sapUshellContainer-Narrow-Left');this._handleAnimations(true,"left");}else{jQuery("#canvas").addClass('sapUshellContainer-Narrow-Right');this._handleAnimations(true,"right");}}else if(l.indexOf("right")!=-1){jQuery("#canvas").addClass('sapUshellContainer-Narrow-Right');this._handleAnimations(true,"right");}else{jQuery("#canvas").addClass('sapUshellContainer-Narrow-Left');this._handleAnimations(true,"left");}setTimeout(function(){this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}.bind(this),400);}else{jQuery.sap.storage(jQuery.sap.storage.Type.local,"com.sap.ushell.adapters.local.CopilotLastState").put("lastState","floating");this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}if(jQuery(".sapUShellApplicationContainerLimitedWidth").length>0){jQuery('#application-Action-toappnavsample').removeClass("sapUShellApplicationContainerLimitedWidth");jQuery('#application-Action-toappnavsample').addClass("sapUShellDockingContainer");}}else{if(sap.ui.getCore().getConfiguration().getRTL()){if(l.indexOf("right")!=-1){this._handleAnimations(false,"left");}else{this._handleAnimations(false,"right");}}else if(l.indexOf("right")!=-1){this._handleAnimations(false,"right");}else{this._handleAnimations(false,"left");}if(V){V._handleSizeChange();}setTimeout(function(){this.getView().getOUnifiedShell().setFloatingContainerVisible(v);}.bind(this),400);if(jQuery(".sapUShellDockingContainer").length>0){jQuery('#application-Action-toappnavsample').removeClass("sapUShellDockingContainer");jQuery('#application-Action-toappnavsample').addClass("sapUShellApplicationContainerLimitedWidth");}}jQuery("#sapUshellFloatingContainerWrapper").removeClass("sapUshellContainerDockedMinimizeCoPilot sapUshellContainerDockedExtendCoPilot");this._onResizeWithDocking();if(V){V._handleSizeChange();}}}},getFloatingContainerVisibility:function(){return this.getView().getOUnifiedShell().getFloatingContainerVisible();},setFloatingContainerContent:function(P,i,e,l){s.setFloatingContainerContent(P,i,e,l);},getRightFloatingContainerVisibility:function(){var R=this.getView().getOUnifiedShell().getRightFloatingContainer(),e=R&&R.getVisible();return e;},setHeaderTitle:function(t,i){if(typeof t!=="string"){throw new Error("sTitle type is invalid");}this.getView().getOUnifiedShell().getHeader().setTitleControl(t,i);},addEndUserFeedbackCustomUI:function(e,i){if(e){this.oEndUserFeedbackConfiguration.customUIContent=e;}if(i===false){this.oEndUserFeedbackConfiguration.showCustomUIContent=i;}},setFooter:function(e){var i=this.getView().getOUnifiedShell();if(typeof e!=="object"||!e.getId){throw new Error("oFooter value is invalid");}if(i.getFooter()!==null){jQuery.sap.log.warning("You can only set one footer. Replacing existing footer: "+i.getFooter().getId()+", with the new footer: "+e.getId()+".");}i.setFooter(e);},removeFooter:function(){this.getView().getOUnifiedShell().setFooter(null);},addUserPreferencesEntry:function(e){this._validateUserPrefEntryConfiguration(e);this._updateUserPrefModel(e);},addUserProfilingEntry:function(e){this._validateUserPrefEntryConfiguration(e);this._updateProfilingModel(e);},_validateUserPrefEntryConfiguration:function(e){if((!e)||(typeof e!=="object")){throw new Error("object oConfig was not provided");}if(!e.title){throw new Error("title was not provided");}if(!e.value){throw new Error("value was not provided");}if(typeof e.entryHelpID!=="undefined"){if(typeof e.entryHelpID!=="string"){throw new Error("entryHelpID type is invalid");}else if(e.entryHelpID===""){throw new Error("entryHelpID type is invalid");}var i=sap.ui.getCore().byId('shell-header');i._handleResizeChange();}if(e.title&&typeof e.title!=="string"){throw new Error("title type is invalid");}if(typeof e.value!=="function"&&typeof e.value!=="string"&&typeof e.value!=="number"){throw new Error("value type is invalid");}if(e.onSave&&typeof e.onSave!=="function"){throw new Error("onSave type is invalid");}if(e.content&&typeof e.content!=="function"){throw new Error("content type is invalid");}if(e.onCancel&&typeof e.onCancel!=="function"){throw new Error("onCancel type is invalid");}},_createSessionHandler:function(k){var t=this;sap.ui.require(["sap/ushell/SessionHandler"],function(e){t.oSessionHandler=new e();t.oSessionHandler.init({oModel:t.getModel(),keepSessionAlivePopupText:k.keepSessionAlivePopupText,pageReloadPopupText:k.pageReloadPopupText,preloadLibrariesForRootIntent:k.preloadLibrariesForRootIntent,sessionTimeoutReminderInMinutes:k.sessionTimeoutReminderInMinutes,sessionTimeoutIntervalInMinutes:k.sessionTimeoutIntervalInMinutes,enableAutomaticSignout:k.enableAutomaticSignout});});},_getSessionHandler:function(){return this.oSessionHandler;},_navBack:function(){this.setMeAreaSelected(false);a.service().navigateBack();},_updateUserPrefModel:function(e){var i=this._getModelEntryFromEntryObject(e),l=d.last("/core/shell/model/userPreferences/entries");l.push(i);l=this._reorderUserPrefEntries(l);m.setProperty("/userPreferences/entries",l);},_updateProfilingModel:function(e){var i=this._getModelEntryFromEntryObject(e),l=d.last("/core/shell/model/userPreferences/profiling")||[];l.push(i);m.setProperty("/userPreferences/profiling",l);},_getModelEntryFromEntryObject:function(e){return{"entryHelpID":e.entryHelpID,"title":e.title,"editable":e.content?true:false,"valueArgument":e.value,"valueResult":null,"onSave":e.onSave,"onCancel":e.onCancel,"contentFunc":e.content,"contentResult":null,"icon":e.icon};},_reorderUserPrefEntries:function(e){var l,t;for(var i=0;i<e.length;i++){if(e[i].entryHelpID==="flpSettingsEntry"){l=i;}else if(e[i].entryHelpID==="themes"){t=i;}if(l!=undefined&&t!=undefined){var q=e.splice(l,1);e.splice(t+1,0,q[0]);break;}}return e;},onAfterViewPortSwitchState:function(e){var t=e.getParameter("to");var i=sap.ui.getCore().byId("shellAppTitle");m.setProperty("/currentViewPortState",t);if(this.applicationKeyHandler){A.registerAppKeysHandler(this.applicationKeyHandler);this.applicationKeyHandler=undefined;}sap.ui.getCore().getEventBus().publish("launchpad","afterSwitchState",e);if(t==="Center"){i.setVisible(true);}else{i.setVisible(false);if(t=="RightCenter"){this.applicationKeyHandler=A.getAppKeysHandler();A.bFocusOnShell=false;if(sap.ui.getCore().byId("notificationsView")){A.registerAppKeysHandler(sap.ui.getCore().byId("notificationsView").getController().keydownHandler.bind(sap.ui.getCore().byId("notificationsView")));}}}this.validateShowLogo();this._handleHomeAndBackButtonsVisibility();},getModel:function(){return m;},_getConfig:function(){return k?k:{};},_getPersData:function(P){var e=sap.ui.core.Component.getOwnerComponentFor(this.getView());return new Promise(function(i,l){sap.ushell.Container.getServiceAsync("Personalization").then(function(q){var t={keyCategory:q.constants.keyCategory.FIXED_KEY,writeFrequency:q.constants.writeFrequency.LOW,clientStorageAllowed:true};var v=q.getPersonalizer(P,t,e);v.getPersData().then(i).fail(l);});});},_getCurrentLocationHash:function(){return window.location.hash;},setMeAreaSelected:function(e){E.emit('showMeArea',e);},getMeAreaSelected:function(){return d.last("/core/shell/model/currentViewPortState")==="LeftCenter";},setNotificationsSelected:function(e){E.emit('showNotifications',e);},getNotificationsSelected:function(){return d.last("/core/shell/model/currentViewPortState")==='RightCenter';},isAnimationModeNotMinimal:function(e){return e!=='minimal';}});},false);
sap.ui.predefine('sap/ushell/renderers/fiori2/Shell.view',['sap/ui/core/IconPool','sap/ui/Device','sap/ui/core/CustomData','sap/ui/core/theming/Parameters','sap/ui/core/HTML','sap/ushell/UserActivityLog','sap/ushell/ui/launchpad/ActionItem','sap/ushell/ui/launchpad/Fiori2LoadingDialog','sap/ushell/ui/shell/ShellHeadItem','sap/ushell/ui/shell/ShellNavigationMenu','sap/ushell/ui/shell/ToolArea','sap/ushell/ui/shell/NavigationMiniTile','sap/ushell/ui/footerbar/ContactSupportButton','sap/ushell/ui/launchpad/AccessibilityCustomData','sap/ushell/renderers/fiori2/AccessKeysHandler','sap/m/StandardListItem','sap/m/Button','sap/m/Dialog','sap/ushell/resources','sap/ushell/utils','sap/ushell/Config','sap/ushell/EventHub'],function(I,D,C,T,H,U,A,F,S,a,b,N,c,d,e,f,B,g,r,u,h,E){"use strict";function s(i,o){return sap.ui.getCore().byId(o.getObject());}sap.ui.jsview("sap.ushell.renderers.fiori2.Shell",{createContent:function(o){this.oController=o;this.oShellAppTitleStateEnum={SHELL_NAV_MENU_ONLY:0,ALL_MY_APPS_ONLY:1,SHELL_NAV_MENU:2,ALL_MY_APPS:3};var v=this.getViewData()||{},i=v.config||{},j=(i.appState==="embedded")?true:false,k,l=new S({id:"configBtn",tooltip:"{i18n>showGrpsBtn_tooltip}",ariaLabel:"{i18n>showGrpsBtn_tooltip}",icon:I.getIconURI("menu2"),selected:{path:"/currentState/showPane"},press:[o.togglePane,o]}),m=sap.ui.getCore().getConfiguration().getRTL()?"feeder-arrow":"nav-back",n=new S({id:"homeBtn",tooltip:"{i18n>homeBtn_tooltip}",ariaLabel:"{i18n>homeBtn_tooltip}",icon:I.getIconURI("home"),target:i.rootIntent?"#"+i.rootIntent:"#"}),p=new S({id:"backBtn",tooltip:"{i18n>backBtn_tooltip}",ariaLabel:"{i18n>backBtn_tooltip}",icon:I.getIconURI(m),press:o._navBack.bind(o)}),q,M,t=h.last("/core/extension/enableHelp");this._allowUpToThreeActionInShellHeader(i);p.setShowSeparator(false);n.setShowSeparator(false);n.addCustomData(new d({key:"aria-disabled",value:"false",writeToDom:true}));this.oConfig=i;n.addEventDelegate({onsapskipback:function(W){if(e.getAppKeysHandler()){W.preventDefault();e.bFocusOnShell=false;}},onsapskipforward:function(W){if(e.getAppKeysHandler()){W.preventDefault();e.bFocusOnShell=false;}}});l.addEventDelegate({onsapskipforward:function(W){if(e.getAppKeysHandler()){W.preventDefault();e.bFocusOnShell=false;}},onfocusin:function(){e.bFocusOnShell=true;e.bFocusPassedToExternalHandlerFirstTime=true;}});this.aDanglingControls=[];if(!i.preventLoadingDialogAtStartup){k=new F({id:"Fiori2LoadingDialog",text:""});this.aDanglingControls.push(k);}if(u.isNotificationsEnabled()){q=new S({id:"NotificationsCountButton",icon:sap.ui.core.IconPool.getIconURI("ui-notifications"),accessKey:"n",visible:true,enabled:false}).addStyleClass("sapUshellPlaceHolders");q.setShowSeparator(false);this.aDanglingControls.push(q);}M=new S({id:"meAreaHeaderButton",icon:'{/userImage/personPlaceHolder}',accessKey:"m",visible:true,enabled:false}).addStyleClass("sapUshellPlaceHolders");M.setShowSeparator(false);this.aDanglingControls.push(M);if(i.enablePersonalization!==false){var w;var x="openCatalogBtn";var y=r.i18n.getText("open_appFinderBtn");var z='sap-icon://sys-find';var G="#Shell-home&/appFinder/catalog";var J="Shell";var K="appfinder";var L=function(){jQuery.sap.measure.start("FLP:AppFinderLoadingStartToEnd","AppFinderLoadingStartToEnd","FLP");sap.ushell.Container.getServiceAsync("URLParsing").then(function(W){if(W){w=W.parseShellHash(window.hasher.getHash());w.action=K;w.semanticObject=J;G="#"+W.constructShellHash(w);}setTimeout(function(){sap.ushell.Container.getServiceAsync("CrossApplicationNavigation").then(function(X){X.toExternal({target:{shellHash:G}});});},D.system.desktop?0:500);}.bind(this));};var O=!i.disableAppFinder;if(i.moveAppFinderActionToShellHeader){if(!this.oOpenCatalogItem){this.oOpenCatalogItem=new S(x,{icon:z,tooltip:y,text:y,press:L,showSeparator:false,visible:O});this.oOpenCatalogItem.data("isShellHeader",true);}}else if(!this.oOpenCatalogItem){this.oOpenCatalogItem=new A(x,{text:y,icon:z,actionType:'action',press:L,visible:O});}if(t){this.oOpenCatalogItem.addStyleClass('help-id-openCatalogActionItem');}this.aDanglingControls.push(this.oOpenCatalogItem);if(i.moveEditHomePageActionToShellHeader){jQuery.sap.measure.start("FLP:Shell.view.createContent","create the edit home page button as shell head enditem","FLP");if(!this.oTileActionsButton){this.oTileActionsButton=new S("ActionModeBtn",{icon:'sap-icon://edit',visible:false,showSeparator:false});this.oTileActionsButton.data("isShellHeader",true);if(t){this.oTileActionsButton.addStyleClass('help-id-openCatalogActionItem');}}this.aDanglingControls.push(this.oTileActionsButton);jQuery.sap.measure.end("FLP:Shell.view.createContent");}}var P=new S({id:"endItemsOverflowBtn",tooltip:"{i18n>shellHeaderOverflowBtn_tooltip}",ariaLabel:"{i18n>shellHeaderOverflowBtn_tooltip}",icon:"sap-icon://overflow",press:[o.pressEndItemsOverflow,o],visible:true,showSeparator:false});this.aDanglingControls.push(P);var Q,R;Q=sap.ui.xmlfragment("sap.ushell.renderers.fiori2.ShellHeader",o);Q.setAccessKeyHandler(e);this.oShellHeaderAppTitle=Q.getAppTitle();this.oShellHeaderAppTitle.addEventDelegate({onsapskipforward:function(W){if(e.getAppKeysHandler()){W.preventDefault();e.bFocusOnShell=false;}}});this.oShellHeader=Q;this.addEventDelegate({"onBeforeRendering":function(){this.oShellHeader.createUIArea(this.getUIArea().getId());}},this);R=sap.ui.xmlfragment("sap.ushell.renderers.fiori2.ShellLayout",o);R.setHeader(Q);R._setStrongBackground(true);var V;E.once("ToolAreaItemCreated").do(function(W){V=this._createToolArea();R.setToolArea(V);V.updateAggregation=this.updateShellAggregation;}.bind(this));this.setOUnifiedShell(R);Q.setShellLayout(R);if(j){Q.setLogo(sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'));}else{this.initShellBarLogo(Q);}this.setDisplayBlock(true);this.aDanglingControls=this.aDanglingControls.concat([sap.ui.getCore().byId('viewPortContainer'),n,p,l]);this.logonIFrameReference=null;u.setPerformanceMark("FLP - Shell.view rendering started!");return R;},_createToolArea:function(){var o=new b({id:'shell-toolArea',toolAreaItems:{path:"/currentState/toolAreaItems",factory:s}});return o;},_allowUpToThreeActionInShellHeader:function(o){if(Object.keys(o).length!=0){var i=[o.moveAppFinderActionToShellHeader,o.moveUserSettingsActionToShellHeader,o.moveGiveFeedbackActionToShellHeader,o.moveContactSupportActionToShellHeader,o.moveEditHomePageActionToShellHeader];var j=0;for(var k=0;k<5;k++){if(j===3){i[k]=false;}else if(i[k]){j++;}}o.moveAppFinderActionToShellHeader=i[0];o.moveUserSettingsActionToShellHeader=i[1];o.moveGiveFeedbackActionToShellHeader=i[2];o.moveContactSupportActionToShellHeader=i[3];o.moveEditHomePageActionToShellHeader=i[4];}},_createPostCoreExtControls:function(j,k){var o=this.oController,l=this.oConfig,m=sap.ui.getCore().byId("shell");if(!m){return;}var n=function(w,x){var y=x.getProperty("icon");var z=x.getProperty("title");var G=x.getProperty("subtitle");var J=x.getProperty("intent");if(!y){y="sap-icon://circle-task-2";}var L=(new f({type:"Active",title:z,description:G,icon:y,customData:[new C({key:"intent",value:J})],press:function(K){var M=K.getSource().getCustomData();if(M&&M.length>0){for(var i=0;i<M.length;i++){if(M[i].getKey()==="intent"){var O=M[i].getValue();if(O&&O[0]==="#"){o.navigateFromShellApplicationNavigationMenu(O);return;}}}}}})).addStyleClass("sapUshellNavigationMenuListItems");return L;};var R=function(i,w){var x=w.getProperty("icon");var y=w.getProperty("title");var z=w.getProperty("subtitle");var G=w.getProperty("intent");return new N({title:y,subtitle:z,icon:x,intent:G,press:function(){var J=this.getIntent();if(J&&J[0]==='#'){o.navigateFromShellApplicationNavigationMenu(J);}}});};var p=new a("shellNavigationMenu",{title:"{/currentState/application/title}",icon:"{/currentState/application/icon}",showTitle:{path:"/currentState/application/showNavMenuTitle"},showRelatedApps:(l.appState==="lean")?false:true,items:{path:"/currentState/application/hierarchy",factory:n.bind(this)},miniTiles:{path:"/currentState/application/relatedApps",factory:R.bind(this)},visible:{path:'/ShellAppTitleState',formatter:function(i){return i===this.oShellAppTitleStateEnum.SHELL_NAV_MENU;}.bind(this)}});p.setModel(this.getModel());this.oShellHeaderAppTitle.setNavigationMenu(p);var q=new j({id:'shell-floatingContainer',content:{path:"/currentState/floatingContainerContent",factory:s}});q.addCustomData(new d({key:"tabindex",value:"-1",writeToDom:true}));q.addEventDelegate({onsapskipforward:function(i){i.preventDefault();e.setIsFocusHandledByAnotherHandler(true);e.sendFocusBackToShell(i);},onsapskipback:function(i){if(e.getAppKeysHandler()){i.preventDefault();e.bFocusOnShell=false;}}});q.setModel(m.getModel());this.aDanglingControls.push(q);var t=new k({id:'shell-floatingActions',floatingActions:{path:"/currentState/floatingActions",factory:s}});t.updateAggregation=this.updateShellAggregation;var v=this.getOUnifiedShell();v.setFloatingContainer(q);v.setFloatingActionsContainer(t);this._createAllMyAppsView();},createPostCoreExtControls:function(){sap.ui.require(["sap/ushell/ui/shell/FloatingContainer","sap/ushell/ui/shell/ShellFloatingActions"],this._createPostCoreExtControls.bind(this));},_createAllMyAppsView:function(){var o=function(i){if(i.isEnabled()){this.oAllMyAppsView=sap.ui.view("allMyAppsView",{type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.renderers.fiori2.allMyApps.AllMyApps",viewData:{_fnGetShellModel:this.getModel.bind(this)},async:true,height:"100%",visible:{path:'/ShellAppTitleState',formatter:function(j){return j!==this.oShellAppTitleStateEnum.SHELL_NAV_MENU;}.bind(this)}}).addStyleClass("sapUshellAllMyAppsView");this.oAllMyAppsView.addCustomData(new d({key:"aria-label",value:r.i18n.getText("allMyApps_headerTitle"),writeToDom:true}));this.getOUnifiedShell().getHeader().getAppTitle().setAllMyApps(this.oAllMyAppsView);}}.bind(this);sap.ushell.Container.getServiceAsync("AllMyApps").then(o);},getOUnifiedShell:function(){return this.oUnifiedShell;},setOUnifiedShell:function(o){this.oUnifiedShell=o;},initShellBarLogo:function(o){function i(k){var m=/url[\s]*\('?"?([^\'")]*)'?"?\)/.exec(k);return m?m[1]:null;}function j(){if(!o.bIsDestroyed){var k=i(T.get("sapUiGlobalLogo"));o.setLogo(k||jQuery.sap.getModulePath("sap.ushell")+'/themes/base/img/sap_55x27.png');}}if(sap.ui.getCore().isThemeApplied()){j();}sap.ui.getCore().attachThemeChanged(j);u.setPerformanceMark("FLP-TimeToFirstMeaningfullPaint_setLogo");},updateShellAggregation:function(n){var o=this.mBindingInfos[n],j=this.getMetadata().getJSONKeys()[n],k;jQuery.each(this[j._sGetter](),jQuery.proxy(function(i,v){this[j._sRemoveMutator](v);},this));jQuery.each(o.binding.getContexts(),jQuery.proxy(function(i,v){k=o.factory(this.getId()+"-"+i,v)?o.factory(this.getId()+"-"+i,v).setBindingContext(v,o.model):"";this[j._sMutator](k);},this));},getControllerName:function(){return"sap.ushell.renderers.fiori2.Shell";},createIFrameDialog:function(){var o=null,l=this.logonIFrameReference,i;var _=function(){if(l){l.remove();}return jQuery('<iframe id="SAMLDialogFrame" src="" frameborder="0" height="100%" width="100%"></iframe>');};var j=function(){o.addStyleClass('sapUshellSamlDialogHidden');jQuery('#sap-ui-blocklayer-popup').addClass('sapUshellSamlDialogHidden');};this.destroyIFrameDialog();var k=new B({text:r.i18n.getText("samlCloseBtn"),press:function(){sap.ushell.Container.cancelLogon();}});var m=new H("SAMLDialogFrame");this.logonIFrameReference=_();m.setContent(this.logonIFrameReference.prop('outerHTML'));o=new g({id:"SAMLDialog",title:r.i18n.getText("samlDialogTitle"),contentWidth:"50%",contentHeight:"50%",rightButton:k}).addStyleClass("sapUshellIframeDialog");i=h.last("/core/extension/SupportTicket");if(i){var n=new c();n.setWidth('150px');n.setIcon('');o.setLeftButton(n);}o.addContent(m);o.open();j();this.logonIFrameReference=jQuery('#SAMLDialogFrame');return this.logonIFrameReference[0];},destroyIFrameDialog:function(){var i=sap.ui.getCore().byId('SAMLDialog');if(i){i.destroy();}this.logonIFrameReference=null;},showIFrameDialog:function(){var o=sap.ui.getCore().byId('SAMLDialog');if(o){o.removeStyleClass('sapUshellSamlDialogHidden');jQuery('#sap-ui-blocklayer-popup').removeClass('sapUshellSamlDialogHidden');}},addDanglingControl:function(o){this.aDanglingControls.push(o);}});},false);
sap.ui.predefine('sap/ushell/resources',['sap/ui/model/resource/ResourceModel'],function(R){"use strict";var r={};r.getTranslationModel=function(l){var t=new R({bundleUrl:jQuery.sap.getModulePath("sap.ushell.renderers.fiori2.resources.resources",".properties"),bundleLocale:l});return t;};r.i18nModel=r.getTranslationModel(sap.ui.getCore().getConfiguration().getLanguage());r.i18n=r.i18nModel.getResourceBundle();return r;},true);
sap.ui.predefine('sap/ushell/services/AllMyApps',[],function(){"use strict";function A(c,p,s){var S=s&&s.config,e=false,d={},P={HOME:0,EXTERNAL:1,CATALOG:2};this.isEnabled=function(){e=(!S||(S.enabled!==false))?true:false;return e;};this.isHomePageAppsEnabled=function(){return(!S||(S.showHomePageApps!==false))?true:false;};this.isCatalogAppsEnabled=function(){return(!S||(S.showCatalogApps!==false))?true:false;};this.isExternalProviderAppsEnabled=function(){return(!S||(S.showExternalProviders!==false))?true:false;};this.registerExternalProvider=function(a,o){if(!a||(a==="")){return;}if(!o.getTitle||!o.getData){return;}d[a]=o;};this.getDataProviders=function(){return d;};this.getProviderTypeEnum=function(){return P;};this.init=function(){};}A.hasNoAdapter=true;return A;},true);
sap.ui.predefine('sap/ushell/services/AppConfiguration',["sap/ushell/utils","sap/ushell/EventHub"],function(u,E){"use strict";function A(){var m={},a=true,c=null,I=[],b=[];E.on("AppRendered").do(d.bind(this));function d(C,s,D){a=false;if(b.length){for(var i=0;i<b.length;i++){b[i]();}b.length=0;}}this.addActivity=function(r){var U=sap.ushell.Container.getService("UserRecents");return U.addActivity(r);};this.setApplicationInInitMode=function(){a=true;};this.getApplicationRequestQueue=function(){return b;};this.getCurrentAppliction=function(){return c;};this.getCurrentApplication=this.getCurrentAppliction;this.getMetadata=function(o){if(!o){o=c;}if(o){var h=hasher&&hasher.getHash?hasher.getHash():'',k=this._processKey(h);if(!(m.hasOwnProperty(k))||!m[k].complete){this.addMetadata(o,k);}if(!m[k]){m[k]={complete:false};}if(!m[k].title){m[k].title=o.text||sap.ushell.resources.i18n.getText("default_app_title");}return m[k];}return{};};this._processKey=function(C){var i=C.split('?')[0],p=C.split('?')[1],s,P={},S,f='',g='',o;if(p){s=p.split('&');s.forEach(function(h){var j=h.split('=');P[j[0]]=j[1];});S=Object.keys(P).sort();S.forEach(function(k,h){g=h?'&':'?';f+=g+k+'='+P[k];});return i+f;}o=sap.ushell.Container.getService("URLParsing").parseShellHash(C);i=o?o.semanticObject+"-"+o.action:"";return i;};this.setCurrentApplication=function(o){c=o;if(b.length){b.length=0;}};this.setHeaderHiding=function(){jQuery.sap.log.warning("Application configuration headerHiding property is deprecated and has no effect");};this.addApplicationSettingsButtons=function(B){if(a){b.push(function(){e(B);});}else{e(B);}};function e(B){var i,f=[],r=sap.ushell.Container.getRenderer("fiori2");for(i=0;i<B.length;i++){var C=B[i];f.push(C.getId());C.setIcon(C.getIcon()||sap.ui.core.IconPool.getIconURI('customize'));if(sap.ushell.resources.i18n.getText("userSettings")===C.getProperty("text")){C.setProperty("text",sap.ushell.resources.i18n.getText("userAppSettings"));}C.setType(sap.m.ButtonType.Unstyled);}if(sap.ushell.Container&&r){if(I.length){r.hideActionButton(I,true);}I=f;r.showActionButton(f,true,undefined,true);}}this.setWindowTitle=function(t){window.document.title=t;};this.setIcons=function(i){jQuery.sap.setIcons(i);};this.setApplicationFullWidth=function(v){sap.ushell.components.applicationIntegration.AppLifeCycle.setApplicationFullWidth(v);};this.getSettingsControlAsync=function(){var D=new jQuery.Deferred();sap.ui.require(["sap/ushell/ui/footerbar/SettingsButton"],function(S){D.resolve(new S());});return D.promise();};this.getSettingsControl=function(){var s="sap/ushell/ui/footerbar/SettingsButton",o="sap.ushell.ui.footerbar.SettingsButton",S=sap.ui.require(s);if(S){return new S();}jQuery.sap.require(o);S=jQuery.sap.getObject(o);return new S();};this.getApplicationName=function(o){var M,s=(o&&o.additionalInformation)||null;if(s){M=/^SAPUI5\.Component=(.+)$/i.exec(s);if(M){return M[1];}}return null;};this.getApplicationUrl=function(o){var U=(o&&o.url)||null,s="P_TCODE",i;if(U){if(o.applicationType==="NWBC"&&U.indexOf(s)){return U;}i=U.indexOf("?");if(i>=0){U=U.slice(0,i);}if(U.slice(-1)!=='/'){U+='/';}}return U;};this.getPropertyValueFromConfig=function(C,p,r){var v;if(r&&C.hasOwnProperty(p+"Resource")){v=r.getText(C[p+"Resource"]);}else if(C.hasOwnProperty(p)){v=C[p];}return v;};this.getPropertyValueFromManifest=function(l,p,P){var M=p[P].manifestEntryKey,s=p[P].path,o=l.getManifestEntry(M);return jQuery.sap.getObject(s,undefined,o);};this.addMetadata=function(o,k){try{var C=this.getApplicationName(o),U=this.getApplicationUrl(o),l,f,p={"fullWidth":{"manifestEntryKey":"sap.ui","path":"fullWidth"},"hideLightBackground":{"manifestEntryKey":"sap.ui","path":"hideLightBackground"},"title":{"manifestEntryKey":"sap.app","path":"title"},"icon":{"manifestEntryKey":"sap.ui","path":"icons.icon"},"favIcon":{"manifestEntryKey":"sap.ui","path":"icons.favIcon"},"homeScreenIconPhone":{"manifestEntryKey":"sap.ui","path":"icons.phone"},"homeScreenIconPhone@2":{"manifestEntryKey":"sap.ui","path":"icons.phone@2"},"homeScreenIconTablet":{"manifestEntryKey":"sap.ui","path":"icons.tablet"},"homeScreenIconTablet@2":{"manifestEntryKey":"sap.ui","path":"icons.tablet@2"},"startupImage320x460":{"manifestEntryKey":"sap.ui","path":"icons.startupImage640x920"},"startupImage640x920":{"manifestEntryKey":"sap.ui","path":"icons.startupImage640x920"},"startupImage640x1096":{"manifestEntryKey":"sap.ui","path":"icons.startupImage640x1096"},"startupImage768x1004":{"manifestEntryKey":"sap.ui","path":"icons.startupImage768x1004"},"startupImage748x1024":{"manifestEntryKey":"sap.ui","path":"icons.startupImage748x1024"},"startupImage1536x2008":{"manifestEntryKey":"sap.ui","path":"icons.startupImage1536x2008"},"startupImage1496x2048":{"manifestEntryKey":"sap.ui","path":"icons.startupImage1496x2048"},"compactContentDensity":{"manifestEntryKey":"sap.ui5","path":"contentDensities.compact"},"cozyContentDensity":{"manifestEntryKey":"sap.ui5","path":"contentDensities.cozy"}},g,s,i,M,P,h,r,j=o&&o.componentHandle;if(k){if(!(m.hasOwnProperty(k))){m[k]={complete:false};}if(!m[k].complete){if(j){l=j.getMetadata();}else if(C){jQuery.sap.log.warning("No component handle available for '"+C+"'; SAPUI5 component metadata is incomplete",null,"sap.ushell.services.AppConfiguration");return;}if(l){f=l.getConfig();M=(l.getManifest()!==undefined);m[k].complete=true;if(f){h=f.resourceBundle||"";if(h){if(h.slice(0,1)!=='/'){h=U+h;}r=jQuery.sap.resources({url:h,locale:sap.ui.getCore().getConfiguration().getLanguage()});}}for(P in p){if(p.hasOwnProperty(P)){if(M){m[k][P]=this.getPropertyValueFromManifest(l,p,P);}if(f&&m[k][P]===undefined){m[k][P]=this.getPropertyValueFromConfig(f,P,r);}}}m[k].version=l.getVersion();m[k].technicalName=l.getComponentName();}else if(u.isApplicationTypeEmbeddedInIframe(o.applicationType)){var w="/~canvas;window=app/wda/",n=o.url.indexOf(w),W="/bc/gui/sap/its/webgui",q=o.url.indexOf(W);if(n>=0){m[k].technicalName=o.url.substring((n+w.length),o.url.indexOf("/",(n+w.length)));}m[k].complete=true;if(q>=0){var t="etransaction=",v=o.url.indexOf(t,q+W.length),x=o.url.indexOf("&",v),y=(x>=0)?x:o.url.length;m[k].technicalName=o.url.substring(v+t.length,y)+" (TCODE)";}}else{jQuery.sap.log.warning("No technical information for the given application could be determined",null,"sap.ushell.services.AppConfiguration");}}g=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];s=(U&&U[U.length-1]==='/')?U.substring(0,U.length-1):U;i=function(U){if(U.match(/^https?:\/\/.*/)){return false;}return U&&U[0]!=='/';};g.forEach(function(B){var O=m[k][B],F=null;if(O){F=i(O)?s+"/"+O:O;}m[k][B]=F;});}}catch(z){jQuery.sap.log.warning("Application configuration could not be parsed");}};}return new A();},true);
sap.ui.predefine('sap/ushell/services/AppLifeCycle',["sap/ui/base/EventProvider","sap/ushell/TechnicalParameters"],function(E,T){"use strict";var S="appLoaded";function A(a,c,p,C){var o,e,v;this.getCurrentApplication=function(){return o;};this.attachAppLoaded=function(d,f,l){e.attachEvent(S,d,f,l);};this.detachAppLoaded=function(f,l){e.detachEvent(S,f,l);};this.prepareCurrentAppObject=function(b,d,h,f){s(b,d,h,f);};e=new E();if(sap.ushell.Container.runningInIframe===undefined||sap.ushell.Container.runningInIframe()===false){r();}function r(){v=sap.ui.getCore().byId("viewPortContainer");if(!v||typeof v.attachAfterNavigate!=="function"){jQuery.sap.log.error("Error during instantiation of AppLifeCycle service","Could not attach to afterNavigate event","sap.ushell.services.AppLifeCycle");return;}v.attachAfterNavigate(function(b){var d,f,g,h,i,H=false;if(b.mParameters.toId.indexOf("applicationShellPage")===0){f=b.mParameters.to.getApp();}else if(b.mParameters.toId.indexOf("application")===0){f=b.mParameters.to;}if(f&&typeof f.getComponentHandle==="function"&&f.getComponentHandle()){h=f.getComponentHandle().getInstance();}else if(f){d=f.getAggregation("child");if(d){h=d.getComponentInstance();}}else{h=sap.ui.getCore().getComponent(b.mParameters.to.getComponent());}if(h){i=h.getId();H=i.indexOf("Shell-home-component")!==-1||i.indexOf("Shell-appfinder-component")!==-1;}g=f&&typeof f.getApplicationType==="function"&&f.getApplicationType();if((!g||g==="URL")&&h){g="UI5";}s(g,h,H,f);});}function s(b,d,h,f){o={applicationType:b,componentInstance:d,homePage:h,getTechnicalParameter:function(P){return T.getParameterValue(P,d,f,b);}};setTimeout(function(){e.fireEvent(S,o);},0);}}A.hasNoAdapter=true;return A;},true);
sap.ui.predefine('sap/ushell/services/AppState',["sap/ushell/services/_AppState/WindowAdapter","sap/ushell/services/_AppState/SequentializingAdapter","sap/ushell/services/_AppState/AppState","sap/ushell/services/_AppState/Sequentializer","sap/ushell/utils"],function(W,S,A,a,u){"use strict";function g(c){return u.isDefined(c)&&u.isDefined(c.transient)?!!c.transient:true;}function b(o,c,p,C){this._oConfig=C&&C.config;this._sSessionKey="";this._oAdapter=new S(o);this._oAdapter=new W(this,this._oAdapter,C);}b.prototype._getSessionKey=function(){if(!this._sSessionKey){this._sSessionKey=this._getGeneratedKey();}return this._sSessionKey;};b.prototype.getAppState=function(k){var d=new jQuery.Deferred(),t=this,o;this._loadAppState(k).done(function(k,D){o=new A(t,k,false,D);d.resolve(o);}).fail(function(m){o=new A(t,k);d.resolve(o);});return d.promise();};b.prototype._getGeneratedKey=function(){var s=sap.ushell.Container.getService("Personalization").getGeneratedKey();s=("AS"+s).substring(0,40);return s;};b.prototype.createEmptyAppState=function(c,t){var k=this._getGeneratedKey(),o,s="",d="",U=u.isDefined(t)?t:g(this._oConfig);if(c){if(!(c instanceof sap.ui.core.UIComponent)){throw new Error("oComponent passed must be a UI5 Component");}if(c.getMetadata&&c.getMetadata()&&typeof c.getMetadata().getName==="function"){s=c.getMetadata().getName()||"";}if(!s&&c.getMetadata&&c.getMetadata().getComponentName){s=c.getMetadata().getComponentName();}if(c.getMetadata&&c.getMetadata()&&typeof c.getMetadata().getManifest==="function"&&typeof c.getMetadata().getManifest()==="object"&&typeof c.getMetadata().getManifest()["sap.app"]==="object"){d=c.getMetadata().getManifest()["sap.app"].ach||"";}}o=new A(this,k,true,undefined,s,d,U);return o;};b.prototype.createEmptyUnmodifiableAppState=function(c){var k=this._getGeneratedKey(),o;o=new A(this,k,false);return o;};b.prototype._saveAppState=function(k,d,s,c,t){var e=this._getSessionKey(),U=u.isDefined(t)?t:g(this._oConfig);return this._oAdapter.saveAppState(k,e,d,s,c,U);};b.prototype._loadAppState=function(k){return this._oAdapter.loadAppState(k);};b._getSequentializer=function(){return new a();};b.WindowAdapter=W;b.hasNoAdapter=false;return b;},true);
sap.ui.predefine('sap/ushell/services/AppType',["sap/ushell/resources"],function(r){"use strict";return{OVP:"OVP",SEARCH:"Search",FACTSHEET:"FactSheet",COPILOT:"Co-Pilot",APP:"Application",getDisplayName:function(a){switch(a){case this.OVP:return r.i18n.getText("Apptype.OVP");case this.SEARCH:return r.i18n.getText("Apptype.SEARCH");case this.FACTSHEET:return r.i18n.getText("Apptype.FACTSHEET");case this.COPILOT:return r.i18n.getText("Apptype.COPILOT");default:return r.i18n.getText("Apptype.APP");}}};});
sap.ui.predefine('sap/ushell/services/ClientSideTargetResolution',["sap/ushell/utils","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/AppConfiguration","sap/ushell/services/_ClientSideTargetResolution/InboundProvider","sap/ushell/services/_ClientSideTargetResolution/InboundIndex","sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/Search","sap/ushell/services/_ClientSideTargetResolution/StagedLogger","sap/ushell/services/_ClientSideTargetResolution/Formatter","sap/ushell/services/_ClientSideTargetResolution/ParameterMapping","sap/ushell/navigationMode","sap/ushell/Config","sap/ushell/ApplicationType","sap/ui/thirdparty/URI","sap/ushell/_ApplicationType/systemAlias","sap/ushell/TechnicalParameters"],function(u,c,a,I,b,V,s,l,f,p,n,C,A,U,S,T){"use strict";function d(o,e,P,g){this._init.apply(this,arguments);}d.prototype._init=function(o,e,P,g){this._iLogId=0;sap.ui.lazyRequire("sap/ui/generic/app/navigation/service/SelectionVariant");if(!this._implementsServiceInterface(o)){jQuery.sap.log.error("Cannot get Inbounds","ClientSideTargetResolutionAdapter should implement getInbounds method","sap.ushell.services.ClientSideTargetResolution");return;}this._oInboundProvider=new I(o.getInbounds.bind(o));this._oHaveEasyAccessSystemsDeferreds={userMenu:null,sapMenu:null};this._oServiceConfiguration=g;this._oAdapter=o;};d.prototype._implementsServiceInterface=function(o){if(typeof o.getInbounds==="function"){return true;}return false;};d.prototype._getURLParsing=function(){if(!this._oURLParsing){this._oURLParsing=sap.ushell.Container.getService("URLParsing");}return this._oURLParsing;};d.prototype._hasRenameTo=function(m){return m.inbound&&m.inbound.signature&&m.inbound.signature.parameters&&Object.keys(m.inbound.signature.parameters).some(function(k){return!!(m.inbound.signature.parameters[k].renameTo);});};d.prototype._removeUnusedComplexParameterValuesFromDefaultList=function(m){m.defaultedParamNames=m.defaultedParamNames.filter(function(N){if(m.intentParamsPlusAllDefaults[N]&&!jQuery.isArray(m.intentParamsPlusAllDefaults[N])){if(!(m.resolutionResult.oNewAppStateMembers&&m.resolutionResult.oNewAppStateMembers[N])){return false;}}return true;});};d.prototype._mapDefaultParameterNames=function(m){var P=jQuery.sap.getObject("inbound.signature.parameters",undefined,m)||{},M={};m.defaultedParamNames.forEach(function(N){var e=(P[N]&&P[N].renameTo)||N;if(M[e]){jQuery.sap.log.error("renaming of defaultedParamNames creates duplicates"+N+"->"+e);}else{M[e]=true;}});m.mappedDefaultedParamNames=Object.keys(M).sort();};d.prototype._mixAppStateIntoResolutionResultAndRename=function(m,o){var D=new jQuery.Deferred(),t=this,N,e,g;var r=m.resolutionResult;function h(w){var x;t._removeUnusedComplexParameterValuesFromDefaultList(w);t._mapDefaultParameterNames(w);x=n.compute(jQuery.sap.getObject("inbound.resolutionResult.applicationType",undefined,w),(w.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0],(w.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(a.getCurrentApplication()||{}).applicationType,C.last("/core/navigation/enableInPlaceForClassicUIs"));u.shallowMergeObject(w.resolutionResult,x);delete w.resolutionResult.oNewAppStateMembers;D.resolve(w);}function i(r){return(r.oNewAppStateMembers&&!jQuery.isEmptyObject(r.oNewAppStateMembers));}function j(L,P){return jQuery.isArray(L)&&L.some(function(w){return(P.indexOf(w)!==-1);});}function k(w,P){var x,y,z;if(w&&w.selectionVariant){x=new sap.ui.generic.app.navigation.service.SelectionVariant(JSON.stringify(w.selectionVariant));z=x.getSelectOptionsPropertyNames()||[];y=x.getParameterNames()||[];if(j(z,P)||j(y,P)){return true;}}return false;}function q(w,R,P,x){var y=new sap.ui.generic.app.navigation.service.SelectionVariant(),z=w.getParameterNames()||[],B=w.getSelectOptionsPropertyNames()||[],E,F;z.forEach(function(G){E=w.getParameter(G);if(x&&!P[G]){R.deleted=true;return;}if(P[G]&&P[G].renameTo){if((y.getParameter(P[G].renameTo)===undefined)&&(y.getSelectOption(P[G].renameTo)===undefined)){y.addParameter(P[G].renameTo,E);R.changed=true;}else{jQuery.sap.log.error("renaming of appstate creates duplicates "+G+"->"+P[G].renameTo);}}else{if((y.getParameter(G)===undefined)&&(y.getSelectOption(G)===undefined)){y.addParameter(G,E);}}});B.forEach(function(G){F=w.getSelectOption(G);if(x&&!P[G]){R.deleted=true;return;}if(P[G]&&P[G].renameTo){if((y.getSelectOption(P[G].renameTo)===undefined)&&(y.getParameter(P[G].renameTo)===undefined)){y.massAddSelectOption(P[G].renameTo,F);R.changed=true;}else{jQuery.sap.log.error("renaming of appstate creates duplicates "+G+"->"+P[G].renameTo);}}else{if((y.getSelectOption(G)===undefined)&&(y.getParameter(G)===undefined)){y.massAddSelectOption(G,F);}}});z.forEach(function(G){w.removeParameter(G);});B.forEach(function(G){w.removeSelectOption(G);});y.getParameterNames().forEach(function(G){w.addParameter(G,y.getParameter(G));});y.getSelectOptionsPropertyNames().forEach(function(G){w.massAddSelectOption(G,y.getSelectOption(G));});return w;}function v(w){if(w===undefined||jQuery.isPlainObject(w)){return false;}return true;}function M(w){var x=w.getData()||{},y,z={};var B=m.inbound.signature;if(x.selectionVariant){y=new sap.ui.generic.app.navigation.service.SelectionVariant(JSON.stringify(x.selectionVariant));}else{y=new sap.ui.generic.app.navigation.service.SelectionVariant();}if(i(r)){Object.keys(r.oNewAppStateMembers).forEach(function(F){y.massAddSelectOption(F,r.oNewAppStateMembers[F].Ranges);});}var E=B.additionalParameters==="ignored";y=q(y,z,B.parameters,E);if(y.getParameterNames().length!==0||y.getSelectOptionsPropertyNames().length!==0||z.deleted){x.selectionVariant=y.toJSONObject();}if(!z.changed&&!z.deleted&&!i(r)){h(m);return;}w.setData(x);w.save().done(function(){m.intentParamsPlusAllDefaults["sap-xapp-state"]=[w.getKey()];m.mappedIntentParamsPlusSimpleDefaults["sap-xapp-state"]=[w.getKey()];h(m);});}if(!i(r)&&!t._hasRenameTo(m)){h(m);}else{e=m.intentParamsPlusAllDefaults["sap-xapp-state"]&&m.intentParamsPlusAllDefaults["sap-xapp-state"][0];if(e){o.getAppState(e).done(function(w){var P=c.constructParameterDominatorMap(m.inbound.signature.parameters);g=w.getData();if(v(g)){delete r.oNewAppStateMembers;h(m);}if(r.oNewAppStateMembers){Object.keys(r.oNewAppStateMembers).forEach(function(x){var y=P[x].dominatedBy;if(k(g,y)){delete r.oNewAppStateMembers[x];}});}if(!i(r)&&!t._hasRenameTo(m)){h(m);}else{N=o.createEmptyAppState(undefined,true);if(N){N.setData(w.getData());M(N);}}});}else if(i(r)){M(o.createEmptyAppState(undefined,true));}else{h(m);}}return D.promise();};d.prototype._extractInboundFilter=function(o){if(!this._oAdapter.hasSegmentedAccess){return undefined;}if(typeof o!=="string"){return undefined;}var F=o.indexOf("#")===0?o:"#"+o;var e=this._getURLParsing().parseShellHash(F);if(!e||!e.semanticObject||!e.action){return undefined;}return[{semanticObject:e.semanticObject,action:e.action}];};d.prototype.resolveHashFragment=function(h){var t=this,D=new jQuery.Deferred(),B=this._oAdapter.resolveHashFragmentFallback&&this._oAdapter.resolveHashFragmentFallback.bind(this._oAdapter),e=this._extractInboundFilter(h);this._oInboundProvider.getInbounds(e).then(function(i){t._resolveHashFragment(h,B,i).done(function(o){return D.resolve(o);}).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype.resolveTileIntent=function(h){var t=this,D=new jQuery.Deferred(),e=this._extractInboundFilter(h);this._oInboundProvider.getInbounds(e).then(function(i){t._resolveTileIntent(h,undefined,i).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype.resolveTileIntentInContext=function(i,h){var o,D=new jQuery.Deferred();o=b.createIndex(i.concat(V.getInbounds()));this._resolveTileIntent(h,undefined,o).done(D.resolve.bind(D)).fail(D.reject.bind(D));return D.promise();};d.prototype._resolveHashFragment=function(h,B,i){var e=this._getURLParsing(),t=this,D=new jQuery.Deferred(),F=h.indexOf("#")===0?h:"#"+h,g=e.parseShellHash(F);if(g===undefined){jQuery.sap.log.error("Could not parse shell hash '"+h+"'","please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");return D.reject().promise();}g.formFactor=u.getFormFactor();this._getMatchingInbounds(g,i,{bExcludeTileInbounds:true}).fail(function(E){jQuery.sap.log.error("Could not resolve "+h,"_getMatchingInbounds promise rejected with: "+E,"sap.ushell.services.ClientSideTargetResolution");D.reject(E);}).done(function(m){var M;if(m.length===0){jQuery.sap.log.warning("Could not resolve "+h,"rejecting promise","sap.ushell.services.ClientSideTargetResolution");D.reject("Could not resolve navigation target");return;}M=m[0];c.whenDebugEnabled(function(){function j(K,v){return this[K]===undefined?"<undefined>":v;}function r(o,v){return(o==="_original")?undefined:j.call(this,o,v);}var k=JSON.stringify(M,r,"   ");jQuery.sap.log.debug("The following target will now be resolved",k,"sap.ushell.services.ClientSideTargetResolution");});t._resolveSingleMatchingTarget(M,B,F).done(function(o){D.resolve(o);}).fail(D.reject.bind(D));});return D.promise();};d.prototype._resolveSingleMatchingTarget=function(m,B,F){var t=this,D=new jQuery.Deferred(),o=this._getURLParsing(),i=o.parseShellHash(F),e=[i.semanticObject,i.action].join("-"),g=(m.inbound.resolutionResult||{}).applicationType;var E;if(this._oAdapter.resolveSystemAlias){E=this._oAdapter.resolveSystemAlias.bind(this._oAdapter);}var h=A.getEasyAccessMenuResolver(e);if(h){h(i,m,E).then(function(R){var N=n.compute(jQuery.sap.getObject("inbound.resolutionResult.applicationType",undefined,m),(m.intentParamsPlusAllDefaults["sap-ushell-next-navmode"]||[])[0],(m.intentParamsPlusAllDefaults["sap-ushell-navmode"]||[])[0],(a.getCurrentApplication()||{}).applicationType,C.last("/core/navigation/enableInPlaceForClassicUIs"));u.shallowMergeObject(R,N);D.resolve(R);},function(j){D.reject(j);});return D.promise();}var r=c.extractParameters(T.getParameterNames(),m.intentParamsPlusAllDefaults);p.mapParameterNamesAndRemoveObjects(m);this._mixAppStateIntoResolutionResultAndRename(m,sap.ushell.Container.getService("AppState")).done(function(m){var R=function(){return t._constructFallbackResolutionResult.call(t,m,B,F);};if(A[g]){R=A[g].generateResolutionResult;}delete m.intentParamsPlusAllDefaults["sap-tag"];delete m.mappedIntentParamsPlusSimpleDefaults["sap-tag"];m.mappedDefaultedParamNames=m.mappedDefaultedParamNames.filter(function(P){return P!=="sap-tag";});var j=jQuery.sap.getObject('inbound.resolutionResult.url',undefined,m);R(m,j,E).then(function(k){k.reservedParameters=r;return k;}).then(function(k){jQuery.sap.log.debug("Intent was resolved to the following target",JSON.stringify(m.resolutionResult,null,3),"sap.ushell.services.ClientSideTargetResolution");u.shallowMergeObject(m.resolutionResult,k);D.resolve(m.resolutionResult);},function(M){if(typeof M==="string"&&M.indexOf("fallback:")>=0){t._constructFallbackResolutionResult.call(this,m,B,F).then(function(k){u.shallowMergeObject(m.resolutionResult,k);D.resolve(m.resolutionResult);},D.reject.bind(D));}else{D.reject(M);}});});return D.promise();};d.prototype._resolveTileIntent=function(h,B,i){var o=this._getURLParsing(),t=this,D=new jQuery.Deferred(),F=h.indexOf("#")===0?h:"#"+h,e=o.parseShellHash(F);if(e===undefined){jQuery.sap.log.error("Could not parse shell hash '"+h+"'","please specify a valid shell hash","sap.ushell.services.ClientSideTargetResolution");return D.reject("Cannot parse shell hash").promise();}e.formFactor=u.getFormFactor();this._getMatchingInbounds(e,i,{bExcludeTileInbounds:false}).fail(function(E){jQuery.sap.log.error("Could not resolve "+h,"_getMatchingInbounds promise rejected with: "+E,"sap.ushell.services.ClientSideTargetResolution");D.reject(E);}).done(function(m){var M;if(m.length===0){jQuery.sap.log.warning("Could not resolve "+h,"no matching targets were found","sap.ushell.services.ClientSideTargetResolution");D.reject("No matching targets found");return;}M=m[0];t._resolveSingleMatchingTileIntent(M,B,F).done(D.resolve.bind(D)).fail(D.reject.bind(D));});return D.promise();};d.prototype._resolveSingleMatchingTileIntent=function(m,B,F){var D=new jQuery.Deferred(),e=(m.inbound.resolutionResult||{}).applicationType,t=this;var E;if(this._oAdapter.resolveSystemAlias){E=this._oAdapter.resolveSystemAlias.bind(this._oAdapter);}p.mapParameterNamesAndRemoveObjects(m);this._mixAppStateIntoResolutionResultAndRename(m,sap.ushell.Container.getService("AppState")).done(function(m){var r=function(){return t._constructFallbackResolutionResult.call(t,m,B,F);};if(A[e]){r=A[e].generateResolutionResult;}delete m.intentParamsPlusAllDefaults["sap-tag"];delete m.mappedIntentParamsPlusSimpleDefaults["sap-tag"];m.mappedDefaultedParamNames=m.mappedDefaultedParamNames.filter(function(P){return P!=="sap-tag";});var g=jQuery.sap.getObject('inbound.resolutionResult.url',undefined,m);r(m,g,E).then(function(R){u.shallowMergeObject(m.resolutionResult,R);var o=jQuery.extend(true,{},m.inbound.tileResolutionResult);o.startupParameters=m.effectiveParameters;o.navigationMode=m.resolutionResult.navigationMode;if(!o.navigationMode){o.navigationMode=n.getNavigationMode(m.resolutionResult);}D.resolve(o);jQuery.sap.log.debug("Tile Intent was resolved to the following target",JSON.stringify(o,null,3),"sap.ushell.services.ClientSideTargetResolution");},function(M){D.reject(M);});});return D.promise();};d.prototype._constructFallbackResolutionResult=function(m,B,F){var e={},D;Object.keys(m.intentParamsPlusAllDefaults).forEach(function(P){if(jQuery.isArray(m.intentParamsPlusAllDefaults[P])){e[P]=m.intentParamsPlusAllDefaults[P];}});D=m.mappedDefaultedParamNames||m.defaultedParamNames;if(D.length>0){e["sap-ushell-defaultedParameterNames"]=[JSON.stringify(D)];}if(typeof B!=="function"){jQuery.sap.log.error("Cannot resolve hash fragment",F+" has matched an inbound that cannot be resolved client side"+" and no resolveHashFragmentFallback method was implemented in ClientSideTargetResolutionAdapter","sap.ushell.services.ClientSideTargetResolution");return Promise.reject("Cannot resolve hash fragment: no fallback provided.");}jQuery.sap.log.warning("Cannot resolve hash fragment client side",F+" has matched an inbound that cannot be resolved client side. Using fallback logic","sap.ushell.services.ClientSideTargetResolution");return new Promise(function(r,R){B(F,jQuery.extend(true,{},m.inbound),e).done(function(o){var g={};["applicationType","additionalInformation","url","applicationDependencies","text"].forEach(function(P){if(o.hasOwnProperty(P)){g[P]=o[P];}});r(g);}).fail(R.bind(null));});};d.prototype.getDistinctSemanticObjects=function(){var D=new jQuery.Deferred();this._oInboundProvider.getInbounds().then(function(i){var o={};i.getAllInbounds().forEach(function(e){if(typeof e.semanticObject==="string"&&e.semanticObject!=="*"&&!e.hideIntentLink&&e.semanticObject.length>0){o[e.semanticObject]=true;}});D.resolve(Object.keys(o).sort());},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype.getLinks=function(o){var N,t=this,e,P,i,D=new jQuery.Deferred(),g;if(arguments.length===1&&jQuery.isPlainObject(arguments[0])){N=arguments[0];g=jQuery.extend(true,{},N);["action","semanticObject"].forEach(function(h){if(N.hasOwnProperty(h)){g[h]=N[h];}});if(g.appStateKey){g.params=g.params||{};g.params["sap-xapp-state"]=[g.appStateKey];delete g.appStateKey;}}else if(arguments.length<=3){jQuery.sap.log.warning("Passing positional arguments to getLinks is deprecated","Please use nominal arguments instead","sap.ushell.services.ClientSideTargetResolution");e=arguments[0];P=arguments[1];i=arguments[2];g={semanticObject:e,params:P,ignoreFormFactor:i};}else{return D.reject("invalid arguments for getLinks").promise();}this._oInboundProvider.getInbounds().then(function(h){t._getLinks(g,h).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype._validateGetSemanticObjectLinksArgs=function(o){var e=o.semanticObject,g=o.action,i=!o.hasOwnProperty("action");if(typeof e!=="undefined"||i){if(typeof e!=="string"){jQuery.sap.log.error("invalid input for _getLinks","the semantic object must be a string, got "+Object.prototype.toString.call(e)+" instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}if(i&&e.match(/^\s+$/)){jQuery.sap.log.error("invalid input for _getLinks","the semantic object must be a non-empty string, got '"+e+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}if(!i&&e.length===0){jQuery.sap.log.error("invalid input for _getLinks","the semantic object must not be an empty string, got '"+e+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid semantic object";}}if(typeof g!=="undefined"){if(typeof g!=="string"){jQuery.sap.log.error("invalid input for _getLinks","the action must be a string, got "+Object.prototype.toString.call(g)+" instead","sap.ushell.services.ClientSideTargetResolution");return"invalid action";}if(g.length===0){jQuery.sap.log.error("invalid input for _getLinks","the action must not be an empty string, got '"+g+"' instead","sap.ushell.services.ClientSideTargetResolution");return"invalid action";}}return undefined;};d.prototype._getLinks=function(o,i){var e=o.semanticObject,g=o.action,P=o.params,w=!!o.withAtLeastOneUsedParam,t=!!o.treatTechHintAsFilter,h=o.ignoreFormFactor,j=o.hasOwnProperty("sortResultsBy")?o.sortResultsBy:"intent";if(o.hasOwnProperty("sortResultOnTexts")){jQuery.sap.log.warning("the parameter 'sortResultOnTexts' was experimantal and is no longer supported","getLinks results will be sorted by '"+j+"'","sap.ushell.services.ClientsideTargetResolution");}var k={bExcludeTileInbounds:true};var E=this._validateGetSemanticObjectLinksArgs(o);if(o.tags){k.tags=o.tags;}if(E){return new jQuery.Deferred().reject(E).promise();}if(e==="*"){return jQuery.when([]);}function m(q,P){var B=q.paramsToString(P);return B?"?"+B:"";}var q=this._getURLParsing(),D=new jQuery.Deferred(),F=u.getFormFactor(),r=q.parseParameters(m(q,P)),v={semanticObject:(e===""?undefined:e),action:g,formFactor:(h?undefined:F),params:r};if(t){v.treatTechHintAsFilter=true;}this._getMatchingInbounds(v,i,k).done(function(M){var x={},R=M.map(function(z){var B=e||z.inbound.semanticObject,G="#"+B+"-"+z.inbound.action,N;if(B==="*"){return undefined;}if(z.inbound.action==="*"){return undefined;}if(z.inbound&&z.inbound.hasOwnProperty("hideIntentLink")&&z.inbound.hideIntentLink===true){return undefined;}if(!x.hasOwnProperty(G)){x[G]={matchingInbound:z.inbound,count:1};if(z.inbound.signature.additionalParameters==="ignored"){N=c.filterObjectKeys(r,function(Q){return(Q.indexOf("sap-")===0)||z.inbound.signature.parameters.hasOwnProperty(Q);},false);}else{N=r;}if(w){var J=Object.keys(N).some(function(Q){return Q.indexOf("sap-")!==0;});if(!J){x[G].hideReason="getLinks called with 'withAtLeastOneUsedParam = true', but the inbound had no business parameters defined.";return undefined;}}var K=c.inboundSignatureMeetsParameterOptions(z.inbound.signature.parameters,o.paramsOptions||[]);if(!K){x[G].hideReason="inbound signature does not meet the requested parameter filter options";return undefined;}var L={"intent":G+m(q,N),"text":z.inbound.title};if(z.inbound.icon){L.icon=z.inbound.icon;}if(z.inbound.subTitle){L.subTitle=z.inbound.subTitle;}if(z.inbound.shortTitle){L.shortTitle=z.inbound.shortTitle;}var O=jQuery.sap.getObject('inbound.signature.parameters.sap-tag.defaultValue.value',undefined,z);if(O){L.tags=[O];}return L;}else{x[G].count++;}return undefined;}).filter(function(z){return typeof z==="object";});if(j!=="priority"){R.sort(function(G,z){return G[j]<z[j]?-1:1;});}if(R.length===0){jQuery.sap.log.debug("_getLinks returned no results");}else if(jQuery.sap.log.getLevel()>=jQuery.sap.log.Level.DEBUG){if(jQuery.sap.log.getLevel()>=jQuery.sap.log.Level.TRACE){var y=[];var H=[];R.forEach(function(z){var B=z.intent.split("?")[0];if(x[B].hideReason){H.push(["-",B+"("+x[B].hideReason+")\n"," text:",z.text+"\n"," full intent:",z.intent].join(" "));}else{y.push(["-",B,x[B].count>1?"("+(x[B].count-1)+" others matched)\n":"\n","text:",z.text+"\n","full intent:",z.intent].join(" "));}});jQuery.sap.log.debug("_getLinks filtered to the following unique intents:","\n"+y.join("\n"),"sap.ushell.services.ClientSideTargetResolution");jQuery.sap.log.debug("_getLinks would have also returned the following unique intents, but something prevented this:",H.join("\n"),"sap.ushell.services.ClientSideTargetResolution");}else{jQuery.sap.log.debug("_getLinks filtered to unique intents.","Reporting histogram: \n - "+Object.keys(x).join("\n - "),"sap.ushell.services.ClientSideTargetResolution");}}D.resolve(R);}).fail(D.reject.bind(D));return D.promise();};d.prototype._getMatchingInbounds=function(o,i,e){var t=this,g,h,L,j,k,E,P,D=new jQuery.Deferred();if(e){g=e.tags;E=e.bExcludeTileInbounds;}c.whenDebugEnabled(function(){L=++t._iLogId;});l.begin(function(){function m(M){var r=M.action||(typeof M.action==="undefined"?"<any>":"<invalid-value>");var v=M.semanticObject||(typeof M.semanticObject==="undefined"?"<any>":"<invalid-value>");return t._getURLParsing().constructShellHash({semanticObject:v,action:r,params:M.params});}var q=m(o);return{logId:L,title:"Matching Intent '"+q+"' to inbounds (form factor: "+(o.formFactor||'<any>')+")",moduleName:"sap.ushell.services.ClientSideTargetResolution",stages:["STAGE1: Find matching inbounds","STAGE2: Resolve references","STAGE3: Rematch with references","STAGE4: Sort matched targets"]};});k=o.semanticObject;h=o.action;j=g?i.getSegmentByTags(g):i.getSegment(k,h);if(E){P=j.filter(function(m){return!m.tileResolutionResult||!m.tileResolutionResult.isCustomTile;});}else{P=j;}s.match(o,P,{},c.isDebugEnabled()).then(function(m){l.log(function(){return{logId:L,stage:1,prefix:"\u2718",lines:Object.keys(m.noMatchReasons||{}).map(function(q){return q+" "+m.noMatchReasons[q];})};});l.log(function(){var q=m.matchResults.map(function(v){return f.formatInbound(v.inbound);});return{logId:L,stage:1,prefix:q.length>0?"\u2705":"\u2718",lines:q.length>0?q:["No inbound was matched"]};});var M=Object.keys(m.missingReferences||[]);if(M.length===0){l.log(function(){return{logId:L,stage:2,prefix:"\u2705",line:"No need to resolve references"};});return new jQuery.Deferred().resolve({matchResults:m.matchResults,referencesToInclude:null}).promise();}l.log(function(){return{logId:L,stage:2,line:"@ Must resolve the following references:",prefix:"\u2022",lines:M};});var r=new jQuery.Deferred();sap.ushell.Container.getService("ReferenceResolver").resolveReferences(M).done(function(R){l.log(function(){return{logId:L,stage:2,line:"\u2705 resolved references with the following values:",prefix:"\u2022",lines:Object.keys(R).map(function(q){return q+": '"+R[q]+"'";})};});r.resolve({matchResults:m.matchResults,referencesToInclude:R});}).fail(function(q){l.log(function(){return{logId:L,stage:2,prefix:"\u274c",line:"Failed to resolve references: "+q};});D.resolve([]);});return r.promise();}).then(function(m){var M,q,r=m.referencesToInclude;if(!r){l.log(function(){return{logId:L,stage:3,line:"rematch was skipped (no references to resolve)",prefix:"\u2705"};});return new jQuery.Deferred().resolve(m).promise();}q=m.matchResults;M=q.map(function(v){return v.inbound;});return s.match(o,M,r,0).then(function(F){l.log(function(){var q=F.matchResults||[];if(q.length>=1){return{logId:L,stage:3,line:"The following inbounds re-matched:",lines:q.map(function(v){return f.formatInbound(v.inbound);}),prefix:"\u2705"};}return{logId:L,stage:3,line:"No inbounds re-matched",prefix:"-"};});return F;});}).then(function(F){var m=F.matchResults||[];if(m.length<=1){l.log(function(){return{logId:L,stage:4,line:"Nothing to sort"};});D.resolve(m);return;}var q=s.sortMatchingResultsDeterministic(F.matchResults||[]);l.log(function(){var r=q.map(function(M){return f.formatInbound(M.inbound||{})+(M.matchesVirtualInbound?" (virtual)":"")+"\n[ Sort Criteria ] "+"\n * 1 * sap-priority: '"+M["sap-priority"]+"'"+"\n * 2 * Sort string: '"+M.priorityString+"\n * 3 * Deterministic blob: '"+s.serializeMatchingResult(M)+"'";});return{logId:L,stage:4,line:"Sorted inbounds as follows:",lines:r,prefix:".",number:true};});D.resolve(q);});return D.promise().then(function(m){l.end(function(){return{logId:L};});return m;});};d.prototype._isIntentSupportedOne=function(i,o){var D=new jQuery.Deferred(),e=this._getURLParsing().parseShellHash(i);if(i==="#"){D.resolve(true);return D.promise();}if(e===undefined){return D.reject("Could not parse shell hash '"+i+"'").promise();}e.formFactor=u.getFormFactor();this._getMatchingInbounds(e,o,{bExcludeTileInbounds:true}).done(function(t){D.resolve(t.length>0);}).fail(function(){D.reject();});return D.promise();};d.prototype.isIntentSupported=function(i){var t=this,D=new jQuery.Deferred();this._oInboundProvider.getInbounds().then(function(o){t._isIntentSupported(i,o).done(D.resolve.bind(D)).fail(D.reject.bind(D));},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype._isIntentSupported=function(i,o){var t=this,D=new jQuery.Deferred(),m={};D.resolve();function e(g,h){m[g]={supported:h};}var r=[];i.forEach(function(g){var N=t._isIntentSupportedOne(g,o);N.fail(function(E){r.push(E);});N.done(function(h){e(g,h);});D=jQuery.when(D,N);});var R=new jQuery.Deferred();D.done(function(){R.resolve(m);}).fail(function(){R.reject("One or more input intents contain errors: "+r.join(", "));});return R.promise();};d.prototype.getUserDefaultParameterNames=function(){var t=this,D=new jQuery.Deferred();this._oInboundProvider.getInbounds().then(function(i){var r;try{r=t._getUserDefaultParameterNames(i.getAllInbounds());D.resolve(r);}catch(e){D.reject("Cannot get user default parameters from inbounds: "+e);}},function(){D.reject.apply(D,arguments);});return D.promise();};d.prototype._getUserDefaultParameterNames=function(i){var r={simple:{},extended:{}};i.forEach(function(t){var o=t.signature&&t.signature.parameters||[];Object.keys(o).forEach(function(P){var e=o[P],R,E,g,h;if(e){if(e.filter&&e.filter.format==="reference"){g=e.filter.value;}else if(e.defaultValue&&e.defaultValue.format==="reference"){g=e.defaultValue.value;}if(typeof g==="string"){h=sap.ushell.Container.getService("ReferenceResolver");R=h.extractUserDefaultReferenceName(g);if(typeof R==="string"){r.simple[R]={};}E=h.extractExtendedUserDefaultReferenceName(g);if(typeof E==="string"){r.extended[E]={};}}}});});return r;};d.prototype.getEasyAccessSystems=function(m){var r={},o,v,D;m=m||"sapMenu";if(this._oHaveEasyAccessSystemsDeferreds[m]){return this._oHaveEasyAccessSystemsDeferreds[m].promise();}this._oHaveEasyAccessSystemsDeferreds[m]=new jQuery.Deferred();D=this._oHaveEasyAccessSystemsDeferreds[m];function i(e,g,v){if(!e){return false;}var h=[e.semanticObject,e.action].join("-");return v[m][h]&&e.deviceTypes&&g!==undefined&&e.deviceTypes[g];}o=A.getEasyAccessMenuDefinitions().reduce(function(o,e){var E=e.easyAccessMenu.intent.split("-")[1];o[E]={appType:e.type,priority:e.easyAccessMenu.systemSelectionPriority};return o;},{});v={userMenu:A.getEasyAccessMenuDefinitions().reduce(function(e,E){var g=E.easyAccessMenu.intent;e[g]=E.easyAccessMenu.showSystemSelectionInUserMenu;return e;},{}),sapMenu:A.getEasyAccessMenuDefinitions().reduce(function(e,E){var g=E.easyAccessMenu.intent;e[g]=E.easyAccessMenu.showSystemSelectionInSapMenu;return e;},{})};this._oInboundProvider.getInbounds().then(function(e){var L={};e.getAllInbounds().filter(function(g){return i(g,u.getFormFactor(),v);}).forEach(function(E){var g;if(jQuery.isPlainObject(E.signature.parameters["sap-system"])&&E.signature.parameters["sap-system"].hasOwnProperty("filter")){g=jQuery.sap.getObject("signature.parameters.sap-system.filter.value",undefined,E);}if(typeof g==="string"){var h=o[E.action].priority;var j=o[E.action].appType;if(!r[g]){L[g]=-1;r[g]={appType:{}};}if(L[g]<h){r[g].text=E.title;L[g]=h;}r[g].appType[j]=true;}else{jQuery.sap.log.warning("Cannot extract sap-system from easy access menu inbound: "+f.formatInbound(E),"This parameter is supposed to be a string. Got '"+g+"' instead.","sap.ushell.services.ClientSideTargetResolution");}});D.resolve(r);},function(){D.reject.apply(D,arguments);});return D.promise();};d.hasNoAdapter=false;return d;},true);
sap.ui.predefine('sap/ushell/services/CommonDataModel',["sap/ushell/services/_CommonDataModel/PersonalizationProcessor"],function(P){"use strict";var S="sap.ushell.services.CommonDataModel";function C(a,c,p,s){var t=this,o=new jQuery.Deferred();function f(m){o.reject(m);}this._oAdapter=a;this._oPersonalizationProcessor=new P();this._oSitePromise=o.promise();this._oContentProviderIndex={};a.getSite().done(function(b){t._oOriginalSite=jQuery.extend(true,{},b);a.getPersonalization().done(function(d){t._oPersonalizationProcessor.mixinPersonalization(b,d).done(function(e){t._oPersonalizedSite=t._ensureCompleteSite(e);o.resolve(t._oPersonalizedSite);}).fail(f);}).fail(f);}).fail(f);}C.prototype.getHomepageGroups=function(){var d=new jQuery.Deferred();this._oSitePromise.then(function(s){var g=(s&&s.site&&s.site.payload&&s.site.payload.groupsOrder)?s.site.payload.groupsOrder:[];d.resolve(g);});return d.promise();};C.prototype.getGroups=function(){var d=new jQuery.Deferred();this._oSitePromise.then(function(s){var g=[];Object.keys(s.groups).forEach(function(k){g.push(s.groups[k]);});d.resolve(g);});return d.promise();};C.prototype.getGroup=function(i){var d=new jQuery.Deferred();this._oSitePromise.then(function(s){var g=s.groups[i];if(g){d.resolve(g);}else{d.reject("Group "+i+" not found");}});return d.promise();};C.prototype.getSite=function(){return this._oSitePromise;};C.prototype.getGroupFromOriginalSite=function(g){var d=new jQuery.Deferred();if(typeof g==="string"&&this._oOriginalSite&&this._oOriginalSite.groups&&this._oOriginalSite.groups[g]){d.resolve(jQuery.extend(true,{},this._oOriginalSite.groups[g]));}else{d.reject("Group does not exist in original site.");}return d.promise();};C.prototype.save=function(){var d=new jQuery.Deferred(),t=this;this._oPersonalizationProcessor.extractPersonalization(this._oPersonalizedSite,this._oOriginalSite).done(function(e){if(e){t._oAdapter._storePersonalizationData(e).done(function(){d.resolve();}).fail(function(m){d.reject(m);});}else{d.resolve();}});return d.promise();};function l(){var p=sap.ushell.Container.getService("PluginManager");return p.loadPlugins("ContentProvider");}C.prototype._getUnreferencedCatalogApplications=function(e){var u={};var a=Object.keys(e.applications).map(function(A){return e.applications[A]["sap.app"].id;}).reduce(function(i,A){i[A]=true;return i;},{});var c=e.catalogs;Object.keys(c).forEach(function(s){var A=c[s].payload.appDescriptors;A.map(function(o){return o.id;}).filter(function(b){return!a[b];}).forEach(function(b){if(!u.hasOwnProperty(s)){u[s]={};}u[s][b]=true;});});return u;};C.prototype._formatUnreferencedApplications=function(c,u){return"One or more apps from "+c+" content provider are not listed among the applications section of the extended site and will be discarded - "+Object.keys(u).map(function(s){var b=Object.keys(u[s]).map(function(U){return"'"+U+"'";});return"From catalog '"+s+"': "+b.join(", ");}).join("; ");};C.prototype._removeUnreferencedApplications=function(e,u){Object.keys(e.catalogs).forEach(function(c){var o=e.catalogs[c].payload;var a=o.appDescriptors;o.appDescriptors=a.filter(function(A){return u[c]&&!u[c][A.id];});});};C.prototype.getExtensionSites=function(){var t=this;var d=new jQuery.Deferred();l().done(function(){var c=Object.keys(t._oContentProviderIndex),T=c.length;if(T===0){d.resolve([]);return;}var g=c.map(function(s,i){var o=t._oContentProviderIndex[s];var G;try{G=o.getSite();if(!G||typeof G.then!=="function"){throw"getSite does not return a Promise";}}catch(e){G=Promise.reject("call to getSite failed: "+e);}return G.then(function(s,E){var a=jQuery.extend(true,{},E);var u=t._getUnreferencedCatalogApplications(E);if(Object.keys(u).length>0){var b=t._formatUnreferencedApplications(s,u);jQuery.sap.log.error(b,null,S);t._removeUnreferencedApplications(a,u);}var L={providerId:s,success:true,site:a};d.notify(L);return L;}.bind(null,s),function(s,E){return{providerId:s,success:false,error:E};}.bind(null,s));});Promise.all(g).then(function(L){d.resolve(L);});});return d.promise();};C.prototype.registerContentProvider=function(i,s){if(this._oContentProviderIndex[i]){jQuery.sap.log.error("a content provider with ID '"+i+"' is already registered",null,S);return;}this._oContentProviderIndex[i]=s;jQuery.sap.log.debug("ContentProvider '"+i+"' was registered",null,S);};C.prototype._ensureCompleteSite=function(p){if(p.groups){var g=p.groups;Object.keys(g).forEach(function(k){if(!g[k]){delete g[k];}else{if(!g[k].payload){g[k].payload={};}if(!g[k].payload.links){g[k].payload.links=[];}if(!g[k].payload.tiles){g[k].payload.tiles=[];}if(!g[k].payload.groups){g[k].payload.groups=[];}}});}return p;};C.prototype.getPlugins=(function(){var d,e,p;e=function(s,o){var a,n=Object.keys(o).length;if(n===0){return{};}if(!o.hasOwnProperty("Shell-plugin")){jQuery.sap.log.error("Cannot find inbound with id 'Shell-plugin' for plugin '"+s+"'","plugin startup configuration cannot be determined correctly",S);return{};}if(n>1){jQuery.sap.log.warning("Multiple inbounds are defined for plugin '"+s+"'","plugin startup configuration will be determined using "+"the signature of 'Shell-plugin' inbound.",S);}a=jQuery.sap.getObject("signature.parameters",undefined,o["Shell-plugin"])||{};return Object.keys(a).reduce(function(r,N){var D=jQuery.sap.getObject(N+".defaultValue.value",undefined,a);if(typeof D==="string"){r[N]=D;}return r;},{});};d=function(o){Object.keys(o).filter(function(s){return typeof o[s]==="object";}).forEach(function(s){o[s]=d(o[s]);});return Object.freeze(o);};return function(o){if(o!==undefined){p=o;}if(p){return jQuery.when(p);}p={};return this.getSite().then(function(s){var a=s.applications||{};Object.keys(a).filter(function(A){return"plugin"===jQuery.sap.getObject("type",undefined,this[A]["sap.flp"]);},a).forEach(function(b){var c,f,g=this[b],h={};if(!jQuery.isPlainObject(g["sap.platform.runtime"])){jQuery.sap.log.error("Cannot find 'sap.platform.runtime' section for plugin '"+b+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel");}else if(!jQuery.isPlainObject(g["sap.platform.runtime"].componentProperties)){jQuery.sap.log.error("Cannot find 'sap.platform.runtime/componentProperties' section for plugin '"+b+"'","plugin might not be started correctly","sap.ushell.services.CommonDataModel");}else{h=g["sap.platform.runtime"].componentProperties;}p[b]={url:h.url,component:g["sap.ui5"].componentName};var i=jQuery.sap.getObject("crossNavigation.inbounds",undefined,g["sap.app"])||{};f=e(b,i);c=jQuery.extend(h.config||{},f);if(c){p[b].config=c;}if(h.asyncHints){p[b].asyncHints=h.asyncHints;}},a);return d(p);},function(E){return E;});};})();C.hasNoAdapter=false;return C;},true);
sap.ui.predefine('sap/ushell/services/Container',['sap/ushell/utils','sap/ushell/System','sap/ushell/Ui5ServiceFactory','sap/ui/base/EventProvider','sap/ui/core/service/ServiceFactoryRegistry','sap/ui/core/Control','jquery.sap.global','jquery.sap.mobile'],function(u,S,U,E,a,C,q){"use strict";var b="sap.ushell.services.Container",c="sap.ushell.Container.dirtyState.",o,p,f;function d(){close();}function r(){document.location="about:blank";}function g(P){if(p&&p[P]){return p[P];}return"sap.ushell.adapters."+P;}function h(s){return(o.services&&o.services[s])||{};}function j(n,s,P,A){var e=h(n).adapter||{},i=e.module||g(s.getPlatform())+"."+n+"Adapter";function m(){return new(q.sap.getObject(i))(s,P,{config:e.config||{}});}if(A){return new Promise(function(t,v){var M=i.replace(/\./g,'/');sap.ui.require([M],function(){try{t(m());}catch(w){v(w);}});});}else{q.sap.require(i);return m();}}function k(A){var m=new E(),n=false,R=[],s={},t="sap.ushell.Container."+A.getSystem().getPlatform()+".remoteSystem.",v={},G,w,L=u.getLocalStorage(),x=new u.Map(),y="sap.ushell.Container."+A.getSystem().getPlatform()+".sessionTermination",z=this;this.cancelLogon=function(){if(this.oFrameLogonManager){this.oFrameLogonManager.cancelLogon();}};this.createRenderer=function(e,i){var F,H,I;q.sap.measure.start("FLP:Container.InitLoading","Initial Loading","FLP");u.setPerformanceMark("FLP - renderer created");e=e||o.defaultRenderer;if(!e){throw new Error("Missing renderer name");}I=(o.renderers&&o.renderers[e])||{};H=I.module||(e.indexOf(".")<0?"sap.ushell.renderers."+e+".Renderer":e);if(I.componentData&&I.componentData.config){F={config:I.componentData.config};}function J(){var K=new(q.sap.getObject(H))({componentData:F});var M=K instanceof sap.ui.core.UIComponent?new sap.ui.core.ComponentContainer({component:K,height:"100%",width:"100%"}):K;if(!(M instanceof C)){throw new Error("Unsupported renderer type for name "+e);}M.placeAt=function(N,P){var O=N,Q="canvas",T=document.body;if(N===T.id){O=document.createElement("div");O.setAttribute("id",Q);O.classList.add("sapUShellFullHeight");switch(P){case"first":if(T.firstChild){T.insertBefore(O,T.firstChild);break;}case"only":T.innerHTML='';default:T.appendChild(O);}N=Q;P='';}C.prototype.placeAt.call(this,N,P);};s[e]=K;m.fireEvent("rendererCreated",{renderer:K});return M;}if(i){return new Promise(function(K,M){var N=H.replace(/\./g,'/');sap.ui.require([N],function(){try{K(J());}catch(O){M(O);}});});}else{q.sap.require(H);return J();}};this.getRenderer=function(e){var i,F;e=e||o.defaultRenderer;if(e){i=s[e];}else{F=Object.keys(s);if(F.length===1){i=s[F[0]];}else{q.sap.log.warning("getRenderer() - cannot determine renderer, because no default renderer is configured and multiple instances exist.",undefined,b);}}if(i instanceof sap.ui.core.ComponentContainer){return i.getComponentInstance();}return i;};this.DirtyState={CLEAN:"CLEAN",DIRTY:"DIRTY",MAYBE_DIRTY:"MAYBE_DIRTY",PENDING:"PENDING",INITIAL:"INITIAL"};this.getGlobalDirty=function(){var i,F=new q.Deferred(),H=q.sap.uid(),I,P=0,J=this.DirtyState.CLEAN;function K(){if(P===0||J===z.DirtyState.DIRTY){F.resolve(J);q.sap.log.debug("getGlobalDirty() Resolving: "+J,null,"sap.ushell.Container");}}function M(N){if(N.key.indexOf(c)===0&&N.newValue!==z.DirtyState.INITIAL&&N.newValue!==z.DirtyState.PENDING){q.sap.log.debug("getGlobalDirty() Receiving event key: "+N.key+" value: "+N.newValue,null,"sap.ushell.Container");if(N.newValue===z.DirtyState.DIRTY||N.newValue===z.DirtyState.MAYBE_DIRTY){J=N.newValue;}P-=1;K();}}try{L.setItem(H,"CHECK");L.removeItem(H);}catch(e){q.sap.log.warning("Error calling localStorage.setItem(): "+e,null,"sap.ushell.Container");return F.resolve(this.DirtyState.MAYBE_DIRTY).promise();}if(G){throw new Error("getGlobalDirty already called!");}G=F;window.addEventListener('storage',M);F.always(function(){window.removeEventListener('storage',M);G=undefined;});for(i=L.length-1;i>=0;i-=1){I=L.key(i);if(I.indexOf(c)===0){if(L.getItem(I)==='PENDING'){L.removeItem(I);q.sap.log.debug("getGlobalDirty() Cleanup of unresolved 'PENDINGS':"+I,null,"sap.ushell.Container");}else{P+=1;u.localStorageSetItem(I,this.DirtyState.PENDING,true);q.sap.log.debug("getGlobalDirty() Requesting status for: "+I,null,"sap.ushell.Container");}}}K();setTimeout(function(){if(F.state()!=="resolved"){F.resolve('MAYBE_DIRTY');q.sap.log.debug("getGlobalDirty() Timeout reached, - resolved 'MAYBE_DIRTY'",null,"sap.ushell.Container");}},P*2000);return F.promise();};this.getLogonSystem=function(){return A.getSystem();};this.getUser=function(){return A.getUser();};this.getDirtyFlag=function(){for(var i=0;i<R.length;i++){n=n||R[i].call();}return n;};this.setDirtyFlag=function(i){n=i;};this.sessionKeepAlive=function(){if(A.sessionKeepAlive){A.sessionKeepAlive();}};this.registerDirtyStateProvider=function(e){if(typeof e!=="function"){throw new Error("fnDirty must be a function");}R.push(e);};this.getService=function(e,P,i){var F={},M,K,H,I,J,N;function O(V){var W=new q.Deferred();if(!V){throw new Error("Missing system");}W.resolve(j(e,V,P));sap.ushell.Container.addRemoteSystem(V);return W.promise();}if(!e){throw new Error("Missing service name");}if(e.indexOf(".")>=0){throw new Error("Unsupported service name");}J=h(e);M=J.module||"sap.ushell.services."+e;K=M+"/"+(P||"");N={config:J.config||{}};function Q(V,I){F.createAdapter=O;return new V(I,F,P,N);}function T(H,i){var V;if(H.hasNoAdapter){V=new H(F,P,N);}else{I=j(e,A.getSystem(),P,i);if(i){return I.then(function(W){var V=Q(H,W);x.put(K,V);return V;});}else{V=Q(H,I);}}x.put(K,V);return i?Promise.resolve(V):V;}if(!x.containsKey(K)){if(i){return new Promise(function(V){sap.ui.require([M.replace(/[.]/g,"/")],function(W){V(T(W,true));});});}else{H=sap.ui.requireSync(M.replace(/[.]/g,"/"));return T(H);}}if(i){return Promise.resolve(x.get(K));}else{return x.get(K);}};this.getServiceAsync=function(e,P){return Promise.resolve(this.getService(e,P,true));};function B(){var F,H,i,K;for(i=L.length-1;i>=0;i-=1){K=L.key(i);if(K.indexOf(t)===0){try{F=K.substring(t.length);H=JSON.parse(L.getItem(K));v[F]=new S(H);}catch(e){L.removeItem(K);}}}return v;}function D(){if(typeof OData==='undefined'){return;}function e(i,F,H){q.sap.log.warning(i,null,"sap.ushell.Container");if(H){setTimeout(H.bind(null,i),5000);}return{abort:function(){return;}};}OData.read=function(i,F,H){return e("OData.read('"+(i&&i.Uri?i.requestUri:i)+"') disabled during logout processing",F,H);};OData.request=function(i,F,H){return e("OData.request('"+(i?i.requestUri:"")+"') disabled during logout processing",F,H);};}this.addRemoteSystem=function(e){var i=e.getAlias(),O=v[i];if(O){if(O.toString()===e.toString()){return;}q.sap.log.warning("Replacing "+O+" by "+e,null,"sap.ushell.Container");}else{q.sap.log.debug("Added "+e,null,"sap.ushell.Container");}v[i]=e;u.localStorageSetItem(t+i,e);};this.addRemoteSystemForServiceUrl=function(e){var M,i={baseUrl:";o="};if(!e||e.charAt(0)!=='/'||e.indexOf('//')===0){return;}M=/^[^?]*;o=([^\/;?]*)/.exec(e);if(M&&M.length>=2){i.alias=M[1];}e=e.replace(/;[^\/?]*/g,"");if(/^\/sap\/(bi|hana|hba)\//.test(e)){i.platform="hana";i.alias=i.alias||"hana";}else if(/^\/sap\/opu\//.test(e)){i.platform="abap";}if(i.alias&&i.platform){this.addRemoteSystem(new S(i));}};this.attachLogoutEvent=function(F){m.attachEvent("Logout",F);};this.detachLogoutEvent=function(F){m.detachEvent("Logout",F);};this.attachRendererCreatedEvent=function(F){m.attachEvent("rendererCreated",F);};this.detachRendererCreatedEvent=function(F){m.detachEvent("rendererCreated",F);};this.logout=function(){var i=new q.Deferred();function F(){A.logout(true).always(function(){L.removeItem(y);i.resolve();});}function H(){if(m.fireEvent("Logout",true)){F();}else{setTimeout(F,1000);}}function I(){var v,J=[];if(w){window.removeEventListener('storage',w);}u.localStorageSetItem(y,"pending");z._suppressOData();v=z._getRemoteSystems();Object.keys(v).forEach(function(K){try{J.push(j("Container",v[K]).logout(false));}catch(e){q.sap.log.warning("Could not create adapter for "+K,e.toString(),"sap.ushell.Container");}L.removeItem(t+K);});q.when.apply(q,J).done(H);}if(typeof A.addFurtherRemoteSystems==='function'){A.addFurtherRemoteSystems().always(I);}else{I();}return i.promise();};this.setLogonFrameProvider=function(e){if(this.oFrameLogonManager){this.oFrameLogonManager.logonFrameProvider=e;}};this.setXhrLogonTimeout=function(P,T){if(this.oFrameLogonManager){this.oFrameLogonManager.setTimeout(P,T);}};this.getFLPUrl=function(i){var e=u.getLocationHref(),H=e.indexOf(this.getService("URLParsing").getShellHash(e));if(H===-1||i===true){return e;}return e.substr(0,H-1);};this._closeWindow=d;this._redirectWindow=r;this._getRemoteSystems=B;this._suppressOData=D;sap.ui.getCore().getEventBus().subscribe("sap.ushell.Container","addRemoteSystemForServiceUrl",function(e,i,F){z.addRemoteSystemForServiceUrl(F);});if(typeof A.logoutRedirect==='function'){w=function(e){function i(){z._closeWindow();z._redirectWindow();}if(sap.ushell.Container!==z){return;}if(e.key.indexOf(t)===0&&e.newValue&&e.newValue!==L.getItem(e.key)){u.localStorageSetItem(e.key,e.newValue);}if(e.key===y){if(e.newValue==="pending"){z._suppressOData();if(m.fireEvent("Logout",true)){i();}else{setTimeout(i,1000);}}}};window.addEventListener('storage',w);}this._getFunctionsForUnitTest=function(){return{createAdapter:j};};}function l(s){s.forEach(function(e){var i=U.createServiceFactory(e);a.register("sap.ushell.ui5service."+e,i);});}sap.ushell.bootstrap=function(P,A){var e,D=new q.Deferred();q.sap.initMobile();if(sap.ushell.Container!==undefined){e=new Error("Unified shell container is already initialized - cannot initialize twice.\nStacktrace of first initialization:"+f);q.sap.log.error(e,e.stack,b);throw e;}f=(new Error()).stack;o=q.extend({},true,window["sap-ushell-config"]||{});p=A;if(typeof window["sap.ushell.bootstrap.callback"]==="function"){setTimeout(window["sap.ushell.bootstrap.callback"]);}if(o.modulePaths){Object.keys(o.modulePaths).forEach(function(m){q.sap.registerModulePath(m,o.modulePaths[m]);});}l(["Personalization","URLParsing","CrossApplicationNavigation","Configuration"]);var s=new S({alias:"",platform:o.platform||P});j("Container",s,null,true).then(function(i){i.load().then(function(){function _(){var n,t;var v=window["sap-ushell-config"];if(!v||!v.services){return false;}n=v.services.PluginManager;t=n&&n.config;return t&&t.loadPluginsFromSite;}sap.ushell.Container=new k(i);var m=[sap.ushell.Container.getServiceAsync("PluginManager")];if(_()){m.push(sap.ushell.Container.getServiceAsync("CommonDataModel"));}Promise.all(m).then(function(n){var t=n[0],v=n[1];var w=v?v.getPlugins():q.when({});w.then(function(x){var y=q.extend(true,{},o.bootstrapPlugins,x);t.registerPlugins(y);});});D.resolve();});});return D.promise();};});
sap.ui.predefine('sap/ushell/services/EndUserFeedback',["sap/ushell/Config","sap/ui/thirdparty/URI"],function(C,U){"use strict";function g(p,o){return jQuery.sap.getObject(p,undefined,o)||"";}function E(a,c,p,s){this.sendFeedback=function(e){var u,n,A,b,o,f,d,h,i;u=g("clientContext.navigationData.applicationInformation.url",e);n=g("clientContext.navigationData.navigationHash",e);A=g("clientContext.navigationData.applicationInformation.additionalInformation",e);b=g("clientContext.navigationData.applicationInformation.applicationType",e);f=g("clientContext.navigationData.formFactor",e);d=g("clientContext.userDetails.userId",e);h=g("clientContext.userDetails.eMail",e);i=e.feedbackText||"";o={feedbackText:i.slice(0,2000),ratings:e.ratings||{},additionalInformation:A,applicationType:b,url:u?this.getPathOfURL(u):"",navigationIntent:n.replace(/\?.*$/,''),formFactor:f,isAnonymous:e.isAnonymous||false,userId:e.isAnonymous?"":d,eMail:e.isAnonymous?"":h};return a.sendFeedback(o);};this.getLegalText=function(){return a.getLegalText();};this.isEnabled=function(){var d=new jQuery.Deferred(),i=C.last("/core/extension/EndUserFeedback");if(!i){setTimeout(function(){d.reject();},0);return d.promise();}a.isEnabled().done(function(l){d.resolve();}).fail(function(e){d.reject();});return d.promise();};this.getPathOfURL=function(u){var o=new U(u);return o.pathname();};};E.hasNoAdapter=false;return E;},true);
sap.ui.predefine('sap/ushell/services/LaunchPage',[],function(){"use strict";function L(a,c){var t=this,T=[];this.getGroups=function(){var p=a.getGroups();p.fail(function(){jQuery.sap.log.error("getGroups failed");});return p;};this.getGroupsForBookmarks=function(){var d=jQuery.Deferred();Promise.all([this.getGroups(),this.getDefaultGroup()]).then(function(r){var g=r[0],D=r[1];if(g.length>0){g=g.filter(function(b){return(!t.isGroupLocked(b)&&t.isGroupVisible(b));}).map(function(b){return{title:(b===D&&sap.ushell.resources.i18n.getText("my_group"))||t.getGroupTitle(b),object:b};});}d.resolve(g);}).catch(function(e){jQuery.sap.log.error("getGroupsForBookmarks failed: "+e.message);});return d.promise();};this.getDefaultGroup=function(){var p=a.getDefaultGroup();p.fail(function(){jQuery.sap.log.error("getDefaultGroup failed");});return p;};this.getGroupTitle=function(g){return a.getGroupTitle(g);};this.getGroupId=function(g){return a.getGroupId(g);};this.getGroupTiles=function(g){return a.getGroupTiles(g);};this.getLinkTiles=function(g){return a.getLinkTiles(g);};this.addGroupAt=function(s,i){var p,b=i;if(a.addGroupAt){p=a.addGroupAt(s,i);p.fail(function(){jQuery.sap.log.error("addGroup "+s+" failed");});}else{var d=new jQuery.Deferred();p=a.addGroup(s);p.done(function(n,g){var m=this.moveGroup(n,b),e=n;m.done(function(){d.resolve(e);});m.fail(function(){d.reject();});}.bind(this));p.fail(function(){jQuery.sap.log.error("addGroup "+s+" failed");d.reject();});return d.promise();}return p;};this.addGroup=function(s){var p=a.addGroup(s);p.fail(function(){jQuery.sap.log.error("addGroup "+s+" failed");});return p;};this.removeGroup=function(g,i){var p=a.removeGroup(g,i);p.fail(function(){jQuery.sap.log.error("Fail to removeGroup "+t.getGroupTitle(g));});return p;};this.resetGroup=function(g,i){var p=a.resetGroup(g,i);p.fail(function(){jQuery.sap.log.error("Fail to resetGroup "+t.getGroupTitle(g));});return p;};this.isGroupRemovable=function(g){return a.isGroupRemovable(g);};this.isGroupLocked=function(g){if(typeof a.isGroupLocked==="function"){return a.isGroupLocked(g);}return false;};this.moveGroup=function(g,n){var p=a.moveGroup(g,n);p.fail(function(){jQuery.sap.log.error("Fail to moveGroup "+t.getGroupTitle(g));});return p;};this.setGroupTitle=function(g,s){var p=a.setGroupTitle(g,s);p.fail(function(){jQuery.sap.log.error("Fail to set Group title: "+t.getGroupTitle(g));});return p;};this.hideGroups=function(h){var d=jQuery.Deferred();if(typeof a.hideGroups!=="function"){d.reject('hideGroups() is not implemented in the Adapter.');}else{a.hideGroups(h).done(function(){d.resolve();}).fail(function(m){jQuery.sap.log.error("Fail to store groups visibility."+m);d.reject();});}return d.promise();};this.isGroupVisible=function(g){if(typeof a.isGroupVisible==="function"){return a.isGroupVisible(g);}return true;};this.addTile=function(C,g){var p=a.addTile(C,g);p.fail(function(){jQuery.sap.log.error("Fail to add Tile: "+t.getCatalogTileId(C));});return p;};this.removeTile=function(g,o,i){var p=a.removeTile(g,o,i);p.fail(function(){jQuery.sap.log.error("Fail to remove Tile: "+t.getTileId(o));});return p;};this.moveTile=function(o,s,i,S,b,n){var p=a.moveTile(o,s,i,S,b,n);p.fail(function(){jQuery.sap.log.error("Fail to move Tile: "+t.getTileId(o));});return p;};this.isLinkPersonalizationSupported=function(o){if(typeof a.isLinkPersonalizationSupported==="function"){return a.isLinkPersonalizationSupported(o);}return false;};this.getTileId=function(o){return a.getTileId(o);};this.getTileTitle=function(o){return a.getTileTitle(o);};this.getTileType=function(o){if(a.getTileType){return a.getTileType(o);}return'tile';};this.getTileView=function(o){var d=a.getTileView(o);if(!jQuery.isFunction(d.promise)){d=jQuery.Deferred().resolve(d).promise();}return d;};this.getAppBoxPressHandler=function(o){if(a.getAppBoxPressHandler){return a.getAppBoxPressHandler(o);}return undefined;};this.getTileSize=function(o){return a.getTileSize(o);};this.getTileTarget=function(o){return a.getTileTarget(o);};this.getTileDebugInfo=function(o){if(typeof a.getTileDebugInfo==="function"){return a.getTileDebugInfo(o);}return undefined;};this.isTileIntentSupported=function(o){if(typeof a.isTileIntentSupported==="function"){return a.isTileIntentSupported(o);}return true;};this.refreshTile=function(o){a.refreshTile(o);};this.setTileVisible=function(o,n){return a.setTileVisible(o,n);};this.registerTileActionsProvider=function(p){if(typeof p!=='function'){throw new Error("Tile actions Provider is not a function");}T.push(p);};this.getTileActions=function(o){var b=[];var A;if(typeof a.getTileActions==='function'){A=a.getTileActions(o);if(A&&A.length&&A.length>0){b.push.apply(b,A);}}for(var i=0;i<T.length;i++){A=T[i](o);if(A&&A.length&&A.length>0){b.push.apply(b,A);}}return b;};this.getCatalogs=function(){return a.getCatalogs();};this.isCatalogsValid=function(){return a.isCatalogsValid();};this.getCatalogData=function(C){if(typeof a.getCatalogData!=="function"){jQuery.sap.log.warning("getCatalogData not implemented in adapter",null,"sap.ushell.services.LaunchPage");return{id:this.getCatalogId(C)};}return a.getCatalogData(C);};this.getCatalogError=function(C){return a.getCatalogError(C);};this.getCatalogId=function(C){return a.getCatalogId(C);};this.getCatalogTitle=function(C){return a.getCatalogTitle(C);};this.getCatalogTiles=function(C){var p=a.getCatalogTiles(C);p.fail(function(){jQuery.sap.log.error("Fail to get Tiles of Catalog: "+t.getCatalogTitle(C));});return p;};this.getCatalogTileId=function(o){return a.getCatalogTileId(o);};this.getCatalogTileTitle=function(C){return a.getCatalogTileTitle(C);};this.getCatalogTileSize=function(C){return a.getCatalogTileSize(C);};this.getCatalogTileViewControl=function(C){if(typeof a.getCatalogTileViewControl==="function"){return a.getCatalogTileViewControl(C);}else{var d=new jQuery.Deferred(),r=this.getCatalogTileView(C);d.resolve(r);return d.promise();}};this.getCatalogTileView=function(C){return a.getCatalogTileView(C);};this.getCatalogTileTargetURL=function(C){return a.getCatalogTileTargetURL(C);};this.getCatalogTileTags=function(C){if(typeof a.getCatalogTileTags==="function"){return a.getCatalogTileTags(C);}return[];};this.getCatalogTileKeywords=function(C){return a.getCatalogTileKeywords(C);};this.getCatalogTilePreviewTitle=function(C){return a.getCatalogTilePreviewTitle(C);};this.getCatalogTilePreviewSubtitle=function(C){if(a.getCatalogTilePreviewSubtitle){return a.getCatalogTilePreviewSubtitle(C);}};this.getCatalogTilePreviewIcon=function(C){return a.getCatalogTilePreviewIcon(C);};this.addBookmark=function(p,g){var P,d,m;if(!p.title){jQuery.sap.log.error("Add Bookmark - Missing title");throw new Error("Title missing in bookmark configuration");}if(!p.url){jQuery.sap.log.error("Add Bookmark - Missing URL");throw new Error("URL missing in bookmark configuration");}if(g&&this.isGroupLocked(g)){d=new jQuery.Deferred();P=d.promise();m='Tile cannot be added, target group ('+this.getGroupTitle(g)+')is locked!';d.reject(m);jQuery.sap.log.error(m);}else{P=a.addBookmark(p,g);P.fail(function(){jQuery.sap.log.error("Fail to add bookmark for URL: "+p.url+" and Title: "+p.title);});}return P;};this.countBookmarks=function(u){if(!u||typeof u!=="string"){jQuery.sap.log.error("Fail to count bookmarks. No valid URL");throw new Error("Missing URL");}var p=a.countBookmarks(u);p.fail(function(){jQuery.sap.log.error("Fail to count bookmarks");});return p;};this.deleteBookmarks=function(u){if(!u||typeof u!=="string"){throw new Error("Missing URL");}var p=a.deleteBookmarks(u);p.fail(function(){jQuery.sap.log.error("Fail to delete bookmark for: "+u);});return p;};this.updateBookmarks=function(u,p){if(!u||typeof u!=="string"){jQuery.sap.log.error("Fail to update bookmark. No valid URL");throw new Error("Missing URL");}if(!p||typeof p!=="object"){jQuery.sap.log.error("Fail to update bookmark. No valid parameters, URL is: "+u);throw new Error("Missing parameters");}var P=a.updateBookmarks(u,p);P.fail(function(){jQuery.sap.log.error("Fail to update bookmark for: "+u);});return P;};this.onCatalogTileAdded=function(s){return a.onCatalogTileAdded(s);};};L.hasNoAdapter=false;return L;},true);
sap.ui.predefine('sap/ushell/services/Message',["sap/m/MessageBox","sap/ushell/Config","sap/ushell/resources","sap/m/Dialog","sap/m/Text","sap/m/Link","sap/m/Button","sap/m/VBox","sap/m/FormattedText"],function(M,C,r,D,T,L,B,V,F){"use strict";function a(){var s;this.init=function(S){s=S;return this;};this.show=function(t,m,p){if(!m){jQuery.sap.log.error("Message must not be empty.");return;}if(s&&typeof s==="function"){s(t,m,p||{});}else{this.buildMessage(t,m,p||{});}};this.buildMessage=function(t,m,p){var o={title:p.title,actions:p.actions,details:p.details,onClose:p.callback},b;switch(t){case a.Type.ERROR:var d=this.createErrorDialog(m,o);d.open();return;case a.Type.CONFIRM:if(!p.actions){b="confirm";}else{o.icon=M.Icon.QUESTION;b="show";}break;case a.Type.INFO:b="info";this.buildAndSendMessageToast(m,p.duration||3000);return;default:o={duration:p.duration||3000};b="show";break;}this.sendMessageBox(m,b,o);};this.createErrorDialog=function(m,c){function b(t){var q=document.createElement("textarea");try{q.contentEditable=true;q.readonly=false;q.innerText=t;document.documentElement.appendChild(q);if(navigator.userAgent.match(/ipad|iphone/i)){var R=document.createRange();R.selectNodeContents(q);window.getSelection().removeAllRanges();window.getSelection().addRange(R);q.setSelectionRange(0,999999);}else{jQuery(q).select();}document.execCommand("copy");sap.m.MessageToast.show(r.i18n.getText("CopyWasSuccessful"));}catch(E){sap.m.MessageToast.show(r.i18n.getText("CopyWasNotSuccessful"));}finally{jQuery(q).remove();}}function g(q){var t=new B({text:r.i18n.getText(q),press:function(){var u=c.details;if(typeof c.details==="object"){u=JSON.stringify(c.details,null,'\t');}var w=[];w.push("Title: "+(l||"-"));w.push("Message: "+(m||"-"));w.push("Details: "+(u||"-"));b(w.join("\n"));}});t.setTooltip(r.i18n.getText("CopyToClipboardBtn_tooltip"));return t;}function d(q){var t=new B({text:r.i18n.getText(q),press:function(){sap.ui.require(['sap/ushell/ui/footerbar/ContactSupportButton'],function(u){var w=new u();if(w){w.showContactSupportDialog();w.destroy();}});o.destroy();}});t.setTooltip(r.i18n.getText("contactSupportBtn_tooltip"));return t;}function e(q){switch(q){case"contactSupportBtn":return d(q);case"CopyToClipboardBtn":return g(q);default:return new B({text:r.i18n.getText(q),press:function(){o.destroy();}});}}function f(H){var q=[],p=[];if(H){q.push("contactSupportBtn");}else{q.push("okDialogBtn");}q.push("CopyToClipboardBtn");q.push("cancelDialogBtn");q.forEach(function(t){p.push(e(t));});return p;}function h(o,p){p.forEach(function(q){o.addButton(q);});}function i(v){var t=new T({text:m});if(c.details){t.addStyleClass("sapUiSmallMarginBottom");}v.addItem(t);}function j(v){var q=c.details;if(typeof c.details==="object"){q=c.details.info;}var t=new L({text:r.i18n.getText("ViewDetails"),press:function(){var u=v.indexOfItem(t);v.removeItem(u);v.insertItem(new F({htmlText:q}),u);}});v.addItem(t);}function k(){var v=new V({renderType:sap.m.FlexRendertype.Bare});i(v);if(c.details){j(v);}return v;}var l=c.title||r.i18n.getText("error");var o=new D({state:sap.ui.core.ValueState.Error,title:l,type:sap.m.DialogType.Message,contentWidth:"30rem"});var n=C.last("/core/extension/SupportTicket"),H=sap.ushell.Container&&n&&m!==r.i18n.getText("supportTicketCreationFailed");var p=f(H);h(o,p);var v=k();o.addContent(v);return o;};this.buildAndSendMessageToast=function(m,d){sap.ui.require(["sap/m/MessageToast"],function(b){b.show(m,{duration:d});});};this.sendMessageBox=function(m,t,c){if(M.hasOwnProperty(t)&&typeof M[t]==="function"){M[t](m,c);}else{jQuery.sap.log.error("Unknown Message type: "+t);}};this.info=function(m,d){this.show(a.Type.INFO,m,{duration:d||3000});};this.error=function(m,t){m=(t!==undefined)?t+" , "+m:m;jQuery.sap.log.error(m);this.show(a.Type.ERROR,m,{title:t});};this.confirm=function(m,c,t,A){this.show(a.Type.CONFIRM,m,{title:t,callback:c,actions:A});};}a.Type={INFO:0,ERROR:1,CONFIRM:2};a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/NavTargetResolution',["sap/ushell/services/AppConfiguration","sap/ushell/utils","sap/ushell/navigationMode","sap/ui/thirdparty/URI"],function(b,u,n,U){"use strict";function N(A,c,p,s){var S=s&&s.config,I=function(){return!!(S&&S.enableClientSideTargetResolution);},r=function(h){var o=I()?this._resolveHashFragmentClientSide(h):A.resolveHashFragment(h);return o;},l,R=[{name:"DefaultAdapter",isApplicable:function(){return true;},resolveHashFragment:r.bind(this)}],C;this._isClientSideTargetResolutionEnabled=I;this._nextResolveHashFragment=function(a,h){var o,f;o=a.pop();if(o.isApplicable(h)){jQuery.sap.log.info("NavTargetResolution: custom resolver "+o.name+" resolves "+h);f=this._nextResolveHashFragment.bind(this,a);return o.resolveHashFragment(h,f);}return this._nextResolveHashFragment(a,h);};this._resolveHashFragmentClientSide=function(h){var H=this._validateHashFragment(h),f;if(!H.success){return new jQuery.Deferred().reject(h+" is not a valid hash fragment").promise();}f=H.hashFragmentWithoutHash;return this._resolveHashFragmentClientSideAndFixApplicationType(f);};this._resolveHashFragmentClientSideAndFixApplicationType=function(f){var d=new jQuery.Deferred();sap.ushell.Container.getService("ClientSideTargetResolution").resolveHashFragment(f).done(function(o){if(o&&o.applicationType==="SAPUI5"){o.applicationType="URL";}d.resolve(o);}).fail(function(){d.reject.apply(d,arguments);});return d.promise();};this._validateHashFragment=function(h){var H="",v={success:false};if(h&&h.charAt(0)!=="#"){throw new u.Error("Hash fragment expected in _validateHashFragment","sap.ushell.services.NavTargetResolution");}H=h.substring(1);if(H){v.success=true;}v.hashFragmentWithoutHash=H;return v;};this.expandCompactHash=function(h){var o=sap.ushell.Container.getService("URLParsing"),P,d=new jQuery.Deferred();P=o.parseShellHash(h);if(P&&P.params&&P.params["sap-intent-param"]){sap.ushell.Container.getService("AppState").getAppState(P.params["sap-intent-param"][0]).done(function(a){var v=a.getData("sap-intent-param"),H=h;if(v){H=sap.ushell.Container.getService("URLShortening").expandParamGivenRetrievalFunction(h,"sap-intent-param",function(){return v;});}d.resolve(H);}).fail(function(){d.resolve(h);});}else{d.resolve(h);}return d.promise();};var w=["NWBC","WDA","TR"];this._adjustResolutionResultForUi5Components=function(o){var m,a;if(typeof o!=="object"){return;}delete o["sap.platform.runtime"];if(o&&o.applicationType&&o.applicationType==="SAPUI5"){o.applicationType="URL";}if(o.applicationType==="URL"){m=/^SAPUI5\.Component=(.*)/.exec(o.additionalInformation);a=m&&m[1];if(a){o.ui5ComponentName=a;}}};this._getSapSystem=function(h,o){var a;if(o&&o["sap-system"]){return o["sap-system"];}if(o&&o.url){a=jQuery.sap.getUriParameters(o.url).get("sap-system");if(a){return a;}}if(w.indexOf(o.applicationType)>=0&&h&&h.substring(1)){a=jQuery.sap.getUriParameters(h.substring(1)).get("sap-system");if(a){return a;}}return undefined;};this.resolveHashFragment=function(h){var d=new jQuery.Deferred(),a=/sap-ushell-enc-test=([^&]*)(&.*)?$/,m,e,f,t=this;u.addTime("resolveHashFragment");jQuery.sap.measure.average("sap.ushell.navigation.resolveHashFragment");this.expandCompactHash(h).done(function(H){if(H.indexOf("sap-ushell-enc-test")>=0){m=a.exec(H);if(m){e=m[1];if(e!=="A%20B%2520C"){sap.ushell.Container.getService("Message").error("This navigation is flagged as erroneous because"+" (likely the calling procedure) generated a wrong encoded hash."+" Please track down the encoding error and make sure to use the CrossApplicationNavigation service for navigation.","Navigation encoding wrong");}H=H.replace(/sap-ushell-enc-test=([^&]*)&/,"");H=H.replace(/(&|\?)sap-ushell-enc-test=([^&]*)$/,"");}}var P=t._invokeResolveHashChain(H);if(typeof A.processPostResolution==="function"){P=A.processPostResolution(H,P);}P.done(function(o){t._adjustResolutionResultForUi5Components(o);if(jQuery.isPlainObject(o)){if(!o.hasOwnProperty("navigationMode")){o.navigationMode=n.getNavigationMode(o,b.getCurrentAppliction());}o.targetNavigationMode=n.getExternalNavigationMode(o.navigationMode);}if(jQuery.isPlainObject(o)&&!o.hasOwnProperty("sap-system")){f=t._getSapSystem(h,o);if(f){o["sap-system"]=f;}}jQuery.sap.measure.end("sap.ushell.navigation.resolveHashFragment");b.setCurrentApplication(o);d.resolve(o);}).fail(function(M){d.reject(M);});}).fail(function(M){d.reject(M);});return d.promise();};this._invokeResolveHashChain=function(h){var o=R.map(function(a){return a;});return this._nextResolveHashFragment(o,h).done(function(a){C=a;});};this.baseResolveHashFragment=r.bind(this);this._getGetLinksResolver=function(a){var g;if(this._isClientSideTargetResolutionEnabled()){g=this._getLinksClientSide.bind(this);return{resolver:g,warning:undefined,isGetSemanticObjectLinksCall:false};}if(Object.prototype.toString.apply(a.paramsOptions)==="[object Array]"&&a.paramsOptions.length>0){jQuery.sap.log.warning("Parameter options supplied to #getLinks will be ignored because FLP is not configured to use sap.ushell.services.ClientSideTargetResolution for target resolution","provided parameters options: "+JSON.stringify(a.paramsOptions,null,4),"sap.ushell.services.NavTargetResolution");}g=A&&A.getLinks&&A.getLinks.bind(A);if(g){return{resolver:g,warning:undefined,isGetSemanticObjectLinksCall:false};}g=A&&A.getSemanticObjectLinks&&A.getSemanticObjectLinks.bind(A);if(g){return{resolver:g,warning:a.hasOwnProperty("action")?"the action argument was given, however, NavTargetResolutionAdapter does not implement getLinks method. Action will be ignored.":undefined,isGetSemanticObjectLinksCall:true};}return{resolver:undefined,warning:"Cannot determine resolver for getLinks method",isGetSemanticObjectLinksCall:undefined};};this.getLinks=function(a){var t=this,d=a.semanticObject,P=a.params,i=a.ignoreFormFactor,o=a.ui5Component,e=a.appStateKey,f=a.compactIntents,g,h,j=new jQuery.Deferred(),k,m;if(/\?/.test(d)){throw new Error("Parameter must not be part of semantic object");}g=(P===undefined)?undefined:JSON.parse(JSON.stringify(P));if(e){g=g||{};g["sap-xapp-state"]=encodeURIComponent(e);}k=sap.ushell.Container.getService("ShellNavigation");var q=t._getGetLinksResolver(a),H,v;if(q.warning){jQuery.sap.log.warning("A problem occurred while determining the resolver for getLinks",q.warning,"sap.ushell.services.NavTargetResolution");}m=q.resolver;if(m){H=function(E){j.reject(E);};v=function(x){if(f){t._shortenGetSemanticObjectLinksResults(x,o).done(function(y){j.resolve(y);});}else{j.resolve(x);}};if(q.isGetSemanticObjectLinksCall){h={target:{semanticObject:d,action:"dummyAction"},params:g};k.hrefForExternal(h,true,o,true).done(function(x){var M=x.params||g;m(d,M,i).done(v).fail(H);}).fail(function(M){j.reject(M);});}else{m(a).done(v).fail(H);}}else{j.resolve([]);}return j.promise();};this.getDistinctSemanticObjects=function(){if(this._isClientSideTargetResolutionEnabled()){var o=sap.ushell.Container.getService("ClientSideTargetResolution");return o.getDistinctSemanticObjects();}if(A&&A.getDistinctSemanticObjects){return A.getDistinctSemanticObjects.call(A);}jQuery.sap.log.error("Cannot execute getDistinctSemanticObjects method","ClientSideTargetResolution must be enabled or NavTargetResolutionAdapter must implement getDistinctSemanticObjects method","sap.ushell.services.NavTargetResolution");return new jQuery.Deferred().reject("Cannot execute getDistinctSemanticObjects").promise();};this._getLinksClientSide=function(a){var d=new jQuery.Deferred(),e,o=new jQuery.Deferred(),f=sap.ushell.Container.getService("URLParsing");if((a.params||{}).hasOwnProperty("sap-intent-param")){e="#"+a.semanticObject+"-"+"dummyAction?"+f.paramsToString(a.params);this.expandCompactHash(e).done(function(E){o.resolve(f.parseShellHash(E).params);}).fail(d.reject.bind(d));}else{o.resolve(a.params);}o.done(function(E){sap.ushell.Container.getService("ClientSideTargetResolution").getLinks(a).done(d.resolve.bind(d)).fail(d.reject.bind(d));});return d.promise();};this._shortenGetSemanticObjectLinksResults=function(g,o){var t=this,a=[],i=0,P=g.length,d=sap.ushell.Container.getService("URLParsing"),e=sap.ushell.Container.getService("ShellNavigation"),D=new jQuery.Deferred();g.forEach(function(f){var h=d.parseShellHash(f.intent),j=e.compactParams(h.params,undefined,o);a.push(j);a[i].done(function(k,m){a[k]={text:f.text,intent:"#"+h.semanticObject+"-"+h.action+"?"+d.paramsToString(m)};}.bind(t,i)).fail(function(k,m){jQuery.sap.log.warning("Cannot shorten GetSemanticObjectLinks result, using expanded form","Failure message: "+m+"; intent had title ''"+f.title+"'' and link ''"+f.intent+"'","sap.ushell.services.NavTargetResolution");a[k]={text:f.text,intent:f.intent};}.bind(t,i)).always(function(){P--;if(P===0){D.resolve(a);}});i++;});return D.promise();};this.isIntentSupported=function(i){var m={},o;if(this._isClientSideTargetResolutionEnabled()){o=sap.ushell.Container.getService("ClientSideTargetResolution");return o.isIntentSupported(i);}if(A.isIntentSupported){return A.isIntentSupported(i);}i.forEach(function(a){m[a]={supported:undefined};});return(new jQuery.Deferred()).resolve(m).promise();};this.isNavigationSupported=function(i){var o=sap.ushell.Container.getService("URLParsing"),d=new jQuery.Deferred(),a=[];a=i.map(function(e){if(typeof e==="string"){return e;}return"#"+o.constructShellHash(e);});this.isIntentSupported(a).done(function(e){var f=a.map(function(g){return e[g]||{supported:false};});d.resolve(f);}).fail(d.reject.bind(d));return d.promise();};this.registerCustomResolver=function(o){if(typeof o.name!=="string"){jQuery.sap.log.error("NavTargetResolution: Custom Resolver must have name {string} member");return false;}if(typeof o.isApplicable!=="function"){jQuery.sap.log.error("NavTargetResolution: Custom Resolver must have isApplicable member");return false;}if(typeof o.resolveHashFragment!=="function"){jQuery.sap.log.error("NavTargetResolution: Custom Resolver must have \"resolveHashFragment\" member");return false;}R.push(o);return true;};if(S&&jQuery.isArray(S.resolveLocal)){l=S.resolveLocal.map(function(a){return a.linkId;});this.registerCustomResolver({name:"localResolveNavigationResolver",cleanHash:function(h){if(h===""){return"#";}var a=sap.ushell.Container.getService("URLParsing").parseShellHash(h.substring(1));if(!a){return"#";}h="#"+a.semanticObject+"-"+a.action;return h;},_getIndex:function(o){var h=this.cleanHash(o);return l.indexOf(h.substring(1));},isApplicable:function(o){return this._getIndex(o)>=0;},resolveHashFragment:function(h){var d,i=this._getIndex(h),o,a,e,f;d=new jQuery.Deferred();o=JSON.parse(JSON.stringify(S.resolveLocal[i].resolveTo));a=sap.ushell.Container.getService("URLParsing").parseShellHash(h);if(a&&a.params){f=sap.ushell.Container.getService("URLParsing").paramsToString(a.params);if(f){e=o.url.indexOf('?')>=0;o.url=o.url+(e?"&":"?")+f;}}d.resolve(o);return d.promise();}});}this.registerCustomResolver({name:"StandaloneLocalResolver",aElement:undefined,cleanHash:function(h){if(h===""){return undefined;}var a=sap.ushell.Container.getService("URLParsing").parseShellHash(h.substring(1));if(!a){return undefined;}h="#"+a.semanticObject+"-"+a.action;return h;},isRunStandaloneHash:function(h){return typeof h==="string"&&h.indexOf("#Shell-runStandaloneApp")===0;},isApplicable:function(h){h=this.cleanHash(h);if(!h){return false;}return h==="#Test-url"||h==="#Test-local1"||h==="#Test-local2"||h==="#Test-config"||h==="#Test-clear"||this.isRunStandaloneHash(h);},parseUrl:function(a){if(!this.aElement){this.aElement=window.document.createElement('a');}this.aElement.href=a;return this.aElement;},resolveHashFragment:function(h){var d=new jQuery.Deferred(),e=null,t=this,f,P,L,g,i,j,k,o,F=h,m;h=this.cleanHash(h);if(!h){return false;}e={"#Test-config":{applicationType:"URL",url:"/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/demoapps/FioriSandboxConfigApp",additionalInformation:"SAPUI5.Component=sap.ushell.demoapps.FioriSandboxConfigApp"},"none":{applicationType:"URL",url:"",additionalInformation:""}};function q(K){if(localStorage){return localStorage[K];}return undefined;}function v(o,K){var f={},a;for(a in o){if(o.hasOwnProperty(a)){if(a!==K){f[a]=o[a];}}}return f;}function x(a){if(u.calculateOrigin(t.parseUrl(a))!==u.calculateOrigin(window.location)){return undefined;}var D=(new U(t.parseUrl(a).href)).normalizePathname().pathname(),E=jQuery.sap.getObject("runStandaloneAppFolderWhitelist",0,S),G;if(!E){return undefined;}for(G in E){if(E.hasOwnProperty(G)){if(E[G]){if(G==="*"||D.indexOf((new U(t.parseUrl(G).href)).normalizePathname().pathname())===0){return a;}}}}return undefined;}function y(K){return jQuery.sap.getUriParameters().get(K);}function z(a,K){return(a.params&&a.params[K]&&a.params[K][0])||y(K);}function B(K,V){if(localStorage){localStorage[K]=V;}}if(e[h]){f=e[h];}else if(h==="#Test-clear"){B("sap.ushell.#Test-local1",undefined);B("sap.ushell.#Test-local2",undefined);jQuery.sap.log.info("NavTargetResolution: Local storage keys for #Test have been cleared");f=e["#Test-config"];}else if(this.isRunStandaloneHash(h)){L={applicationType:"URL"};P=sap.ushell.Container.getService("URLParsing").parseShellHash(F);g=(z(P,"sap-ushell-SAPUI5.Component")&&"SAPUI5.Component="+z(P,"sap-ushell-SAPUI5.Component"))||(z(P,"sap-ushell-additionalInformation"));m=z(P,"sap-ushell-url")||"";o=v(P.params,"sap-ushell-SAPUI5.Component");o=v(o,"sap-ushell-additionalInformation");o=v(o,"sap-ushell-url");j=sap.ushell.Container.getService("URLParsing").paramsToString(o);k=m.indexOf('?')>=0;if(j){m=m+(k?(((m[m.length-1]!=="&")&&"&")||""):"?")+j;}L.url=x(m);L.additionalInformation=g;f=L;}else if(h==="#Test-local1"||h==="#Test-local2"||h==="#Test-url"){f=q("sap.ushell."+h);if(!f||f==="undefined"){L={applicationType:"URL"};}else{L=JSON.parse(f);}if((window.location.hostname==="localhost")||(S&&S.allowTestUrlComponentConfig)){i="sap-ushell-test-"+h.substring(6);g=y(i+"-additionalInformation");if(g){L.additionalInformation=g;}m=y(i+"-url");if(m){L.url=x(m);}}if(!L.url){jQuery.sap.log.info("NavTargetResolution: No configured app for "+h+" found ( local storage or url params sap-ushell-test-local1-url  sap-ushell-test-local1-additionalInfo  not supplied? ");jQuery.sap.log.info("NavTargetResolution: Defaulting to config app ...\n");d.reject("URL is not resolvable");return d.promise();}L.url=x(L.url);f=L;}if(f.url===undefined){d.reject("URL is not resolvable");return d.promise();}jQuery.sap.log.info("NavTargetResolution: As URL:  http://localhost:8080/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-ushell-test-local1-url="+encodeURIComponent((f&&f.url)||"")+"&sap-ushell-test-local1-additionalInformation="+encodeURIComponent((f&&f.additionalInfo)||"")+"#Test-local1");jQuery.sap.log.info("NavTargetResolution: Resolving "+h+" to "+JSON.stringify(f));d.resolve(f);return d.promise();}});this.getCurrentResolution=function(){return C;};};N.hasNoAdapter=false;return N;},true);
sap.ui.predefine('sap/ushell/services/Notifications',["sap/ui/thirdparty/datajs","sap/ui/core/ws/SapPcpWebSocket"],function(O,S){"use strict";function N(c,p,s){var m=new sap.ui.model.json.JSONModel(),t=new Date(),o=s&&s.config,r={getNotifications:{},getNotificationsByType:{},getNotificationsInGroup:{},getBadgeNumber:{},resetBadgeNumber:{},getNotificationTypesSettings:{},getNotificationsGroupHeaders:{},getMobileSupportSettings:{},getWebSocketValidity:{},getNotificationCount:{}},w,W=o.webSocketUrl||"/sap/bc/apc/iwngw/notification_push_apc",P=o.pollingIntervalInSeconds||60,i=undefined,a=undefined,b=undefined,u=[],U=[],d=[],I=false,C=[],f=false,g=false,E=true,h,D,j=5000,k=6000,l=false,n={NOTIFICATIONS:0,NOTIFICATIONS_BY_TYPE:1,GET_BADGE_NUMBER:2,RESET_BADGE_NUMBER:3,GET_SETTINGS:4,GET_MOBILE_SUPPORT_SETTINGS:5,NOTIFICATIONS_GROUP_HEADERS:6,NOTIFICATIONS_IN_GROUP:7,GET_NOTIFICATIONS_COUNT:8,VALIDATE_WEBSOCKET_CHANNEL:9,NOTIFICATIONS_BY_DATE_DESCENDING:"notificationsByDateDescending",NOTIFICATIONS_BY_DATE_ASCENDING:"notificationsByDateAscending",NOTIFICATIONS_BY_PRIORITY_DESCENDING:"notificationsByPriorityDescending",NOTIFICATIONS_BY_TYPE_DESCENDING:"notificationsByTypeDescending"},M={PACKAGED_APP:0,FIORI_CLIENT:1,WEB_SOCKET:2,POLLING:3},q,F=false,v,z=true,A=false,H=true,B=false,G=new jQuery.Deferred(),J=new jQuery.Deferred(),K,L=G.promise(),Q=false,R={},T=10,V=false,X=false;this.isEnabled=function(){if(!o.enabled||!o.serviceUrl){E=false;if(o.enabled&&!o.serviceUrl){jQuery.sap.log.warning("No serviceUrl was found in the service configuration");}}else{E=true;}return E;};this.init=function(){if((!f)&&(this.isEnabled())){sap.ui.getCore().getEventBus().subscribe("launchpad","sessionTimeout",this.destroy,this);this.lastNotificationDate=new Date();z=o.enableNotificationsPreview;this._setWorkingMode();f=true;this.bUpdateDependencyInitiatorExists=false;this._userSettingInitialization();}};this.getUnseenNotificationsCount=function(){var e=jQuery.Deferred();e.resolve(m.getProperty("/UnseenCount"));return e.promise();};this.getNotificationsCount=function(){return m.getProperty("/NotificationsCount")?m.getProperty("/NotificationsCount"):"0";};this.getNotificationsByTypeWithGroupHeaders=function(){var e,x,y=new jQuery.Deferred(),Y=this._getRequestURI(n.NOTIFICATIONS_BY_TYPE);x={requestUri:Y};if(!this._getHeaderXcsrfToken()){e={};e["X-CSRF-Token"]="fetch";x.headers=e;}O.request(x,function(Z){y.resolve(Z);},function(Z){if(Z.response&&Z.response.statusCode===200&&Z.response.body){y.resolve(Z.response.body);}else{y.reject(Z);jQuery.sap.log.error("Notification service - oData executeAction failed: ",Z,"sap.ushell.services.Notifications");}});return y.promise();};this.getNotificationsGroupHeaders=function(){var e,x,y=new jQuery.Deferred(),Y=this._getRequestURI(n.NOTIFICATIONS_GROUP_HEADERS);x={requestUri:Y};if(!this._getHeaderXcsrfToken()){e={};e["X-CSRF-Token"]="fetch";x.headers=e;}O.request(x,function(Z){y.resolve(Z);},function(Z){if(Z.response&&Z.response.statusCode===200&&Z.response.body){y.resolve(Z.response.body);}else{y.reject();jQuery.sap.log.error("Notification service - oData executeAction failed: ",Z,"sap.ushell.services.Notifications");}});return y.promise();};this.getNotificationsBufferInGroup=function(e,x,y){var Y=this,Z,$,_=new jQuery.Deferred(),a1={group:e,skip:x,top:y},b1,c1,d1=this._getRequestURI(n.NOTIFICATIONS_IN_GROUP,a1);if(Q===true){b1=R[n.NOTIFICATIONS_IN_GROUP].slice(x,x+y);c1=JSON.stringify({"@odata.context":"$metadata#Notifications","value":b1});setTimeout(function(){_.resolve(c1);},1000);}else{$={requestUri:d1};if(!this._getHeaderXcsrfToken()){Z={};Z["X-CSRF-Token"]="fetch";$.headers=Z;}O.request($,function(e1){Y._updateCSRF(e1.response);_.resolve(e1.value);},function(e1){if(e1.response&&e1.response.statusCode===200&&e1.response.body){Y._updateCSRF(e1.response);_.resolve(JSON.parse(e1.response.body).value);}else{_.reject();jQuery.sap.log.error("Notification service - oData executeAction failed: ",e1,"sap.ushell.services.Notifications");}});}return _.promise();};this.getNotificationsBufferBySortingType=function(e,x,y){var Y=this,Z,$,_=new jQuery.Deferred(),a1={skip:x,top:y},b1,c1,d1=this._getRequestURI(e,a1);if(Q===true){b1=R[e].slice(x,x+y);c1=JSON.stringify({"@odata.context":"$metadata#Notifications","value":b1});setTimeout(function(){_.resolve(c1);},1000);}else{$={requestUri:d1};if(!this._getHeaderXcsrfToken()){Z={};Z["X-CSRF-Token"]="fetch";$.headers=Z;}O.request($,function(e1){Y._updateCSRF(e1.response);_.resolve(e1.value);},function(e1){if(e1.response&&e1.response.statusCode===200&&e1.response.body){Y._updateCSRF(e1.response);_.resolve(JSON.parse(e1.response.body).value);}else{_.reject();jQuery.sap.log.error("Notification service - oData executeAction failed: ",e1,"sap.ushell.services.Notifications");}});}return _.promise();};this.getNotifications=function(){var e,x=jQuery.Deferred();if((q===M.FIORI_CLIENT)||(q===M.PACKAGED_APP)){e=this._readNotificationsData(false);e.done(function(){x.resolve(m.getProperty("/Notifications"));}).fail(function(y){x.reject();});}else{x.resolve(m.getProperty("/Notifications"));}return x.promise();};this.executeBulkAction=function(e,x){var y=new jQuery.Deferred(),Y=[],Z=[],$={succededNotifications:Y,failedNotifications:Z},_=this;_.sendBulkAction(e,x).done(function(a1){a1.forEach(function(b1,c1){var d1=b1.NotificationId,e1=b1.Success;if(e1){Y.push(d1);}else{Z.push(d1);}});if(Z.length){y.reject($);}else{y.resolve($);}}).fail(function(){y.reject($);});return y.promise();};this.dismissBulkNotifications=function(e){var x=new jQuery.Deferred(),y=this;y.sendBulkDismiss(e).done(function(){x.resolve();}).fail(function(){x.reject();});return x.promise();};this.executeAction=function(e,x){var y=this,Y=o.serviceUrl+"/ExecuteAction",Z={NotificationId:e,ActionId:x},$={requestUri:Y,method:"POST",data:Z,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":h}},_=jQuery.Deferred();O.request($,function(a1){var b1,c1={isSucessfull:true,message:""};if(a1&&a1.response&&a1.response.statusCode===200&&a1.response.body){b1=JSON.parse(a1.response.body);c1.isSucessfull=b1.Success;c1.message=b1.MessageText;}_.resolve(c1);},function(a1){var b1,c1={isSucessfull:false,message:""};if(a1.response&&a1.response.statusCode===200&&a1.response.body){b1=JSON.parse(a1.response.body);c1.isSucessfull=b1.Success;c1.message=b1.MessageText;_.resolve(c1);}else if(y._csrfTokenInvalid(a1)&&(V===false)){y._invalidCsrfTokenRecovery(_,y.executeAction,[e,x]);}else{_.reject(a1);jQuery.sap.log.error("Notification service - oData executeAction failed: ",a1,"sap.ushell.services.Notifications");}});return _.promise();};this.sendBulkAction=function(e,x){var y=this,Y=o.serviceUrl+"/BulkActionByHeader",Z={ParentId:e,ActionId:x},$={requestUri:Y,method:"POST",data:Z,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":h}},_=jQuery.Deferred();O.request($,function(a1){var b1,c1;if(a1&&a1.response&&a1.response.statusCode===200&&a1.response.body){b1=JSON.parse(a1.response.body);c1=b1.value;}_.resolve(c1);},function(a1){var b1,c1;if(a1.response&&a1.response.statusCode===200&&a1.response.body){b1=JSON.parse(a1.response.body);c1=b1.value;_.resolve(c1);}else if(y._csrfTokenInvalid(a1)&&(V===false)){y._invalidCsrfTokenRecovery(_,y.sendBulkAction,[e,x]);}else{_.reject();jQuery.sap.log.error("Notification service - oData executeBulkAction failed: ",a1.message,"sap.ushell.services.Notifications");}});return _.promise();};this.sendBulkDismiss=function(e){var x=this,y=o.serviceUrl+"/DismissAll",Y={ParentId:e},Z={requestUri:y,method:"POST",data:Y,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":h}},$=jQuery.Deferred();O.request(Z,function(_){$.resolve();},function(_){if(_.response&&_.response.statusCode===200){$.resolve();}else if(x._csrfTokenInvalid(_)&&(V===false)){x._invalidCsrfTokenRecovery($,x.sendBulkDismiss,[e]);}else{$.reject();jQuery.sap.log.error("Notification service - oData executeBulkAction failed","sap.ushell.services.Notifications");}});return $.promise();};this.markRead=function(e){var x=this,y=o.serviceUrl+"/MarkRead",Y={NotificationId:e},Z={requestUri:y,method:"POST",data:Y,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":h}},$=jQuery.Deferred();O.request(Z,function(_){$.resolve();},function(_){if(x._csrfTokenInvalid(_)&&(V===false)){x._invalidCsrfTokenRecovery($,x.markRead,[e]);}else{jQuery.sap.log.error("Notification service - oData reset badge number failed: ",_,"sap.ushell.services.Notifications");$.reject(_);}});return $.promise();};this.dismissNotification=function(e){var x=o.serviceUrl+"/Dismiss",y=this,Y={NotificationId:e},Z={requestUri:x,method:"POST",data:Y,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":h}},$=jQuery.Deferred();O.request(Z,function(_){$.resolve();},function(_){if(y._csrfTokenInvalid(_)&&(V===false)){y._invalidCsrfTokenRecovery($,y.dismissNotification,[e]);}else{$.reject(_);jQuery.sap.log.error("Notification service - oData dismiss notification failed: ",_,"sap.ushell.services.Notifications");}});return $.promise();};this.registerNotificationsUpdateCallback=function(e){u.push(e);};this.registerDependencyNotificationsUpdateCallback=function(e,x){if(x===false){this.bUpdateDependencyInitiatorExists=true;}U.push({callback:e,dependent:x});};this.registerNotificationCountUpdateCallback=function(e){d.push(e);};this.notificationsSeen=function(){this._setNotificationsAsSeen();};this.isFirstDataLoaded=function(){return F;};this.readSettings=function(){var e;e=this._readSettingsFromServer();return e;};this.saveSettingsEntry=function(e){var x;x=this._writeSettingsEntryToServer(e);return x;};this.getUserSettingsFlags=function(){var e=new jQuery.Deferred();if(B===true){e.resolve({previewNotificationEnabled:A,highPriorityBannerEnabled:H});}else{L.done(function(){e.resolve({previewNotificationEnabled:A,highPriorityBannerEnabled:H});});}return e.promise();};this.setUserSettingsFlags=function(e){A=e.previewNotificationEnabled;H=e.highPriorityBannerEnabled;this._writeUserSettingsFlagsToPersonalization(e);};this._getNotificationSettingsMobileSupport=function(){return K;};this.getPreviewNotificationEnabledConfig=function(){return z;};this.destroy=function(){g=true;if(i){clearTimeout(i);}else if(a){clearTimeout(a);}else if(b){clearTimeout(b);}if((q===M.WEB_SOCKET)&&w){w.close();}sap.ui.getCore().getEventBus().unsubscribe("launchpad","sessionTimeout",this.destroy,this);};this._readUnseenNotificationsCount=function(e){var x=this,y=new jQuery.Deferred(),Y=this._getRequestURI(n.GET_BADGE_NUMBER),Z={requestUri:Y};O.read(Z,function($,_){m.setProperty("/UnseenCount",_.data.GetBadgeNumber.Number);x._setNativeIconBadge(_.data.GetBadgeNumber.Number);y.resolve(_.data.GetBadgeNumber.Number);},function($){if($.response&&$.response.statusCode===200&&$.response.body){var _=JSON.parse($.response.body);m.setProperty("/UnseenCount",_.value);x._setNativeIconBadge(_.value);y.resolve(_.value);}else{jQuery.sap.log.error("Notification service - oData read unseen notifications count failed: ",$.message,"sap.ushell.services.Notifications");y.reject($);}});return y.promise();};this.readNotificationsCount=function(){var e=new jQuery.Deferred(),x=this._getRequestURI(n.GET_NOTIFICATIONS_COUNT),y={requestUri:x};O.read(y,function(Y,Z){e.resolve(Z.data);},function(Y){if(Y.response&&Y.response.statusCode===200&&Y.response.body){var Z=JSON.parse(Y.response.body);e.resolve(Z.value);}else{jQuery.sap.log.error("Notification service - oData read notifications count failed: ",Y.message,"sap.ushell.services.Notifications");e.reject(Y);}});return e.promise();};this._getNotificationSettingsAvalability=function(){return J.promise();};this._setNotificationsAsSeen=function(){var e=this,x=jQuery.Deferred(),y=this._getRequestURI(n.RESET_BADGE_NUMBER),Y={requestUri:y,method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":h}};if(this._isFioriClientMode()===true||this._isPackagedMode()===true){this._setNativeIconBadge(0);}O.request(Y,function(Z,$){x.resolve();},function(Z){if(e._csrfTokenInvalid(Z)&&(V===false)){e._invalidCsrfTokenRecovery(x,e._setNotificationsAsSeen);}else{jQuery.sap.log.error("Notification service - oData reset badge number failed: ",Z,"sap.ushell.services.Notifications");x.reject(Z);}});return x.promise();};this._readNotificationsData=function(e){var x=this,y,Y,Z,$=new jQuery.Deferred(),_=[];y=this._readUnseenNotificationsCount(e);_.push(y);Z=this.readNotificationsCount();Z.done(function(a1){m.setProperty("/NotificationsCount",a1);});Y=this.getNotificationsBufferBySortingType(n.NOTIFICATIONS_BY_DATE_DESCENDING,0,T);_.push(Y);jQuery.when.apply(jQuery,_).then(function(a1){_[0].done(function(b1){if(e===true){x._updateNotificationsCountConsumers();}});_[1].done(function(b1){jQuery.sap.flpmeasure.start(0,"Notifications (services + rendering)",7);m.setProperty("/Notifications",b1);x._notificationAlert(b1);if(e===true){x._updateNotificationsConsumers();x._updateDependentNotificationsConsumers();}$.resolve();});});return $.promise();};this._getHeaderXcsrfToken=function(){return h;};this._getDataServiceVersion=function(){return D;};this._getRequestURI=function(e,x){var y,Y=encodeURI(this._getConsumedIntents(e));switch(e){case n.NOTIFICATIONS:if(r.getNotifications.basic===undefined){r.getNotifications.basic=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$filter=IsGroupHeader%20eq%20false";}if(this._isIntentBasedConsumption()){if(r.getNotifications.byIntents===undefined){r.getNotifications.byIntents=r.getNotifications.basic.concat("&intents%20eq%20"+Y);}return r.getNotifications.byIntents;}return r.getNotifications.basic;case n.NOTIFICATIONS_BY_TYPE:if(r.getNotificationsByType.basic===undefined){r.getNotificationsByType.basic=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams";}if(this._isIntentBasedConsumption()){if(r.getNotificationsByType.byIntents===undefined){r.getNotificationsByType.byIntents=r.getNotificationsByType.basic.concat("&$filter=intents%20eq%20"+Y);}return r.getNotificationsByType.byIntents;}return r.getNotificationsByType.basic;case n.NOTIFICATIONS_GROUP_HEADERS:if(r.getNotificationsGroupHeaders.basic===undefined){r.getNotificationsGroupHeaders.basic=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$filter=IsGroupHeader%20eq%20true";}if(this._isIntentBasedConsumption()){if(r.getNotificationsGroupHeaders.byIntents===undefined){r.getNotificationsGroupHeaders.byIntents=r.getNotificationsGroupHeaders.basic.concat("&intents%20eq%20"+Y);}return r.getNotificationsGroupHeaders.byIntents;}return r.getNotificationsGroupHeaders.basic;case n.NOTIFICATIONS_IN_GROUP:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt desc&$filter=IsGroupHeader eq false and ParentId eq "+x.group+"&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+Y);}break;case n.GET_BADGE_NUMBER:if(r.getBadgeNumber.basic===undefined){r.getBadgeNumber.basic=o.serviceUrl+"/GetBadgeNumber()";}if(this._isIntentBasedConsumption()){if(r.getBadgeNumber.byIntents===undefined){r.getBadgeNumber.byIntents=o.serviceUrl+"/GetBadgeCountByIntent("+Y+")";}return r.getBadgeNumber.byIntents;}return r.getBadgeNumber.basic;case n.GET_NOTIFICATIONS_COUNT:if(r.getNotificationCount.basic===undefined){r.getNotificationCount.basic=o.serviceUrl+"/Notifications/$count";}return r.getNotificationCount.basic;case n.RESET_BADGE_NUMBER:if(r.resetBadgeNumber.basic===undefined){r.resetBadgeNumber.basic=o.serviceUrl+"/ResetBadgeNumber";}return r.resetBadgeNumber.basic;case n.GET_SETTINGS:if(r.getNotificationTypesSettings.basic===undefined){r.getNotificationTypesSettings.basic=o.serviceUrl+"/NotificationTypePersonalizationSet";}return r.getNotificationTypesSettings.basic;case n.GET_MOBILE_SUPPORT_SETTINGS:if(r.getMobileSupportSettings.basic===undefined){r.getMobileSupportSettings.basic=o.serviceUrl+"/Channels(ChannelId='SAP_SMP')";}return r.getMobileSupportSettings.basic;case n.VALIDATE_WEBSOCKET_CHANNEL:if(r.getWebSocketValidity.basic===undefined){r.getWebSocketValidity.basic=o.serviceUrl+"/Channels('SAP_WEBSOCKET')";}return r.getWebSocketValidity.basic;case n.NOTIFICATIONS_BY_DATE_DESCENDING:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt%20desc&$filter=IsGroupHeader%20eq%20false&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+Y);}break;case n.NOTIFICATIONS_BY_DATE_ASCENDING:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=CreatedAt%20asc&$filter=IsGroupHeader%20eq%20false&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+Y);}break;case n.NOTIFICATIONS_BY_PRIORITY_DESCENDING:y=o.serviceUrl+"/Notifications?$expand=Actions,NavigationTargetParams&$orderby=Priority%20desc&$filter=IsGroupHeader%20eq%20false&$skip="+x.skip+"&$top="+x.top;if(this._isIntentBasedConsumption()===true){y=y.concat("&intents%20eq%20"+Y);}break;default:y="";}return y;};this._readSettingsFromServer_noConnection=function(){var e=jQuery.Deferred(),x=[{NotificationTypeId:"type1",NotificationTypeDesc:"aaaaabbbbb-cccccddddd",PriorityDefault:"40-HIGH",DoNotDeliver:false,DoNotDeliverMob:true},{NotificationTypeId:"type2",NotificationTypeDesc:"cccccdddddccc-aaaaabbbbb",PriorityDefault:"10-LOW",DoNotDeliver:true,DoNotDeliverMob:true}];e.resolve(JSON.stringify({"@odata.context":"$metadata#NotificationTypePersonalizationSet","value":x}));return e.promise();};this._readSettingsFromServer_noData=function(){var e=jQuery.Deferred();e.resolve(JSON.stringify({"@odata.context":"$metadata#NotificationTypePersonalizationSet","value":{}}));return e.promise();};this._readSettingsFromServer=function(){var e=this._getRequestURI(n.GET_SETTINGS),x={requestUri:e},y=jQuery.Deferred();O.request(x,function(Y){y.resolve(Y.results);},function(Y){if(Y.response&&Y.response.statusCode===200&&Y.response.body){y.resolve(Y.response.body);}else{y.reject(Y);jQuery.sap.log.error("Notification service - oData get settings failed: ",Y,"sap.ushell.services.Notifications");}});return y.promise();};this._readMobileSettingsFromServer=function(){var e=this._getRequestURI(n.GET_MOBILE_SUPPORT_SETTINGS),x={requestUri:e},y=jQuery.Deferred(),Y,Z;O.request(x,function($){if(typeof($.results)==="string"){Y=JSON.parse($.results);Y.successStatus=true;Z=JSON.stringify(Y);y.resolve(Z);}else{$.results.successStatus=true;y.resolve($.results);}},function($){if($.response&&$.response.statusCode===200&&$.response.body){Y=JSON.parse($.response.body);Y.successStatus=true;Z=JSON.stringify(Y);y.resolve(Z);}else{y.resolve(JSON.stringify({successStatus:false}));jQuery.sap.log.error("Notification service - oData get settings failed: ",$,"sap.ushell.services.Notifications");}});return y.promise();};this._checkWebSocketActivity=function(){var e=this._getRequestURI(n.VALIDATE_WEBSOCKET_CHANNEL),x={requestUri:e},y=jQuery.Deferred(),Y;O.request(x,function(Z){if(typeof(Z.results)==="string"){Y=JSON.parse(Z.results);y.resolve(Y.IsActive);}else{y.resolve(false);}},function(Z){if(Z.response&&Z.response.statusCode===200&&Z.response.body){Y=JSON.parse(Z.response.body);y.resolve(Y.IsActive);}else{y.resolve(false);jQuery.sap.log.error("Notification service - oData get settings failed: ",Z,"sap.ushell.services.Notifications");}});return y.promise();};this._writeSettingsEntryToServer=function(e){var x=this,y,Y=this._getRequestURI(n.GET_SETTINGS)+"(NotificationTypeId="+e.NotificationTypeId+")",Z={requestUri:Y,method:"PUT",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json","DataServiceVersion":D,"X-CSRF-Token":h}};Z.data=JSON.parse(JSON.stringify(e));Z.data["@odata.context"]="$metadata#NotificationTypePersonalizationSet/$entity";y=new jQuery.Deferred();O.request(Z,function($){y.resolve($);},function($){if($.response&&$.response.statusCode===200&&$.response.body){y.resolve($.response.body);}else if(x._csrfTokenInvalid($)&&(V===false)){x._invalidCsrfTokenRecovery(y,x._writeSettingsEntryToServer,[e]);}else{y.reject($);jQuery.sap.log.error("Notification service - oData set settings entry failed: ",$,"sap.ushell.services.Notifications");}});return y.promise();};this._updateNotificationsConsumers=function(){u.forEach(function(e){e();});};this._updateDependentNotificationsConsumers=function(){var e=this,x=new jQuery.Deferred();U.forEach(function(y){if(e.bUpdateDependencyInitiatorExists===false){y.callback();}else{y.dependent===true?y.callback(x.promise()):y.callback(x);}});};this._updateNotificationsCountConsumers=function(){d.forEach(function(e){e();});};this._updateAllConsumers=function(){this._updateNotificationsConsumers();this._updateNotificationsCountConsumers();this._updateDependentNotificationsConsumers();};this._getModel=function(){return m;};this._getMode=function(){return q;};this._setWorkingMode=function(){var e;if(o.intentBasedConsumption===true){C=this._getIntentsFromConfiguration(o.consumedIntents);if(C.length>0){I=true;}}if(this._isPackagedMode()){q=M.PACKAGED_APP;e=this._getIntentsFromConfiguration(window.fiori_client_appConfig.applications);if(e.length>0){C=e;}if(C.length>0){I=true;}this._registerForPush();this._readNotificationsData(true);this._setNativeIconBadgeWithDelay();return;}this._performFirstRead();};this._performFirstRead=function(){var e=this,x,y=this._readNotificationsData(true);y.done(function(){x=e._getFioriClientRemainingDelay();if(x<=0){e._fioriClientStep();}else{i=setTimeout(function(){e._fioriClientStep();},x);}F=true;}).fail(function(Y){jQuery.sap.log.error("Notifications oData read failed. Error: "+Y);return;});};this._fioriClientStep=function(){var e=this,x;if(this._isFioriClientMode()){q=M.FIORI_CLIENT;this._addPushNotificationHandler();x=this.getUnseenNotificationsCount();x.done(function(y){e._setNativeIconBadge(y,function(){});}).fail(function(){});}else{this._webSocketStep();}};this._webSocketStep=function(){q=M.WEB_SOCKET;this._establishWebSocketConnection();};this._webSocketRecoveryStep=function(){if(l===false){l=true;a=setTimeout(function(){this._webSocketStep();}.bind(this),j);}else{this._activatePollingAfterInterval();}};this._activatePollingAfterInterval=function(){var e=this;b=setTimeout(function(){e._activatePolling();},P*1000);};this._activatePolling=function(){var e=this;q=M.POLLING;this._readNotificationsData(true);b=setTimeout(e._activatePolling.bind(e,P,false),(P*1000));};this._formatAsDate=function(e){return new Date(e);};this._notificationAlert=function(e){if(H===false){return;}var x,y=[],Y=0;for(x in e){if(this.lastNotificationDate&&this._formatAsDate(e[x].CreatedAt)>this.lastNotificationDate){if(e[x].Priority==="HIGH"){y.push(e[x]);}}if(Y<this._formatAsDate(e[x].CreatedAt)){Y=this._formatAsDate(e[x].CreatedAt);}}if(this.lastNotificationDate&&y&&y.length>0){sap.ui.getCore().getEventBus().publish("sap.ushell.services.Notifications","onNewNotifications",y);}this.lastNotificationDate=Y;};this._getFioriClientRemainingDelay=function(){return k-(new Date()-t);};this._establishWebSocketConnection=function(){var x=this,y=false,Y;try{w=this._getWebSocketObjectObject(W,[S.SUPPORTED_PROTOCOLS.v10]);w.attachMessage(this,function(Z){Y=Z.getParameter("pcpFields");if((Y)&&(Y.Command)&&(Y.Command==="Notification")){x._readNotificationsData(true);}});w.attachOpen(this,function(){x._checkWebSocketActivity().done(function(Z){if(!Z){y=true;w.close();x._activatePollingAfterInterval();}});jQuery.sap.log.info("Notifications UShell service WebSocket: webSocket connection opened");});w.attachClose(this,function(Z,$){jQuery.sap.log.warning("Notifications UShell service WebSocket: attachClose called with code: "+Z.mParameters.code+" and reason: "+Z.mParameters.reason);if((!g)&&(!y)){x._webSocketRecoveryStep();}});w.attachError(this,function(Z,$){jQuery.sap.log.warning("Notifications UShell service WebSocket: attachError called!");});}catch(e){jQuery.sap.log.error("Exception occurred while creating new sap.ui.core.ws.SapPcpWebSocket. Message: "+e.message);}};this._isFioriClientMode=function(){return!(sap.FioriClient===undefined);};this._isPackagedMode=function(){return(window.fiori_client_appConfig&&window.fiori_client_appConfig.prepackaged===true);};this._setNativeIconBadge=function(e){if((sap.Push!==undefined)&&(sap.Push.setBadgeNumber!==undefined)){sap.Push.setBadgeNumber(e,function(){});}};this._setNativeIconBadgeWithDelay=function(){var e=this,x;setTimeout(function(){x=e.getUnseenNotificationsCount();x.done(function(y){e._setNativeIconBadge(y);}).fail(function(){});},4000);};this._getIntentsFromConfiguration=function(e){var x=[],y,Y;if(e&&e.length>0){for(Y=0;Y<e.length;Y++){y=e[Y].intent;x.push(y);}}return x;};this._handlePushedNotification=function(e){var x,y,Y,Z,$=[],_;if(e!==undefined){if((e.additionalData===undefined)||(e.additionalData.foreground===true)){this._readNotificationsData(true);}else{if(e.additionalData&&e.additionalData.NavigationTargetObject){y=e.additionalData.NavigationTargetObject;}else{y=e.NavigationTargetObject;}if(e.additionalData&&e.additionalData.NavigationTargetAction){Y=e.additionalData.NavigationTargetAction;}else{Y=e.NavigationTargetAction;}if(e.additionalData&&e.additionalData.NavigationTargetParam){Z=e.additionalData.NavigationTargetParam;}else{Z=e.NavigationTargetParam;}if(Z){if(typeof Z==='string'||Z instanceof String){$[0]=Z;}else if(Array.isArray(Z)===true){$=Z;}}x=e.NotificationId;if((typeof hasher!=="undefined")&&(hasher.getHash()===y+"-"+Y)){_=sap.ui.getCore().byId('viewPortContainer');if(_){_.switchState("Center");}}sap.ushell.utils.toExternalWithParameters(y,Y,$);this.markRead(x);this._readNotificationsData(true);}}};this._registerForPush=function(){sap.Push.initPush(this._handlePushedNotification.bind(this));};this._addPushNotificationHandler=function(){document.addEventListener("deviceready",this._registerForPush.bind(this),false);};this._isIntentBasedConsumption=function(){return I;};this._getConsumedIntents=function(e){var x="",y;if(!this._isIntentBasedConsumption()){return x;}if(C.length>0){if(e!==n.GET_BADGE_NUMBER){x="&";}for(y=0;y<C.length;y++){if(e===n.GET_BADGE_NUMBER){if(y===0){x=C[y];}else{x=x+","+C[y];}}else{x=x+"NavigationIntent%20eq%20%27"+C[y]+"%27";}}}return x;};this._revalidateCsrfToken=function(){var e;h=undefined;X=false;e=this.getNotificationsBufferBySortingType(n.NOTIFICATIONS_BY_DATE_DESCENDING,0,1);return e.promise();};this._csrfTokenInvalid=function(e){return(e.response&&(e.response.statusCode===403)&&(e.response.headers["x-csrf-token"]==="Required"));};this._invalidCsrfTokenRecovery=function(x,y,Y){var Z=this,$=this._revalidateCsrfToken(),_;V=true;$.done(function(){_=y.apply(Z,Y);_.done(function(e){V=false;x.resolve(e);});_.fail(function(e){V=false;if(e.response&&e.response.statusCode===200&&e.response.body){x.resolve(e.response.body);}else{x.reject(e);}});});$.fail(function(e){V=false;x.reject(e);jQuery.sap.log.error("Notification service - oData markRead failed: ",e.message,"sap.ushell.services.Notifications");});};this._notificationsAscendingSortBy=function(e,Y){e.sort(function(x,y){var Z=x[Y],$=y[Y];if(Z===$){Z=x.id;$=y.id;}return $>Z?-1:1;});return e;};this._getWebSocketObjectObject=function(W,e){return new S(W,e);};this._notificationsDescendingSortBy=function(e,Y){e.sort(function(x,y){var Z=x[Y],$=y[Y];if(Z===$){Z=x.id;$=y.id;return Z>$?-1:1;}if(Y==="Priority"){if(Z==="HIGH"){return-1;}if($==="HIGH"){return 1;}if(Z==="MEDIUM"){return-1;}return 1;}return Z>$?-1:1;});return e;};this.getOperationEnum=function(){return n;};this._readUserSettingsFlagsFromPersonalization=function(){var e=this,x,y;try{y=this._getUserSettingsPersonalizer().getPersData();}catch(Y){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(Y.name+": "+Y.message);x=new jQuery.Deferred();x.reject(Y);y=x.promise();}y.done(function(Z){if(Z===undefined){e._writeUserSettingsFlagsToPersonalization({previewNotificationEnabled:A,highPriorityBannerEnabled:H});}else{A=Z.previewNotificationEnabled;H=Z.highPriorityBannerEnabled;}B=true;G.resolve();});y.fail(function(){jQuery.sap.log.error("Reading User Settings flags from Personalization service failed");});};this._writeUserSettingsFlagsToPersonalization=function(e){var x,y;try{y=this._getUserSettingsPersonalizer().setPersData(e);}catch(Y){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(Y.name+": "+Y.message);x=new jQuery.Deferred();x.reject(Y);y=x.promise();}return y;};this._getUserSettingsPersonalizer=function(){if(v===undefined){v=this._createUserSettingsPersonalizer();}return v;};this._createUserSettingsPersonalizer=function(){var e=sap.ushell.Container.getService("Personalization"),x,y={keyCategory:e.constants.keyCategory.FIXED_KEY,writeFrequency:e.constants.writeFrequency.LOW,clientStorageAllowed:true},Y={container:"sap.ushell.services.Notifications",item:"userSettingsData"},Z=e.getPersonalizer(Y,y,x);return Z;};this._updateCSRF=function(e){if((X===true)||(e.headers===undefined)){return;}if(!this._getHeaderXcsrfToken()){h=e.headers["x-csrf-token"]||e.headers["X-CSRF-Token"]||e.headers["X-Csrf-Token"];}if(!this._getDataServiceVersion()){D=e.headers.DataServiceVersion||e.headers["odata-version"];}X=true;};this._userSettingInitialization=function(){var e,x,y={settingsAvailable:false,mobileAvailable:false},Y,Z,$;this._readUserSettingsFlagsFromPersonalization();e=this._readSettingsFromServer();x=this._readMobileSettingsFromServer();Y=[e,x];e.done(function(){y.settingsAvailable=true;});e.fail(function(){A=true;});x.done(function(_){Z=JSON.parse(_);$=Z.successStatus;if($){K=_?Z.IsActive:false;y.mobileAvailable=K;}else{K=false;y.mobileAvailable=false;}});jQuery.when.apply(jQuery,Y).then(function(_){J.resolve(y);});};};N.hasNoAdapter=true;return N;},true);
sap.ui.predefine('sap/ushell/services/PageBuilding',["sap/ui2/srvc/factory","sap/ui2/srvc/page"],function(f,p){"use strict";function P(a,c){this.getFactory=function(){return a.getFactory();};this.getPage=function(s){return a.getFactory().createPage(s);};this.getPageSet=function(i){var d=new jQuery.Deferred();a.getFactory().createPageSet(i,d.resolve.bind(d),d.reject.bind(d));return d.promise();};}P.hasNoAdapter=false;return P;},true);
sap.ui.predefine('sap/ushell/services/Personalization',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/ContextContainer","sap/ushell/services/_Personalization/WindowAdapter","sap/ushell/services/_Personalization/TransientPersonalizer","sap/ushell/services/_Personalization/PersonalizationContainer","sap/ushell/services/_Personalization/Personalizer","sap/ushell/services/_Personalization/VariantSetAdapter","sap/ushell/services/_Personalization/Variant","sap/ushell/services/_Personalization/VariantSet","sap/ushell/services/_Personalization/WindowAdapterContainer","sap/ui/base/ManagedObject"],function(u,p,a,C,W,T,P,b,V,c,d,e,M){"use strict";function f(A,o,s,g){this._oConfig=(g&&g.config)||{};this._seed=(g&&g.config&&typeof g.config.seed==="string"&&g.config.seed)||"12345678901AFERANDOMBETTER";while(this._seed.length<40){this._seed=this._seed+this._seed;}this._oAppVariantAdapterWithBackendAdapter=this._configureAppVariantStorage(this._oConfig.appVariantStorage);this._oAdapterWithBackendAdapter={lazy:false,instance:new W(this,A)};this._oAdapterWindowOnly={lazy:false,instance:new W(this,undefined)};this._oContainerMap=new u.Map();this._oPendingOperationsMap=new u.Map();}f.prototype.SAVE_DEFERRED_DROPPED="Deferred save dropped (OK) - Data superseeded by subsequent save";f.prototype.constants=a;f.prototype._configureAppVariantStorage=function(A){var t=this,D="sap.ushell.adapters.AppVariantPersonalizationAdapter";if(!A){A={adapter:{module:D}};}if(Object.keys(A).length===0||A.enabled===false){return;}var s=(A.adapter&&A.adapter.module)||D;var g=s.split(".").join("/");var h=function(){t._oAppVariantAdapterLoadPromise=t._oAppVariantAdapterLoadPromise||(function(){var o=new jQuery.Deferred();try{sap.ui.require([g],R);}catch(r){o.reject(r);}function R(i){try{var j=new i();var w=new W(t,j);o.resolve(w);}catch(E){o.reject(E);}}return o.promise();})();return t._oAppVariantAdapterLoadPromise;};return{lazy:true,create:h};};f.prototype.getGeneratedKey=function(){var s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",g=s.length,r="",t=this;var R=function(i){return(t._seed.charCodeAt(i)+Math.floor(Math.random()*g))%g;};if(window&&window.crypto&&window.crypto.getRandomValues){var h=new Uint32Array(40);window.crypto.getRandomValues(h);R=function(i){return(h[i]+t._seed.charCodeAt(i))%s.length;};}var j=function(i){return s[R(i)];};while(r.length<40){r+=j(r.length);}return r;};f.prototype.getPersonalizer=function(o,s,g){g=g||this._getApplicationComponent();return new b(this,this._oAdapterWithBackendAdapter.instance,o,s,g);};f.prototype._getApplicationComponent=function(){var o;var O=M._sOwnerId;if(O){o=sap.ui.getCore().getComponent(O);if(o instanceof sap.ui.core.UIComponent){return o;}}return undefined;};f.prototype.getTransientPersonalizer=function(){return new T();};f.prototype.getContainer=function(s,S,o){o=o||this._getApplicationComponent();return this._createContainer(s,S,false,o);};f.prototype.createEmptyContainer=function(s,S,o){o=o||this._getApplicationComponent();return this._createContainer(s,S,true,o);};f.prototype._createContainer=function(s,S,g,o){var t=this,l,h,i,j,A,k,U,D=new jQuery.Deferred();if(typeof s!=="string"){throw new u.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ");}l=p.isLaunchpadReload();U=!!(p.isAppVariant(o)&&(!S||!S.shared)&&this._oAppVariantAdapterWithBackendAdapter);A=p.adjustScope(S,l);if(U){var m=o.getManifestObject();A.component=o;A.appVarId=m.getEntry("/sap.ui5/appVariantId");A.appVersion=m.getEntry("/sap.app/applicationVersion/version");}k=p.addContainerPrefix(s);i=U?this._oAppVariantAdapterWithBackendAdapter:this._oAdapterWithBackendAdapter;h=t._oAdapterWindowOnly;j=p.pickAdapter(S,l,h,i);p.loadAdapter(j).then(function(L){var n;var q=new C(t,L,k,A,o);var r=L&&L.supportsGetWithoutSubsequentLoad===true;if(g&&r){n=new jQuery.Deferred();n.resolve(q);}else{n=q.load();}n.fail(function(){D.reject();}).done(function(){if(g||q._isExpired()){q.clear();}D.resolve(q);});},function(E){D.reject(E);});return D.promise();};f.prototype.delContainer=function(s,S){var D={},o,g="",t=this;S=t._adjustScope(S,false);g=p.addContainerPrefix(s);D=new jQuery.Deferred();o=t._pendingContainerOperations_cancelAddNext(s,null);o.always(function(){t.getContainer(s,S).fail(function(){t._pendingContainerOperations_cancelAddNext(s,D);D.reject();}).done(function(h){var A;t._pendingContainerOperations_cancelAddNext(s,D);A=S.validity===0?t._oAdapterWindowOnly:t._oAdapterWithBackendAdapter;p.loadAdapter(A).then(function(l){l.delAdapterContainer(g,S).fail(function(){D.reject();}).done(function(){D.resolve();});},function(){D.reject();});});});return D.promise();};f.prototype._pendingContainerOperations_flushAddNext=function(s,D){var o,S;o=this._oPendingOperationsMap.get(s);if(!o){o=new jQuery.Deferred();o.resolve();}if(D!==null){this._oPendingOperationsMap.put(s,D);}if(!o||o.state()!=="pending"){return o;}clearTimeout(o._sapTimeoutId);o._sapTimeoutId=undefined;if(typeof o._sapFnSave==="function"){S=o._sapFnSave;o._sapFnSave=undefined;S();}return o;};f.prototype._pendingContainerOperations_cancelAddNext=function(s,D){var o;o=this._oPendingOperationsMap.get(s);if(!o){o=new jQuery.Deferred();o.resolve();}if(D!==null){this._oPendingOperationsMap.put(s,D);}if(!o||o.state()!=="pending"){return o;}if(o._sapTimeoutId){clearTimeout(o._sapTimeoutId);o._sapTimeoutId=undefined;o.resolve(f.prototype.SAVE_DEFERRED_DROPPED);}return o;};f.prototype.getPersonalizationContainer=function(s){var g="",o={},D={};if(typeof s!=="string"){throw new u.Error("sContainerKey is not a string: sap.ushell.services.Personalization"," ");}g=p.addContainerPrefix(s);if(this._oContainerMap.containsKey(g)){return this._oContainerMap.get(g).promise();}D=new jQuery.Deferred();o=new P(this._oAdapterWithBackendAdapter.instance,g);o.done(function(h){D.resolve(h);}).fail(function(h){D.reject(h);});this._oContainerMap.put(g,D);return D.promise();};f.prototype.delPersonalizationContainer=function(s){var D={},g="",t=this;g=p.addContainerPrefix(s);D=new jQuery.Deferred();this.getPersonalizationContainer(s).fail(function(){D.reject();}).done(function(o){t._oAdapterWithBackendAdapter.instance.delAdapterContainer(g).fail(function(){D.reject();}).done(function(){t._oContainerMap.remove(g);D.resolve();});});return D.promise();};f.prototype._adjustScope=p.adjustScope;f.hasNoAdapter=false;f.ContextContainer=C;f.Variant=c;f.VariantSet=d;f.VariantSetAdapter=V;f.WindowAdapter=W;f.WindowAdapterContainer=e;return f;},true);
sap.ui.predefine('sap/ushell/services/PluginManager',[],function(){"use strict";var S="sap.ushell.services.PluginManager",a="sap-ushell-plugin-type",b="RendererExtensions",c="sap.ushell.components.shell.defaults",s=[b,"UserDefaults","UserImage","ContentProvider","AppWarmup"];function P(){var t=this;this._oPluginCollection={};this._oCategoryLoadingProgress={};this._mInitializedComponentPromise={};s.forEach(function(p){t._oPluginCollection[p]={};t._oCategoryLoadingProgress[p]=new jQuery.Deferred();});this._handlePluginCreation=function(C,p,o){var t=this,d=(t._oPluginCollection[C])[p];try{if(d.hasOwnProperty("component")){if(t._mInitializedComponentPromise.hasOwnProperty(d.component)){t._mInitializedComponentPromise[d.component].then(function(){t._instantiateComponent(d,o);},function(){t._instantiateComponent(d,o);});}else{t._mInitializedComponentPromise[d.component]=t._instantiateComponent(d,o);}}else{jQuery.sap.log.error("Invalid plugin configuration. The plugin "+p+" must contain a <component> key",S);}}catch(e){jQuery.sap.log.error("Error while loading bootstrap plugin: "+d.component||"",S);if(o){o.reject(e);}}};this._getFileNameForXhrAuth=function(){return"Component-preload.js";};this._handleXhrAuthentication=function(A,C){var x;if(A&&["true",true,"X"].indexOf(A["sap-ushell-xhr-authentication"])>-1){if(!C){jQuery.sap.log.error(["Illegal state: configuration parameter 'sap-ushell-xhr-authentication-timeout' set, but no component URL specified.","XHR authentication request will not be sent. Please check the target mapping definitions for plug-ins","and the application index."].join(" "),undefined,S);return jQuery.when();}if(A.hasOwnProperty("sap-ushell-xhr-authentication-timeout")){x=parseInt(A["sap-ushell-xhr-authentication-timeout"],10);if(isNaN(x)){jQuery.sap.log.error(["Invalid value for configuration parameter 'sap-ushell-xhr-authentication-timeout' for plug-in component with URL '",C,"': '",A["sap-ushell-xhr-authentication-timeout"],"' is not a number. Timeout will be ignored."].join(""),undefined,S);}else{sap.ushell.Container.setXhrLogonTimeout(C,x);}}return jQuery.ajax(C+"/"+this._getFileNameForXhrAuth());}else{return jQuery.when();}};this._instantiateComponent=function(p,o){var d=new jQuery.Deferred(),C=jQuery.extend(true,{},p),A={ui5ComponentName:C.component,url:C.url};function g(e){return function(E){e=e||"Cannot create UI5 plugin component: (componentId/appdescrId :"+A.ui5ComponentName+")\n"+E+" properties "+JSON.stringify(A)+"\n This indicates a plugin misconfiguration, see e.g. Note 2316443.";E=E||"";jQuery.sap.log.error(e,E.stack,S);if(o){o.reject.apply(this,arguments);}d.reject.apply(this,arguments);};}function l(){sap.ushell.Container.getService("Ui5ComponentLoader").createComponent(A).done(function(L){if(o){o.resolve();}d.resolve.apply(this,arguments);}).fail(g());}C.name=C.component;delete C.component;A.applicationDependencies=C;if(C.config){A.applicationConfiguration=C.config;delete C.config;}A.loadDefaultDependencies=false;this._handleXhrAuthentication(A.applicationConfiguration,C.url).done(l).fail(g("XHR logon for FLP plugin failed"));return d.promise();};this.getSupportedPluginCategories=function(){return jQuery.extend(true,[],s);};this.getRegisteredPlugins=function(){return jQuery.extend(true,{},this._oPluginCollection);};this.registerPlugins=function(p){var t=this,C,o;if(!p){return;}sap.ushell.utils.addTime("PluginManager.registerPlugins");Object.keys(p).sort().forEach(function(d){C=p[d]||{};o=C.config||{};if(C.enabled===false){return;}if(C.enabled===undefined){C.enabled=true;}if(C&&C.hasOwnProperty("module")){jQuery.sap.log.error("Plugin "+d+" cannot get registered, because the module mechanism for plugins is not valid anymore. Plugins need to be defined as SAPUI5 components.",S);jQuery.sap.require(C.module);return;}if(o&&o.hasOwnProperty(a)){if(jQuery.inArray(o[a],s)!==-1){(t._oPluginCollection[o[a]])[d]=jQuery.extend(true,{},p[d]);}else{jQuery.sap.log.warning("Plugin "+d+" will not be inserted into the plugin collection of the PluginManager, because of unsupported category "+o[a],S);}}else{(t._oPluginCollection[b])[d]=jQuery.extend(true,{},p[d]);}});};this.getPluginLoadingPromise=function(p){if(this._oCategoryLoadingProgress.hasOwnProperty(p)){return this._oCategoryLoadingProgress[p].promise();}};this.loadPlugins=function(p){var t=this,d,o,e;sap.ushell.utils.setPerformanceMark("FLP -- PluginManager.startLoadPlugins");sap.ushell.utils.addTime("PluginManager.startLoadPlugins["+p+"]");if(jQuery.inArray(p,s)!==-1){if(t._oCategoryLoadingProgress[p].pluginLoadingTriggered!==undefined){return t._oCategoryLoadingProgress[p].promise();}else{t._oCategoryLoadingProgress[p].pluginLoadingTriggered=true;}if(Object.keys(t._oPluginCollection[p]).length>0){d=[];e=Object.keys(t._oPluginCollection[p]);if(jQuery.sap.getUriParameters().get("sap-ushell-xx-pluginmode")==="discard"&&p==="RendererExtensions"){e=e.filter(function(i){return t._oPluginCollection[p][i].component===c;});}e.forEach(function(f){o=new jQuery.Deferred();d.push(o.promise());t._handlePluginCreation(p,f,o);});jQuery.when.apply(undefined,d).done(function(){sap.ushell.utils.addTime("PluginManager.endLoadPlugins["+p+"]");sap.ushell.utils.setPerformanceMark("FLP -- PluginManager.endLoadPlugins");t._oCategoryLoadingProgress[p].resolve();}).fail(t._oCategoryLoadingProgress[p].reject.bind());}else{t._oCategoryLoadingProgress[p].resolve();}}else{jQuery.sap.log.error("Plugins with category "+p+" cannot be loaded by the PluginManager",S);t._oCategoryLoadingProgress[p].reject("Plugins with category "+p+" cannot be loaded by the PluginManager");}return t._oCategoryLoadingProgress[p].promise();};}P.hasNoAdapter=true;return P;},true);
sap.ui.predefine('sap/ushell/services/ReferenceResolver',["sap/ushell/User","sap/ui/model/odata/ODataUtils"],function(U,O){"use strict";function a(){this.getValue=function(r){var d=new jQuery.Deferred();var v;if(r==="User.env.sap-ui-legacy-date-format"){v=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyDateFormat();}if(r==="User.env.sap-ui-legacy-number-format"){v=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyNumberFormat();}if(r==="User.env.sap-ui-legacy-time-format"){v=sap.ui.getCore().getConfiguration().getFormatSettings().getLegacyTimeFormat();}if(r==="User.env.sap-language"){v=sap.ushell.Container.getUser().getLanguage();}if(r==="User.env.sap-languagebcp47"){v=sap.ushell.Container.getUser().getLanguageBcp47();}if(r==="User.env.sap-accessibility"){v=(sap.ushell.Container.getUser().getAccessibilityMode())?'X':undefined;}if(r==="User.env.sap-statistics"){v=(sap.ui.getCore().getConfiguration().getStatistics())?"true":undefined;}if(r==="User.env.sap-theme"){v=sap.ushell.Container.getUser().getTheme(U.prototype.constants.themeFormat.THEME_NAME_PLUS_URL);}if(r==="User.env.sap-theme-name"){v=sap.ushell.Container.getUser().getTheme();}if(r==="User.env.sap-theme-NWBC"){v=sap.ushell.Container.getUser().getTheme(U.prototype.constants.themeFormat.NWBC);}d.resolve({"value":v});return d.promise();};}function R(c,p,C){this._getUserEnvReferenceResolver=function(){if(!this.oUserEnvReferenceResolver){this.oUserEnvReferenceResolver=new a();}return this.oUserEnvReferenceResolver;};this.resolveReferences=function(r){var t=this,d=new jQuery.Deferred(),u,b=[],A=true,D={},o={},e;var g=r.map(function(s){var h;if(s.indexOf("User.env.")===0){h=s;o[h]=1;}if(s.indexOf("UserDefault.")===0){h=t._extractAnyUserDefaultReferenceName(s);D[h]=1;}if(typeof h!=="string"){A=false;jQuery.sap.log.error("'"+s+"' is not a legal reference name","sap.ushell.services.ReferenceResolver");}return{full:s,name:h};});if(!A){return d.reject("One or more references could not be resolved").promise();}Object.keys(D).forEach(function(n){u=u||sap.ushell.Container.getService("UserDefaultParameters");b.push(u.getValue(n));});Object.keys(o).forEach(function(n){e=e||t._getUserEnvReferenceResolver();b.push(e.getValue(n));});jQuery.when.apply(jQuery,b).done(function(){var k={};var i=0,h=arguments;Object.keys(D).forEach(function(n){D[n]=h[i];i=i+1;});Object.keys(o).forEach(function(n){o[n]=h[i];i=i+1;});g.forEach(function(j){var m;if(j.full.indexOf("UserDefault.extended.")===0){m=t.mergeSimpleAndExtended(D[j.name]);if(!jQuery.isEmptyObject(m)){k[j.full]=m;}else{k[j.full]=undefined;}}else if(j.full.indexOf("UserDefault.")===0){k[j.full]=D[j.name].value;}else if(j.full.indexOf("User.env.")===0){k[j.full]=o[j.name].value;}});d.resolve(k);});return d.promise();};this._extractAnyUserDefaultReferenceName=function(r){var P=this.extractExtendedUserDefaultReferenceName(r);if(typeof P==="string"){return P;}return this.extractUserDefaultReferenceName(r);};this.extractExtendedUserDefaultReferenceName=function(r){if(typeof r!=="string"||r.indexOf("UserDefault.extended.")!==0){return undefined;}return r.replace(/^UserDefault[.]extended[.]/,"");};this.extractUserDefaultReferenceName=function(r){if(typeof r!=="string"||r.indexOf("UserDefault.")!==0||r.indexOf("UserDefault.extended.")===0){return undefined;}return r.replace(/^UserDefault[.]/,"");};this.mergeSimpleAndExtended=function(v){var m=jQuery.extend(true,{},v.extendedValue);if(typeof v.value==="string"){if(!jQuery.isArray(m.Ranges)){m.Ranges=[];}m.Ranges.push({"Sign":"I","Option":"EQ","Low":v.value,"High":null});}return m;};function f(u){var r=/{([^}%]*%%[^%]+%%)}?/g,b=/([^%]*)%%/,d=/%%([^%]+)%%/,o,e,g,F=[];o=r.exec(u);while(o){e=b.exec(o[1]);g=d.exec(o[1]);F.push({edmType:e[1],name:g[1]});o=r.exec(u);}return F;}this.resolveUserDefaultParameters=function(u){var d=new jQuery.Deferred(),r,s,i=[],o;o=/[^\(\?]*/.exec(u);r=(o===null)?[]:f(o[0]);r.forEach(function(g){i.push(g.name);});o=/[\(\?][^]*/.exec(u);r=(o===null)?[]:f(o[0]);var b=[],e={};r.forEach(function(g){b.push(g.name);e[g.name]=g.edmType;});s=b.filter(function(g){if(/^UserDefault\.(?!extended\.).+/.test(g)){return true;}i.push(g);return false;});if(s.length>0){this.resolveReferences(s).done(function(g){var h=u,D=[];Object.keys(g).forEach(function(j){var k,l=false;while(k!=h){k=h;if(g[j]!==undefined){var F=O.formatValue(g[j],e[j]);h=h.replace("{"+e[j]+"%%"+j+"%%}",window.encodeURIComponent(F));}else{l=true;h=h.replace("{"+e[j]+"%%"+j+"%%}","");}}if(l){D.push(j);}});d.resolve({url:h,defaultsWithoutValue:D,ignoredReferences:i});});}else{d.resolve({url:u,defaultsWithoutValue:[],ignoredReferences:i});}return d.promise();};}R.hasNoAdapter=true;return R;},true);
sap.ui.predefine('sap/ushell/services/SupportTicket',["sap/ushell/Config"],function(C){"use strict";function S(a,c,p,s){this.createTicket=function(o){return a.createTicket(o);};this.isEnabled=function(){return C.last("/core/extension/SupportTicket");};}S.hasNoAdapter=false;return S;},true);
sap.ui.predefine('sap/ushell/services/URLParsing',["sap/ui/thirdparty/URI"],function(U){"use strict";function b(){var r=/^(([A-Za-z0-9_\/]+)-([A-Za-z0-9_\/\-]+)(~([A-Z0-9a-z=+\/]+))?)?([?]([^&]|(&[^\/]))*&?)?$/;this.getShellHash=function(s){var a=/[^#]*#(([^&]|&[^\/])*)(&\/.*)?/,m=a.exec(s);if(m){return m[1];}return undefined;};this.getHash=function(u){var a=/#(.*)/,m=a.exec(u);if(m){return m[1];}return undefined;};this.isIntentUrl=function(u){var a=/^#/,t,l,T,L,h,p;if(typeof u!=="string"){return false;}if(!a.test(u)){t=(new U(u)).normalize();T=t.protocol()+"://"+t.host()+t.pathname();l=(new U(window.location.href)).normalize();L=l.protocol()+"://"+l.host()+l.pathname();if(T!==L){return false;}}h=this.getHash(u);if(!h){return false;}p=this.parseShellHash(h);if(p&&p.semanticObject&&p.action){return true;}return false;};this.parseParameters=function(p){if(!p){return{};}return jQuery.sap.getUriParameters(p).mParams||{};};this.paramsToString=function(p){return this.privparamsToString(p,"&","=");};this.privparamsToString=function(p,d,A){var f,a,k,i,l,s="";f="";a=null;l=[];for(a in p){if(p.hasOwnProperty(a)){l.push(a);}}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];if(jQuery.isArray(p[a])){for(i=0;i<p[a].length;i=i+1){s+=f+encodeURIComponent(a)+A+encodeURIComponent(p[a][i]);f=d;}}else{s+=f+encodeURIComponent(a)+A+encodeURIComponent(p[a]);f=d;}}return s;};this.parseShellHash=function(h){var a=r,s,S,A,C,p,m,d;if(!h){return undefined;}s=this.splitHash(h);m=a.exec(s.shellPart);if(m){S=m[2];A=m[3];C=m[5];p=m[6];d=this.parseParameters(p);return{semanticObject:S,action:A,contextRaw:C,params:d,appSpecificRoute:s.appSpecificRoute};}if(s.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:s.appSpecificRoute};}return undefined;};this.privstripLeadingHash=function(h){if(h[0]==='#'){return h.substring(1);}return h;};this.splitHash=function(h){var a=/^(?:#|)([\S\s]*?)(&\/[\S\s]*)?$/,m,s,A;if(h===undefined||h===null||h===""){return{};}m=a.exec(h);s=m[1];if(s!==""&&!r.test(s)){return{};}A=m[2];if(s||A){return{shellPart:s,appSpecificRoute:A};}return{};};function c(u,a){if(a){return u+a;}return u;}this.constructShellHash=function(s){var d,p,e,i=null,k,l=[],f="?",a=null;if(!s){return"";}if(!s.target){s.target={};s.target.semanticObject=s.semanticObject;s.target.action=s.action;s.target.contextRaw=s.contextRaw;}if(s.target.shellHash||s.target.shellHash===""){e=this.privstripLeadingHash(s.target.shellHash);return c(e,s.appSpecificRoute);}if(s.target.semanticObject&&s.target.action){d=s.target.semanticObject+"-"+s.target.action.replace(/[?].*/,"");}else{return c("",s.appSpecificRoute);}if(s.target.contextRaw){d+="~"+s.target.contextRaw;}f="?";a=null;l=[];for(a in s.params){if(s.params.hasOwnProperty(a)){l.push(a);}}p=(s.params&&JSON.parse(JSON.stringify(s.params)))||{};if(s.appStateKey){l.push("sap-xapp-state");p["sap-xapp-state"]=s.appStateKey;}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];if(jQuery.isArray(p[a])){if(p[a].length>1){jQuery.sap.log.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!");}for(i=0;i<p[a].length;i=i+1){d+=f+encodeURIComponent(a)+"="+encodeURIComponent(p[a][i]);f="&";}}else{d+=f+encodeURIComponent(a)+"="+encodeURIComponent(p[a]);f="&";}}return c(d,s.appSpecificRoute);};this.addSystemToServiceUrl=function(s,C){var R,o,S=C;if(!s||s.indexOf('/')!==0||s.indexOf('//')===0){throw new sap.ushell.utils.Error("Invalid URL: "+s,"sap.ushell.services.URLParsing");}if(C instanceof sap.ui.core.Component){o=(typeof C.getComponentData==="function")&&C.getComponentData();S=o&&o.startupParameters&&o.startupParameters["sap-system"]&&o.startupParameters["sap-system"][0];}R=sap.ushell.Container.getService("NavTargetResolution").getCurrentResolution();if(!S&&!C&&R&&R.url){S=jQuery.sap.getUriParameters(R.url).get("sap-system");}if(/^[^?]*(;mo([\/;?]|$))/.test(s)){s=s;}else if(/^[^?]*(;o=([\/;?]|$))/.test(s)){s=s.replace(/;o=([\/;?]|$)/,(S?";o="+S:"")+"$1");}else if(!/^[^?]*;o=/.test(s)&&S){s=s.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,"$1;o="+S+"$2");}sap.ushell.Container.addRemoteSystemForServiceUrl(s);return s;};};b.hasNoAdapter=true;return b;},true);
sap.ui.predefine('sap/ushell/services/URLShortening',[],function(){"use strict";function U(){var t=this;this.ABBREV_PARAM_NAME="sap-intent-param";this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this._replaceSapXAppStateRawWithKeyIfRequired=function(v,s){var V,k;if(typeof v!=="string"||/^[A-Z0-9]{40}$/.test(v)){return v;}try{V=JSON.parse(v);}catch(e){jQuery.sap.log.error("This cannot happen: sap-xapp-state parameter value is neither key nor JSON parseable");return v;}k=s&&s.getNextKey();this._storeValue(k,V,s);return k;};this.compactHash=function(u,r,s){var S,k,R,p,o,a,b=[this.ABBREV_PARAM_NAME,"sap-system","sap-xapp-state"];if(r){r.forEach(function(A){b.push(A);});}o=sap.ushell.Container.getService("URLParsing");S=o.parseShellHash(u);if(!S){jQuery.sap.log.error("the URL "+u+' is not compliant. It may break the product and cause unwanted navigation behavior.');return{hash:u};}p='';if(u.charAt(0)==='#'){p='#';}var v=S&&S.params&&S.params["sap-xapp-state"]&&S.params["sap-xapp-state"][0];if(v){S.params["sap-xapp-state"]=[this._replaceSapXAppStateRawWithKeyIfRequired(v,s)];u=p+o.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:S.params,appSpecificRoute:S.appSpecificRoute});}if(typeof u!=="string"||u.length<t.URL_LENGTH_LIMIT){return{hash:u};}if(S&&((S.params&&S.params[t.ABBREV_PARAM_NAME]))){return{hash:u};}k=s&&s.getNextKey();R=this._splitParameters(S.params,b,k);if(!R.key){return{hash:u};}a=o.paramsToString(R.tailParams);this._storeValue(R.key,a,s);return{hash:p+o.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:R.headParams,appSpecificRoute:S.appSpecificRoute}),params:R.headParams,skippedParams:R.tailParams};};this.checkHashLength=function(u){var s,r,p,o;if(typeof u!=="string"||u.length<t.URL_LENGTH_LIMIT){return{hash:u};}o=sap.ushell.Container.getService("URLParsing");s=o.parseShellHash(u);p='';if(u.charAt(0)==='#'){p='#';}r=this._splitParameters(s.params,[],"DummyKey");if(r.key){jQuery.sap.log.error("Application startup parameter length exceeds "+t.URL_PARAMS_LENGTH_LIMIT+" characters, truncation occured!");delete r.headParams[this.ABBREV_PARAM_NAME];return{hash:p+o.constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:r.headParams,appSpecificRoute:s.appSpecificRoute}),params:r.headParams,skippedParams:r.tailParams};}jQuery.sap.log.error("URL exceeds dangerous limits, arbitrary shortening or worse may occur!");return{hash:u};};this._findIndex=function(a,T){var r=a.indexOf(T);if(r>=0){return r;}r=-1;a.every(function(A,i){if(A.length>0&&A[A.length-1]==="*"&&A.substring(0,A.length-1)===T.substring(0,A.length-1)){r=i;return false;}return true;});return r;};this._cmpByList=function(a,A,b){var i,c;a=a||[];if(A===b){return 0;}i=this._findIndex(a,A);c=this._findIndex(a,b);if(i>=0&&c>=0){if((i-c)!==0){return i-c;}if(A<b){return-1;}if(A>b){return+1;}return 0;}if(i>=0){return-1;}if(c>=0){return+1;}if(A<b){return-1;}return+1;};this._sortByPriority=function(l,r){return l.sort(this._cmpByList.bind(this,r));};this._splitParameters=function(p,r,K){var a,i,k,h={},b={},c=false,o,d,e=0,f,l=[];if(!K||typeof K!=="string"){throw new Error("sap.ushell.services.URLShortening._splitParameters: key must be supplied!");}for(a in p){if(Object.prototype.hasOwnProperty.call(p,a)){l.push(a);}}l.sort();l=this._sortByPriority(l,r);for(k=0;k<l.length;k=k+1){a=l[k];o=p[a];if(o.length>1){jQuery.sap.log.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!");}for(i=0;i<o.length;i=i+1){d=p[a][i];f=a.length+d.length;if(f+e>this.URL_PARAMS_LENGTH_LIMIT){if(b[a]){b[a].push(d);}else{b[a]=[d];}c=true;}else if(h[a]){h[a].push(d);}else{h[a]=[d];}e=e+f+1;}}if(c){h[this.ABBREV_PARAM_NAME]=[K];}return{key:K,tailParams:b,headParams:h};};this.expandHash=function(u){var r=function(k){return t._retrieveValue(k);};return this.expandParamGivenRetrievalFunction(u,this.ABBREV_PARAM_NAME,r);};this.expandParamGivenRetrievalFunction=function(u,p,r){var s,v,k,a,b;if(typeof u!=="string"){return u;}s=sap.ushell.Container.getService("URLParsing").parseShellHash(u);k=s&&s.params&&s.params[p]&&s.params[p][0];if(!k){return u;}a='';if(u.charAt(0)==='#'){a='#';}v=r(k);if(!v){return u;}b=this._blendParameters(s.params,p,v);return a+sap.ushell.Container.getService("URLParsing").constructShellHash({target:{semanticObject:s.semanticObject,action:s.action,contextRaw:s.contextRaw},params:b,appSpecificRoute:s.appSpecificRoute});};this._retrieveValue=function(k){return undefined;};this._storeValue=function(k,v,s){if(s&&typeof s.store==="function"){s.store(v);}};this._blendParameters=function(p,P,v){var n=sap.ushell.Container.getService("URLParsing").parseParameters("?"+v),a;delete p[P];for(a in n){if(Object.prototype.hasOwnProperty.call(n,a)){if(p[a]){p[a]=p[a].concat(n[a]);}else{p[a]=n[a];}}}return p;};};U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/Ui5ComponentHandle',[],function(){"use strict";var U=function(c){this._oComponent=c;};U.onBeforeApplicationInstanceCreated=function(){sap.ui.require(["sap/ushell/Fiori20AdapterTest"],function(){});};U.prototype.getInstance=function(){return this._oComponent;};U.prototype.getMetadata=function(){return this._oComponent.getMetadata();};return U;});
sap.ui.predefine('sap/ushell/services/Ui5ComponentLoader',["sap/ushell/utils","sap/ushell/services/Ui5ComponentHandle","sap/ushell/services/_Ui5ComponentLoader/utils","sap/ushell/EventHub","sap/ui/thirdparty/jquery"],function(u,U,o,e,q){"use strict";function a(c,p,C){this._oConfig=(C&&C.config)||{};this.createComponent=function(A,P,w){var b=A||{},l=o.shouldLoadCoreExt(b),d=o.shouldUseAmendedLoading(this._oConfig),L=o.shouldLoadDefaultDependencies(b,this._oConfig,d),n=u.getParameterValueBoolean("sap-ushell-nocb"),f=b.applicationDependencies||{};o.logAnyApplicationDependenciesMessages(f.name,f.messages);if(!b.ui5ComponentName){return new q.Deferred().resolve(A).promise();}delete b.loadCoreExt;delete b.loadDefaultDependencies;var g=o.createComponentData(b.componentData||{},b.url,b.applicationConfiguration,b.reservedParameters);if(b.getExtensions){g.getExtensions=b.getExtensions;delete b.getExtensions;}var s=o.constructAppComponentId(P||{}),h=l&&d,i=o.prepareBundle(this._oConfig.coreResourcesComplement),j=o.createComponentProperties(h,L,n,w,b.applicationDependencies||{},b.ui5ComponentName,b.url,s,i);U.onBeforeApplicationInstanceCreated.call(null,j);var D=new q.Deferred();o.createUi5Component(j,g).then(function(k){var m=new U(k);b.componentHandle=m;var r=l;if(r){b.coreResourcesFullyLoaded=r;e.emit("CoreResourcesComplementLoaded",{status:"success"});}D.resolve(b);},function(E){var k=JSON.stringify(j,null,4);o.logInstantiateComponentError(j.name,E+"",E.status,E.stack,k);D.reject(E);});return D.promise();};this.loadCoreResourcesComplement=function(){if(this.loadCoreResourcesComplementPromise){return this.loadCoreResourcesComplementPromise.promise();}var b=o.prepareBundle(this._oConfig.coreResourcesComplement),d=new q.Deferred();o.loadBundle(b).done(function(){e.emit("CoreResourcesComplementLoaded",{status:"success"});this.loadCoreResourcesComplementPromise=d;d.resolve();}.bind(this)).fail(function(){e.emit("CoreResourcesComplementLoaded",{status:"failed"});d.reject();});return d.promise();};e.once("loadCoreResourcesComplement").do(function(){this.loadCoreResourcesComplement();}.bind(this));}a.hasNoAdapter=true;return a;},true);
sap.ui.predefine('sap/ushell/services/UserDefaultParameterPersistence',[],function(){"use strict";var v=["value","extendedValue","noEdit","alwaysAskPlugin","_shellData","pluginData"];function U(a,c,p,C){this._oAdapter=a;this._oData={};};U.prototype._cleanseValue=function(V){var r=jQuery.extend(true,{},V),a;for(a in r){if(r.hasOwnProperty(a)){if(v.indexOf(a)<0){delete r[a];}}}return r;};U.prototype._testValue=function(V){return true;};U.prototype.loadParameterValue=function(p){var d=new jQuery.Deferred(),t=this;if(this._oData[p]){d.resolve(this._oData[p]);}else{this._oAdapter.loadParameterValue(p).done(function(V){var c=t._cleanseValue(V);if(t._testValue(c)){d.resolve(c);}else{jQuery.sap.log.error("flawed value returned from persistence");d.reject("flawed value returned from persistence");}}).fail(d.reject.bind(this));}return d.promise();};U.prototype.saveParameterValue=function(p,V){var d,c;if(!V){return this.deleteParameter(p);}c=this._cleanseValue(V);d=new jQuery.Deferred();if(!this._testValue(c)||(V&&V.noStore===true)){return d.resolve().promise();}this._oData[p]=c;return this._oAdapter.saveParameterValue(p,c);};U.prototype.deleteParameter=function(p){delete this._oData[p];return this._oAdapter.deleteParameter(p);};U.prototype.getStoredParameterNames=function(){var d=new jQuery.Deferred();this._oAdapter.getStoredParameterNames().done(function(r){r.sort();d.resolve(r);}).fail(d.reject.bind(d));return d.promise();};U.hasNoAdapter=false;return U;},true);
sap.ui.predefine('sap/ushell/services/UserDefaultParameters',['sap/ui/base/EventProvider','sap/ushell/utils'],function(E,u){"use strict";var e="valueStored";var s=["value","noEdit","noStore","extendedValue","alwaysAskPlugin"];function U(a,c,p,C){this._aPlugins=[];this._oUserDefaultParametersNames=undefined;this._oWasParameterPersisted={};var t=this,S=new E();function g(P){var v=(typeof P.getComponentData==="function"&&P.getComponentData()&&P.getComponentData().config&&P.getComponentData().config["sap-priority"])||0;if(typeof v!=="number"||isNaN(v)){return 0;}return v;}this._insertPluginOrdered=function(P,o){var d=g(o),i,f;for(i=0;(i<P.length)&&o;++i){f=g(P[i]);if(o&&(d>f)){P.splice(i,0,o);o=undefined;}}if(o){P.push(o);}return P;};this.registerPlugin=function(P){this._aPlugins=this._insertPluginOrdered(this._aPlugins,P);};function b(i,P,d,v,D){if(i>=P.length){D.resolve(v);return;}if(typeof P[i].getUserDefault!=="function"){b(i+1,P,d,v,D);return;}P[i].getUserDefault(d,v).done(function(n){if(n){b(i+1,P,d,n,D);}else{b(i+1,P,d,v,D);}}).fail(function(){jQuery.sap.log.error("invocation of getUserDefault(\""+d+"\") for plugin "+t._getComponentNameOfPlugin(P[i])+" rejected.",null,"sap.ushell.services.UserDefaultParameters");b(i+1,P,d,v,D);});return;}this._getStoreDate=function(){return new Date().toString();};this._storeValue=function(P,v,f){var t=this;var r=new jQuery.Deferred();var d=new jQuery.Deferred();if(f&&v.extendedValue){sap.ushell.Container.getService("ClientSideTargetResolution").getUserDefaultParameterNames(true).done(function(o){var h=t._extractKeyArrays(o);var i=h.extended;d.resolve(i.indexOf(P)<0);}).fail(function(){d.resolve(false);});}else{d.resolve(false);}d.done(function(R){if(R){v.extendedValue=undefined;}if(f&&t._isInitial(v)){v=undefined;t._oWasParameterPersisted[P]=false;}else{v._shellData=jQuery.extend(true,{storeDate:t._getStoreDate()},v._shellData);}sap.ushell.Container.getService("UserDefaultParameterPersistence").saveParameterValue(P,v).always(function(){var o={parameterName:P,parameterValue:u.clone(v||{})};S.fireEvent(e,o);r.resolve(P);});});return r.promise();};this._getPersistedValue=function(P){var o=sap.ushell.Container.getService("UserDefaultParameterPersistence");return o.loadParameterValue(P);};this._isInitial=function(v){return!v||(!v.value&&!v.extendedValue);};this._haveSameMembersValue=function(o,O,m){return m.every(function(r){return(o[r]===O[r]||jQuery.sap.equal(o[r],O[r]));});};this._getUserDefaultParameterNames=function(){if(!this._oUserDefaultParametersNames){this._oUserDefaultParametersNames=new jQuery.Deferred();sap.ushell.Container.getService("ClientSideTargetResolution").getUserDefaultParameterNames(true).done(function(P){var o=t._extractKeyArrays(P);var d=o.extended;var A=o.allParameters;var m=t._arrayToObject(A);if(m.length===0){t._oUserDefaultParametersNames.resolve({});}else{t._oUserDefaultParametersNames.resolve({aAllParameterNames:A,aExtendedParameterNames:d,oMetadataObject:m});}});}return this._oUserDefaultParametersNames.promise();};this._isRelevantParameter=function(P){var d=new jQuery.Deferred();this._getUserDefaultParameterNames().done(function(r){if(r.aAllParameterNames&&r.aAllParameterNames.indexOf(P)!==-1){d.resolve();}else{d.reject();}});return d.promise();};this.hasRelevantMaintainableParameters=function(){var t=this,r=new jQuery.Deferred(),h=false,G=[];t._getUserDefaultParameterNames().done(function(P){if(!jQuery.isEmptyObject(P)&&P.aAllParameterNames){P.aAllParameterNames.forEach(function(d){var o=t.getValue(d);G.push(o);o.done(function(v){if(v&&!v.hasOwnProperty("noEdit")){h=true;return;}});});jQuery.when.apply(undefined,G).done(function(){r.resolve(h);}).fail(function(){r.resolve();});}else{r.resolve();}});return r.promise();};this.getValue=function(P){var t=this,d=new jQuery.Deferred();this._isRelevantParameter(P).fail(function(){d.resolve({});}).done(function(){jQuery.when(t._getPersistedValue(P)).then(function(o){t._oWasParameterPersisted[P]=true;return jQuery.when(o||{});},function(){return jQuery.when({value:undefined});}).then(function(o){var G=new jQuery.Deferred(),v=u.clone(o),f=sap.ushell.Container.getService("PluginManager");var A=(!o._shellData&&t._isInitial(o))||o.noStore||o.alwaysAskPlugin;if(!A){d.resolve(v);return;}f.loadPlugins("UserDefaults").done(function(){b(0,t._aPlugins,P,o,G);}).fail(function(){jQuery.sap.log.error("Cannot get value for "+P+". One or more plugins could not be loaded.");G.reject("Initialization of plugins failed");});G.done(function(n){if(!t._oWasParameterPersisted[P]||!t._haveSameMembersValue(v,n,s)){t._oWasParameterPersisted[P]=true;t._storeValue(P,n);}d.resolve(n);}).fail(d.reject.bind(d));});});return d.promise();};this._addParameterValuesToParameters=function(P,d){var D=new jQuery.Deferred();var f=[];var t=this;d.forEach(function(h){var n=t.getValue(h);f.push(n);n.done(function(v){P[h].valueObject=v;});});jQuery.when.apply(jQuery,f).done(D.resolve.bind(D,P)).fail(D.reject.bind(D,P));return D.promise();};this._arrayToObject=function(P){var r={};P.forEach(function(d){r[d]={};});return r;};this._getComponentNameOfPlugin=function(P){if(typeof P!=="object"||typeof P.getMetadata!=="function"||!P.getMetadata()||typeof P.getMetadata().getComponentName!=="function"){return"'name of plugin could not be determined'";}return P.getMetadata().getComponentName()||"";};this._getEditorDataAndValue=function(d,A,f,m){var t=this;var P=[];var r=[];t._aPlugins.forEach(function(o,i){if(typeof o.getEditorMetadata==="function"){var n=new jQuery.Deferred();P.push(n);try{var h=P.length-1;o.getEditorMetadata(m).done(function(R){r[h]=R;}).always(function(){n.resolve();}).fail(function(){jQuery.sap.log.error("EditorMetadata for plugin "+t._getComponentNameOfPlugin(o)+"cannot be invoked.",null,"sap.ushell.services.UserDefaultParameters");n.resolve();});}catch(j){jQuery.sap.log.error("Error invoking getEditorMetaData on plugin: "+j+j.stack,null,"sap.ushell.services.UserDefaultParameters");n.resolve();}}});jQuery.when.apply(jQuery,P).done(function(){var h=[];var o=r.reverse().reduce(function(i,n){A.forEach(function(j){if(n[j]&&n[j].editorMetadata){i[j].editorMetadata=n[j].editorMetadata;}});return i;},m);A.forEach(function(i){if(!(o[i]&&o[i].editorMetadata)){h.push(i);}});t._addParameterValuesToParameters(o,A).done(function(i){var j=jQuery.extend(true,{},i),k;f.forEach(function(l){if(j[l]){j[l].editorMetadata=j[l].editorMetadata||{};j[l].editorMetadata.extendedUsage=true;}});k=Object.keys(j).splice(0);k.forEach(function(l){var n;if(j[l].valueObject&&j[l].valueObject.noEdit===true){delete j[l];n=h.indexOf(l);if(n>=0){h.splice(n,1);}}});if(h.length>0){jQuery.sap.log.error("The following parameter names have no editor metadata and thus likely no configured plugin:\n\""+h.join("\",\n\"")+"\".");}d.resolve(j);}).fail(d.reject.bind(d));});};this.editorGetParameters=function(){var d=new jQuery.Deferred();var t=this;this._getUserDefaultParameterNames().done(function(P){if(P.oMetadataObject.length===0){d.resolve({});}else{sap.ushell.Container.getService("PluginManager").loadPlugins("UserDefaults").done(function(){t._getEditorDataAndValue(d,P.aAllParameterNames,P.aExtendedParameterNames,P.oMetadataObject);}).fail(function(){jQuery.sap.log.error("One or more plugins could not be loaded");d.reject("Initialization of plugins failed");});}});return d.promise();};this._extractKeyArrays=function(P){var r={extended:[],simple:[],allParameters:[]};r.simple=(P&&P.simple&&Object.keys(P.simple).sort())||[];r.extended=(P&&P.extended&&Object.keys(P.extended).sort())||[];r.allParameters=r.simple.concat(r.extended.filter(function(d){return r.simple.indexOf(d)<0;})).sort();return r;};this.editorSetValue=function(P,v){return this._storeValue(P,v,true);};this.attachValueStored=function(f){S.attachEvent(e,f);};this.detachValueStored=function(f){S.detachEvent(e,f);};};U.hasNoAdapter=true;return U;},true);
sap.ui.predefine('sap/ushell/services/UserInfo',[],function(){"use strict";function U(a,c){this.getId=function(){return sap.ushell.Container.getUser().getId();};this.getUser=function(){return sap.ushell.Container.getUser();};this.getThemeList=function(){var p=a.getThemeList();p.fail(function(){jQuery.sap.log.error("getThemeList failed");});return p;};this.updateUserPreferences=function(){var p=a.updateUserPreferences(sap.ushell.Container.getUser());p.fail(function(){jQuery.sap.log.error("updateAttributes: ");});return p;};this.getLanguageList=function(){var p=a.getLanguageList();p.fail(function(){jQuery.sap.log.error("getLanguageList failed");});return p;};};U.hasNoAdapter=false;return U;},true);
sap.ui.predefine('sap/ushell/services/_AppState/AppState',[],function(){function A(S,k,m,d,a,b,t){this._oServiceInstance=S;this._sKey=k;this._sData=d;this._sAppName=a;this._sACHComponent=b;this._bTransient=t;if(m){this.setData=function(D){try{this._sData=JSON.stringify(D);}catch(e){jQuery.sap.log.error("Data can not be serialized","sap.ushell.services.AppState.AppState");this._sData=undefined;}};this.save=s.bind(this);}};function s(){var d=new jQuery.Deferred();this._oServiceInstance._saveAppState(this._sKey,this._sData,this._sAppName,this._sACHComponent,this._bTransient).done(function(){d.resolve();}).fail(function(m){d.reject(m);});return d.promise();}A.prototype.getData=function(){var o;if(this._sData===undefined||this._sData===""){return undefined;}try{o=JSON.parse(this._sData);}catch(e){jQuery.sap.log.error("Could not parse ["+this._sData+"]"+e);}return o;};A.prototype.getKey=function(){return this._sKey;};return A;});
sap.ui.predefine('sap/ushell/services/_AppState/LimitedBuffer',[],function(){"use strict";function L(c){this.index=-1;this.capacity=c;this.array=[];}L.prototype._clear=function(){this.array=[];this.index=-1;};L.prototype.addAsHead=function(k,v){this.index=(this.index+1)%this.capacity;this.array[this.index]={key:k,value:v};};L.prototype.getByKey=function(k){var i,e;for(i=0;i<=this.capacity-1;i=i+1){e=(this.capacity+this.index-i)%this.capacity;if(this.array[e]&&this.array[e].key===k){return this.array[e];}}return undefined;};return L;});
sap.ui.predefine('sap/ushell/services/_AppState/Sequentializer',[],function(){"use strict";function S(){this.oLastPromise=new jQuery.Deferred();this.oLastPromise.resolve();};S.prototype.addToQueue=function(f){var n=new jQuery.Deferred();this.oLastPromise.always(function(){var r=f();r.done(function(){n.resolve.apply(n,arguments);}).fail(function(){n.reject.apply(n,arguments);});});this.oLastPromise=n;return n.promise();};return S;});
sap.ui.predefine('sap/ushell/services/_AppState/SequentializingAdapter',["sap/ushell/services/_AppState/Sequentializer"],function(S){"use strict";function a(u){this._oSequentializer=new S();this._oUnderlyingAdapter=u;};a.prototype.saveAppState=function(k,s,d,A,c){var f;f=this._oUnderlyingAdapter.saveAppState.bind(this._oUnderlyingAdapter,k,s,d,A,c);return this._oSequentializer.addToQueue(f);};a.prototype.loadAppState=function(k){return this._oUnderlyingAdapter.loadAppState(k);};return a;});
sap.ui.predefine('sap/ushell/services/_AppState/WindowAdapter',["sap/ushell/services/_AppState/LimitedBuffer","sap/base/Log"],function(L,a){"use strict";var W=50;var C=18;function b(){this._init.apply(this,arguments);}b.prototype._init=function(s,B,c){var i=c&&c.config&&c.config.initialAppStates||{};var I=c&&c.config&&c.config.initialAppStatesPromise;this._oServiceInstance=s;this._oBackendAdapter=B;if(!b.prototype.data){b.prototype.data=new L(W);}if(I){I.then(function(i){if(typeof i==="object"){Object.keys(i).forEach(function(k){b.prototype.data.addAsHead(k,i[k]);});}});}Object.keys(i).forEach(function(k){b.prototype.data.addAsHead(k,i[k]);});};b.prototype.saveAppState=function(k,s,d,A,c,t){this.sComponent=c;var D=new jQuery.Deferred();b.prototype.data.addAsHead(k,d);if(this._oBackendAdapter&&!t){return this._oBackendAdapter.saveAppState(k,s,d,A,c);}D.resolve();return D.promise();};b.prototype.loadAppState=function(k){var d=new jQuery.Deferred(),c=b.prototype.data.getByKey(k);if(c){setTimeout(function(){d.resolve(k,c.value);},0);return d.promise();}try{if(window.opener&&window.opener.sap&&window.opener.sap.ushell){var A=window.opener.sap.ui.require("sap/ushell/services/AppState").WindowAdapter.prototype.data.getByKey(k);if(A){d.resolve(k,A.value);return d.promise();}}}catch(e){if(e.code===C){a.warning("AppState.js - loadAppState: Opener is not of the same origin and cannot be used for AppState resolving.");}else{a.warning("AppState.js - loadAppState: Opener is a FLP but AppState could not get resolved from there.");}}if(this._oBackendAdapter){this._oBackendAdapter.loadAppState(k).done(function(k,D){b.prototype.data.addAsHead(k,D);d.resolve(k,D);}).fail(d.reject.bind(d));return d.promise();}d.reject("AppState.js - loadAppState: Application State could not be loaded");return d.promise();};return b;});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/Formatter',[],function(){"use strict";function f(i){return"#"+i.semanticObject+"-"+i.action+"{"+a(i.signature)+"}";}function p(i){var m=i.match(/^#(.+?)-(.+?)({(.+)})?$/);if(!m){throw"Cannot parse inbound";}var r={semanticObject:m[1],action:m[2],signature:{parameters:{}}};if(!m[3]){return r;}r.signature=b(m[4]);return r;}function a(i){var I=i||{},P=I.parameters||{},t={optional:"[FORMAT]",required:"FORMAT"},F={regexp:"/VALUE/",reference:"@VALUE@",value:"VALUE",plain:"VALUE",_unknown:"?VALUE?"},A={allowed:"<+>",notallowed:"<->",ignored:"<o>",_unknown:"<?>"};var h=P&&Object.prototype.toString.apply(P)==="[object Object]"&&Object.keys(P).length>0;if(!h){return"<no params>"+(A[I.additionalParameters]||A._unknown);}var r=[];Object.keys(P).forEach(function(s){var o=P[s],c=o.required?"required":"optional",d=o.filter&&o.filter.value,e=o.defaultValue&&o.defaultValue.value,g=(o.filter&&o.filter.format)||"plain",j=(o.defaultValue&&o.defaultValue.format)||"plain";var v=[],k=F[g]||F._unknown,l=F[j]||F._unknown;if(d){v.push(t["required"].replace("FORMAT",k.replace("VALUE",d)));}if(e){v.push(t["optional"].replace("FORMAT",l.replace("VALUE",e)));}r.push(t[c].replace("FORMAT",s+":"+v.join("")));});return r.join(",")+(A[I.additionalParameters]||A._unknown);}function b(c){function d(v){var V=[{re:new RegExp(/^[/](.+)[/]$/),format:"regexp"},{re:new RegExp(/^[@](.+)[@]$/),format:"reference"},{re:new RegExp(/^[?](.+)[?]$/),format:"???"}].reduce(function(r,D){var m=v.match(D.re);if(r){return r;}if(!m){return null;}return{format:D.format,value:m[1]};},null);if(V){return V;}return{value:v};}function e(j){var n,k,l,m,o,w,M,q,t,O,R,N;N="<no params>";n="[^\\]\\[]";R="("+n+"+?):("+n+"*)(.*)";O="\\["+R+"\\]";t=N+"|"+O+"|"+R;q=new RegExp("^"+t+"$");o={success:false,name:null,value:{}};M=j.match(q);if(!M){return o;}w=M.shift();while(M.length>0){m=M.shift();l=M.shift();k=M.shift();if(m){o.name=m;if(l){o.value.filter=d(l);}if(k){o.value.defaultValue=d(k.replace(/\[(.+)\]/,"$1"));}o.value.required=(w.charAt(0)!=="[");}}o.success=true;return o;}function g(j){return[{"<+>":"allowed"},{"<->":"notallowed"},{"<o>":"ignored"}].reduce(function(R,o,I,k){if(R){return R;}var l=Object.keys(o)[0];if(j===l){return o[l];}return null;},null);}function s(P){var I=[];P.split(":").reduce(function(j,n,k,l){var v,N,V;if(k===0){return n;}if(k<l.length-1){V=n.split(",");if(V.length>1){N=V.pop();v=V.join(",");}else{return j+":"+n;}}else{v=n;}I.push([j,v].join(":"));return N;},"");return I;}var r={parameters:{}};var A=c.substr(c.length-3,3);var h=!!A.match(/<[?o+-]>/);var P=c;if(h){P=c.substr(0,c.length-3);}var S=s(P);S.forEach(function(j){var o=e(j);if(!o.success){throw new Error("Cannot parse parameters from "+c);}if(o.name){r.parameters[o.name]=o.value;}});if(h){var i=g(A);if(i){r.additionalParameters=g(A);}}else{r.additionalParameters="ignored";}return r;}return{formatInboundSignature:a,parseInboundSignature:b,parseInbound:p,formatInbound:f};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/InboundIndex',[],function(){"use strict";function g(){return this.index.all;}function a(S){if(S==="*"||S===undefined){return this.index.all;}return(this.index.segment[S]||[]).concat(this.index.always);}function b(T){return T.map(function(d){return this.index.tag[d]||[];},this).reduce(function(u,I){Array.prototype.push.apply(u,I.filter(function(o){return o.isAlreadyInUnion?false:(o.isAlreadyInUnion=true);}));return u;},[]).map(function(I){delete I.isAlreadyInUnion;return I;});}var i=Object.create(Object.prototype,{getSegment:{value:a},getAllInbounds:{value:g},getSegmentByTags:{value:b}});function t(I,o){var T=jQuery.sap.getObject('signature.parameters.sap-tag.defaultValue.value',undefined,I);if(!T){return;}if(!o.tag[T]){o.tag[T]=[];}o.tag[T].push(I);}function s(I,o){var S=I.semanticObject;if(S==="*"){o.always.push(I);}else{if(!o.segment[S]){o.segment[S]=[];}o.segment[S].push(I);}}function c(I){var o={all:I,segment:{},always:[],tag:{}};I.forEach(function(d,e){if(!d){jQuery.sap.log.warning("Void inbound provided to indexer","the inbound will be skipped");return;}t(d,o);s(d,o);});return Object.create(i,{index:{value:o}});}return{createIndex:c,private:{tagInbound:t,createIndex:c,segmentInbound:s}};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/InboundProvider',["sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/InboundIndex"],function(v,i){"use strict";function I(){this._init.apply(this,arguments);};I.prototype._init=function(r){this._fnRetrieveInbounds=r;this._oInboundsRetrievalPromise=null;};I.prototype.getInbounds=function(s){if(s){return this._getSomeInbounds(s);}return this._getAllInbounds();};I.prototype._getSomeInbounds=function(s){var t=this;return new Promise(function(r,R){t._fnRetrieveInbounds(s).done(function(a){r(i.createIndex(a.concat(v.getInbounds())));}).fail(function(){R.apply(null,arguments);});});};I.prototype._getAllInbounds=function(){var t=this;if(this._oInboundsRetrievalPromise){return this._oInboundsRetrievalPromise;}this._oInboundsRetrievalPromise=new Promise(function(r,R){t._fnRetrieveInbounds().done(function(a){r(i.createIndex((a||[]).concat(v.getInbounds())));}).fail(function(){R.apply(null,arguments);});});return this._oInboundsRetrievalPromise;};return I;});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/ParameterMapping',[],function(){"use strict";function m(M){var n={},o=M.intentParamsPlusAllDefaults;Object.keys(o).sort().forEach(function(p){var r=g(p,M.inbound.signature,o[p]);if(jQuery.isArray(M.intentParamsPlusAllDefaults[p])){if(n[r]){jQuery.sap.log.error("collision of values during parameter mapping : \""+p+"\" -> \""+r+"\"");}else{n[r]=M.intentParamsPlusAllDefaults[p];}}});M.mappedIntentParamsPlusSimpleDefaults=n;}function g(p,s,P){if(!P||!jQuery.isArray(P)){return p;}if(s&&s.parameters&&s.parameters[p]&&s.parameters[p].renameTo){return s.parameters[p].renameTo;}return p;}return{mapParameterNamesAndRemoveObjects:m,getRenameParameterName:g};},false);
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/Search',["sap/ushell/utils","sap/ushell/services/_ClientSideTargetResolution/Utils","sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds","sap/ushell/services/_ClientSideTargetResolution/Formatter","sap/ushell/TechnicalParameters"],function(u,U,v,f,t){"use strict";var A=[undefined,"GUI","WDA","UI5"];function a(M,I){var R=M.inbound.resolutionResult;if(!R){return"";}return["applicationType","ui5ComponentName","url","additionalInformation","text"].map(function(K){if(I){return R.hasOwnProperty(K)?K+":"+R[K]:"";}return R.hasOwnProperty(K)?R[K]:"";}).join("");}function b(M){return M.sort(function(s,x){if((s["sap-priority"]||0)-(x["sap-priority"]||0)!==0){return-((s["sap-priority"]||0)-(x["sap-priority"]||0));}if(s.priorityString<x.priorityString){return 1;}if(s.priorityString>x.priorityString){return-1;}var S=a(s);var y=a(x);if(S<y){return 1;}else if(S>y){return-1;}return 0;});}function e(I,M){var s;if(I&&I["sap-priority"]&&I["sap-priority"][0]){s=parseInt(I["sap-priority"][0],10);if(!isNaN(s)){M["sap-priority"]=s;}}return;}function m(V,F,K,M){var s;if(!F){return true;}if(!V&&V!==""){return false;}s=F.value;if(F.format==="reference"){if(/UserDefault\.extended\./.test(s)){jQuery.sap.log.error("Illegal inbound: extended user default '"+s+"' used as filter");return false;}if(K.hasOwnProperty(s)){return V===K[s];}M[s]=true;return true;}if(F.format==="value"||F.format==="plain"||F.format===undefined){return V===F.value;}else if(F.format==="regexp"){return!!V.match("^"+F.value+"$");}else{jQuery.sap.log.error("Illegal oFilter format");return false;}}function g(M){return M.inbound&&M.inbound.resolutionResult&&M.inbound.resolutionResult["sap.ui"]&&M.inbound.resolutionResult["sap.ui"].technology;}function c(M){return M.inbound&&M.inbound.resolutionResult&&M.inbound.resolutionResult.appId;}function d(I,s,K,M,D){var x={},y={};Object.keys(I).forEach(function(P){if(P!=="sap-ushell-defaultedParameterNames"){x[P]=I[P];}});if(!s){return x;}Object.keys(s).forEach(function(P){var T=s[P],z,V=false;if(!x[P]&&T.hasOwnProperty("defaultValue")){if(T.defaultValue.format&&T.defaultValue.format==="reference"){z=T.defaultValue.value;if(K.hasOwnProperty(z)){if(typeof K[z]==="string"){x[P]=[K[z]];V=true;}else if(typeof K[z]==="object"){x[P]=K[z];V=true;}}else{x[P]=[T.defaultValue];M.push(T.defaultValue.value);}}else{x[P]=[T.defaultValue.value];V=true;}if(V){y[P]=true;}}});Object.keys(y).sort().forEach(function(P){D.push(P);});return x;}function h(M,I){M.resolutionResult={};if(I&&I.resolutionResult&&I.resolutionResult.hasOwnProperty("sap.platform.runtime")){M.resolutionResult["sap.platform.runtime"]=I.resolutionResult["sap.platform.runtime"];}Object.keys(M.intentParamsPlusAllDefaults).slice(0).forEach(function(N){if(!jQuery.isArray(M.intentParamsPlusAllDefaults[N])){if(!M.resolutionResult.oNewAppStateMembers){M.resolutionResult.oNewAppStateMembers={};}M.resolutionResult.oNewAppStateMembers[N]=M.intentParamsPlusAllDefaults[N];}});}function i(R,M){R.forEach(function(s){M[s]=true;});}function j(M){var T=M.intentParamsPlusAllDefaults["sap-ui-tech-hint"]&&M.intentParamsPlusAllDefaults["sap-ui-tech-hint"][0];var I=M.defaultedParamNames&&(M.defaultedParamNames.indexOf("sap-ui-tech-hint")>=0);if(T&&g(M)===T){return I?1:2;}return 0;};function k(M){var s=M.intentParamsPlusAllDefaults["sap-ui-app-id-hint"]&&M.intentParamsPlusAllDefaults["sap-ui-app-id-hint"][0];if(s&&(s===c(M))){return 1;}return 0;}function l(M,x){function y(N){var s="000"+N;return s.substr(s.length-3);}return["AIDM="+k(M),M.genericSO?"g":"x","TECM="+j(M),"MTCH="+y(x.countMatchingParams),"MREQ="+y(x.countMatchingRequiredParams),"NFIL="+y(x.countMatchingFilterParams),"NDEF="+y(x.countDefaultedParams),"POT="+y(x.countPotentiallyMatchingParams),"RFRE="+y(999-x.countFreeInboundParams),"TECP="+n(M)].join(" ");};function n(M){var T=g(M);var P=A.indexOf(T);return Math.max(0,P);}function o(I,s){var x=false;if(I.signature.additionalParameters==="allowed"||I.signature.additionalParameters==="ignored"){return true;}if(I.signature.additionalParameters==="notallowed"||I.signature.additionalParameters===undefined){x=Object.keys(s).every(function(P){return(!I.signature.parameters[P]&&P.indexOf("sap-")!==0)?false:true;});}else{jQuery.sap.log.error("Unexpected value of inbound for signature.additionalParameters");}return x;}function p(I,s,K,D){var M=s.reduce(function(R,x){var y=w(I,x,K,R.missingReferences);if(y.matches){R.matchResults.push(y);}else if(D){(function(){var N=R.noMatchReasons;var z=f.formatInbound(x);N[z]=y.noMatchReason+(y.noMatchDebug?"| DEBUG: "+y.noMatchDebug:"");})();}return R;},{matchResults:[],noMatchReasons:{},missingReferences:{}});return jQuery.when(M);}function q(I,s,x,D,K,M){var S=Object.keys(I).every(function(P){var V=s[P],y=V&&V[0],z=I[P];if(z.required&&(y===null||y===undefined)){return false;}if(z.filter){if(!m(y,z.filter,K,M)){return false;}}return true;});return S;}function r(I,s,x,D,y){var z=0,B=0,C=0,E=0,S={};function F(P){return!t.isTechnicalParameter(P);}var G=Object.keys(x).filter(F);var H=D.filter(F);Object.keys(I).filter(F).forEach(function(P){var V=s[P],J=V&&V[0],K=I[P],L=x.hasOwnProperty(P);if(L){++z;if(K.filter){++C;}if(K.required){++B;}}else if(J===null||J===undefined){++E;}});if(y){S.countPotentiallyMatchingParams=G.filter(function(J){return I.hasOwnProperty(J);}).length;}else{S.countPotentiallyMatchingParams=G.length;}S.countDefaultedParams=H.length;S.countMatchingParams=z;S.countMatchingRequiredParams=B;S.countMatchingFilterParams=C;S.countFreeInboundParams=E;return S;}function w(I,s,K,M){var x={inbound:s};function N(W,X,Y){W.matches=false;W.noMatchReason=X;W.noMatchDebug=Y;return W;}function y(W){W.matches=true;W.matchesVirtualInbound=v.isVirtualInbound(s);return W;}var z=s.semanticObject==="*";x.genericSO=z;var S=I.semanticObject===undefined||I.semanticObject===s.semanticObject||z;if(!S){return N(x,"Semantic object \""+I.semanticObject+"\" did not match");}var B=I.action===undefined||I.action===s.action;if(!B){return N(x,"Action \""+I.action+"\" did not match");}var F=!s.deviceTypes||I.formFactor===undefined||s.deviceTypes[I.formFactor];if(!F){return N(x,"Form factor \""+I.formFactor+"\" did not match","Inbound: ["+Object.keys(s.deviceTypes).filter(function(W){return!!s.deviceTypes[W];}).join(", ")+"]");}var T=I.params&&I.params["sap-ui-tech-hint"]&&I.params["sap-ui-tech-hint"][0];if(I.treatTechHintAsFilter&&T){var C=g({inbound:s});if(C!==T){return N(x,"Tech Hint as filter \""+T+"\" did not match","Inbound: ["+C+"]");}}var R=[],D=[],E=I.params||{};var G=d(E,s.signature&&s.signature.parameters,K,R,D);x.intentParamsPlusAllDefaults=G;x.defaultedParamNames=D;e(G,x);var H=q(s.signature.parameters,G,E,D,K,M);if(!H){return N(x,"Inbound parameter signature did not match",f.formatInboundSignature(s.signature));}var P=U.constructParameterDominatorMap(s.signature.parameters);var J=U.findDominatedDefaultParameters(G,D,P);var L=D.filter(function(W){return!J[W];});var O=U.filterObjectKeys(G,function(W){return!J[W];});if(!o(s,O)){return N(x,"Additional parameters not allowed",f.formatInboundSignature(s.signature));}var Q=s.signature.additionalParameters==="ignored";if(Q){U.filterObjectKeys(O,function(W){if(W.indexOf("sap-")===0){return true;}if(s.signature.parameters.hasOwnProperty(W)){return true;}return false;},true);}var V=r(s.signature.parameters,G,E,D,Q);h(x,s);x.intentParamsPlusAllDefaults=O;x.defaultedParamNames=L;x.priorityString=l(x,V);i(R,M);return y(x);}return{match:p,matchOne:w,sortMatchingResultsDeterministic:b,matchesFilter:m,checkAdditionalParameters:o,addDefaultParameterValues:d,extractSapPriority:e,serializeMatchingResult:a};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/StagedLogger',["sap/ushell/services/_ClientSideTargetResolution/Utils"],function(u){"use strict";var _={};function b(g){var L,o,s=g();if(!s.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #begin method of StagedLogger.");}L=s.logId;if(_[L]){throw new Error("'cannot call #begin twice with same log id: '"+L+"'");}else{_[L]={};}o=_[L];o.title=s.title||null;o.moduleName=s.moduleName||null;var r=function(c,n){if(n===1){return c}else{return r(c,n-1)+c;}};o.stages=s.stages.map(function(S){return[S,r('-',S.length)];});return L;}function l(g){var L,c,s,d,p,S,n,A;A=g();if(!A.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.");}L=A.logId;S=A.stage;p=A.prefix;d=A.lines;s=A.line;n=A.number;if(!d&&s&&p){s=p+" "+s;}c=_[L].stages[S-1];if(s){c.push(s);}if(d){if(p){p=(s?" ":"")+p;}var f=d.map(function(s,i){return(n?(i+1):"")+(p?p+" ":"")+s;});c.push.apply(c,f);}}function e(g){var A,L,s;A=g();if(!A.hasOwnProperty("logId")){throw new Error("'logId' argument was not provided in #log method of StagedLogger.");}s=A.logId;L=_[s];if(typeof L!=="object"){throw new Error("Logger .end was called on an already ended logger");}var c=L.stages.map(function(S){return S.join("\n");}).join("\n\n");jQuery.sap.log.debug("[REPORT #"+s+"] "+L.title,"\n"+c+"\n",L.moduleName);delete _[s];}function a(){return _;}return{begin:function(){if(!u.isDebugEnabled()){return;}b.apply(null,arguments);},log:function(){if(!u.isDebugEnabled()){return;}l.apply(null,arguments);},end:function(){if(!u.isDebugEnabled()){return;}e.apply(null,arguments);},_getLogs:a};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/Utils',[],function(v,f){"use strict";function a(I,D,p){var o={};D.forEach(function(s){var h=p[s].dominatedBy;var j=h.some(function(k){var l=!!I[k];var m=k!==s;var n=D.indexOf(k)===-1;return l&&n&&m;});if(j){o[s]=true;}});return o;}function c(p){var D={},r={};Object.keys(p).forEach(function(k){var R=p[k].renameTo||k;r[R]=r[R]||{"renameTo":R,"dominatedBy":[]};r[R].dominatedBy.push(k);r[R].dominatedBy=r[R].dominatedBy.sort();D[k]=r[R];});return D;}function b(o,F,I){var O=I?o:jQuery.extend(true,{},o);Object.keys(O).forEach(function(k){if(F(k)===false){delete O[k];}});return O;}function d(o,F){var h;h=Object.keys(o).reduce(function(h,k){var V=o[k];if(F(k,V)){h[k]=V;}return h;},{});return h;};function w(h){if(i()){h.call(null);}}function i(){var C=jQuery.sap.log.getLevel();if(C>=jQuery.sap.log.Level.DEBUG){return true;}return false;}function e(I,p){return p.every(function(P){var o,O,s;s=P.name;O=P.options;o=I[s];return Object.keys(O).every(function(h){var j=O[h];if(h==="required"){return!!(o||{}).required===j;}return false;});});}function g(p,W){var E={};p.forEach(function(P){if(W[P]){E[P]=W[P];delete W[P];}});return E;}return{inboundSignatureMeetsParameterOptions:e,filterObjectKeys:b,filterObject:d,constructParameterDominatorMap:c,findDominatedDefaultParameters:a,whenDebugEnabled:w,isDebugEnabled:i,extractParameters:g};});
sap.ui.predefine('sap/ushell/services/_ClientSideTargetResolution/VirtualInbounds',["jquery.sap.global"],function(q){"use strict";var v={};var A=[{hideIntentLink:true,semanticObject:"Action",action:"search",deviceTypes:{desktop:true,tablet:true,phone:true},signature:{parameters:{},additionalParameters:"notallowed"},resolutionResult:{applicationType:"SAPUI5",ui5ComponentName:"sap.ushell.renderers.fiori2.search.container",additionalInformation:"SAPUI5.Component=sap.ushell.renderers.fiori2.search.container",url:q.sap.getResourcePath("sap/ushell/renderers/fiori2/search/container"),loadCoreExt:true,loadDefaultDependencies:false}}];v.isVirtualInbound=function(i){return A.some(function(V){return V===i;});};v.getInbounds=function(){return A;};return v;});
sap.ui.predefine('sap/ushell/services/_CommonDataModel/PersonalizationProcessor',[],function(){"use strict";function P(){}P.prototype._getItemIndex=function(i,I){var r;for(r=0;r<i.length;r++){if(i[r].id===I){break;}}r=(r>=i.length)?-1:r;return r;};P.prototype._applyRenameGroup=function(g,n,o){var G,b=false;if(!n){return false;}if(g&&o&&o.groups&&o.groups[g]){G=o.groups[g];if(G.identification&&G.identification.title){o.groups[g].identification.title=n;b=true;}}return b;};P.prototype._applyGroupVisibility=function(g,G,o){var b=false;if(G===undefined){return false;}if(g&&o&&o.groups&&o.groups[g]){o.groups[g].identification.isVisible=G;b=true;}return b;};P.prototype.mixinPersonalization=function(o,p){var d=new jQuery.Deferred(),t=this;if(!p||jQuery.isEmptyObject(p)){return d.resolve(o).promise();}if(p.groups){Object.keys(p.groups).forEach(function(g){var G=p.groups[g];if(o.groups[g]){if(G.identification){if(G.identification.title){t._applyRenameGroup(g,G.identification.title,o);}if(G.identification.hasOwnProperty("isVisible")&&G.identification.isVisible===false){t._applyGroupVisibility(g,false,o);}}}});}this._applyAddGroups(o,p);if(p.removedGroups&&jQuery.isArray(p.removedGroups)){p.removedGroups.forEach(function(g){t._applyRemoveGroup(o,g);});}this._applyMoveGroup(o,p);this._applyItemChanges(o,p);this._applyTileSettings(o,p);return d.resolve(o).promise();};P.prototype._applyAddGroups=function(o,p){var n=[];o.site=o.site||{};o.site.payload=o.site.payload||{};o.site.payload.groupsOrder=o.site.payload.groupsOrder||[];o.groups=o.groups||{};if(jQuery.isArray(p.groupOrder)){o.site.payload.groupsOrder.forEach(function(g){if(p.groupOrder.indexOf(g)===-1){if((p.removedGroups&&p.removedGroups.indexOf(g)===-1)||!p.removedGroups){n.push(g);}}});}if(jQuery.isArray(p.groupOrder)&&p.addedGroups&&Object.keys(p.addedGroups).length>0){Object.keys(p.addedGroups).forEach(function(g){o.groups[g]=p.addedGroups[g];o.groups[g].payload.isPreset=false;});o.site.payload.groupsOrder=p.groupOrder;}n.forEach(function(N){o.site.payload.groupsOrder.push(N);});};P.prototype._checkRenameGroup=function(g,p,o,a){if(g&&p&&o){if(o[g]){if(p[g].identification.title!==o[g].identification.title){a=a||{};a.groups=a.groups||{};a.groups[g]=a.groups[g]||{};a.groups[g].identification=a.groups[g].identification||{};a.groups[g].identification.title=p[g].identification.title;}}}return a;};P.prototype._checkTileSettings=function(p,o){if(!p.modifiedTiles){return;}o.modifiedTiles=p.modifiedTiles;};P.prototype._applyTileSettings=function(s,p){var g,m;if(!p.modifiedTiles){return;}g=Object.keys(s.groups).map(function(k){return this[k];},s.groups);m=Object.keys(p.modifiedTiles).map(function(k){return this[k];},p.modifiedTiles);g.some(function(G){["tiles","links"].forEach(function(t){if(G.payload[t]){G.payload[t].some(function(T){var i;m.some(function(u,I){if(u.id===T.id){if(u.title!==undefined){T.title=u.title;}if(u.subTitle!==undefined){T.subTitle=u.subTitle;}if(u.info!==undefined){T.info=u.info;}i=I;return true;}return false;});if(i!==undefined){m.splice(i,1);}return m.length===0;});}});return m.length===0;});s.modifiedTiles=p.modifiedTiles;};P.prototype._checkGroupVisibility=function(g,p,o,a){if(g&&p&&o){if(o[g]){if(p[g].identification.isVisible!==o[g].identification.isVisible&&typeof p[g].identification.isVisible==="boolean"){a=a||{};a.groups=a.groups||{};a.groups[g]=a.groups[g]||{};a.groups[g].identification=a.groups[g].identification||{};a.groups[g].identification.isVisible=p[g].identification.isVisible;}}}return a;};P.prototype._addGroupToPersonalizationDelta=function(p,o,g){var s=false,G,n;if(p&&p.site&&p.site.payload&&p.site.payload.groupsOrder&&p.groups&&g&&p.groups[g]&&o){G=p.site.payload.groupsOrder;n=p.groups[g];o.addedGroups=o.addedGroups||{};o.addedGroups[g]={};o.addedGroups[g].identification=jQuery.extend({},n.identification);o.addedGroups[g].payload=jQuery.extend({},n.payload);o.addedGroups[g].payload.tiles=[];o.addedGroups[g].payload.links=[];o.groupOrder=G;s=true;}return s;};P.prototype.extractPersonalization=function(p,o){var d=new jQuery.Deferred(),a,b={},O,e,t=this;if(p&&p.groups&&o&&o.groups){a=p.groups;O=o.groups;e=this._getExtractHelperObject(o,p,b);Object.keys(O).forEach(function(g){t._checkRemoveGroup(p,b,g);t._extractFromOriginalSiteOneGroup(o,e,g,"tiles");t._extractFromOriginalSiteOneGroup(o,e,g,"links");});Object.keys(a).forEach(function(g){if(O[g]){t._checkRenameGroup(g,a,O,b);t._checkGroupVisibility(g,a,O,b);}else{t._addGroupToPersonalizationDelta(p,b,g);}t._extractFromPersonalizedSiteOneGroup(p,e,g,"tiles");t._extractFromPersonalizedSiteOneGroup(p,e,g,"links");});this._checkMoveGroup(p,o,b);this._checkTileSettings(p,b);this._cleanupRemovedGroups(o,b);if(e.oPersonalizationDelta.movedTiles&&jQuery.isEmptyObject(e.oPersonalizationDelta.movedTiles)){delete(e.oPersonalizationDelta.movedTiles);}if(e.oPersonalizationDelta.movedLinks&&jQuery.isEmptyObject(e.oPersonalizationDelta.movedLinks)){delete(e.oPersonalizationDelta.movedLinks);}}return d.resolve(b).promise();};P.prototype._checkRemoveGroup=function(p,o,O){var s=false;if(p&&p.groups&&o&&O){if(!p.groups[O]){o.removedGroups=o.removedGroups||[];o.groupOrder=o.groupOrder||[];if(o.removedGroups.indexOf(O)===-1){o.removedGroups.push(O);}if(p.site&&p.site.payload&&p.site.payload.groupsOrder&&jQuery.isArray(p.site.payload.groupsOrder)){o.groupOrder=p.site.payload.groupsOrder.slice(0);}}s=true;}return s;};P.prototype._applyRemoveGroup=function(o,g){var O,G,i;if(o&&o.groups&&o.site&&o.site.payload&&o.site.payload.groupsOrder&&g){O=o.groups;G=o.site.payload.groupsOrder;i=G.indexOf(g);if(!(i===-1)){G.splice(i,1);delete(O[g]);return true;}}return false;};P.prototype._checkMoveGroup=function(p,o,a){var b,O,c=false,s=false;if(p.site&&p.site.payload&&jQuery.isArray(p.site.payload.groupsOrder)&&o.site&&o.site.payload&&jQuery.isArray(o.site.payload.groupsOrder)){b=p.site.payload.groupsOrder;O=o.site.payload.groupsOrder;if(b.length===O.length){c=(function(){var S=false,i;for(i=0;i<O.length;i++){if(O[i]!==b[i]){S=true;break;}}return S;})();if(c){a.groupOrder=b;s=true;}}}return s;};P.prototype._applyMoveGroup=function(o,p){var s=false;if(jQuery.isArray(p.groupOrder)){o.site=o.site||{};o.site.payload=o.site.payload||{};if(!jQuery.isArray(o.site.payload.groupsOrder)){o.site.payload.groupsOrder=[];}if(o.site.payload.groupsOrder.length===p.groupOrder.length){o.site.payload.groupsOrder=p.groupOrder;s=true;}}return s;};P.prototype._getHashedItemsFromSite=function(s){var r=null;if(s&&s.groups){if(Object.keys(s.groups).length>0){r={};Object.keys(s.groups).forEach(function(g){var G=s.groups[g],a;r[g]={};if(G.payload){["tiles","links"].forEach(function(t){r[g][t]={};if(jQuery.isArray(G.payload[t])){a=G.payload[t];a.forEach(function(i,I){var b;if(i.id){b=i.id;r[g][t][b]={iIndex:I,sItemId:i};}});}});}});}}return r;};P.prototype._getExtractHelperObject=function(o,p,a){var r=null;r={};r.oHashedItemsOriginal=this._getHashedItemsFromSite(o)||{};r.oHashedItemsPersonalized=this._getHashedItemsFromSite(p);r.oPersonalizationDelta=a;return r;};P.prototype._extractFromOriginalSiteOneGroup=function(o,e,g,i){var s=false,O,m,M,p="movedTiles";i=i?i:"tiles";if(i!=="tiles"){p="movedLinks";}M=function(a,f){m[a]=m[a]?m[a]:{};m[a].fromGroup=f;m[a].toGroup=null;};if(e&&e.oHashedItemsPersonalized&&e.oPersonalizationDelta&&o&&o.groups&&o.groups[g]&&o.groups[g].payload&&jQuery.isArray(o.groups[g].payload[i])){O=o.groups[g].payload[i];e.oPersonalizationDelta[p]=e.oPersonalizationDelta[p]?e.oPersonalizationDelta[p]:{};m=e.oPersonalizationDelta[p];if(e.oHashedItemsPersonalized[g]){O.forEach(function(I){if(!e.oHashedItemsPersonalized[g][i][I.id]){M(I.id,g);}});s=true;}else{O.forEach(function(I){M(I.id,g);});s=true;}}return s;};P.prototype._handleItemChangeExtract=function(e,g,i){return false;};P.prototype._extractFromPersonalizedSiteOneGroup=function(p,e,g,i){var s=false,m,t,T=false,a,b=this,c="movedTiles";i=i?i:"tiles";if((i!=="tiles")&&(i!=="links")){return s;}if(i!=="tiles"){c="movedLinks";}if(e&&e.oPersonalizationDelta&&p&&p.groups&&p.groups[g]&&p.groups[g].payload&&jQuery.isArray(p.groups[g].payload[i])){a=p.groups[g].payload[i];e.oPersonalizationDelta[c]=e.oPersonalizationDelta[c]?e.oPersonalizationDelta[c]:{};m=e.oPersonalizationDelta[c];t=[];a.forEach(function(I,d){t.push(I.id);if(e.oHashedItemsOriginal[g]&&e.oHashedItemsOriginal[g][i][I.id]){if(m[I.id]){jQuery.sap.log.error("Extract personalization failed","The Tile ID "+I.id+" is not unique in the site","PersonalizationProcessor");delete(m[I.id]);}if(e.oHashedItemsOriginal[g][i][I.id].iIndex!==d){T=true;}b._handleItemChangeExtract(e,g,i);}else{T=true;if(m[I.id]){if(m[I.id].fromGroup&&(m[I.id].fromGroup!==g)){if(!m[I.id].toGroup){m[I.id].toGroup=g;b._handleItemChangeExtract(e,g,i);}}}else{m[I.id]={};m[I.id].fromGroup=null;m[I.id].toGroup=g;m[I.id].item=I;}}});if(T){e.oPersonalizationDelta.groups=e.oPersonalizationDelta.groups||{};e.oPersonalizationDelta.groups[g]=e.oPersonalizationDelta.groups[g]||{};e.oPersonalizationDelta.groups[g].payload=e.oPersonalizationDelta.groups[g].payload||{};if(i==="tiles"){e.oPersonalizationDelta.groups[g].payload.tileOrder=t;}else{e.oPersonalizationDelta.groups[g].payload.linkOrder=t;}}s=true;}return s;};P.prototype._cleanupRemovedGroups=function(o,p){var i,m;if(p.removedGroups&&p&&jQuery.isArray(p.removedGroups)&&(p.removedGroups.length>0)){p.removedGroups.forEach(function(g){if(o&&o.groups&&o.groups[g]&&o.groups[g].payload){[{sType:"tiles",sPersonalizationDeltaType:"movedTiles"},{sType:"links",sPersonalizationDeltaType:"movedLinks"}].forEach(function(t){if(jQuery.isArray(o.groups[g].payload[t.sType])){i=o.groups[g].payload[t.sType];i.forEach(function(I){if(p[t.sPersonalizationDeltaType]){m=p[t.sPersonalizationDeltaType][I.id];if(m&&m.fromGroup&&(m.fromGroup===g)&&!m.toGroup){delete(p[t.sPersonalizationDeltaType][I.id]);}}});}});}});}};P.prototype._setItemOrderOnSiteCollection=function(o,i){var s=true,S=o.length,a,b={},I,c,C,f;if(!jQuery.isArray(o)||!jQuery.isArray(o)||(o.length!==i.length)){return false;}a=o.splice(0,o.length);for(I=0;I<i.length;I++){C=i[I];c=a.shift();if(c&&C===c.id){o.push(c);}else if(b[C]){o.push(b[C]);delete(b[C]);if(c){b[c.id]=c;}}else if(c){b[c.id]=c;f=false;while(a.length>0){c=a.shift();if(C===c.id){o.push(c);f=true;break;}else{b[c.id]=c;}}if(!f){s=false;}}}if(o.length!==S){s=false;}return s;};P.prototype._setItemOrderOnSiteGroupForItemType=function(o,d,i){var s=true,t,I;if((i==="tiles")||(i==="links")){I=(i==="tiles")?"tileOrder":"linkOrder";}else{return false;}if(d.payload&&jQuery.isArray(d.payload[I])&&(d.payload[I].length>0)){if(o.payload&&jQuery.isArray(o.payload[i])&&(o.payload[i].length>0)){t=this._setItemOrderOnSiteCollection(o.payload[i],d.payload[I]);if(!t){s=false;}}else{s=false;}}return s;};P.prototype._setItemOrderOnSite=function(o,p){var s=true,t,a=this;if(o.groups&&p.groups){Object.keys(p.groups).forEach(function(g){if(p.groups[g]&&o.groups[g]){t=a._setItemOrderOnSiteGroupForItemType(o.groups[g],p.groups[g],"tiles");if(!t){s=false;}t=a._setItemOrderOnSiteGroupForItemType(o.groups[g],p.groups[g],"links");if(!t){s=false;}}});}return s;};P.prototype._applyMoveItemsWithoutOrder=function(o,p,i){var s=true,t,T,I="tileOrder",d,a,b,O=[],c=this;function f(C,g){var s=true;if(o.groups[g]&&o.groups[g].payload&&p.groups&&p.groups[g]&&p.groups[g].payload&&jQuery.isArray(p.groups[g].payload[I])&&(p.groups[g].payload[I].length>0)){if(!jQuery.isArray(o.groups[g].payload[i])){o.groups[g].payload[i]=[];}o.groups[g].payload[i].push(C);}else{s=false;}return s;}if((i==="tiles")||(i==="links")){T=(i==="tiles")?"movedTiles":"movedLinks";I=(i==="tiles")?"tileOrder":"linkOrder";}else{return false;}if(!o||!o.groups||!o.site||!o.site.payload||!jQuery.isArray(o.site.payload.groupsOrder)||!p){return false;}if(p[T]){Object.keys(p[T]).forEach(function(e){d=p[T][e];if(d.fromGroup){if(d.toGroup){if(d.fromGroup!==d.toGroup){if(o.groups[d.fromGroup]&&o.groups[d.fromGroup].payload&&jQuery.isArray(o.groups[d.fromGroup].payload[i])){O=o.groups[d.fromGroup].payload[i];a=c._getItemIndex(O,e);if(a>=0){b=O.splice(a,1);t=f(b[0],d.toGroup);if(!t){s=false;}}else{s=false;}}else{s=false;}}else{s=false;}}else{if(o.groups[d.fromGroup]&&o.groups[d.fromGroup].payload&&jQuery.isArray(o.groups[d.fromGroup].payload[i])){O=o.groups[d.fromGroup].payload[i];a=c._getItemIndex(O,e);if(a>=0){O.splice(a,1);}else{s=false;}}else{s=false;}}}else if(d.toGroup){if(d.item&&!jQuery.isEmptyObject(d.item)){t=f(d.item,d.toGroup);if(!t){s=false;}}else{s=false;}}else{s=false;}});}return s;};P.prototype._applyItemChanges=function(o,p){var s=true,S;S=this._applyMoveItemsWithoutOrder(o,p,"tiles");if(!S){s=false;}S=this._applyMoveItemsWithoutOrder(o,p,"links");if(!S){s=false;}if(p.groups){S=this._setItemOrderOnSite(o,p);if(!S){s=false;}}return s;};return P;});
sap.ui.predefine('sap/ushell/services/_Personalization/ContextContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ui/core/format/DateFormat","sap/ui/core/UIComponent"],function(u,p,c,D,U){"use strict";function C(){this._init.apply(this,arguments);};C.prototype._init=function(s,a,b,S,o){this._oService=s;this._sContainerKey=b;this._oAdapterContainer={};this._oScope=S||p.adjustScope(S);this._aLoadedKeys=[];this._oUnmodifiableContainer=undefined;var A;if(!(o instanceof U)&&o!==undefined){throw new Error("oComponent passed must be a UI5 Component or must be undefined");}if(o&&o.getMetadata&&o.getMetadata().getComponentName){A=o.getMetadata().getComponentName();}this.clear();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._oAdapterContainer=a.getAdapterContainer(this._sContainerKey,this._oScope,A);return this;};C.prototype.getValidity=function(){return this._oScope.validity;};C.prototype.clear=function(){this._oItemMap={};this._aLoadedItemKeys=[];this._clear=true;this._oItemMap=new u.Map();};C.prototype.load=function(){var d={},P,t=this;d=new jQuery.Deferred();if(!this._sContainerKey){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this.clear();P=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,d);P.always(function(){t._oAdapterContainer.load().fail(function(){d.reject();}).done(function(){t._copyFromAdapter();if(t._isExpired()){t.clear();}d.resolve();});});return d.promise();};C.prototype._copyFromAdapter=function(){var t=this,a;a=t._oAdapterContainer.getItemKeys().splice(0);a.forEach(function(i){t._oItemMap.put(i,JSON.stringify(t._oAdapterContainer.getItemValue(i)));});this._aLoadedItemKeys=t._oItemMap.keys().splice(0);};C.prototype._isExpired=function(){var f,t,T;if(this.getValidity()===Infinity||this.getValidity()===0){return false;}t=this._getItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE);f=D.getDateInstance({pattern:c.S_ABAPTIMESTAMPFORMAT});T=f.format(this._getNow(),true);return t&&T>t;};C.prototype._getNow=function(){return new Date();};C.prototype._copyToAdapterUpdatingValidity=function(){var i=[],d=[],t=this,n,f,T,s;if(this._clear){i=this._oAdapterContainer.getItemKeys().splice(0);i.forEach(function(I){t._oAdapterContainer.delItem(I);});this._clear=false;}if(this.getValidity()===Infinity||this.getValidity()===0){this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_SCOPE);this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE);this._delItemInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_STORAGE);}else{f=D.getDateInstance({pattern:c.S_ABAPTIMESTAMPFORMAT});n=this._getNow();s=f.format(n,true);T=f.format(new Date(n.getTime()+this.getValidity()*60000),true);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_SCOPE,this._oScope);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_EXPIRE,T);this._setItemValueInternal(c.S_ADMIN_PREFIX,c.S_ITEMKEY_STORAGE,s);}i=this._oItemMap.keys();i.forEach(function(I){t._oAdapterContainer.setItemValue(I,p.cloneToObject(t._oItemMap.get(I)));});d=this._aLoadedItemKeys.filter(function(I){return!(i.indexOf(I)>-1);});d.forEach(function(I){t._oAdapterContainer.delItem(I);});};C.prototype.save=function(){var s,P,t=this;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();P=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);P.always(function(){try{t._oAdapterContainer.save().fail(function(){s.reject();}).done(function(){s.resolve();});}catch(e){s.reject();}});return s.promise();};C.prototype.saveDeferred=function(n){var s,P,t=this;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();P=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);function d(){P.always(function(){try{t._oAdapterContainer.save().fail(function(){s.reject();}).done(function(){s.resolve();});}catch(e){s.reject();}});}s._sapFnSave=d;s._sapTimeoutId=setTimeout(d,n);return s.promise();};C.prototype.flush=function(){var s,P;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();P=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,s);P.fail(function(){s.reject();}).done(function(){s.resolve();});return s.promise();};C.prototype.getItemKeys=function(){var f=this._oItemMap.keys().filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)===0;});return f.map(function(e){return e.replace(c.S_ITEM_PREFIX,"","");});};C.prototype._getInternalKeys=function(){return this._oItemMap.keys().splice(0);};C.prototype.getItemValue=function(i){return this._getItemValueInternal(c.S_ITEM_PREFIX,i);};C.prototype._getItemValueInternal=function(P,i){if(typeof i!=="string"||typeof P!=="string"){return undefined;}return p.cloneToObject(this._oItemMap.get(P+i));};C.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(c.S_ITEM_PREFIX+i);};C.prototype.setItemValue=function(i,I){this._setItemValueInternal(c.S_ITEM_PREFIX,i,I);};C.prototype._setItemValueInternal=function(i,I,o){if(typeof I!=="string"||typeof i!=="string"){throw new u.Error("Parameter value of sItemKey or sItemValue is not a string: sap.ushell.services.Personalization"," ");}if(I.length>40){jQuery.sap.log.error("Personalization Service item key/variant set name (\""+I+"\") should be less than 40 characters [current :"+I.length+"]");}this._oItemMap.put(i+I,JSON.stringify(o));};C.prototype.delItem=function(i){this._delItemInternal(c.S_ITEM_PREFIX,i);};C.prototype._delItemInternal=function(P,i){if(typeof i!=="string"){return undefined;}if(typeof P!=="string"){return undefined;}this._oItemMap.remove(P+i);};C.prototype.getKey=function(){return this._sContainerKey.substring(c.S_CONTAINER_PREFIX.length);};C.prototype.getUnmodifiableContainer=function(){var t=this;if(!this._oUnmodifiableContainer){this._oUnmodifiableContainer=(function(){var o={};["clear","delItem","flush","load","save","saveDeferred","setItemValue"].forEach(function(f){o[f]=function(n){throw new u.Error("Function "+n+" can't be called on unmodifiable container","ContextContainer"," ");}.bind(undefined,f);});["containsItem","getItemKeys","getItemValue","getUnmodifiableContainer","getValidity"].forEach(function(f){if(t[f]){o[f]=t[f].bind(t);}});return o;}());}return this._oUnmodifiableContainer;};return C;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariantSet"],function(u,p,c,P){"use strict";function a(A,C){this._sContainerKey=C;this._oAdapterContainer={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];var d={},t=this;this._init();d=new jQuery.Deferred();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._oAdapterContainer=A.getAdapterContainer(this._sContainerKey);this.load().fail(function(){d.reject();}).done(function(){d.resolve(t);});return d.promise();};a.prototype._init=function(){this._oVariantSetMap={};this._oItemMap={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];this._oVariantSetMap=new u.Map();this._oItemMap=new u.Map();};a.prototype.load=function(){var d={},i=[],v=[],I=[],m=[],t=this;function b(I){var n=[],e=[];n=I.filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)!==0;});if(n.length===0){return I;}e=I.filter(function(s){return s.indexOf(c.S_ITEM_PREFIX)===0;});n.forEach(function(s){var o={},f="";f=c.S_ITEM_PREFIX+s;o=p.clone(t._oAdapterContainer.getItemValue(s));t._oAdapterContainer.setItemValue(f,o);t._oAdapterContainer.delItem(s);if(jQuery.inArray(f,e)===-1){e.push(f);}});return e;}d=new jQuery.Deferred();if(!this._sContainerKey){throw new u.Error("Invalid container key: sap.ushell.services.Personalization"," ");}this._init();this._oAdapterContainer.load().fail(function(){d.reject();}).done(function(){i=t._oAdapterContainer.getItemKeys().splice(0);v=i.filter(function(s){return s.indexOf(c.S_VARIANT_PREFIX)===0;});v.forEach(function(V){var o={};o=new P(V,t._oAdapterContainer);t._oVariantSetMap.put(V,o);});I=i.filter(function(s){return s.indexOf(c.S_VARIANT_PREFIX)!==0;});m=b(I);m.forEach(function(s){t._oItemMap.put(s,p.clone(t._oAdapterContainer.getItemValue(s)));});t._aLoadedVariantSetKeys=t._oVariantSetMap.keys().splice(0);t._aLoadedItemKeys=t._oItemMap.keys().splice(0);d.resolve();});return d.promise();};a.prototype.save=function(){var s,i;this._serializeVariantSets();this._serializeItems();s=new jQuery.Deferred();function S(){s.resolve();}function f(){s.reject();}try{i=this._oAdapterContainer.save();i.fail(f);i.done(S);}catch(e){s.reject();}return s.promise();};a.prototype.getItemKeys=function(){return this._oItemMap.keys().map(function(e){return e.replace(c.S_ITEM_PREFIX,"","");});};a.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.get(c.S_ITEM_PREFIX+i);};a.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(c.S_ITEM_PREFIX+i);};a.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}this._oItemMap.put(c.S_ITEM_PREFIX+i,I);};a.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}if(this.containsItem(i)){this._oItemMap.remove(c.S_ITEM_PREFIX+i);}};a.prototype._serializeItems=function(){var i=[],d=[],t=this;i=this._oItemMap.keys();i.forEach(function(I){t._oAdapterContainer.setItemValue(I,p.clone(t._oItemMap.get(I)));});d=this._aLoadedItemKeys.filter(function(I){return!(i.indexOf(I)>-1);});d.forEach(function(I){t._oAdapterContainer.delItem(I);});};a.prototype.getVariantSetKeys=function(){var v=[],b=[];b=this._oVariantSetMap.keys();v=b.map(function(e){return e.replace(c.S_VARIANT_PREFIX,"","");});return v;};a.prototype.containsVariantSet=function(v){return this._oVariantSetMap.containsKey(c.S_VARIANT_PREFIX+v);};a.prototype.getVariantSet=function(v){var s,V={};s=c.S_VARIANT_PREFIX+v;V=this._oVariantSetMap.get(s);return V;};a.prototype.addVariantSet=function(v){var e={},V={},s="";if(this.containsVariantSet(v)){throw new u.Error("Container already contains a variant set with key '"+v+"': sap.ushell.services.Personalization"," ");}s=c.S_VARIANT_PREFIX+v;e={currentVariant:null,variants:{}};this._oAdapterContainer.setItemValue(s,e);V=new P(s,this._oAdapterContainer);this._oVariantSetMap.put(s,V);return V;};a.prototype._serializeVariantSets=function(){var v=[],d=[],t=this;v=this._oVariantSetMap.keys();v.forEach(function(V){var o={},b={};o=t._oVariantSetMap.get(V);b=o._serialize();t._oAdapterContainer.setItemValue(V,p.clone(b));});d=this._aLoadedVariantSetKeys.filter(function(V){return!(v.indexOf(V)>-1);});d.forEach(function(V){t._oAdapterContainer.delItem(V);});};a.prototype.delVariantSet=function(v){var s="";s=c.S_VARIANT_PREFIX+v;this._oVariantSetMap.remove(s);return this._oAdapterContainer.delItem(s);};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainerVariant',["sap/ushell/utils"],function(u){"use strict";function P(v,V,o){if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ");}if(typeof V!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(o&&typeof o!=="object"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}this._oVariantKey=v;this._oVariantName=V;this._oItemMap=new u.Map();this._oItemMap.entries=o||{};};P.prototype.getVariantKey=function(){return this._oVariantKey;};P.prototype.getVariantName=function(){return this._oVariantName;};P.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.get(i);};P.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}return this._oItemMap.put(i,I);};P.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.containsKey(i);};P.prototype.getItemKeys=function(){return this._oItemMap.keys();};P.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}return this._oItemMap.remove(i);};P.prototype._serialize=function(){var i=[],v={},I={},t=this;v.name=this.getVariantName();i=this._oItemMap.keys();i.forEach(function(s){I[s]=t.getItemValue(s);});v.variantData=I;return v;};return P;});
sap.ui.predefine('sap/ushell/services/_Personalization/PersonalizationContainerVariantSet',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/PersonalizationContainerVariant"],function(u,p,P){"use strict";function c(v,a){var V,s,b,o,d;this._sVariantSetKey=v;this._oAdapterContainer=a;this._oVariantNameMap=new u.Map();this._oVariantMap=new u.Map();V=p.clone(this._oAdapterContainer.getItemValue(v));if(V.hasOwnProperty("currentVariant")){this._sCurrentVariantKey=V.currentVariant;}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}if(V.hasOwnProperty("variants")){for(s in V.variants){if(V.variants.hasOwnProperty(s)){b=V.variants[s].name;o=V.variants[s].variantData;if(this._oVariantNameMap.containsKey(b)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{this._oVariantNameMap.put(b,s);d=new P(s,b,o);this._oVariantMap.put(s,d);}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return this;};c.prototype.getCurrentVariantKey=function(){return this._sCurrentVariantKey;};c.prototype.setCurrentVariantKey=function(v){this._sCurrentVariantKey=v;};c.prototype.getVariantKeys=function(){return this._oVariantMap.keys();};c.prototype.getVariantNamesAndKeys=function(){return JSON.parse(JSON.stringify(this._oVariantNameMap.entries));};c.prototype.getVariant=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantMap.get(v);};c.prototype.getVariantKeyByName=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantNameMap.get(v);};c.prototype.containsVariant=function(v){if(typeof v!=="string"){return undefined;}return this._oVariantMap.containsKey(v);};c.prototype.addVariant=function(v){var m=0,V="",o={};m=parseInt(this._oVariantMap.keys().sort(function(a,b){return a-b;}).reverse()[0],10);V=isNaN(m)?"0":(m+1).toString();if(this._oVariantMap.containsKey(V)){throw new u.Error("Variant key '"+V+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this._oVariantNameMap.containsKey(v)){throw new u.Error("Variant name '"+v+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this._oVariantNameMap.get(v)+"' New key: '"+V+"') ': sap.ushell.services.Personalization"," ");}o=new P(V,v);this._oVariantMap.put(V,o);this._oVariantNameMap.put(v,V);return o;};c.prototype._serialize=function(){var v=[],V={},o={},t=this;V.currentVariant=this._sCurrentVariantKey;v=this.getVariantKeys();v.forEach(function(s){var a={};a=t._oVariantMap.get(s);o[s]=a._serialize();});V.variants=o;return V;};c.prototype.delVariant=function(v){var V=this._oVariantMap.get(v);if(V){this._oVariantNameMap.remove(V.getVariantName());this._oVariantMap.remove(v);}};return c;});
sap.ui.predefine('sap/ushell/services/_Personalization/Personalizer',["sap/ushell/utils"],function(u){"use strict";function P(s,a,p,S,c){this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter=a;this._oService=s;this._oScope=S;this._oComponent=c;if(!p||!p.container||!p.item||typeof p.container!=="string"||typeof p.item!=="string"){throw new u.Error("Invalid input for oPersId: sap.ushell.services.Personalization"," ");}this._sPersContainer=p.container;this._sPersItem=p.item;};P.prototype._getContainer=function(p){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oService.getContainer(p,this._oScope,this._oComponent);}return this._oGetContainerPromise;};P.prototype.getPersData=function(){var d={},t=this;d=new jQuery.Deferred();this._getContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){d.resolve(c.getItemValue(t._sPersItem));});d.fail(function(){jQuery.sap.log.error("Fail to get Personalization data for Personalizer container: "+t._sPersContainer);});return d.promise();};P.prototype.setPersData=function(v){var d={},t=this;d=new jQuery.Deferred();this._getContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){c.setItemValue(t._sPersItem,v);c.save().fail(function(){d.reject();}).done(function(){d.resolve();});});d.fail(function(){jQuery.sap.log.error("Fail to set Personalization data for Personalizer container: "+t._sPersContainer);});return d.promise();};P.prototype.delPersData=function(){var d={},t=this,m;d=new jQuery.Deferred();this._oService.getPersonalizationContainer(this._sPersContainer).fail(function(){d.reject();}).done(function(c){c.delItem(t._sPersItem);c.save().fail(function(){d.reject();}).done(function(){d.resolve();});});m=d.promise();m.fail(function(){jQuery.sap.log.error("Fail to delete Personalization data for Personalizer container: "+this._sPersContainer);});return m;};return P;});
sap.ui.predefine('sap/ushell/services/_Personalization/TransientPersonalizer',[],function(){"use strict";function T(){this._oValue=undefined;};T.prototype.getPersData=function(){var d;d=new jQuery.Deferred();d.resolve(this._oValue);return d.promise();};T.prototype.setPersData=function(v){var d;d=new jQuery.Deferred();this._oValue=v;d.resolve();return d.promise();};T.prototype.delPersData=function(){var d;d=new jQuery.Deferred();this._oValue=undefined;d.resolve();return d.promise();};T.prototype.setValue=function(v){this._oValue=v;};T.prototype.getValue=function(){return this._oValue;};return T;});
sap.ui.predefine('sap/ushell/services/_Personalization/Variant',["sap/ushell/utils","sap/ushell/services/_Personalization/utils"],function(u,p){"use strict";function V(v,s,a){if(typeof s!=="string"){throw new u.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization"," ");}if(typeof a!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}this._oVariantSet=v;this._sVariantKey=s;this._sVariantName=a;};V.prototype.getVariantKey=function(){return this._sVariantKey;};V.prototype.getVariantName=function(){return this._sVariantName;};V.prototype.setVariantName=function(v){var o=this._oVariantSet._getVariantSet(),a;if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this._oVariantSet.getVariantKeyByName(v)!==undefined){throw new u.Error("Variant with name '"+v+"' already exists in variant set '"+this._oVariantSet._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,this._sVariantKey)){a=o.variants[this._sVariantKey];a.name=v;this._sVariantName=v;this._oVariantSet._serialize();}else{throw new u.Error("Variant does not longer exist"," ");}};V.prototype.getItemValue=function(i){if(typeof i!=="string"){return undefined;}var v=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(v,i)&&p.clone(v[i]);};V.prototype.setItemValue=function(i,I){if(typeof i!=="string"){throw new u.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization"," ");}var v,a=this._oVariantSet._getVariantSet().variants&&this._oVariantSet._getVariantSet().variants[this._sVariantKey];if(!a){throw new u.Error("Variant does not longer exist"," ");}if(!a.variantData){a.variantData={};}v=a.variantData;v[i]=p.clone(I);this._oVariantSet._serialize();};V.prototype.containsItem=function(i){if(typeof i!=="string"){return undefined;}var v=this.oAccess.variantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(v,i);};V.prototype.getItemKeys=function(){var v=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData,i,I=[];for(i in v){if(Object.prototype.hasOwnProperty.call(v,i)){I.push(i);}}I.sort();return I;};V.prototype.delItem=function(i){if(typeof i!=="string"){return undefined;}var v=this.oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;delete v[i];this.oVariantSet._serialize();};return V;});
sap.ui.predefine('sap/ushell/services/_Personalization/VariantSet',["sap/ushell/utils","sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/PersonalizationContainerVariant","sap/ushell/services/_Personalization/Variant"],function(u,c,P,V){"use strict";function d(v,C){var s,a,o=new u.Map(),b=new u.Map(),e,f;this._oContextContainer=C;this._sVariantSetKey=v;this._oVariantSetData=this._oContextContainer._getItemValueInternal(c.S_VARIANT_PREFIX,this._sVariantSetKey);if(!Object.prototype.hasOwnProperty.call(this._oVariantSetData,"currentVariant")){throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}if(Object.prototype.hasOwnProperty.call(this._oVariantSetData,"variants")){for(s in this._oVariantSetData.variants){if(Object.prototype.hasOwnProperty.call(this._oVariantSetData.variants,s)){a=this._oVariantSetData.variants[s].name;e=this._oVariantSetData.variants[s].variantData;if(o.containsKey(a)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{o.put(a,s);f=new P(s,a,e);b.put(s,f);}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return this;}d.prototype._getVariantSet=function(){return this._oVariantSetData;};d.prototype._serialize=function(){this._oContextContainer._setItemValueInternal(c.S_VARIANT_PREFIX,this._sVariantSetKey,this._oVariantSetData);};d.prototype.getCurrentVariantKey=function(){return this._getVariantSet().currentVariant;};d.prototype.setCurrentVariantKey=function(v){this._getVariantSet().currentVariant=v;this._serialize();};d.prototype.getVariantKeys=function(){var v=new u.Map(),o=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(o,"variants")){for(s in o.variants){if(Object.prototype.hasOwnProperty.call(o.variants,s)){v.put(s,"dummy");}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return v.keys();};d.prototype.getVariantNamesAndKeys=function(){var v=new u.Map(),o=new u.Map(),a=this._getVariantSet(this._sVariantSetKey),s,b;if(Object.prototype.hasOwnProperty.call(a,"variants")){for(s in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,s)){b=a.variants[s].name;if(v.containsKey(b)){throw new u.Error("Variant name already exists: sap.ushell.services.Personalization"," ");}else{v.put(b,s);}o.put(s,"dummy");}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return v.entries;};d.prototype.getVariant=function(v){if(typeof v!=="string"){return undefined;}var o=this._getVariantSet(this._sVariantSetKey),s,a,b;if(Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,v)){s=o.variants[v].name;b=o.variants[v].variantData;a=new V(this,v,s,b);return a;}return undefined;};d.prototype.getVariantKeyByName=function(v){if(typeof v!=="string"){return undefined;}var o=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(o,"variants")){for(s in o.variants){if(Object.prototype.hasOwnProperty.call(o.variants,s)){if(v===o.variants[s].name){return s;}}}}else{throw new u.Error("Corrupt variant set data: sap.ushell.services.Personalization"," ");}return undefined;};d.prototype.containsVariant=function(v){var o=this._getVariantSet();if(typeof v!=="string"){return undefined;}return Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,v);};d.prototype.addVariant=function(v){var k=[],m=0,s="",o={};k=this.getVariantKeys();m=parseInt(k.sort(function(a,b){return a-b;}).reverse()[0],10);s=isNaN(m)?"0":(m+1).toString();if(k.indexOf(s)>=0){throw new u.Error("Variant key '"+s+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization"," ");}if(typeof v!=="string"){throw new u.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization"," ");}if(this.getVariantKeyByName(v)!==undefined){throw new u.Error("Variant name '"+v+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this.getVariantKeyByName(v)+"' New key: '"+s+"') ': sap.ushell.services.Personalization"," ");}o=new V(this,s,v);this._getVariantSet(this._sVariantSetKey).variants[s]={name:v,variantData:{}};this._serialize();return o;};d.prototype.delVariant=function(v){var o;if(typeof v!=="string"){return undefined;}o=this._getVariantSet();if(o&&o.variants){delete this._oVariantSetData.variants[v];}this._serialize();};return d;});
sap.ui.predefine('sap/ushell/services/_Personalization/VariantSetAdapter',["sap/ushell/services/_Personalization/constants.private","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/VariantSet"],function(c,u,V){"use strict";function a(C){this._oContextContainer=C;};a.prototype.save=function(){return this._oContextContainer.save();};a.prototype.getVariantSetKeys=function(){var p=this._oContextContainer._getInternalKeys(),v=[];v=p.map(function(e){return e.replace(c.S_VARIANT_PREFIX,"","");});return v;};a.prototype.containsVariantSet=function(v){return this.getVariantSetKeys().indexOf(v)>=0;};a.prototype.getVariantSet=function(v){var o=this._oContextContainer._getItemValueInternal(c.S_VARIANT_PREFIX,v);if(!o){return undefined;}return new V(v,this._oContextContainer);};a.prototype.addVariantSet=function(v){var e={},o={};if(this.containsVariantSet(v)){throw new u.Error("Container already contains a variant set with key '"+v+"': sap.ushell.services.Personalization"," ");}e={currentVariant:null,variants:{}};this._oContextContainer._setItemValueInternal(c.S_VARIANT_PREFIX,v,e);o=new V(v,this._oContextContainer);return o;};a.prototype.delVariantSet=function(v){this._oContextContainer._delItemInternal(c.S_VARIANT_PREFIX,v);};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/WindowAdapter',[],function(){"use strict";var W=function(p,b){this._oBackendAdapter=b;if(b){this.supportsGetWithoutSubsequentLoad=b.supportsGetWithoutSubsequentLoad;}};W.prototype.data={};W.prototype.getAdapterContainer=function(c,s,a){var b=this._oBackendAdapter&&this._oBackendAdapter.getAdapterContainer(c,s,a);var d=sap.ui.requireSync("sap/ushell/services/_Personalization/WindowAdapterContainer");return new d(c,s,b);};W.prototype.delAdapterContainer=function(c,s){var d=new jQuery.Deferred();delete W.prototype.data[c];if(this._oBackendAdapter){this._oBackendAdapter.delAdapterContainer(c,s).done(function(){d.resolve();}).fail(function(m){d.reject(m);});}else{d.resolve();}return d.promise();};return W;});
sap.ui.predefine('sap/ushell/services/_Personalization/WindowAdapterContainer',["sap/ushell/utils","sap/ushell/services/_Personalization/utils","sap/ushell/services/_Personalization/WindowAdapter"],function(u,p,W){"use strict";function a(C,s,b){this._oBackendContainer=b;this._oItemMap=new u.Map();this._sContainerKey=C;};function c(C){var i,k=C.getItemKeys();for(i=0;i<k.length;i=i+1){C.delItem(k[i]);}}a.prototype.load=function(){var d=new jQuery.Deferred(),i,k,t=this;if(W.prototype.data[this._sContainerKey]){this._oItemMap.entries=p.clone(W.prototype.data[this._sContainerKey]);if(this._oBackendContainer){c(this._oBackendContainer);k=this.getItemKeys();for(i=0;i<k.length;i=i+1){this._oBackendContainer.setItemValue(k[i],this._oItemMap.get(k[i]));}}d.resolve();}else{if(this._oBackendContainer){this._oBackendContainer.load().done(function(){k=t._oBackendContainer.getItemKeys();for(i=0;i<k.length;i=i+1){t.setItemValue(k[i],t._oBackendContainer.getItemValue(k[i]));}W.prototype.data[t._sContainerKey]=p.clone(t._oItemMap.entries);d.resolve();}).fail(function(m){d.reject(m);});}else{W.prototype.data[this._sContainerKey]={};d.resolve();}}return d.promise();};a.prototype.save=function(){var d=new jQuery.Deferred();W.prototype.data[this._sContainerKey]=p.clone(this._oItemMap.entries);if(this._oBackendContainer){this._oBackendContainer.save().done(function(){d.resolve();}).fail(function(m){d.reject(m);});}else{d.resolve();}return d.promise();};a.prototype.getItemKeys=function(){return this._oItemMap.keys();};a.prototype.containsItem=function(i){this._oItemMap.containsKey(i);};a.prototype.getItemValue=function(i){return this._oItemMap.get(i);};a.prototype.setItemValue=function(i,I){this._oItemMap.put(i,I);if(this._oBackendContainer){this._oBackendContainer.setItemValue(i,I);}};a.prototype.delItem=function(i){this._oItemMap.remove(i);if(this._oBackendContainer){this._oBackendContainer.delItem(i);}};return a;});
sap.ui.predefine('sap/ushell/services/_Personalization/constants',[],function(){"use strict";return{keyCategory:{"FIXED_KEY":"FIXED_KEY","GENERATED_KEY":"GENERATED_KEY"},writeFrequency:{"HIGH":"HIGH","LOW":"LOW"}};});
sap.ui.predefine('sap/ushell/services/_Personalization/constants.private',[],function(){"use strict";return{S_CONTAINER_PREFIX:"sap.ushell.personalization#",S_ITEM_PREFIX:"ITEM#",S_VARIANT_PREFIX:"VARIANTSET#",S_ABAPTIMESTAMPFORMAT:"yyyyMMddHHmmss",S_ADMIN_PREFIX:"ADMIN#",S_ITEMKEY_SCOPE:"sap-ushell-container-scope",S_ITEMKEY_STORAGE:"sap-ushell-container-storageUTCTimestamp",S_ITEMKEY_EXPIRE:"sap-ushell-container-expireUTCTimestamp"};});
sap.ui.predefine('sap/ushell/services/_Personalization/utils',["sap/ushell/services/_Personalization/constants","sap/ushell/services/_Personalization/constants.private"],function(c,p){"use strict";function a(e,k){var m;for(m in k){if(typeof k[m]!=='function'){if(k.hasOwnProperty(m)){if(m===e){return true;}}}}return false;}function b(C){if(C.length>40){jQuery.sap.log.error("Personalization Service container key (\""+C+"\") should be less than 40 characters [current :"+C.length+"]");}return p.S_CONTAINER_PREFIX+C;}function d(o,L,t,P){if(o&&o.validity===0&&!L){return t;}return P;}function i(){var r=window["sap-ushell-config"]&&window["sap-ushell-config"].services&&window["sap-ushell-config"].services.ShellNavigation&&window["sap-ushell-config"].services.ShellNavigation.config&&window["sap-ushell-config"].services.ShellNavigation.config.reload;return r;}function f(s,L){var A={validity:Infinity,keyCategory:c.keyCategory.GENERATED_KEY,writeFrequency:c.writeFrequency.HIGH,clientStorageAllowed:false};if(s){A.validity=s.validity;if(A.validity===null||A.validity===undefined||typeof A.validity!=="number"){A.validity=Infinity;}if(!(typeof A.validity==="number"&&((A.validity>=0&&A.validity<1000)||A.validity===Infinity))){A.liftime=Infinity;}A.keyCategory=a(s.keyCategory,c.keyCategory)?s.keyCategory:A.keyCategory;A.writeFrequency=a(s.writeFrequency,c.writeFrequency)?s.writeFrequency:A.writeFrequency;if(typeof s.clientStorageAllowed==='boolean'&&(s.clientStorageAllowed===true||s.clientStorageAllowed===false)){A.clientStorageAllowed=s.clientStorageAllowed;}}if(A.validity===0&&L){A.validity=1440;}return A;}function l(A){if(!A.lazy){return jQuery.when(A.instance);}try{return A.create.call(null);}catch(e){return new jQuery.Deferred().reject(e).promise();}}function g(C){if(!C){return false;}var A=C.getManifestObject();if(!A){return false;}var s=A.getEntry("/sap.ui5/appVariantId");if(!s){return false;}var e=A.getComponentName();if(s===e){return false;}return true;}function h(o){if(o===undefined){return undefined;}try{return JSON.parse(o);}catch(e){return undefined;}}function j(o){if(o===undefined){return undefined;}try{return JSON.parse(JSON.stringify(o));}catch(e){return undefined;}}return{adjustScope:f,cloneToObject:h,clone:j,addContainerPrefix:b,pickAdapter:d,isAppVariant:g,loadAdapter:l,isLaunchpadReload:i};});
sap.ui.predefine('sap/ushell/services/_Ui5ComponentLoader/utils',["sap/ui/thirdparty/jquery","sap/base/util/UriParameters","sap/ui/core/util/AsyncHintsHelper"],function(q,U,a){"use strict";var O={name:"core-ext-light",count:4,debugName:"core-ext-light-dbg",path:"sap/fiori/"};function c(C,o){var D=new q.Deferred();C.componentData=o;C.async=true;sap.ui.component(C).then(function(t){D.resolve(t);},function(E){D.reject(E);});return D.promise();}function s(S){var A=(S&&S.hasOwnProperty("amendedLoading"))?S.amendedLoading:true;return A;}function b(A){var L=true;if(A.hasOwnProperty("loadCoreExt")){L=A.loadCoreExt;}return L;}function d(A,S,o){var L=true;if(A.hasOwnProperty("loadDefaultDependencies")){L=A.loadDefaultDependencies;}if(S&&S.hasOwnProperty("loadDefaultDependencies")){L=L&&S.loadDefaultDependencies;}L=L&&o;return L;}function e(P){var S=P.semanticObject||null;var A=P.action||null;if(!S||!A){return null;}return"application-"+S+"-"+A+"-component";}function u(o){return o&&o.indexOf("?")>=0;}function r(o){var t=new RegExp("[/]~[\\w-]+~[A-Z0-9]?");return o.replace(t,"");}function f(o){if(!o){return o;}var I=o.indexOf("?");if(I>=0){return o.slice(0,I);}return o;}function i(){return q.sap.isDeclared('sap.fiori.core',true)||q.sap.isDeclared('sap.fiori.core-ext-light',true);}function l(A,E,o,t,C){var w="The issue is most likely caused by application "+A,x="Failed to load UI5 component with properties: '"+C+"'.";if(t){x+=" Error likely caused by:\n"+t;}else{x+=" Error: '"+E+"'";}if(o==="parsererror"){w+=", as one or more of its resources could not be parsed";}w+=". Please create a support incident and assign it to the support component of the respective application.";q.sap.log.error(w,x,A);}function g(o){var P=q.sap.getUriParameters(o).mParams,x=P["sap-xapp-state"],R;delete P["sap-xapp-state"];R={startupParameters:P};if(x){R["sap-xapp-state"]=x;}return R;}function h(A,M){if(!q.isArray(M)){return;}M.forEach(function(o){var S=String.prototype.toLowerCase.call(o.severity||"");S=["trace","debug","info","warning","error","fatal"].indexOf(S)!==-1?S:"error";q.sap.log[S](o.text,o.details,A);});}function p(C){var B,o={name:"CoreResourcesComplement"};if(v(C)){B=C;}else{B=O;}if(window["sap-ui-debug"]===true){o.aResources=[B.path+B.debugName+".js"];}else{o.aResources=j(B.name,B.path,B.count);}return o;}function j(B,P,R){var o=arguments[3]||[],t=P;if(typeof B!=="string"||typeof t!=="string"||typeof R!=="number"){q.sap.log.error("Ui5ComponentLoader: _buildBundleResourcesArray called with invalid arguments");return null;}if(t.substr(-1)!=="/"){t+="/";}if(R===1){o.push(t+B+".js");}if(o.length>=R){return o;}o.push(t+B+"-"+o.length+".js");return j(B,t,R,o);}function v(C){var o=true;if(!C){return false;}if(!C.name||typeof C.name!=="string"){q.sap.log.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'name' property");o=false;}if(!C.count||typeof C.count!=="number"){q.sap.log.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'count' property");o=false;}if(!C.debugName||typeof C.debugName!=="string"){q.sap.log.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'debugName' property");o=false;}if(!C.path||typeof C.path!=="string"){q.sap.log.error("Ui5ComponentLoader: Configured CoreResourcesComplement Bundle has incorrect 'path' property");o=false;}return o;}function k(B){if(!B||!Array.isArray(B.aResources)||!B.name){q.sap.log.error("Ui5ComponentLoader: loadBundle called with invalid arguments");return null;}var P=[],D=new q.Deferred();B.aResources.forEach(function(R){P.push(q.sap._loadJSResourceAsync(R));});Promise.all(P).then(function(){D.resolve();}).catch(function(){q.sap.log.error("Ui5ComponentLoader: failed to load bundle: "+B.name);D.reject();});return D.promise();}function m(A,L,N,w,o,t,C,x,y){var z=q.extend(true,{},o);if(!z.asyncHints){z.asyncHints=L?{"libs":["sap.ca.scfld.md","sap.ca.ui","sap.me","sap.ui.unified"]}:{};}if(A){z.asyncHints.preloadBundles=z.asyncHints.preloadBundles||[];z.asyncHints.preloadBundles=z.asyncHints.preloadBundles.concat(y.aResources);}if(w){z.asyncHints.waitFor=w;}if(!z.name){z.name=t;}if(C){z.url=f(C);}if(x){z.id=x;}if(N&&z.asyncHints){a.modifyUrls(z.asyncHints,r);}return z;}function n(B,C,A,t){var o=q.extend(true,{startupParameters:{}},B);if(A){o.config=A;}if(t){o.technicalParameters=t;}if(u(C)){var w=g(C);o.startupParameters=w.startupParameters;if(w["sap-xapp-state"]){o["sap-xapp-state"]=w["sap-xapp-state"];}}return o;}return{constructAppComponentId:e,getParameterMap:g,isCoreExtAlreadyLoaded:i,logAnyApplicationDependenciesMessages:h,logInstantiateComponentError:l,shouldLoadCoreExt:b,shouldLoadDefaultDependencies:d,shouldUseAmendedLoading:s,urlHasParameters:u,removeParametersFromUrl:f,createUi5Component:c,prepareBundle:p,loadBundle:k,createComponentProperties:m,createComponentData:n,buildBundleResourcesArray:j};},false);
sap.ui.predefine('sap/ushell/ui/footerbar/ContactSupportButton',['sap/ushell/library','sap/ushell/resources','sap/ushell/ui/launchpad/AccessibilityCustomData','sap/ushell/ui/launchpad/ActionItem','./ContactSupportButtonRenderer'],function(l,r,A,a){"use strict";var C=a.extend("sap.ushell.ui.footerbar.ContactSupportButton",{metadata:{library:"sap.ushell"}});C.prototype.init=function(){if(a.prototype.init){a.prototype.init.apply(this,arguments);}this.setIcon('sap-icon://email');this.setText(r.i18n.getText("contactSupportBtn"));this.attachPress(this.showContactSupportDialog);this.setEnabled();};C.prototype.showContactSupportDialog=function(){sap.ui.require(['sap/ushell/services/Container','sap/ui/layout/form/SimpleForm','sap/ui/layout/form/SimpleFormLayout','sap/m/TextArea','sap/m/Link','sap/m/Label','sap/m/Text','sap/m/Dialog','sap/m/Button','sap/ushell/UserActivityLog'],function(b,S,c,T,L,d,e,D,B,U){var f="",u="",g="",h=[],o,i;i=function(){this.oDialog.removeContent(this.oBottomSimpleForm.getId());this.oBottomSimpleForm.destroy();if(this.oClientContext.navigationData.applicationInformation){f=this.oClientContext.navigationData.applicationInformation.applicationType;u=this.oClientContext.navigationData.applicationInformation.url;g=this.oClientContext.navigationData.applicationInformation.additionalInformation;}h.push(new e({text:this.translationBundle.getText("loginDetails")}).addStyleClass('sapUshellContactSupportHeaderInfoText'));h.push(new d({text:this.translationBundle.getText("userFld")}));h.push(new e({text:this.oClientContext.userDetails.fullName||''}));h.push(new d({text:this.translationBundle.getText("serverFld")}));h.push(new e({text:window.location.host}));if(this.oClientContext.userDetails.eMail&&this.oClientContext.userDetails.eMail!==''){h.push(new d({text:this.translationBundle.getText("eMailFld")}));h.push(new e({text:this.oClientContext.userDetails.eMail||''}));}h.push(new d({text:this.translationBundle.getText("languageFld")}));h.push(new e({text:this.oClientContext.userDetails.Language||''}));if(this.oClientContext.shellState==="app"||this.oClientContext.shellState==="standalone"){h.push(new e({text:''}));h.push(new e({text:this.translationBundle.getText("navigationDataFld")}).addStyleClass('sapUshellContactSupportHeaderInfoText'));h.push(new d({text:this.translationBundle.getText("hashFld")}));h.push(new e({text:this.oClientContext.navigationData.navigationHash||''}));h.push(new e({text:''}));h.push(new e({text:this.translationBundle.getText("applicationInformationFld")}).addStyleClass('sapUshellContactSupportHeaderInfoText'));h.push(new d({text:this.translationBundle.getText("applicationTypeFld")}));h.push(new e({text:f}));h.push(new d({text:this.translationBundle.getText("urlFld")}));h.push(new e({text:u}));h.push(new d({text:this.translationBundle.getText("additionalInfoFld")}));h.push(new e({text:g}));}this.oBottomSimpleForm=new S('technicalInfoBox',{layout:c.ResponsiveLayout,content:h}).addStyleClass("sapUshellTechnicalInfoBox");if(sap.ui.Device.os.ios&&sap.ui.Device.system.phone){this.oBottomSimpleForm.addStyleClass("sapUshellContactSupportFixWidth");}o=this.oBottomSimpleForm.onAfterRendering;this.oBottomSimpleForm.onAfterRendering=function(){o.apply(this,arguments);var n=jQuery(this.getDomRef());n.attr("tabIndex",0);jQuery.sap.delayedCall(700,n,function(){this.focus();});};this.oDialog.addContent(this.oBottomSimpleForm);}.bind(this);this._embedLoginDetailsInBottomForm=i;this.translationBundle=r.i18n;this.oClientContext=U.getMessageInfo();this.oLink=new L({text:this.translationBundle.getText("technicalDataLink")});this.oBottomSimpleForm=new S("bottomForm",{editable:false,content:[this.oLink]});this.sendButton=new B("contactSupportSendBtn",{text:this.translationBundle.getText("sendBtn"),enabled:false,press:function(){var s=sap.ushell.Container.getService("SupportTicket"),t=this.oTextArea.getValue(),j={text:t,clientContext:this.oClientContext},p=s.createTicket(j);p.done(function(){sap.ushell.Container.getService("Message").info(this.translationBundle.getText("supportTicketCreationSuccess"));}.bind(this));p.fail(function(){sap.ushell.Container.getService("Message").error(this.translationBundle.getText("supportTicketCreationFailed"));}.bind(this));this.oDialog.close();}.bind(this)});this.cancelButton=new B("contactSupportCancelBtn",{text:this.translationBundle.getText("cancelBtn"),press:function(){this.oDialog.close();}.bind(this)});this.oTextArea=new T("textArea",{rows:7,liveChange:function(){if(/\S/.test(this.oTextArea.getValue())){this.sendButton.setEnabled(true);}else{this.sendButton.setEnabled(false);this.oTextArea.setValue("");}}.bind(this)});this.oTopSimpleForm=new S("topForm",{editable:false,content:[this.oTextArea],layout:c.ResponsiveGridLayout});this.oDialog=new D({id:"ContactSupportDialog",title:this.translationBundle.getText("contactSupportBtn"),contentWidth:"29.6rem",leftButton:this.sendButton,rightButton:this.cancelButton,initialFocus:"textArea",afterOpen:function(){jQuery("#textArea").on("focusout",function(){window.scrollTo(0,0);});},afterClose:function(){this.oDialog.destroy();}.bind(this)}).addStyleClass("sapUshellContactSupportDialog");this.oTextArea.setPlaceholder(this.translationBundle.getText("txtAreaPlaceHolderHeader"));this.oLink.attachPress(i.bind(this));this.oDialog.addCustomData(new A({key:"aria-label",value:this.translationBundle.getText("ContactSupportArialLabel"),writeToDom:true}));this.oDialog.addContent(this.oTopSimpleForm);this.oDialog.addContent(this.oBottomSimpleForm);this.oDialog.open();}.bind(this));};C.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning("Disabling 'Contact Support' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.ContactSupportButton");}e=false;}a.prototype.setEnabled.call(this,e);};return C;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/ContactSupportButtonRenderer',['sap/ui/core/Renderer','sap/m/ButtonRenderer'],function(R,B){"use strict";var C=R.extend(B);return C;},true);
sap.ui.predefine('sap/ushell/ui/footerbar/EndUserFeedback',['sap/ushell/library','sap/ushell/resources','sap/ushell/ui/launchpad/AccessibilityCustomData','sap/ushell/ui/launchpad/ActionItem','sap/ushell/services/AppConfiguration','./EndUserFeedbackRenderer','sap/ushell/services/EndUserFeedback','sap/ushell/services/Message','sap/ushell/services/URLParsing'],function(l,r,A,a,b){"use strict";var E=a.extend("sap.ushell.ui.footerbar.EndUserFeedback",{metadata:{library:"sap.ushell",properties:{showAnonymous:{type:"boolean",group:"Misc",defaultValue:true},anonymousByDefault:{type:"boolean",group:"Misc",defaultValue:true},showLegalAgreement:{type:"boolean",group:"Misc",defaultValue:true},showCustomUIContent:{type:"boolean",group:"Misc",defaultValue:true},feedbackDialogTitle:{type:"string",group:"Misc",defaultValue:null},textAreaPlaceholder:{type:"string",group:"Misc",defaultValue:null}},aggregations:{customUIContent:{type:"sap.ui.core.Control",multiple:true,singularName:"customUIContent"}}}});E.prototype.init=function(){if(a.prototype.init){a.prototype.init.apply(this,arguments);}var u=sap.ushell.Container.getUser(),f=sap.ushell.utils.getFormFactor();this.oUserDetails={userId:u.getId(),eMail:u.getEmail()};this.translationBundle=r.i18n;this.oEndUserFeedbackService=sap.ushell.Container.getService("EndUserFeedback");this.appConfiguration=b;this.oEndUserFeedbackModel=new sap.ui.model.json.JSONModel();this.oEndUserFeedbackModel.setData({feedbackViewTitle:this.translationBundle.getText("userFeedback_title"),legalAgreementViewTitle:this.translationBundle.getText("userFeedbackLegal_title"),textAreaPlaceholderText:this.translationBundle.getText("feedbackPlaceHolderHeader"),presentationStates:{showAnonymous:this.getShowAnonymous(),showLegalAgreement:this.getShowLegalAgreement(),showCustomUIContent:this.getShowCustomUIContent()},clientContext:{userDetails:jQuery.extend(true,{},this.oUserDetails),navigationData:{formFactor:f,applicationInformation:{},navigationHash:null}},isAnonymous:this.getAnonymousByDefault(),applicationIconPath:'',leftButton:{feedbackView:this.translationBundle.getText("sendBtn"),legalAgreementView:this.translationBundle.getText("approveBtn")},rightButton:{feedbackView:this.translationBundle.getText("cancelBtn"),legalAgreementView:this.translationBundle.getText("declineBtn")},states:{isLegalAgreementChecked:false,isRatingSelected:false,isInFeedbackView:true},technicalLink:{state:0,title:[this.translationBundle.getText("technicalDataLink"),this.translationBundle.getText("technicalDataLinkHide")]},textArea:{inputText:''},contextText:'',ratingButtons:[{text:r.i18n.getText("ratingExcellentText"),color:'sapUshellRatingLabelFeedbackPositiveText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-very-happy',id:'rateBtn1',index:1},{text:r.i18n.getText("ratingGoodText"),color:'sapUshellRatingLabelFeedbackPositiveText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-happy',id:'rateBtn2',index:2},{text:r.i18n.getText("ratingAverageText"),color:'sapUshellRatingLabelFeedbackNeutralText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-neutral',id:'rateBtn3',index:3},{text:r.i18n.getText("ratingPoorText"),color:'sapUshellRatingLabelFeedbackCriticalText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-bad',id:'rateBtn4',index:4},{text:r.i18n.getText("ratingVeyPoorText"),color:'sapUshellRatingLabelFeedbackNegativeText',iconSymbol:'sap-icon://BusinessSuiteInAppSymbols/icon-face-very-bad',id:'rateBtn5',index:5}],selectedRating:{text:'',color:'',index:0}});this.setIcon('sap-icon://marketing-campaign');this.setText(r.i18n.getText("endUserFeedbackBtn"));this.attachPress(this.ShowEndUserFeedbackDialog);this.setEnabled();};E.prototype.ShowEndUserFeedbackDialog=function(){sap.ui.require(['sap/ui/layout/form/SimpleForm','sap/ui/layout/form/SimpleFormLayout','sap/ui/layout/HorizontalLayout','sap/ui/layout/VerticalLayout','sap/m/TextArea','sap/m/Link','sap/m/Label','sap/m/Text','sap/m/Dialog','sap/m/Button','sap/m/Image','sap/m/Bar','sap/m/SegmentedButton','sap/m/CheckBox'],function(S,c,H,V,T,L,d,e,D,B,I,f,g,C){var h,i,s,j,u,m,k,n;h=function(){var F=[],p=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/formFactor'),U=this.oEndUserFeedbackModel.getProperty('/clientContext/userDetails/userId'),q=this.oEndUserFeedbackModel.getProperty('/clientContext/userDetails/eMail'),t=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/applicationInformation/url'),v=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/applicationInformation/applicationType'),w=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/applicationInformation/additionalInformation'),N=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/navigationHash'),x=this.getModel().getProperty("/currentState/stateName"),y=(x==="home"||x==="catalog")?false:true;F.push(new e({text:this.translationBundle.getText("loginDetails")}).addStyleClass('sapUshellContactSupportHeaderInfoText'));F.push(U?new d({text:this.translationBundle.getText("userFld")}):null);F.push(U?new e('technicalInfoUserIdTxt',{text:'{/clientContext/userDetails/userId}'}):null);F.push(q?new d({text:this.translationBundle.getText("eMailFld")}):null);F.push(q?new e({text:'{/clientContext/userDetails/eMail}'}):null);F.push(p?new d({text:this.translationBundle.getText('formFactorFld')}):null);F.push(p?new e({text:'{/clientContext/navigationData/formFactor}'}):null);F.push(new e({text:''}));F.push(new e({text:this.translationBundle.getText(this.currentApp?'applicationInformationFld':'feedbackHeaderText')}).addStyleClass('sapUshellEndUserFeedbackHeaderInfoText').addStyleClass("sapUshellEndUserFeedbackInfoTextSpacing"));F.push(t&&y?new d({text:this.translationBundle.getText("urlFld")}):null);F.push(t&&y?new e({text:'{/clientContext/navigationData/applicationInformation/url}'}):null);F.push(v?new d({text:this.translationBundle.getText("applicationTypeFld")}):null);F.push(v?new e({text:'{/clientContext/navigationData/applicationInformation/applicationType}'}):null);F.push(w?new d({text:this.translationBundle.getText("additionalInfoFld")}):null);F.push(w?new e({text:'{/clientContext/navigationData/applicationInformation/additionalInformation}'}):null);F.push(N&&y?new d({text:this.translationBundle.getText("hashFld")}):null);F.push(N&&y?new e({text:'{/clientContext/navigationData/navigationHash}'}):null);return F.filter(Boolean);}.bind(this);i=function(){this.oTechnicalInfoBox=new S('feedbackTechnicalInfoBox',{layout:c.ResponsiveLayout,content:h()});if(sap.ui.Device.os.ios&&sap.ui.Device.system.phone){this.oTechnicalInfoBox.addStyleClass("sapUshellContactSupportFixWidth");}var p=this.oTechnicalInfoBox.onAfterRendering;this.oTechnicalInfoBox.onAfterRendering=function(){p.apply(this,arguments);var q=jQuery(this.getDomRef());q.attr("tabIndex",0);jQuery.sap.delayedCall(700,q,function(){this.focus();});};return new H('technicalInfoBoxLayout',{visible:{path:'/technicalLink/state',formatter:function(q){return q===1;}},content:[this.oTechnicalInfoBox]});}.bind(this);u=function(){this.oTechnicalInfoBox.destroyContent();this.oTechnicalInfoBox.removeAllContent();var t=h(),p;for(p in t){this.oTechnicalInfoBox.addContent(t[p]);}this.oRatingButtons.setSelectedButton('noDefalut');}.bind(this);m=jQuery.sap.getModulePath("sap.ushell");k=m+'/themes/base/img/launchpadDefaultIcon.jpg';n=this.oEndUserFeedbackModel.getProperty('/clientContext/navigationData/formFactor')==='desktop';this.updateModelContext();if(this.oDialog){u();this.oDialog.open();return;}this.oLegalAgreementInfoLayout=null;this.oBackButton=new B('endUserFeedbackBackBtn',{visible:{path:"/states/isInFeedbackView",formatter:function(p){return!p;}},icon:sap.ui.core.IconPool.getIconURI("nav-back"),press:function(){this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',true);}.bind(this),tooltip:r.i18n.getText("feedbackGoBackBtn_tooltip")});this.oPopoverTitle=new e("PopoverTitle",{text:{parts:[{path:'/states/isInFeedbackView'},{path:'/feedbackViewTitle'}],formatter:function(p){return this.oEndUserFeedbackModel.getProperty(p?"/feedbackViewTitle":"/legalAgreementViewTitle");}.bind(this)}});this.oHeadBar=new f({contentLeft:[this.oBackButton],contentMiddle:[this.oPopoverTitle]});this.oLogoImg=new I('sapFeedbackLogo',{src:k,width:'4.5rem',height:'4.5rem',visible:{path:'/applicationIconPath',formatter:function(p){return!p;}}});this.oAppIcon=new sap.ui.core.Icon('sapFeedbackAppIcon',{src:'{/applicationIconPath}',width:'4.5rem',height:'4.5rem',visible:{path:'/applicationIconPath',formatter:function(p){return!!p;}}}).addStyleClass("sapUshellFeedbackAppIcon");this.oContextName=new e('contextName',{text:'{/contextText}'});this.oContextLayout=new H('contextLayout',{allowWrapping:true,content:[this.oLogoImg,this.oAppIcon,this.oContextName]});this.oRatingLabel=new d('ratingLabel',{required:true,text:r.i18n.getText("ratingLabelText")});this.oRatingSelectionText=new e('ratingSelectionText',{text:{path:'/selectedRating',formatter:function(p){if(this.lastSelectedColor){this.removeStyleClass(this.lastSelectedColor);}if(p.color){this.addStyleClass(p.color);}this.lastSelectedColor=p.color;return p.text;}}});this.oRatingButtonTemplate=new B({icon:'{iconSymbol}',height:'100%',width:'20%',tooltip:'{text}'});this.oRatingButtonTemplate.addCustomData(new A({key:"aria-label",value:'{text}',writeToDom:true}));this.oRatingButtons=new g('ratingButtons',{selectedButton:'noDefalut',buttons:{path:"/ratingButtons",template:this.oRatingButtonTemplate},select:function(p){var q=p.mParameters.id,P=sap.ui.getCore().byId(q).getBindingContext().getPath(),t=this.oEndUserFeedbackModel.getProperty(P);this.oEndUserFeedbackModel.setProperty('/selectedRating',{text:t.text,color:t.color,index:t.index});this.oEndUserFeedbackModel.setProperty('/states/isRatingSelected',true);}.bind(this)});this.oRatingButtons.addAriaLabelledBy("ratingLabel");this.oRatingButtons.addCustomData(new A({key:"aria-required",value:'true',writeToDom:true}));if(n){this.oRatingIndicationLayout=new H('ratingIndicationLayout',{content:[this.oRatingLabel,this.oRatingSelectionText]});}else{this.oRatingIndicationLayout=new V('ratingIndicationLayoutMob',{content:[this.oRatingLabel,this.oRatingSelectionText]});}this.oRatingLayout=new V('ratingLayout',{width:"100%",content:[this.oRatingIndicationLayout,this.oRatingButtons]});this.oAnonymousCheckbox=new C('anonymousCheckbox',{name:'anonymousCheckbox',visible:'{/presentationStates/showAnonymous}',text:r.i18n.getText("feedbackSendAnonymousText"),selected:!this.oEndUserFeedbackModel.getProperty("/isAnonymous"),select:function(p){var q=p.getParameter("selected");this._handleAnonymousSelection(!q);}.bind(this)});var o=(!this.oEndUserFeedbackModel.getProperty("/presentationStates/showAnonymous")||this.oEndUserFeedbackModel.getProperty("/isAnonymous"));this._handleAnonymousSelection(o);this.oLegalAgrementCheckbox=new C('legalAgreement',{name:'legalAgreement',visible:'{/presentationStates/showLegalAgreement}',selected:'{/states/isLegalAgreementChecked}',text:this.translationBundle.getText("agreementAcceptanceText")});this.oLegalAgreeementLink=new L('legalAgreementLink',{text:this.translationBundle.getText("legalAgreementLinkText"),visible:'{/presentationStates/showLegalAgreement}',press:function(){var p=this.oEndUserFeedbackService.getLegalText();p.done(s.bind(this));}.bind(this)});this.aCustomUIContent=jQuery.extend([],this.getCustomUIContent());this.oCustomUILayout=new V('customUILayout',{visible:{path:'/presentationStates/showCustomUIContent',formatter:function(p){return(p&&this.aCustomUIContent.length)?true:false;}.bind(this)},content:this.getCustomUIContent(),width:"100%"});this.oLegalLayout=new V('legalLayout',{content:[this.oAnonymousCheckbox,this.oLegalAgrementCheckbox,this.oLegalAgreeementLink]});this.oTechnicalDataLink=new L('technicalDataLink',{text:{path:'/technicalLink/state',formatter:function(p){return this.getModel().getProperty('/technicalLink/title/'+p);}},press:function(){var _=this.oEndUserFeedbackModel.getProperty("/technicalLink/state");this.oEndUserFeedbackModel.setProperty('/technicalLink/state',Math.abs(_-1));this.oDialog.rerender();}.bind(this)});this.oTechnicalDataLayout=new H('technicalDataLayout',{content:[this.oTechnicalDataLink]});this.leftButton=new B("EndUserFeedbackLeftBtn",{text:{path:"/states/isInFeedbackView",formatter:function(p){return this.getModel().getProperty('/leftButton/'+(p?'feedbackView':'legalAgreementView'));}},enabled:{parts:[{path:'/states/isInFeedbackView'},{path:'/states/isLegalAgreementChecked'},{path:'/states/isRatingSelected'},{path:'/presentationStates/showLegalAgreement'}],formatter:function(p,q,t,v){return!p||(t&&(q||!v));}},press:function(){var p=this.oEndUserFeedbackModel.getProperty("/states/isInFeedbackView");if(p){var F={feedbackText:this.oEndUserFeedbackModel.getProperty('/textArea/inputText'),ratings:[{questionId:"Q10",value:this.oEndUserFeedbackModel.getProperty('/selectedRating/index')}],clientContext:this.oEndUserFeedbackModel.getProperty('/clientContext'),isAnonymous:this.oEndUserFeedbackModel.getProperty('/isAnonymous')},q=this.oEndUserFeedbackService.sendFeedback(F);q.done(function(){sap.ushell.Container.getService("Message").info(this.translationBundle.getText('feedbackSendToastTxt'));}.bind(this));q.fail(function(){sap.ushell.Container.getService("Message").error(this.translationBundle.getText('feedbackFailedToastTxt'));}.bind(this));this.oDialog.close();}else{this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',true);this.oEndUserFeedbackModel.setProperty('/states/isLegalAgreementChecked',true);}}.bind(this)});this.rightButton=new B("EndUserFeedbackRightBtn",{text:{path:"/states/isInFeedbackView",formatter:function(p){return this.getModel().getProperty('/rightButton/'+(p?'feedbackView':'legalAgreementView'));}},press:function(){var p=this.oEndUserFeedbackModel.getProperty("/states/isInFeedbackView");if(p){this.oDialog.close();}else{this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',true);this.oEndUserFeedbackModel.setProperty('/states/isLegalAgreementChecked',false);}}.bind(this)});this.oTextArea=new T("feedbackTextArea",{rows:6,value:'{/textArea/inputText}',placeholder:'{/textAreaPlaceholderText}'});this.oDialog=new D({id:"UserFeedbackDialog",contentWidth:"25rem",leftButton:this.leftButton,rightButton:this.rightButton,stretch:sap.ui.Device.system.phone,initialFocus:"textArea",afterOpen:function(){jQuery("#textArea").on("focusout",function(){window.scrollTo(0,0);});}}).addStyleClass("sapUshellEndUserFeedbackDialog");this.oDialog.setModel(this.oEndUserFeedbackModel);this.oDialog.setCustomHeader(this.oHeadBar);this.oDialog.addCustomData(new A({key:"aria-label",value:this.translationBundle.getText("endUserFeedbackAreaLabel"),writeToDom:true}));this.oTechnicalInfoBoxLayout=i();this.oFeedbackLayout=new V('feedbackLayout',{visible:'{/states/isInFeedbackView}',content:[this.oContextLayout,this.oRatingLayout,this.oTextArea,this.oTechnicalDataLayout,this.oTechnicalInfoBoxLayout,this.oLegalLayout,this.oCustomUILayout]}).addStyleClass("sapUshellFeedbackLayout");this.oMainLayout=new V("mainLayout",{editable:false,content:[this.oFeedbackLayout]});this.oDialog.addContent(this.oMainLayout);this.oDialog.open();s=function(p){this.oEndUserFeedbackModel.setProperty('/states/isInFeedbackView',false);if(!this.oLegalAgreementInfoLayout){j(p);}};j=function(p){this.oLegalText=new T('legalText',{cols:50,rows:22});this.oLegalText.setValue([p]);this.oLegalText.setEditable(false);var q=this.oLegalText.onAfterRendering;this.oLegalText.onAfterRendering=function(){if(q){q.apply(this,arguments);}var t=jQuery(this.getDomRef());t.find("textarea").attr("tabindex","0");};this.oLegalAgreementInfoLayout=new V('legalAgreementInfoLayout',{visible:{path:"/states/isInFeedbackView",formatter:function(t){return!t;}},content:[this.oLegalText]});this.oMainLayout.addContent(this.oLegalAgreementInfoLayout);}.bind(this);}.bind(this));};E.prototype._handleAnonymousSelection=function(i){var c=this.translationBundle.getText('feedbackAnonymousTechFld');this.oEndUserFeedbackModel.setProperty('/isAnonymous',i);this.oEndUserFeedbackModel.setProperty('/clientContext/userDetails/eMail',i?c:this.oUserDetails.eMail);this.oEndUserFeedbackModel.setProperty('/clientContext/userDetails/userId',i?c:this.oUserDetails.userId);};E.prototype.addCustomUIContent=function(c){var i=c&&c.getMetadata&&c.getMetadata().getStereotype&&c.getMetadata().getStereotype()==='control';if(i){if(this.getShowCustomUIContent()){this.oEndUserFeedbackModel.setProperty('/presentationStates/showCustomUIContent',true);}this.addAggregation('customUIContent',c);}};E.prototype.setShowAnonymous=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/presentationStates/showAnonymous',v);this.setProperty('showAnonymous',v,true);}};E.prototype.setAnonymousByDefault=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/isAnonymous',v);this.setProperty('anonymousByDefault',v,true);}};E.prototype.setShowLegalAgreement=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/presentationStates/showLegalAgreement',v);this.setProperty('showLegalAgreement',v,true);}};E.prototype.setShowCustomUIContent=function(v){if(typeof v==='boolean'){this.oEndUserFeedbackModel.setProperty('/presentationStates/showCustomUIContent',v);this.setProperty('showCustomUIContent',v,true);}};E.prototype.setFeedbackDialogTitle=function(v){if(typeof v==='string'){this.oEndUserFeedbackModel.setProperty('/feedbackViewTitle',v);this.setProperty('feedbackDialogTitle',v,true);}};E.prototype.setTextAreaPlaceholder=function(v){if(typeof v==='string'){this.oEndUserFeedbackModel.setProperty('/textAreaPlaceholderText',v);this.setProperty('textAreaPlaceholder',v,true);}};E.prototype.updateModelContext=function(){var u=sap.ushell.Container.getService("URLParsing"),h,p,i,c,s,U;h=u.getShellHash(window.location);p=u.parseShellHash(h);i=(p!==undefined)?p.semanticObject+"-"+p.action:"";c=this.getModel().getProperty("/currentState/stateName");if(c==="home"||c==="catalog"){s=this.translationBundle.getText(c+'_title');}this.currentApp=this.appConfiguration.getCurrentAppliction();this.bHasAppName=(this.currentApp&&this.appConfiguration.getMetadata(this.currentApp)&&this.appConfiguration.getMetadata(this.currentApp).title);this.sAppIconPath=(this.currentApp&&this.appConfiguration.getMetadata(this.currentApp)&&this.appConfiguration.getMetadata(this.currentApp).icon);this.oEndUserFeedbackModel.setProperty('/contextText',this.bHasAppName?this.appConfiguration.getMetadata(this.currentApp).title:this.translationBundle.getText('feedbackHeaderText'));U=null;if(this.currentApp&&this.currentApp.url){U=this.currentApp.url.split('?')[0];}else if(c){U=this.translationBundle.getText("flp_page_name");}this.oEndUserFeedbackModel.setProperty('/clientContext/navigationData/applicationInformation',{url:U,additionalInformation:(this.currentApp&&this.currentApp.additionalInformation)?this.currentApp.additionalInformation:null,applicationType:(this.currentApp&&this.currentApp.applicationType)?this.currentApp.applicationType:null});this.oEndUserFeedbackModel.setProperty('/clientContext/navigationData/navigationHash',s?s:i);this.oEndUserFeedbackModel.setProperty('/selectedRating',{text:'',color:'',index:0});this.oEndUserFeedbackModel.setProperty('/states/isRatingSelected',false);this.oEndUserFeedbackModel.setProperty('/states/isLegalAgreementChecked',false);this.oEndUserFeedbackModel.setProperty('/technicalLink/state',0);this.oEndUserFeedbackModel.setProperty('/textArea/inputText','');this.oEndUserFeedbackModel.setProperty('/applicationIconPath',this.sAppIconPath);this._handleAnonymousSelection(this.oEndUserFeedbackModel.getProperty('/isAnonymous'));};E.prototype.setEnabled=function(e){if(!sap.ushell.Container){if(this.getEnabled()){jQuery.sap.log.warning("Disabling 'End User Feedback' button: unified shell container not initialized",null,"sap.ushell.ui.footerbar.EndUserFeedback");}e=false;}a.prototype.setEnabled.call(this,e);};return E;});
sap.ui.require.preload({
	"sap/ushell/renderers/fiori2/ShellHeader.fragment.xml":'<core:FragmentDefinition xmlns="sap.ushell.ui.shell" xmlns:core="sap.ui.core"><ShellHeader id="shell-header" showLogo="{/currentState/showLogo}" visible="{/currentState/headerVisible}" showSeparators="false" headItems="{path:\'/currentState/headItems\',factory:\'.shellUpdateAggItem\'}" headEndItems="{path:\'/currentState/headEndItems\',factory:\'.shellUpdateAggItem\',filters:[{path:\'\',test:\'.isHeadEndItemNotInOverflow\'}]}"><title><ShellTitle id="shellTitle" text="{/title}"/></title><appTitle><ShellAppTitle id="shellAppTitle" text="{/currentState/application/title}" tooltip="{i18n&gt;shellNavMenu_openMenuTooltip}"/></appTitle></ShellHeader></core:FragmentDefinition>',
	"sap/ushell/renderers/fiori2/ShellLayout.fragment.xml":'<core:FragmentDefinition xmlns="sap.ushell.ui.shell" xmlns:lp="sap.ushell.ui.launchpad" xmlns:core="sap.ui.core"><ShellLayout floatingContainerVisible="false" toolAreaVisible="{/currentState/toolAreaVisible}" headerVisible="{/currentState/headerVisible}" backgroundColorForce="false" showBrandLine="false" showAnimation="false" enableCanvasShapes="{/enableBackGroundShapes}" id="shell"><canvasSplitContainer><SplitContainer id="shell-split" showSecondaryContent="{/currentState/showPane}" subHeader="{path:\'/currentState/subHeader\',factory:\'.shellUpdateAggItem\'}" secondaryContent="{path:\'/currentState/paneContent\',factory:\'.shellUpdateAggItem\'}"><content><lp:ViewPortContainer id="viewPortContainer" defaultState="Center" afterSwitchState=".onAfterViewPortSwitchState" afterNavigate=".onAfterNavigate"/></content><secondaryContent/></SplitContainer></canvasSplitContainer><rightFloatingContainer><RightFloatingContainer id="right-floating-container" top="6.875" hideItemsAfterPresentation="true" visible="{/currentState/showRightFloatingContainer}" floatingContainerItems="{path:\'/currentState/RightFloatingContainerItems\',factory:\'.shellUpdateAggItem\'}" insertItemsWithAnimation="{path:\'/animationMode\',formatter:\'.isAnimationModeNotMinimal\'}"/></rightFloatingContainer></ShellLayout></core:FragmentDefinition>',
/*!!
 * Hasher <http://github.com/millermedeiros/hasher>
 * @author Miller Medeiros
 * @version 1.2.0 (2013/11/11 03:18 PM)
 * Released under the MIT License
 */
	"sap/ui/thirdparty/hasher.js":function(){;(function(){var f=function(s){var h=(function(w){var P=25,d=w.document,a=w.history,S=s.Signal,h,_,b,c,g,i,j=/#(.*)$/,k=/(\?.*)|(\#.*)/,l=/^\#/,m=(!+"\v1"),n=('onhashchange'in w)&&d.documentMode!==7,o=m&&!n,p=(location.protocol==='file:');function q(e){return String(e||'').replace(/\W/g,"\\$&");}function r(e){if(!e)return'';var D=new RegExp('^'+q(h.prependHash)+'|'+q(h.appendHash)+'$','g');return e.replace(D,'');}function t(){var D=j.exec(h.getURL());var E=(D&&D[1])||'';try{return h.raw?E:decodeURIComponent(E);}catch(e){return E;}}function u(){return(g)?g.contentWindow.frameHash:null;}function v(){g=d.createElement('iframe');g.src='about:blank';g.style.display='none';d.body.appendChild(g);}function x(){if(g&&_!==u()){var e=g.contentWindow.document;e.open();e.write('<html><head><title>'+d.title+'</title><script type="text/javascript">var frameHash="'+_+'";</script></head><body>&nbsp;</body></html>');e.close();}}function y(e,D){if(_!==e){var E=_;_=e;if(o){if(!D){x();}else{g.contentWindow.frameHash=e;}}return function(){h.changed.dispatch(r(e),r(E));};}}if(o){i=function(){var e=t(),D=u(),E;if(D!==_&&D!==e){h.setHash(r(D));}else if(e!==_){E=y(e);E&&E();}};}else{i=function(){var e=t(),D;if(e!==_){D=y(e);D&&D();}};}function z(e,D,E){if(e.addEventListener){e.addEventListener(D,E,false);}else if(e.attachEvent){e.attachEvent('on'+D,E);}}function A(e,D,E){if(e.removeEventListener){e.removeEventListener(D,E,false);}else if(e.detachEvent){e.detachEvent('on'+D,E);}}function B(e){e=Array.prototype.slice.call(arguments);var D=e.join(h.separator);D=D?h.prependHash+D.replace(l,'')+h.appendHash:D;return D;}function C(e){e=encodeURI(e);if(m&&p){e=e.replace(/\?/,'%3F');}return e;}h={VERSION:'1.2.0',raw:false,appendHash:'',prependHash:'/',separator:'/',changed:new S(),stopped:new S(),initialized:new S(),init:function(){if(c)return;_=t();if(n){z(w,'hashchange',i);}else{if(o){if(!g){v();}x();}b=setInterval(i,P);}c=true;h.initialized.dispatch(r(_));},stop:function(){if(!c)return;if(n){A(w,'hashchange',i);}else{clearInterval(b);b=null;}c=false;h.stopped.dispatch(r(_));},isActive:function(){return c;},getURL:function(){return w.location.href;},getBaseURL:function(){return h.getURL().replace(k,'');},setHash:function(e){var D;e=B.apply(null,arguments);if(e!==_){D=y(e);if(!h.raw){e=C(e);}w.location.hash='#'+e;D&&D();}},replaceHash:function(e){var D,E=w.location.href,F=E.indexOf("#");e=B.apply(null,arguments);if(e!==_){D=y(e);if(!h.raw){e=C(e);}if(F!==-1){E=E.slice(0,F);}w.location.replace(E+'#'+e);D&&D();}},getHash:function(){return r(_);},getHashAsArray:function(){return h.getHash().split(h.separator);},dispose:function(){h.stop();h.initialized.dispose();h.stopped.dispose();h.changed.dispose();g=h=w.hasher=null;},toString:function(){return'[hasher version="'+h.VERSION+'" hash="'+h.getHash()+'"]';}};h.initialized.memorize=true;return h;}(window));return h;};if(typeof define==='function'&&define.amd){define(['signals'],f);}else if(typeof exports==='object'){module.exports=f(require('signals'));}else{window['hasher']=f(window['signals']);}}());
},
/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */
	"sap/ui/thirdparty/signals.js":function(){(function(g){function S(b,l,i,c,p){this._listener=l;this._isOnce=i;this.context=c;this._signal=b;this._priority=p||0;}S.prototype={active:true,params:null,execute:function(p){var h,b;if(this.active&&!!this._listener){b=this.params?this.params.concat(p):p;h=this._listener.apply(this.context,b);if(this._isOnce){this.detach();}}return h;},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null;},isBound:function(){return(!!this._signal&&!!this._listener);},isOnce:function(){return this._isOnce;},getListener:function(){return this._listener;},getSignal:function(){return this._signal;},_destroy:function(){delete this._signal;delete this._listener;delete this.context;},toString:function(){return'[SignalBinding isOnce:'+this._isOnce+', isBound:'+this.isBound()+', active:'+this.active+']';}};function v(l,n){if(typeof l!=='function'){throw new Error('listener is a required param of {fn}() and should be a Function.'.replace('{fn}',n));}}function a(){this._bindings=[];this._prevParams=null;var b=this;this.dispatch=function(){a.prototype.dispatch.apply(b,arguments);};}a.prototype={VERSION:'1.0.0',memorize:false,_shouldPropagate:true,active:true,_registerListener:function(l,i,b,p){var c=this._indexOfListener(l,b),d;if(c!==-1){d=this._bindings[c];if(d.isOnce()!==i){throw new Error('You cannot add'+(i?'':'Once')+'() then add'+(!i?'':'Once')+'() the same listener without removing the relationship first.');}}else{d=new S(this,l,i,b,p);this._addBinding(d);}if(this.memorize&&this._prevParams){d.execute(this._prevParams);}return d;},_addBinding:function(b){var n=this._bindings.length;do{--n;}while(this._bindings[n]&&b._priority<=this._bindings[n]._priority);this._bindings.splice(n+1,0,b);},_indexOfListener:function(l,c){var n=this._bindings.length,b;while(n--){b=this._bindings[n];if(b._listener===l&&b.context===c){return n;}}return-1;},has:function(l,c){return this._indexOfListener(l,c)!==-1;},add:function(l,b,p){v(l,'add');return this._registerListener(l,false,b,p);},addOnce:function(l,b,p){v(l,'addOnce');return this._registerListener(l,true,b,p);},remove:function(l,c){v(l,'remove');var i=this._indexOfListener(l,c);if(i!==-1){this._bindings[i]._destroy();this._bindings.splice(i,1);}return l;},removeAll:function(){var n=this._bindings.length;while(n--){this._bindings[n]._destroy();}this._bindings.length=0;},getNumListeners:function(){return this._bindings.length;},halt:function(){this._shouldPropagate=false;},dispatch:function(p){if(!this.active){return;}var b=Array.prototype.slice.call(arguments),n=this._bindings.length,c;if(this.memorize){this._prevParams=b;}if(!n){return;}c=this._bindings.slice();this._shouldPropagate=true;do{n--;}while(c[n]&&this._shouldPropagate&&c[n].execute(b)!==false);},forget:function(){this._prevParams=null;},dispose:function(){this.removeAll();delete this._bindings;delete this._prevParams;},toString:function(){return'[Signal active:'+this.active+' numListeners:'+this.getNumListeners()+']';}};var s=a;s.Signal=a;if(typeof define==='function'&&define.amd){define(function(){return s;});}else{g['signals']=s;}}(this));
},
/** @license
 * crossroads <http://millermedeiros.github.com/crossroads.js/>
 * Author: Miller Medeiros | MIT License
 * v0.12.0 (2013/01/21 13:47)
 */
	"sap/ui/thirdparty/crossroads.js":function(){(function(){var f=function(s){var c,_,U;_=(/t(.+)?/).exec('t')[1]==='';function a(i,v){if(i.indexOf){return i.indexOf(v);}else{var n=i.length;while(n--){if(i[n]===v){return n;}}return-1;}}function b(l,m){var i=a(l,m);if(i!==-1){l.splice(i,1);}}function d(v,i){return'[object '+i+']'===Object.prototype.toString.call(v);}function e(v){return d(v,'RegExp');}function g(v){return d(v,'Array');}function h(v){return typeof v==='function';}function t(v){var r;if(v===null||v==='null'){r=null;}else if(v==='true'){r=true;}else if(v==='false'){r=false;}else if(v===U||v==='undefined'){r=U;}else if(v===''||isNaN(v)){r=v;}else{r=parseFloat(v);}return r;}function j(v){var n=v.length,r=[];while(n--){r[n]=t(v[n]);}return r;}function k(i,l){var q=(i||'').replace('?','').split('&'),n=q.length,o={},m,v;while(n--){m=q[n].split('=');v=l?t(m[1]):m[1];o[m[0]]=(typeof v==='string')?decodeURIComponent(v):v;}return o;}function C(){this.bypassed=new s.Signal();this.routed=new s.Signal();this._routes=[];this._prevRoutes=[];this._piped=[];this.resetState();}C.prototype={greedy:false,greedyEnabled:true,ignoreCase:true,ignoreState:false,shouldTypecast:false,normalizeFn:null,resetState:function(){this._prevRoutes.length=0;this._prevMatchedRequest=null;this._prevBypassedRequest=null;},create:function(){return new C();},addRoute:function(p,i,l){var r=new R(p,i,l,this);this._sortedInsert(r);return r;},removeRoute:function(r){b(this._routes,r);r._destroy();},removeAllRoutes:function(){var n=this.getNumRoutes();while(n--){this._routes[n]._destroy();}this._routes.length=0;},parse:function(r,l){r=r||'';l=l||[];if(!this.ignoreState&&(r===this._prevMatchedRequest||r===this._prevBypassedRequest)){return;}var m=this._getMatchedRoutes(r),i=0,n=m.length,o;if(n){this._prevMatchedRequest=r;this._notifyPrevRoutes(m,r);this._prevRoutes=m;while(i<n){o=m[i];o.route.matched.dispatch.apply(o.route.matched,l.concat(o.params));o.isFirst=!i;this.routed.dispatch.apply(this.routed,l.concat([r,o]));i+=1;}}else{this._prevBypassedRequest=r;this.bypassed.dispatch.apply(this.bypassed,l.concat([r]));}this._pipeParse(r,l);},_notifyPrevRoutes:function(m,r){var i=0,p;while(p=this._prevRoutes[i++]){if(p.route.switched&&this._didSwitch(p.route,m)){p.route.switched.dispatch(r);}}},_didSwitch:function(r,m){var l,i=0;while(l=m[i++]){if(l.route===r){return false;}}return true;},_pipeParse:function(r,l){var i=0,m;while(m=this._piped[i++]){m.parse(r,l);}},getNumRoutes:function(){return this._routes.length;},_sortedInsert:function(r){var i=this._routes,n=i.length;do{--n;}while(i[n]&&r._priority<=i[n]._priority);i.splice(n+1,0,r);},_getMatchedRoutes:function(r){var i=[],l=this._routes,n=l.length,m;while(m=l[--n]){if((!i.length||this.greedy||m.greedy)&&m.match(r)){i.push({route:m,params:m._getParamsArray(r)});}if(!this.greedyEnabled&&i.length){break;}}return i;},pipe:function(o){this._piped.push(o);},unpipe:function(o){b(this._piped,o);},toString:function(){return'[crossroads numRoutes:'+this.getNumRoutes()+']';}};c=new C();c.VERSION='0.12.0';c.NORM_AS_ARRAY=function(r,v){return[v.vals_];};c.NORM_AS_OBJECT=function(r,v){return[v];};function R(p,i,l,r){var m=e(p),n=r.patternLexer;this._router=r;this._pattern=p;this._paramsIds=m?null:n.getParamIds(p);this._optionalParamsIds=m?null:n.getOptionalParamsIds(p);this._matchRegexp=m?p:n.compilePattern(p,r.ignoreCase);this.matched=new s.Signal();this.switched=new s.Signal();if(i){this.matched.add(i);}this._priority=l||0;}R.prototype={greedy:false,rules:void(0),match:function(r){r=r||'';return this._matchRegexp.test(r)&&this._validateParams(r);},_validateParams:function(r){var i=this.rules,v=this._getParamsObject(r),l;for(l in i){if(l!=='normalize_'&&i.hasOwnProperty(l)&&!this._isValidParam(r,l,v)){return false;}}return true;},_isValidParam:function(r,p,v){var i=this.rules[p],l=v[p],m=false,n=(p.indexOf('?')===0);if(l==null&&this._optionalParamsIds&&a(this._optionalParamsIds,p)!==-1){m=true;}else if(e(i)){if(n){l=v[p+'_'];}m=i.test(l);}else if(g(i)){if(n){l=v[p+'_'];}m=this._isValidArrayRule(i,l);}else if(h(i)){m=i(l,r,v);}return m;},_isValidArrayRule:function(i,v){if(!this._router.ignoreCase){return a(i,v)!==-1;}if(typeof v==='string'){v=v.toLowerCase();}var n=i.length,l,m;while(n--){l=i[n];m=(typeof l==='string')?l.toLowerCase():l;if(m===v){return true;}}return false;},_getParamsObject:function(r){var i=this._router.shouldTypecast,v=this._router.patternLexer.getParamValues(r,this._matchRegexp,i),o={},n=v.length,p,l;while(n--){l=v[n];if(this._paramsIds){p=this._paramsIds[n];if(p.indexOf('?')===0&&l){o[p+'_']=l;l=k(l,i);v[n]=l;}if(_&&l===''&&a(this._optionalParamsIds,p)!==-1){l=void(0);v[n]=l;}o[p]=l;}o[n]=l;}o.request_=i?t(r):r;o.vals_=v;return o;},_getParamsArray:function(r){var n=this.rules?this.rules.normalize_:null,p;n=n||this._router.normalizeFn;if(n&&h(n)){p=n(r,this._getParamsObject(r));}else{p=this._getParamsObject(r).vals_;}return p;},interpolate:function(r){var i=this._router.patternLexer.interpolate(this._pattern,r);if(!this._validateParams(i)){throw new Error('Generated string doesn\'t validate against `Route.rules`.');}return i;},dispose:function(){this._router.removeRoute(this);},_destroy:function(){this.matched.dispose();this.switched.dispose();this.matched=this.switched=this._pattern=this._matchRegexp=null;},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+']';}};C.prototype.patternLexer=(function(){var E=/[\\.+*?\^$\[\](){}\/'#]/g,L=/^\/|\/$/g,i=/\/$/g,P=/(?:\{|:)([^}:]+)(?:\}|:)/g,r=function(z,A,B){var D=B.lastIndexOf("__CR_RS__"),F=B.indexOf("__CR_RQ__"),G=B.indexOf("__CR_OQ__"),H=B.indexOf("\\/",A),I=Math.min(G===-1?B.length:G,F===-1?B.length:F),J=A+z.length;if(J>=I||J<D||J<H){return T.OS.res_normal;}else{return T.OS.res_arsbq;}},T={'OS':{rgx:/([:})]|\w(?=\/))\/?(:|(?:\{\?))/g,save:'$1{{id}}$2',res:r,res_normal:'\\/?',res_arsbq:'(?:(?:\\/(?=(?:[^\\/?]+)?))|^\\/?|\\/?$)'},'RS':{rgx:/([:}])\/?(\{)/g,save:'$1{{id}}$2',res:'\\/'},'RQ':{rgx:/\{\?([^}]+)\}/g,res:'\\?([^#]+)'},'OQ':{rgx:/:\?([^:]+):/g,res:'(?:\\?([^#]*))?'},'OR':{rgx:/:([^:]+)\*:/g,res:'(.*)?'},'RR':{rgx:/\{([^}]+)\*\}/g,res:'(.+)'},'RP':{rgx:/\{([^}]+)\}/g,res:'([^\\/?]+)'},'OP':{rgx:/:([^:]+):/g,res:'([^\\/?]+)?(?:\\/(?!\\/))?'}},l=1,S=2,m=3,n=l;function p(){var z,A;for(z in T){if(T.hasOwnProperty(z)){A=T[z];A.id='__CR_'+z+'__';A.save=('save'in A)?A.save.replace('{{id}}',A.id):A.id;A.rRestore=new RegExp(A.id,'g');}}}p();function o(z,A){var B=[],D;z.lastIndex=0;while(D=z.exec(A)){B.push(D[1]);}return B;}function q(z){return o(P,z);}function u(z){return o(T.OP.rgx,z);}function v(z,A){z=z||'';if(z){if(n===l){z=z.replace(L,'');}else if(n===m){z=z.replace(i,'');}z=w(z,'rgx','save');z=z.replace(E,'\\$&');z=w(z,'rRestore','res');if(n===l){z='\\/?'+z;}}if(n!==S){z+='\\/?';}return new RegExp('^'+z+'$',A?'i':'');}function w(z,A,B){var D,F;for(F in T){if(T.hasOwnProperty(F)){D=T[F];z=z.replace(D[A],D[B]);}}return z;}function x(z,A,B){var D=A.exec(z);if(D){D.shift();if(B){D=j(D);}}return D;}function y(z,A){if(typeof z!=='string'){throw new Error('Route pattern should be a string.');}var B=function(D,F){var G;F=(F.substr(0,1)==='?')?F.substr(1):F;if(A[F]!=null){if(typeof A[F]==='object'){var H=[];for(var I in A[F]){H.push(encodeURI(I+'='+A[F][I]));}G='?'+H.join('&');}else{G=String(A[F]);}if(D.indexOf('*')===-1&&G.indexOf('/')!==-1){throw new Error('Invalid value "'+G+'" for segment "'+D+'".');}}else if(D.indexOf('{')!==-1){throw new Error('The segment '+D+' is required.');}else{G='';}return G;};if(!T.OS.trail){T.OS.trail=new RegExp('(?:'+T.OS.id+')+$');}return z.replace(T.OS.rgx,T.OS.save).replace(P,B).replace(T.OS.trail,'').replace(T.OS.rRestore,'/');}return{strict:function(){n=S;},loose:function(){n=l;},legacy:function(){n=m;},getParamIds:q,getOptionalParamsIds:u,getParamValues:x,compilePattern:v,interpolate:y};}());return c;};if(typeof define==='function'&&define.amd){define(['signals'],f);}else{window['crossroads']=f(window['signals']);}}());
},
// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
	"sap/ushell/EventHub.js":function(){(function(){"use strict";var d=(!window.sap||!sap.ui||!sap.ui.define)?function(v,c){return c();}:sap.ui.define;return d([],function(){var _={pendingEvents:{},subscribers:{},dispatchOperations:{},store:c()};function c(){return{nextKey:0,objectToKey:new WeakMap(),keyToObject:{}};}function l(M,D,C){if(jQuery&&jQuery.sap&&jQuery.sap.log&&jQuery.sap.log.error){jQuery.sap.log.error(M,D,"sap.ushell.EventHub");return;}if(window.console){var o=[M,D];if(C){o.push("error caused by:");o.push(C);}window.console.error.apply(window.console,o);}}function a(o){var M="An exception was raised while executing a registered callback on event '"+o.eventName+"'";var D="Data passed to the event were: '"+o.eventData+"'";if(o.error.stack){D+=" Error details: "+o.error.stack;}l(M,D,o.fnCausedBy);}function s(o,C,D){var R;try{R=C(D);}catch(v){a({eventName:o,eventData:D,fnCausedBy:C,error:v});}return R;}function J(H){if(typeof arguments[2]==="function"){return y(H,arguments[2]);}return arguments[2];}function b(H){if(typeof arguments[2]==="string"&&arguments[2].indexOf("<function")===0){return z(H,arguments[2]);}return arguments[2];}function e(H,D,P){if(typeof D==="object"||typeof D==="function"){try{var S=[D,J.bind(null,H)];if(P){S.push(3);}return JSON.stringify.apply(JSON,S);}catch(o){l(""+o,o.stack,e);}}return D;}function f(H,D){try{return JSON.parse(D,b.bind(null,H));}catch(o){return D;}}function g(H,o,S){if(!H.subscribers[o]){H.subscribers[o]=[];}H.subscribers[o].push(S);}function u(H,o,v){H.subscribers[o]=(H.subscribers[o]||[]).map(function(S){return S.filter(function(L){return L.fn!==v;});}).filter(function(G){return G.length>0;});}function h(){var D;var o=new Promise(function(R){D=R;});var v={dispatching:o,cancelled:false,cancel:function(){v.cancelled=true;},complete:function(){D();}};return v;}function i(H,o){if(!H.subscribers.hasOwnProperty(o)){return null;}var D=h();var S=H.subscribers[o];var G=S.map(function(v){return j(H,o,v,D,0);});Promise.all(G).then(D.complete,D.complete);return D;}function j(H,o,S,D,v){var O=S.length;var C=S.slice(v);return C.reduce(function(P,F,I){return P.then(function(G){if(D.cancelled){if(G){u(H,o,F.fn);}return G;}return n(H,o,F,S).then(function(K){if(K){D.cancelled=true;}return K;});});},Promise.resolve(false)).then(function(F){if(!F&&O<S.length){return j(H,o,S,D,O);}return F;});}function n(H,o,S,v){return new Promise(function(R){var D=f(H,H.pendingEvents[o]);setTimeout(function(){if(S.called&&v.offed){R(false);return;}S.called=true;var O=v.offed;s(o,S.fn,D);var C=v.offed;if(C){u(H,o,S.fn);}R(!O&&C);},0);});}function k(H,o,S){return function(){S.forEach(function(L){if(L.called){u(H,o,L.fn);}});S.offed=true;return{off:k(H,o,[])};};}function m(H,o,S){return function(C){var v={fn:C,called:false};S.push(v);if(H.pendingEvents.hasOwnProperty(o)){var D=H.dispatchOperations[o];if(!D){n(H,o,v,S);}else{D.dispatching.then(function(){if(!v.called){n(H,o,v,S);}});}}return{do:m(H,o,S),off:k(H,o,S)};};}function p(H,o){var S=[];g(H,o,S);return{do:m(H,o,S),off:k(H,o,S)};}function q(H,o){var D=p(H,o);D.off();return D;}function r(H,o,D){var S=e(H,D);if(H.pendingEvents.hasOwnProperty(o)&&H.pendingEvents[o]===S){return this;}H.pendingEvents[o]=S;var v=H.dispatchOperations[o];if(v){v.cancel();}var N=i(H,o);H.dispatchOperations[o]=N;return this;}function t(H,o){return f(H,H.pendingEvents[o]);}function w(H){var o=Array.prototype.slice.call(arguments);o.shift();var C=0;var O=new Array(o.length).join(",").split(",").map(function(){return 1;});var v=[];var D={do:function(F){o.forEach(function(G,I){G.do(function(I,V){v[I]=V;C+=O[I];O[I]=0;if(C===o.length){F.apply(null,v);}}.bind(null,I));});return{off:D.off};},off:function(){var F=o.reduce(function(F,G){return G.off();},function(){});return{off:F};}};return D;}function x(H,o){var D=H.dispatchOperations[o];return D?D.dispatching:Promise.resolve();}function y(H,o){if(H.store.objectToKey.has(o)){return H.store.objectToKey.get(o);}H.store.nextKey++;var K="<"+typeof o+">#"+H.store.nextKey;H.store.keyToObject[K]=o;H.store.objectToKey.set(o,K);return K;}function z(H,K){return H.store.keyToObject[K];}function A(H){var o={};o.emit=r.bind(o,H);o.on=p.bind(null,H);o.once=q.bind(null,H);o.last=t.bind(null,H);o.join=w.bind(null,H);o.wait=x.bind(null,H);o._reset=function(H){H.pendingEvents={};H.subscribers={};H.dispatchOperations={};H.store=c();}.bind(null,H);return o;}function B(C){var D={pendingEvents:{},subscribers:{},dispatchOperations:{},store:c()};var F=A(D);var G=f(D,e(D,C));function H(o){var v=o.charAt(0);if(v.match(/[a-zA-Z0-9]/)){throw new Error("Invalid path separator '"+v+"'. Please ensure path starts with a non alphanumeric character");}var X=o.split(v);X.shift();return X;}function I(v,o){var X=v;var Y="";if(arguments.length===2){X=o;Y=v;}return Y+"/"+X.join("/");}function K(v){return Object.prototype.toString.apply(v)==="[object Array]";}function L(v){return Object(v)!==v;}function M(v){return(K(v)?v.length:Object.keys(v).length)===0;}function N(v,X,Y,Z){var $="";var a1=v;var b1=[];Y.reduce(function(c1,d1,e1){$=I($,[d1]);a1=a1[d1];if(e1===Y.length-1){if(!L(Z)&&!L(a1)&&Object.keys(a1).length>0){var f1;var g1=Object.keys(a1).reduce(function(o,d1){o[d1]=true;return o;},{});var h1=Object.keys(Z).some(function(d1){f1=d1;var o=g1.hasOwnProperty(d1);delete g1[d1];var m1=!L(a1[d1])&&Object.keys(a1[d1]).length>0;return!o||m1;});var i1=Object.keys(g1).length>0;var j1=h1||i1;if(j1){var k1=h1?"One or more values are not defined in the channel contract or are defined as a non-empty object/array, for example, check '"+f1+"'.":"Some keys are missing in the event data: "+Object.keys(g1).join(", ")+".";throw new Error("Cannot write value '"+e(D,Z,true)+"' to path '"+$+"'. "+k1+" All childrens in the value must appear in the channel contract and must have a simple value or should be defined as an empty complex value");}var l1=Object.keys(Z).map(function(d1){return{serializedPath:I($,[d1]),value:Z[d1]};});Array.prototype.push.apply(b1,l1);}c1[d1]=Z;}else if(!c1.hasOwnProperty(d1)){c1[d1]=K(a1)?[]:{};}b1.push({serializedPath:$,value:c1[d1]});return c1[d1];},X);return b1;}function O(o,v){var X="";var Y=v.reduce(function(Z,$){X+="/"+$;if(K(Z)&&!$.match(/^[0-9]+$/)){throw new Error("Invalid array index '"+$+"' provided in path '"+X+"'");}if(!Z.hasOwnProperty($)){throw new Error("The item '"+$+"' from path "+X+" cannot be accessed in the object: "+e(D,Z));}return Z[$];},o);return Y;}function P(o,v,X){return v.reduce(function(Y,Z,$){var a1=$===(v.length-1);if(Y.hasOwnProperty(Z)){return Y[Z];}return a1?X:{};},o);}function Q(o,v){v.pop();var X=o;var Y=[];return v.reduce(function(Z,$){X=X[$];Y.push($);Z.push({serializedPath:I(Y),value:X});return Z;},[]);}function R(o){return o.map(function(v){var X=v.serializedPath;if(!D.subscribers.hasOwnProperty(X)||D.subscribers[X].length===0){return null;}return{path:X,value:v.value};}).filter(function(v){return!!v;});}function S(o,v){var X=H(o);O(C,X);var Y=N(C,G,X,v);Y.forEach(function(Z){F.emit(Z.serializedPath,Z.value);});}function T(o){var v=H(o);var X=O(C,v);return P(G,v,X);}function U(o){var v=H(o);var X=I(v);var Y=F.last(X);var Z=D.pendingEvents.hasOwnProperty(X);if(Z){return F.on(X);}Y=O(C,v);if(typeof Y!=="undefined"&&(L(Y)||!M(f(F,e(F,Y))))){F.emit(X,Y);}return F.on(X);}function V(o){var v=U(o);v.off();return v;}function W(o){var v=H(o);var X=Q(G,v);var Y=R(X).map(function(Z){return F.wait(Z.path,Z.value);});return Promise.all(Y.concat(F.wait(o)));}return{emit:S,on:U,once:V,last:T,wait:W,join:w.bind(null,F)};}var E=A(_);E.createChannel=B.bind(null);return E;},false);})();
}
},"sap/ui/core/library-preload"
);
//# sourceMappingURL=core-min-0.js.map