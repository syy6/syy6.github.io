sap.ui.require.preload({"sap/ushell/components/shell/MeArea/Component.js":function(){
// ${copyright}
sap.ui.define(['sap/ushell/resources','sap/ui/core/UIComponent','sap/ushell/components/applicationIntegration/AppLifeCycle','sap/ushell/components/homepage/ComponentKeysHandler','sap/ushell/ui/footerbar/ContactSupportButton','sap/ushell/ui/footerbar/EndUserFeedback','sap/ushell/EventHub','sap/ushell/Config','./UserPreferences'],function(r,U,A,C,a,E,b,c,d){"use strict";var _;function f(){if(!_){_=sap.ushell.Container.getRenderer("fiori2");}return _;}function g(){return f().getShellConfig();}function h(){return A.getElementsModel().getModel();}var i;return U.extend("sap.ushell.components.shell.MeArea.Component",{metadata:{version:"${version}",library:"sap.ushell.components.shell.MeArea",dependencies:{libs:["sap.m","sap.ui.layout"]}},createContent:function(){this._bSearchPrefsLoaded=false;this._bIsMeAreaCreated=false;i=c.last("/core/extension/enableHelp");var m;var t=function(s){this.toggleMeAreaView(m,s);}.bind(this);m=sap.ui.getCore().byId("meAreaHeaderButton");m.applySettings({tooltip:sap.ushell.Container.getUser().getFullName(),icon:'{/userImage/personPlaceHolder}',selected:{path:"/currentViewPortState",formatter:function(v){if(v==='LeftCenter'){return true;}return false;}},press:function(){t(!this.getSelected());},visible:true,enabled:true,showSeparator:false,ariaLabel:"{i18n>MeAreaToggleButtonAria}"}).removeStyleClass("sapUshellPlaceHolders");m.addEventDelegate({onAfterRendering:function(){m.$().attr("aria-pressed",m.getSelected());},onsapskipforward:function(e){sap.ushell.renderers.fiori2.AccessKeysHandler.bForwardNavigation=true;e.preventDefault();jQuery("#sapUshellHeaderAccessibilityHelper").focus();},onsaptabprevious:function(e){var v=sap.ui.getCore().byId('viewPortContainer'),s=v.getCurrentState(),R;switch(s){case"LeftCenter":R=jQuery("#meAreaIconTabBar-content li:first");if(R.length>0){R[0].focus();}else{var j=c.last("/core/shell/enableRecentActivity");if(j&&h().getProperty("/enableTrackingActivity")){jQuery("#meAreaIconTabBar .sapMITBText")[0].focus();}else{e.preventDefault();jQuery('.sapUshellActionItem:last')[0].focus();}}break;case"Center":if(sap.ushell.renderers.fiori2.AccessKeysHandler.getAppKeysHandler()){e.preventDefault();sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;}break;default:}},onsapskipback:function(e){var v=sap.ui.getCore().byId('viewPortContainer'),s=v.getCurrentState(),n;switch(s){case"LeftCenter":e.preventDefault();n=jQuery("#meAreaIconTabBar .sapMITBSelected");if(n.length===0){n=jQuery(".sapUshellActionItem");}n[0].focus();break;case"Center":e.preventDefault();if(jQuery("#sapUshellFloatingContainerWrapper:visible").length==1&&(e.originalEvent.srcElement.id)!=""){sap.ui.getCore().getEventBus().publish("launchpad","shellFloatingContainerIsAccessible");}else if(sap.ushell.renderers.fiori2.AccessKeysHandler.getAppKeysHandler()){sap.ushell.renderers.fiori2.AccessKeysHandler.bFocusOnShell=false;}break;default:}}});A.getElementsModel().createInspection("actions",[{fnCondition:function(I,e,T){return true;},fnAction:function(I,e,T){if((I&&I.length>0)||(e&&e.length>0)){if(e.indexOf("meAreaHeaderButton")===-1){T.addHeaderItem(["meAreaHeaderButton"],true);}}else{T.removeHeaderItem(["meAreaHeaderButton"],true);}}}],false,["blank-home","blank"]);this._createMeArea();b.on('showMeArea').do(t);sap.ui.getCore().getEventBus().publish("shell","meAreaCompLoaded",{delay:0});},_createMeArea:function(){if(this._bIsMeAreaCreated===true){return;}this._bIsMeAreaCreated=true;var m=sap.ui.view("meArea",{viewName:"sap.ushell.components.shell.MeArea.MeArea",type:'JS',viewData:f().getComponentData(),async:true});m.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:"role",value:"region",writeToDom:true}));m.addCustomData(new sap.ushell.ui.launchpad.AccessibilityCustomData({key:"aria-label",value:r.i18n.getText("MeAreaToggleButtonAria"),writeToDom:true}));this._createActionButtons();this._setUserPrefModel();sap.ui.getCore().getEventBus().publish("launchpad","Settings");m.loaded().then(function(v){f().addLeftViewPort(m);});f().ViewPortContainerAttachAfterSwitchStateAnimationFinished(function(D){if(D.getParameter("to")==="LeftCenter"&&!this._bSearchPrefsLoaded){this._getSearchPrefs();}}.bind(this));},toggleMeAreaView:function(m,s){if(!m||!m.getDomRef()){return;}if(m.getSelected()===!!s){return;}var e=h().getProperty('/currentState/stateName');var p={'embedded':true,'embedded-home':true,'standalone':true,'blank-home':true,'blank':true};this._createMeArea();if(p[e]===true){this._showActionsInPopOver(m);}else{this._switchToMeAreaView(m,s);}},_createActionButtons:function(){if(!sap.ui.getCore().byId("aboutBtn")){var o=new sap.ushell.ui.footerbar.AboutButton("aboutBtn");if(i){o.addStyleClass('help-id-aboutBtn');}f().addShellDanglingControl(o);}if(!sap.ui.getCore().byId("userSettingsBtn")&&!g().moveUserSettingsActionToShellHeader){var u=new sap.ushell.ui.launchpad.ActionItem("userSettingsBtn",{id:"userSettingsBtn",text:r.i18n.getText("userSettings"),icon:'sap-icon://action-settings'});if(i){u.addStyleClass('help-id-loginDetails');}f().addShellDanglingControl(u);}if(!g().moveContactSupportActionToShellHeader){c.on("/core/extension/SupportTicket").do(function(e){var j=sap.ui.getCore().byId("ContactSupportBtn");if(e&&!j){j=new a("ContactSupportBtn");f().addShellDanglingControl(j);if(i){j.addStyleClass('help-id-contactSupportBtn');}}j&&j.setVisible(e);});}h().setProperty('/showEndUserFeedback',false);function s(j,k){try{j.isEnabled().done(function(){h().setProperty('/showEndUserFeedback',true);var l=f().getEndUserFeedbackConfiguration();if(g().moveGiveFeedbackActionToShellHeader){jQuery.sap.measure.start("FLP:Shell.controller._createActionButtons","create give feedback as shell head end item","FLP");var t=sap.ui.getCore().byId("EndUserFeedbackHandlerBtn");t.setModel(h());t.setShowAnonymous(l.showAnonymous);t.setAnonymousByDefault(l.anonymousByDefault);t.setShowLegalAgreement(l.showLegalAgreement);t.setShowCustomUIContent(l.showCustomUIContent);t.setFeedbackDialogTitle(l.feedbackDialogTitle);t.setTextAreaPlaceholder(l.textAreaPlaceholder);t.setAggregation("customUIContent",l.customUIContent,false);k.attachPress(function(){t.firePress();});jQuery.sap.measure.end("FLP:Shell.controller._createActionButtons");}else if(!k){k=new E("EndUserFeedbackBtn",{showAnonymous:l.showAnonymous,anonymousByDefault:l.anonymousByDefault,showLegalAgreement:l.showLegalAgreement,showCustomUIContent:l.showCustomUIContent,feedbackDialogTitle:l.feedbackDialogTitle,textAreaPlaceholder:l.textAreaPlaceholder,customUIContent:l.customUIContent});if(i){k.addStyleClass('help-id-EndUserFeedbackBtn');}f().addShellDanglingControl(k);}k.setVisible(true);}).fail(function(){if(k){k.setVisible(false);}});}catch(e){jQuery.sap.log.error("EndUserFeedback adapter is not found",e.message||e);}}c.on("/core/extension/EndUserFeedback").do(function(e){var j=sap.ui.getCore().byId("EndUserFeedbackBtn");if(e){sap.ushell.Container.getServiceAsync("EndUserFeedback").then(function(k){s(k,j);});}else if(j){h().setProperty('/showEndUserFeedback',false);j.setVisible(false);}});},_setUserPrefModel:function(){d.setModel();},_showActionsInPopOver:function(o){var e=h().getProperty('/currentState/actions');if(!this.oActionsPopover){this.oActionsLayout=new sap.ui.layout.VerticalLayout();this.oActionsPopover=new sap.m.Popover("sapUshellActionsPopover",{showHeader:false,placement:sap.m.PlacementType.Bottom,content:this.oActionsLayout}).addStyleClass("sapUshellPopupContainer");}this.oActionsLayout.removeAllContent();this._createActionButtons();e.forEach(function(s,I){var j=sap.ui.getCore().byId(s);if(j&&j.setActionType){this.oActionsLayout.addContent(j);j.setActionType('standard');j.addStyleClass('sapUshellStandardActionItem');}}.bind(this));this.oActionsPopover.setModel(h());this.oActionsPopover.openBy(o);},_switchToMeAreaView:function(o,s){f().switchViewPortStateByControl(o,s?"LeftCenter":"Center");f().toggleOverFlowActions();},_getSearchPrefs:function(){function e(){var m=h();try{var j=m.getProperty("/currentState/stateName");return A.getElementsModel().getBaseStateMember(j,"headEndItems").indexOf("sf")!=-1;}catch(k){jQuery.sap.log.debug("Shell controller._createWaitForRendererCreatedPromise: search button is not visible.");return false;}}if(e()){sap.ui.require(['sap/ushell/renderers/fiori2/search/userpref/SearchPrefs','sap/ushell/renderers/fiori2/search/SearchShellHelperAndModuleLoader'],function(S){this._bSearchPrefsLoaded=true;var s=S.getEntry();s.isSearchPrefsActive().done(function(j){if(j){f().addUserProfilingEntry(s);}}.bind(this));}.bind(this));}},exit:function(){}});});},"sap/ushell/components/shell/MeArea/DefaultParameters.controller.js":function(){sap.ui.define(["sap/ui/comp/smartform/SmartForm","sap/ui/model/odata/ODataModel","sap/ui/comp/smartfield/SmartField","sap/ui/comp/valuehelpdialog/ValueHelpDialog"],function(S,O,a,V){"use strict";sap.ui.controller("sap.ushell.components.shell.MeArea.DefaultParameters",{onInit:function(){this.oModelRecords={};this.oChangedParameters={};this.oBlockedParameters={};this.aDisplayedUserDefaults=[];this.DefaultParametersService=sap.ushell.Container.getService("UserDefaultParameters");},applyFocus:function(){var t=this;setTimeout(function(){if(!sap.ui.Device.phone){var e=jQuery.sap.byId(t.getView().getId()).firstFocusableDomRef();if(e){jQuery.sap.focus(e);}}},1);},overrideOdataModelValue:function(e){var u=e.getParameter('url'),m=e.getSource(),f,F,t=this;this.aDisplayedUserDefaults.forEach(function(r){if(r.editorMetadata&&r.editorMetadata.editorInfo){F=r.editorMetadata.editorInfo.odataURL+r.editorMetadata.editorInfo.bindingPath;if(F===u){f=r.editorMetadata.editorInfo.bindingPath+"/"+r.editorMetadata.editorInfo.propertyName;if(m.getProperty(f)!==r.valueObject.value){m.setProperty(f,r.valueObject.value);}t.oBlockedParameters[r.parameterName]=false;}}});},getOrCreateModelForODataService:function(u){if(!this.oModelRecords[u]){var p={metadataUrlParams:{"sap-documentation":"heading,quickinfo","sap-value-list":"none"},json:true};var m=new O(u,p);m.setDefaultCountMode("None");m.setDefaultBindingMode("TwoWay");m.attachRequestCompleted(this.overrideOdataModelValue.bind(this));this.oModelRecords[u]=m;}return this.oModelRecords[u];},constructControlSet:function(p){var u=[];for(var P in p){for(var n=0;n<u.length;n++){if(u[n].parameterName===P){u.splice(n,1);}}p[P].parameterName=P;u.push(p[P]);}this.sortParametersByGroupIdParameterIndex(u);this.aDisplayedUserDefaults=u;this.sForm=new S({editable:true}).addStyleClass("sapUshellShellDefaultValuesForm");this.getView().addContent(this.sForm);},getValue:function(){var d=jQuery.Deferred();var h=sap.ushell.Container.getService("UserDefaultParameters").hasRelevantMaintainableParameters();h.done(function(H){d.resolve({value:H?1:0,displayText:" "});});h.fail(function(e){d.reject(e);});return d.promise();},createPlainModel:function(g,r){r.modelBind.model=this.oMdlParameter;r.modelBind.extendedModel=this.oMdlParameter;g.setModel(r.modelBind.model);var m="/sUserDef_"+r.nr+"_";r.modelBind.sFullPropertyPath=m;r.modelBind.sPropertyName="{"+m+"}";r.modelBind.model.setProperty(r.modelBind.sFullPropertyPath,r.valueObject.value);},revertToPlainModelControls:function(g,r){jQuery.sap.log.error("Metadata loading for parameter "+r.parameterName+" failed"+JSON.stringify(r.editorMetadata));r.modelBind.isOdata=false;this.createPlainModel(g,r);this.createAppropriateControl(g,r);},getContent:function(){var t=this;var d=new jQuery.Deferred();this.DefaultParametersService.editorGetParameters().done(function(p){t.oMdlParameter=new sap.ui.model.json.JSONModel(p);t.oMdlParameter.setDefaultBindingMode("TwoWay");t.getView().setModel(t.oMdlParameter,"MdlParameter");t.oOriginalParameters=jQuery.extend(true,{},p);t.oCurrentParameters=jQuery.extend(true,{},p);t.constructControlSet(p);var l="nevermore";var g;t.aChangedParameters=[];t.oBindingContexts={};t.setPropValue=function(r){r.modelBind.model.setProperty(r.modelBind.sFullPropertyPath,r.valueObject.value);t.oBlockedParameters[r.parameterName]=false;};t.oMdlParameter.setProperty("/sUser");for(var i=0;i<t.aDisplayedUserDefaults.length;++i){var r=t.aDisplayedUserDefaults[i];r.nr=i;r.editorMetadata=r.editorMetadata||{};r.valueObject=r.valueObject||{value:""};var b=new sap.ui.comp.smartform.GroupElement({});if(l!=r.editorMetadata.groupId){var c=r.editorMetadata.groupTitle||undefined;g=new sap.ui.comp.smartform.Group({label:c,"editable":true});l=r.editorMetadata.groupId;t.sForm.addGroup(g);}g.addGroupElement(b);r.modelBind={model:undefined,sModelPath:undefined,sPropertyName:undefined,sFullPropertyPath:undefined};r.valueObject.value=r.valueObject.value||"";if(r.editorMetadata.editorInfo&&r.editorMetadata.editorInfo.propertyName){r.modelBind.isOdata=true;var u=r.editorMetadata.editorInfo.odataURL;r.modelBind.model=t.getOrCreateModelForODataService(u);b.setModel(r.modelBind.model);if(!t.oBindingContexts[u]){b.bindElement(r.editorMetadata.editorInfo.bindingPath);t.oBindingContexts[u]=r.modelBind.model.getContext(r.editorMetadata.editorInfo.bindingPath);}else{b.setBindingContext(t.oBindingContexts[u]);}r.modelBind.sPropertyName="{"+r.editorMetadata.editorInfo.propertyName+"}";r.modelBind.sFullPropertyPath=r.editorMetadata.editorInfo.bindingPath+"/"+r.editorMetadata.editorInfo.propertyName;r.modelBind.extendedModel=t.oMdlParameter;}else{t.createPlainModel(b,r);}r.valueObject.value=r.valueObject.value||"";r.modelBind.model.setProperty(r.modelBind.sFullPropertyPath,r.valueObject.value);if(r.modelBind.isOdata){t.oBlockedParameters[r.parameterName]=true;r.modelBind.model.attachMetadataLoaded(t.createAppropriateControl.bind(t,b,r));r.modelBind.model.attachMetadataFailed(t.revertToPlainModelControls.bind(t,b,r));}else{t.createAppropriateControl(b,r);}r.modelBind.model.bindTree(r.modelBind.sFullPropertyPath).attachChange(t.storeChangedData.bind(t));}t.oMdlParameter.bindTree("/").attachChange(t.storeChangedData.bind(t));d.resolve(t.getView());});return d.promise();},createAppropriateControl:function(g,r){var s,l,e,b;if(r.editorMetadata.extendedUsage){var t=this;e=new sap.m.Button({text:sap.ushell.resources.i18n.getText("userDefaultsExtendedParametersTitle"),tooltip:sap.ushell.resources.i18n.getText("userDefaultsExtendedParametersTooltip"),type:{parts:['MdlParameter>/'+r.parameterName+'/valueObject/extendedValue/Ranges'],formatter:function(R){return R&&R.length?sap.m.ButtonType.Emphasized:sap.m.ButtonType.Transparent;}},press:function(o){t.openExtendedValueDialog(o,r);}}).addStyleClass('sapUshellExtendedDefaultParamsButton');}jQuery.sap.log.debug("Creating controls for parameter"+r.parameterName+" type "+r.modelBind.isOdata);var E=g.getElements().slice();E.forEach(function(o){g.removeElement(o);});var f=g.getFields().slice();f.forEach(function(o){g.removeField(o);});l=new sap.ui.comp.smartfield.SmartLabel({width:sap.ui.Device.system.phone?"auto":"12rem",textAlign:sap.ui.Device.system.phone?'Left':'Right'});if(r.modelBind.isOdata&&r.editorMetadata.editorInfo){s=new a({value:r.modelBind.sPropertyName,name:r.parameterName});s.attachInnerControlsCreated({},this.applyFocus,this);l.setLabelFor(s);}else{s=new sap.m.Input({name:r.parameterName,value:r.modelBind.sPropertyName,type:"Text"});this.setPropValue(r);l.setText((r.editorMetadata.displayText||r.parameterName)+":");l.setTooltip(r.editorMetadata.description||r.parameterName);}s.attachChange(this.storeChangedData.bind(this));s.addStyleClass("sapUshellDefaultValuesSmartField");s.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));var i=new sap.m.FlexBox({width:sap.ui.Device.system.phone?'100%':'auto',direction:(sap.ui.Device.system.phone&&!e)?'Column':'Row',items:[s,e]});l.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));b=new sap.m.FlexBox({alignItems:sap.ui.Device.system.phone?'Start':'Center',direction:sap.ui.Device.system.phone?'Column':'Row',items:[l,i]});g.addElement(b);},openExtendedValueDialog:function(e,d){var t=this,p='/'+d.parameterName+'/valueObject/extendedValue/Ranges',m=d.modelBind.extendedModel,r=m.getProperty(p)||[],l,n;if(d.modelBind.isOdata){n=this._getMetadataNameSpace(d.editorMetadata.editorInfo.odataURL);var E=d.modelBind.model.getMetaModel().getODataEntityType(n+"."+d.editorMetadata.editorInfo.entityName);if(E){l=d.modelBind.model.getMetaModel().getODataProperty(E,d.editorMetadata.editorInfo.propertyName)["sap:label"];}}var v=new V({basicSearchText:d.editorMetadata.displayText||l||d.parameterName,title:d.editorMetadata.displayText||l||d.parameterName,supportRanges:true,supportRangesOnly:true,key:d.modelBind.sPropertyName,displayFormat:"UpperCase",descriptionKey:d.editorMetadata.displayText||l||d.parameterName,filterMode:true,stretch:sap.ui.Device.system.phone,ok:function(c){t.saveExtendedValue(c,d,m,v);},cancel:function(c){v.close();},afterClose:function(){v.destroy();}});v.setIncludeRangeOperations(this.getListOfSupportedRangeOperations());this.addTokensToValueHelpDialog(v,r,d.parameterName);var k=[];k.push({label:v.getTitle(),key:d.parameterName});v.setRangeKeyFields(k);v.open();},saveExtendedValue:function(c,d,m,v){this.aTokens=c.getParameters().tokens;var t=[],p='/'+d.parameterName+'/valueObject/extendedValue/Ranges',f,b={extendedValue:{"Ranges":[]}};jQuery.extend(this.oCurrentParameters[d.parameterName].valueObject,b);for(var e in this.aTokens){if(this.aTokens.hasOwnProperty(e)){t.push(this.aTokens[e].data("range"));}}f=t.map(function(e){return{Sign:e.exclude?'E':'I',Option:e.operation!=="Contains"?e.operation:"CP",Low:e.value1,High:e.value2||null};});if(!m.getProperty('/'+d.parameterName+'/valueObject/extendedValue')){m.setProperty('/'+d.parameterName+'/valueObject/extendedValue',{});}m.setProperty(p,f);this.oChangedParameters[d.parameterName]=true;v.close();},getListOfSupportedRangeOperations:function(){var s=Object.keys(sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation);return s.filter(function(o){return o!=="StartsWith"&&o!=='EndsWith'&&o!=='Initial';});},_getMetadataNameSpace:function(s){var b=s.split("/"),n;n=b[b.length-1];return n;},addTokensToValueHelpDialog:function(d,r,p){var t=[],f;r.forEach(function(R){if(R){f={};f.exclude=R.Sign==='E';f.keyField=p;f.operation=R.Option!=="CP"?R.Option:"Contains";f.value1=R.Low;f.value2=R.High;t.push(new sap.m.Token({}).data("range",f));}});d.setTokens(t);},sortParametersByGroupIdParameterIndex:function(u){function c(d,D){if(!(D.editorMetadata&&D.editorMetadata.groupId)){return-1;}if(!(d.editorMetadata&&d.editorMetadata.groupId)){return 1;}if(d.editorMetadata.groupId<D.editorMetadata.groupId){return-1;}if(d.editorMetadata.groupId>D.editorMetadata.groupId){return 1;}return 0;}function b(d,D){if(!(D.editorMetadata&&D.editorMetadata.parameterIndex)){return-1;}if(!(d.editorMetadata&&d.editorMetadata.parameterIndex)){return 1;}return d.editorMetadata.parameterIndex-D.editorMetadata.parameterIndex;}u.sort(function(d,D){var r=c(d,D);if(r===0){return b(d,D);}return r;});},storeChangedData:function(){var i=0,t=this,b=t.aDisplayedUserDefaults;for(i=0;i<b.length;++i){var p=b[i].parameterName;if(!t.oBlockedParameters[p]){var o={value:t.oCurrentParameters[p].valueObject&&t.oCurrentParameters[p].valueObject.value,extendedValue:t.oCurrentParameters[p].valueObject&&t.oCurrentParameters[p].valueObject.extendedValue&&t.oCurrentParameters[p].valueObject.extendedValue};if(b[i].modelBind&&b[i].modelBind.model){var m=b[i].modelBind.model;var M=b[i].modelBind.extendedModel;var P=b[i].modelBind.sFullPropertyPath;var A=m.getProperty(P);var n={value:m.getProperty(P),extendedValue:M.getProperty('/'+p+'/valueObject/extendedValue')};if(this.isValueDifferent(n,o)){t.oCurrentParameters[p].valueObject.value=A;if(n.extendedValue){jQuery.extend(t.oCurrentParameters[p].valueObject.extendedValue,n.extendedValue);}t.oChangedParameters[p]=true;}}}}},onCancel:function(){if(sap.ui.getCore().byId("saveButton")){sap.ui.getCore().byId("saveButton").setEnabled(true);}var c=Object.keys(this.oChangedParameters),d=this.aDisplayedUserDefaults,p,b,o;if(c.length>0){for(var i=0;i<d.length&&c.length>0;i++){p=d[i].parameterName;if(c.indexOf(p)>-1){o=this.oOriginalParameters[p];b=d[i].modelBind;b.model.setProperty(b.sFullPropertyPath,o.valueObject.value||"");if(o.editorMetadata&&o.editorMetadata.extendedUsage){b.extendedModel.setProperty("/"+p+"/valueObject/extendedValue",o.valueObject.extendedValue||{});}}}this.oCurrentParameters=jQuery.extend(true,{},this.oOriginalParameters);this.oChangedParameters={};}},isValueDifferent:function(v,o){var i=false,s=v?JSON.stringify(v):v,b=o?JSON.stringify(o):o,e,E;if(s===b){return false;}if(v===undefined){return false;}if(o===undefined){return false;}e=v.extendedValue?JSON.stringify(v.extendedValue):v.extendedValue;E=o.extendedValue?JSON.stringify(o.extendedValue):o.extendedValue;if((v.value===""&&o.value===undefined)||(o.value===""&&v.value===undefined)){i=true;}if(i&&(e===E)){return false;}return(!i&&(v.value!==o.value))||(e!==E);},onSave:function(){var t=this,d=new jQuery.Deferred(),i,c=Object.keys(this.oChangedParameters).sort(),s,p;for(i=0;i<c.length;i++){p=c[i];if(this.isValueDifferent(this.oOriginalParameters[p].valueObject,this.oCurrentParameters[p].valueObject)){if((this.oCurrentParameters[p].valueObject&&this.oCurrentParameters[p].valueObject.value===null)||(this.oCurrentParameters[p].valueObject&&this.oCurrentParameters[p].valueObject.value==="")){this.oCurrentParameters[p].valueObject.value=undefined;}if(this.oCurrentParameters[p].valueObject&&this.oCurrentParameters[p].valueObject.extendedValue&&jQuery.isArray(this.oCurrentParameters[p].valueObject.extendedValue.Ranges)&&(this.oCurrentParameters[p].valueObject.extendedValue.Ranges.length===0)){this.oCurrentParameters[p].valueObject.extendedValue=undefined;}s=sap.ushell.Container.getService("UserDefaultParameters").editorSetValue(p,this.oCurrentParameters[p].valueObject);s.done(function(P){t.oChangedParameters={};t.oOriginalParameters[P].valueObject.value=t.oCurrentParameters[P].valueObject.value;d.resolve();});s.fail(d.reject);}}return d.promise();}});},false);},"sap/ushell/components/shell/MeArea/DefaultParameters.view.js":function(){sap.ui.define([],function(){"use strict";sap.ui.jsview("sap.ushell.components.shell.MeArea.DefaultParameters",{createContent:function(c){},getControllerName:function(){return"sap.ushell.components.shell.MeArea.DefaultParameters";}});},false);},"sap/ushell/components/shell/MeArea/FlpSettings.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller"],function(C){"use strict";return C.extend("sap.ushell.components.shell.MeArea.FlpSettings",{DISPLAY_MODES:{'scroll':0,'tabs':1,getName:function(v){return Object.keys(this)[v];}},onInit:function(){this.oConfModel=new sap.ui.model.json.JSONModel({});this.oConfModel.setData({isRTL:sap.ui.getCore().getConfiguration().getRTL(),flexAlignItems:sap.ui.Device.system.phone?'Stretch':'Start',textAlign:sap.ui.Device.system.phone?'Begin':'End',textDirection:sap.ui.Device.system.phone?'Column':'Row',labelWidth:sap.ui.Device.system.phone?"auto":"12rem"});this.getView().setModel(this.oConfModel,"config");var r=new sap.ui.model.resource.ResourceModel({bundleUrl:jQuery.sap.getModulePath("sap.ushell.renderers.fiori2.resources.resources",".properties")});this.getView().setModel(r,"i18n");var i=this.getView().getViewData().initialDisplayMode;this.iCurrentMode=this.DISPLAY_MODES[i]||this.DISPLAY_MODES.scroll;},onBeforeRendering:function(){this.oConfModel.setProperty("/displayMode",this.iCurrentMode);},onSave:function(){this.iCurrentMode=this.oConfModel.getProperty("/displayMode");return this.DISPLAY_MODES.getName(this.iCurrentMode);}});});},"sap/ushell/components/shell/MeArea/FlpSettings.view.xml":'<View controllerName="sap.ushell.components.shell.MeArea.FlpSettings"\n      width="100%"\n      xmlns:m="sap.m">\n\n    <m:VBox visible="true" class="sapUiSmallMargin">\n        <m:items>\n            <m:HBox>\n                <m:items>\n                    <m:Label text="{i18n>AnchorBarLabel}:"\n                             class="sapUshellFlpSettingsLabel"\n                             width="{config>/labelWidth}"\n                             textAlign="{config>/textAlign}"\n                             id="anchorBarLabel"/>\n                    <m:VBox>\n                        <m:items>\n                            <m:RadioButtonGroup selectedIndex="{config>/displayMode}">\n                                <m:buttons>\n                                    <m:RadioButton text="{i18n>anchorBarScrollMode}"\n                                                   class="sapUshellAnchorBarScrollMode"\n                                                   ariaLabelledBy="anchorBarLabel"/>\n                                    <m:RadioButton text="{i18n>anchorBarTabMode}"\n                                                   class="sapUshellAnchorBarTabsMode"\n                                                   ariaLabelledBy="anchorBarLabel"/>\n                                </m:buttons>\n                            </m:RadioButtonGroup>\n                            <m:VBox class ="sapUshellFlpSettingsDescriptionBorder">\n                                <m:items>\n                                    <m:Text text="{i18n>homePageGroupDisplayDescriptionText}" class="sapUshellFlpSettingsDescription" />\n                                    <!-- second paragraph will be shown only if the user has edit option for his dashboard -->\n                                    <m:Text text="{i18n>homePageGroupDisplayDescriptionText_secondParagraph}"\n                                            class="sapUshellFlpSettingsDescription"\n                                            visible="false"/>\n                                </m:items>\n                            </m:VBox>\n                        </m:items>\n                    </m:VBox>\n                </m:items>\n            </m:HBox>\n        </m:items>\n    </m:VBox>\n</View>',"sap/ushell/components/shell/MeArea/LanguageRegionSelector.controller.js":function(){sap.ui.define(function(){"use strict";sap.ui.controller("sap.ushell.components.shell.MeArea.LanguageRegionSelector",{onInit:function(){try{this.userInfoService=sap.ushell.Container.getService("UserInfo");this.oUser=this.userInfoService.getUser();}catch(e){jQuery.sap.log.error("Getting UserInfo service failed.");this.oUser=sap.ushell.Container.getUser();}this.bIsSetLanguage=sap.ushell.Container.getRenderer('fiori2').getModelConfiguration().enableSetLanguage;this.isLanguageChanged=false;this.isLanguagePersonalized=this.oUser.isLanguagePersonalized();this.sLanguage=this._getFormatedLanguage(this.oUser.getLanguage());this.aLanguageList=null;var m=new sap.ui.model.json.JSONModel();var a={languageList:[{text:this.sLanguage,key:this.sLanguage}],selectedLanguage:this.sLanguage};var l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var L=sap.ui.core.LocaleData.getInstance(l);var d=L.getDatePattern("medium"),t=L.getTimePattern("medium"),T=(t.indexOf("H")===-1)?"12h":"24h";a.datePatternList=[{text:d,key:d}];a.timeFormat=T;a.selectedDatePattern=d;var h=this.oView.hourFormatSegmentedButton.getButtons();var s=(T==="12h")?h[0]:h[1];this.oView.hourFormatSegmentedButton.setSelectedButton(s);m.setData(a);this.oView.setModel(m);},getContent:function(){var d=jQuery.Deferred();var t=this;if(this.bIsSetLanguage){jQuery.sap.measure.start("FLP:LanguageRegionSelector.getContent","getContent","FLP");var a=this._getLanguagesList();a.done(function(l){if(l){if(l.length>1){if(!t.isLanguagePersonalized){t.getView().getModel().setProperty("/selectedLanguage","default");}else{t.getView().getModel().setProperty("/selectedLanguage",t.oUser.getLanguage());}t.getView().getModel().setSizeLimit(l.length);t.getView().getModel().setProperty("/languageList",l);t.oView.inputLanguage.setVisible(false);t.oView.selectLanguage.setVisible(true);t.oView.helpingText.setVisible(true);t.oView.helpingTextLabel.setVisible(true);}}jQuery.sap.measure.end("FLP:LanguageRegionSelector.getContent");d.resolve(t.getView());});a.fail(function(e){jQuery.sap.log.error(e);d.resolve(t.getView());});}else{d.resolve(t.getView());}return d.promise();},getValue:function(){var d=jQuery.Deferred();var s=this.getView().getModel().getProperty("/selectedLanguage");var u=this.oUser.getLanguage();if(s=="default"){d.resolve(this._getFormatedLanguage(u)+" | "+sap.ushell.resources.i18n.getText("timeFormatFld")+": "+this.getView().getModel().getProperty("/timeFormat"));}else{d.resolve(this._getFormatedLanguage(s)+" | "+sap.ushell.resources.i18n.getText("timeFormatFld")+": "+this.getView().getModel().getProperty("/timeFormat"));}return d.promise();},onCancel:function(){var d=jQuery.Deferred();if(this.bIsSetLanguage){this.isLanguageChanged=false;var s=this.getView().getModel().getProperty("/selectedLanguage");if(!this.isLanguagePersonalized||this.oUser.getLanguage()!=s){this._handleSelectChange(this.oUser.getLanguage(),"Cancel");d.resolve();}else{d.resolve();}}else{d.resolve();}return d.promise();},onSave:function(){var d=jQuery.Deferred();var o;var s=this.getView().getModel().getProperty("/selectedLanguage");if(this.isLanguageChanged){if(s){o=this.oUser.getLanguage();this.oUser.setLanguage(s);this.userInfoService.updateUserPreferences(this.oUser).done(function(){d.resolve();window.location.reload();}.bind(this)).fail(function(e){this.oUser.setLanguage(o);this._handleSelectChange(o,"Cancel");jQuery.sap.log.error(e);d.reject(e);}.bind(this));}}else{d.resolve();}return d.promise();},_getFormatedLanguage:function(l){if(l&&l.indexOf('-')>-1){l=l.replace('-',' (').concat(')').toUpperCase();}else if(l){l=l.toUpperCase();}return l;},_handleSelectChange:function(l,m){var L=new sap.ui.core.Locale(l);var o=sap.ui.core.LocaleData.getInstance(L);var d=o.getDatePattern("medium"),t=o.getTimePattern("medium"),T=(t.indexOf("H")===-1)?"12h":"24h";this.isLanguageChanged=true;if(m=="Cancel"){if(!this.isLanguagePersonalized){this.getView().selectLanguage.setSelectedKey("default");}else{this.getView().selectLanguage.setSelectedKey(l);}this.isLanguageChanged=false;}this.getView().comboDate.setValue(d);var h=this.getView().hourFormatSegmentedButton.getButtons();var s=(T==="12h")?h[0]:h[1];this.getView().hourFormatSegmentedButton.setSelectedButton(s);},_getLanguagesList:function(){var r=jQuery.Deferred();if(this.aLanguageList==null){jQuery.sap.measure.start("FLP:LanguageRegionSelector._getLanguagesList","_getLanguagesList","FLP");var g=this.userInfoService.getLanguageList();g.done(function(d){jQuery.sap.measure.end("FLP:LanguageRegionSelector._getLanguagesList");r.resolve(d);});g.fail(function(){r.reject("Failed to load language list.");});}else{r.resolve(this.aLanguageList);}return r.promise();}});},false);},"sap/ushell/components/shell/MeArea/LanguageRegionSelector.view.js":function(){sap.ui.define(function(){"use strict";sap.ui.jsview("sap.ushell.components.shell.MeArea.LanguageRegionSelector",{createContent:function(c){var i=new sap.ui.core.Item({text:"{text}",key:"{key}"});var a=sap.ushell.resources.i18n;var l="languageSelectionSelect";var d="dateFormatCombo";var f=sap.ui.Device.system.phone?'Column':'Row';var F=sap.ui.Device.system.phone?'Stretch':'Center';var t=sap.ui.Device.system.phone?'Left':'Right';var L=sap.ui.Device.system.phone?"auto":"12rem";var s=sap.ui.Device.system.phone?"auto":"16rem";var C=sap.ui.Device.system.phone?"100%":undefined;var b=new sap.m.Label('languageSelectionLabel',{text:{path:"/selectedLanguage",formatter:function(S){S=c._getFormatedLanguage(S);return a.getText(S.indexOf('(')>-1?"languageAndRegionTit":"languageRegionFld")+':';}},width:L,textAlign:t,labelFor:l});this.selectLanguage=new sap.m.Select('languageSelectionSelect',{visible:false,width:s,items:{path:"/languageList",template:i},selectedKey:"{/selectedLanguage}",change:function(e){var S=e.getParameters().selectedItem.getKey();c._handleSelectChange(S);}}).addAriaLabelledBy(b);this.inputLanguage=new sap.m.Input('languageSelectionInput',{visible:true,value:"{/selectedLanguage}",editable:false}).addAriaLabelledBy(b);var g=new sap.m.FlexBox({alignItems:F,direction:f,items:[b,this.selectLanguage,this.inputLanguage]});this.helpingTextLabel=new sap.m.Label({visible:false,text:"",width:L,textAlign:t});this.helpingText=new sap.m.Text({visible:false,text:a.getText("LanguageAndRegionHelpingText"),width:s,textAlign:"Begin"}).addStyleClass("sapUshellFlpSettingsLanguageRegionDescription");var h=new sap.m.FlexBox({alignItems:F,direction:f,items:[this.helpingTextLabel,this.helpingText]});var j=new sap.m.Label({text:a.getText("dateFormatFld")+":",width:L,textAlign:t,labelFor:d});this.comboDate=new sap.m.ComboBox('dateFormatCombo',{width:C,items:{path:"/datePatternList",template:i},selectedKey:"{/selectedDatePattern}",editable:false}).addAriaLabelledBy(j);var k=new sap.m.FlexBox({alignItems:F,direction:f,items:[j,this.comboDate]});this.hourFormatSegmentedButton=new sap.m.SegmentedButton('hoursSegmentedButton',{enabled:false,width:"10rem",buttons:[new sap.m.Button({text:a.getText("btn12h")}),new sap.m.Button({text:a.getText("btn24h")})]});var m=new sap.m.FlexBox({alignItems:F,direction:f,items:[new sap.m.Label({text:a.getText("timeFormatFld")+":",width:L,textAlign:t}),this.hourFormatSegmentedButton]});m.addStyleClass("sapUshellFlpSettingsLanguageRegionHourFormatFBox");var v=new sap.m.VBox({items:[g,h,k,m]});v.addStyleClass("sapUiSmallMargin");return v;},getControllerName:function(){return"sap.ushell.components.shell.MeArea.LanguageRegionSelector";}});},false);},"sap/ushell/components/shell/MeArea/MeArea.controller.js":function(){sap.ui.define(["sap/ushell/resources","sap/m/Button","sap/m/library","sap/ushell/EventHub","sap/ushell/ui/utils"],function(r,B,M,E,u){"use strict";var a=M.ButtonType;var m=new sap.ui.model.json.JSONModel({actions:[],userPreferences:{entries:[]},apps:{recentActivities:[],frequentActivities:[]}});sap.ui.controller("sap.ushell.components.shell.MeArea.MeArea",{onInit:function(){var c=(this.getView().getViewData()?this.getView().getViewData().config:{})||{};this.aControlsWithPressHandler=[];this.getView().setModel(m,"meAreaModel");this._addActionItemToOverflowSupport();this.oResourceBundle=r.i18n;if(c.enableRecentActivity&&sap.ushell.Container.getRenderer("fiori2").oShellModel.getModel().getProperty("/enableTrackingActivity")){this.oUserRecentsSrvc=sap.ushell.Container.getService('UserRecents');}this.lastVisited=null;},onBeforeRendering:function(){if(this.oUserRecentsSrvc){if(!m.getProperty('/apps/recentActivities')||!m.getProperty('/apps/recentActivities').length){this.refreshRecentActivities();}}if(!m.getProperty('/apps/frequentActivities')||!m.getProperty('/apps/frequentActivities').length){this.refreshFrequentActivities();}},refreshRecentActivities:function(){if(this.oUserRecentsSrvc){this.oUserRecentsSrvc.getRecentActivity().done(function(A){A.forEach(function(i){i.timestamp=sap.ushell.utils.formatDate(i.timestamp);});m.setProperty('/apps/recentActivities',A);});}},refreshFrequentActivities:function(){if(this.oUserRecentsSrvc){this.oUserRecentsSrvc.getFrequentActivity().done(function(A){m.setProperty('/apps/frequentActivities',A);});}},createViewByName:function(e,n,v){var V=v?sap.ui.getCore().byId(v):null;if(!V){var s=e.getSource(),c=s.getBindingContext(),p=c?c.getPath():"",b=n||c.getModel().getProperty(p+"/viewName");v=v||c.getModel().getProperty(p+"/id");V=sap.ui.view(v,{viewName:b,type:'JS',viewData:{}});}return V;},getSettingsDialogContent:function(){var s=sap.ui.getCore().byId("userSettings");if(!s){s=sap.ui.view("userSettings",{viewName:"sap.ushell.components.shell.MeArea.UserSettings",type:'JS',viewData:this.getView().getViewData(),async:true});}s.setModel(this.getView().getModel());return s;},logout:function(){sap.ui.require(['sap/m/MessageBox'],function(b){var l=new sap.ushell.ui.launchpad.LoadingDialog({text:""}),s=true,i=false,L={};sap.ushell.Container.getGlobalDirty().done(function(d){s=false;if(i===true){l.exit();l=new sap.ushell.ui.launchpad.LoadingDialog({text:""});}var _=function(d){var L={},R=r.i18n;if(d===sap.ushell.Container.DirtyState.DIRTY){L.message=R.getText('unsaved_data_warning_popup_message');L.icon=b.Icon.WARNING;L.messageTitle=R.getText("unsaved_data_warning_popup_title");}else{L.message=R.getText('signoutConfirmationMsg');L.icon=b.Icon.QUESTION;L.messageTitle=R.getText("signoutMsgTitle");}return L;};L=_(d);b.show(L.message,L.icon,L.messageTitle,[b.Action.OK,b.Action.CANCEL],function(A){if(A===b.Action.OK){l.openLoadingScreen();l.showAppInfo(r.i18n.getText('beforeLogoutMsg'),null);sap.ushell.Container.logout();}},sap.ui.core.ElementMetadata.uid("confirm"));});if(s===true){l.openLoadingScreen();i=true;}});},_addPressHandlerToActions:function(c){var t=this;if(this.aControlsWithPressHandler.indexOf(c.getId())===-1){this.aControlsWithPressHandler.push(c.getId());c.attachPress(function(e){sap.ui.getCore().byId("viewPortContainer").switchState("Center");if(c.getId()==="userSettingsBtn"){var h=e.mParameters?e.mParameters.hotkeys:undefined;t.hotkeysParam=h;var T=t;if(!T.getView().oSettingsDialog.getModel()){T.getView().oSettingsDialog.setModel(T.getView().getModel());}var o=function(){T.getView().oSettingsDialog.open();sap.ui.getCore().byId("viewPortContainer").detachAfterSwitchStateAnimationFinished(o);};if(T.hotkeysParam){T.getView().oSettingsDialog.open();}else{var C=T.oView.getModel().getProperty('/currentState/stateName');if(C==='embedded'||C==='embedded-home'||C==='standalone'||C==='blank-home'||C==='blank'){T.getView().oSettingsDialog.open();}else{sap.ui.getCore().byId("viewPortContainer").attachAfterSwitchStateAnimationFinished(o);}}}});}},_getControlsWithPressHandler:function(){return this.aControlsWithPressHandler;},_addActionItemToOverflowSupport:function(){if(sap.m._overflowToolbarHelpers&&sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopoverControls._mSupportedControls){var s=sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopoverControls._mSupportedControls;var p=sap.m._overflowToolbarHelpers.OverflowToolbarAssociativePopoverControls.prototype;var c=["sap.ushell.ui.launchpad.ActionItem","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.EndUserFeedback","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.UserPreferencesButton","sap.m.Button"];var C=function(n){return n.substring(0,1).toUpperCase()+n.substring(1);};var S={canOverflow:true,listenForEvents:["press"],noInvalidationProps:["enabled","type"]};var P=function(o){if(!o.mCustomStyleClassMap.sapUshellActionItem){return;}if(o.setActionType){o.setActionType('standard');}var t=o.getType();if(t!==a.Accept&&t!==a.Reject){o.setType(a.Transparent);}if(o.getIcon()){o.addStyleClass("sapMOTAPButtonWithIcon");}else{o.addStyleClass("sapMOTAPButtonNoIcon");}};var f=function(o){if(o.setActionType){o.setActionType('action');}};c.forEach(function(n){s[n]=S;var b=n.split(".").map(C).join("");var d='_preProcess';var e='_postProcess';p[d+b]=P;p[e+b]=f;});}},setLastVisited:function(U){this.lastVisited=U;},updateScrollBar:function(h){if(this.lastVisited&&this.lastVisited!="#"+h){jQuery('.sapUshellViewPortLeft').scrollTop(0);sap.ui.getCore().byId('meAreaIconTabBar').setSelectedKey("sapUshellIconTabBarrecentActivities");var l=sap.ui.getCore().byId('sapUshellActivityListrecentActivities'),L=l.getItems();if(L&&L.length>0){sap.ui.getCore().byId('sapUshellActivityListrecentActivities').setSelectedItem(L[0],true);}this.lastVisited=null;}},_saveButtonHandler:function(){var t=this,s=this._saveUserPrefEntries();var i=this.getView().getModel().getProperty("/userPreferences/isDetailedEntryMode");if(i){this.getView().getModel().setProperty("/userPreferences/activeEntryPath",null);}s.done(function(){t._showSaveMessageToast();});s.fail(function(f){sap.ui.require(["sap/m/MessageBox"],function(b){var e;var c="";if(f.length===1){e=t.oResourceBundle.getText("savingEntryError")+" ";}else{e=t.oResourceBundle.getText("savingEntriesError")+"\n";}f.forEach(function(d){e+=d.entry+"\n";c+="Entry: "+d.entry+" - Error message: "+d.message+"\n";});b.show(e,{icon:b.Icon.ERROR,title:t.translationBundle.getText("Error"),actions:[b.Action.OK]});jQuery.sap.log.error("Failed to save the following entries",c,"sap.ushell.ui.footerbar.UserPreferencesButton");});});},_saveUserPrefEntries:function(){var e=this.getView().getModel().getProperty("/userPreferences/entries");return u.saveUserPreferenceEntries(e);},_showSaveMessageToast:function(){sap.ui.require(["sap/m/MessageToast"],function(b){var c=r.i18n.getText("savedChanges");b.show(c,{duration:3000,width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"});});},createSaveButton:function(){var t=this;return new B({id:"userSettingSaveButton",text:r.i18n.getText("saveBtn"),press:function(){t._saveButtonHandler();t._handleSettingsDialogClose.apply(t);},visible:true});},_dialogCancelButtonHandler:function(){var e=this.getView().getModel().getProperty("/userPreferences/entries");for(var i=0;i<e.length;i++){if(e[i]&&e[i].onCancel){e[i].onCancel();}}},_handleSettingsDialogClose:function(){var v=this.getView(),s=this.getSettingsDialogContent();s.oMainApp.toMaster('userSettingMaster');s.oController.oMasterEntryList.removeSelections(true);v.oSettingsDialog.close();window.document.getElementById("meAreaHeaderButton").focus();},createCancelButton:function(){var t=this;return new B({id:"userSettingCancelButton",text:r.i18n.getText("cancelBtn"),press:function(){t._dialogCancelButtonHandler();t._handleSettingsDialogClose.apply(t);},visible:true});},onExit:function(){this.getView().aDanglingControls.forEach(function(c){if(c.destroyContent){c.destroyContent();}c.destroy();});}});},false);},"sap/ushell/components/shell/MeArea/MeArea.view.js":function(){sap.ui.define(["sap/ushell/services/AppType","sap/m/Button","sap/m/List","sap/m/Text","sap/m/VBox","sap/m/HBox","sap/m/Image","sap/m/Dialog","sap/m/Popover","sap/m/OverflowToolbar","sap/m/ScrollContainer","sap/ushell/Config","sap/ushell/renderers/fiori2/AccessKeysHandler","sap/ushell/resources","sap/ushell/ui/launchpad/UserStatusItem","sap/ushell/ui/launchpad/AccessibilityCustomData","sap/m/library","sap/ui/Device","sap/ui/core/Icon","sap/ui/core/IconPool","sap/ui/core/service/ServiceFactoryRegistry","sap/ushell/utils/WindowUtils"],function(A,B,L,T,V,H,I,D,P,O,S,C,a,r,U,b,m,c,d,e,f,W){"use strict";var g=m.BackgroundDesign,h=m.ButtonType,j=m.ListSeparators,k=m.ListType,l=m.PlacementType,n=m.ToolbarDesign;sap.ui.jsview("sap.ushell.components.shell.MeArea.MeArea",{createContent:function(o){this.addStyleClass('sapUshellMeAreaView');this.aDanglingControls=[];var u=sap.ushell.Container.getUser().getFullName(),p,t=r.i18n,q=(this.getViewData()?this.getViewData().config:{})||{},s=q.appState,w=(s==='embedded'||s==='embedded-home'||s==='standalone'||s==='blank-home'||s==='blank'),x,y=f.get("sap.ushell.ui5service.UserStatus");if(y){var z=y.createInstance(),E=function(i){z.then(function(y){y.setStatus(i);p.close();});};}x=[new U({status:U.prototype.STATUS_ENUM.AVAILABLE,id:"userStatusItem1",isOpener:false,press:function(i){E(sap.ushell.ui5service.UserStatus.prototype.AvailableStatus.AVAILABLE);}.bind(this)}).addStyleClass('sapUserStatusContainer'),new U({status:U.prototype.STATUS_ENUM.AWAY,id:"userStatusItem2",isOpener:false,press:function(i){E(sap.ushell.ui5service.UserStatus.prototype.AvailableStatus.AWAY);}.bind(this)}).addStyleClass('sapUserStatusContainer'),new U({status:U.prototype.STATUS_ENUM.BUSY,id:"userStatusItem3",isOpener:false,press:function(i){E(sap.ushell.ui5service.UserStatus.prototype.AvailableStatus.BUSY);}.bind(this)}).addStyleClass('sapUserStatusContainer'),new U({status:U.prototype.STATUS_ENUM.APPEAR_OFFLINE,id:"userStatusItem4",isOpener:false,press:function(i){E(sap.ushell.ui5service.UserStatus.prototype.AvailableStatus.APPEAR_OFFLINE);}.bind(this)}).addStyleClass('sapUserStatusContainer')];if(!q.disableSignOut){x.push(new U({status:U.prototype.STATUS_ENUM.SIGNOUT,id:"userStatusLogout",isOpener:false,press:[o.logout,o]}).addStyleClass('sapUserStatusSignOutContainer'));}var F=new L({id:"sapUshellUserStatusItemList",showSeparators:"None",items:x});F.addCustomData(new b({key:"aria-labelledBy",value:"userStatusItem1",writeToDom:true}));p=new P("statuses",{placement:l.Bottom,showArrow:false,showHeader:false,content:F}).addStyleClass('sapUserStatusPopOver');p.addStyleClass("sapContrastPlus");p.setOffsetX(-3);x=[new T({text:u}).addStyleClass('sapUshellMeAreaUserName')];var G=new U({id:"userStatusOpener",visible:{parts:["/userStatusEnabled","/userStatusUserEnabled"],formatter:function(i,v){if(i&&v){return true;}return false;}.bind(this)},status:{path:"/userStatus",formatter:function(i){return U.prototype.STATUS_ENUM[i];}.bind(this)},tooltip:t.getText("userStatus_tooltip"),image:e.getIconURI("account"),press:function(i){var v=sap.ui.getCore().byId(i.mParameters.id);if(p.isOpen()){p.close();}else{p.openBy(v);}}.bind(this),contentList:p}).addStyleClass('sapUserStatusOpener');G.addCustomData(new b({key:"tabindex",value:"0",writeToDom:true}));G.addCustomData(new b({key:"aria-label",value:r.i18n.getText("OnlineStatus")+" "+t.getText("userStatus_tooltip"),writeToDom:true}));G.addCustomData(new b({key:"role",value:"listbox",writeToDom:true}));var J=new L({items:[G],backgroundDesign:g.Transparent});x.push(J);if(!q.disableSignOut){var K;if(!w){K=new B("logoutBtn",{visible:{parts:["/userStatusEnabled","/userStatusUserEnabled"],formatter:function(i,v){if(i&&v){return false;}return true;}.bind(this)},type:h.Transparent,icon:'sap-icon://log',text:r.i18n.getText("signoutBtn_title"),press:[o.logout,o]});x.push(K);}else{K=new sap.ushell.ui.launchpad.ActionItem("logoutBtn",{visible:true,type:h.Transparent,icon:'sap-icon://log',text:r.i18n.getText("signoutBtn_title"),press:[o.logout,o]});}}var M=new V({items:[x]}).addStyleClass("sapUshellUserArea");var N=sap.ushell.Container.getUser(),Q=N.getImage(),R;if(!Q){R=this.createPlaceHolderIcon();}else{R=this.createNewImage();}R.addStyleClass("sapUshellMeAreaUserImage");var X=new H({items:[R,M]});N.attachOnSetImage(this._updateUserImage.bind({origScope:this,oUserHBox:X,userBoxItem:R}));X.addStyleClass('sapUshellMeAreaUserInfo');X.addStyleClass('sapContrastPlus');var Y=o.createSaveButton(),Z=o.createCancelButton();this.oSettingsDialog=new D({id:"userSettingsDialog",showHeader:false,content:null,contentHeight:"42rem",contentWidth:"58rem",buttons:[Y,Z],afterClose:function(){sap.ushell.Container.getUser().resetChangedProperties();},stretch:c.system.phone}).addStyleClass("sapUshellUserSetting");this.oSettingsDialog.addContent(o.getSettingsDialogContent());this.oSettingsDialog.addEventDelegate({onkeydown:function(i){if(i.keyCode===27){if(o&&typeof o._dialogCancelButtonHandler==="function"){o._dialogCancelButtonHandler();}}}.bind(this)});this.aDanglingControls.push(Z,Y,this.oSettingsDialog);X.addEventDelegate({onsapskipback:function(i){i.preventDefault();a.setIsFocusHandledByAnotherHandler(true);a.sendFocusBackToShell(i);},onsaptabprevious:function(i){i.preventDefault();a.setIsFocusHandledByAnotherHandler(true);a.sendFocusBackToShell(i);}});var $=new O({id:"overflowActions",design:n.Transparent,content:{path:"/currentState/actions",factory:function(i,v){var e1=sap.ui.getCore().byId(v.getObject());if(e1){var f1=e1.isA("sap.ushell.ui.shell.ShellHeadItem");if(f1){return undefined;}if(e1.setActionType){e1.setActionType("action");e1.addStyleClass('sapContrastPlus');}o._addPressHandlerToActions(e1);}return e1;}}});$._getOverflowButtonSize=function(){return 82.4;};$.addCustomData(new b({key:"aria-label",value:r.i18n.getText("overflowActions_AriaLabel"),writeToDom:true}));if($._getOverflowButton){var _=$._getOverflowButton();if(_){var a1=_.onAfterRendering;_.onAfterRendering=function(){if(a1){a1.apply(this,arguments);}this.addStyleClass('sapUshellActionItem').addStyleClass('sapContrastPlus');this.setText(r.i18n.getText('meAreaMoreActions'));};}}$.updateAggregation=function(e1){var f1=this.mBindingInfos[e1],g1=this.getMetadata().getJSONKeys()[e1],h1;jQuery.each(this[g1._sGetter](),jQuery.proxy(function(i,v){this[g1._sRemoveMutator](v);},this));jQuery.each(f1.binding.getContexts(),jQuery.proxy(function(i,v){h1=f1.factory(this.getId()+"-"+i,v)?f1.factory(this.getId()+"-"+i,v).setBindingContext(v,f1.model):"";this[g1._sMutator](h1);},this));};var b1=new V("sapUshellMeAreaContent",{});this.actionBox=$;b1.addItem(X);b1.addItem($);if(q.enableRecentActivity){var c1=sap.ushell.Container.getRenderer("fiori2").oShellModel.getModel().getProperty('/currentState/showRecentActivity');if(c1===true){var d1=this.createIconTabBar(o);d1.done(function(i){b1.addItem(i);var v=sap.ushell.Container.getRenderer("fiori2").oShellModel.getModel().getProperty("/enableTrackingActivity");i.setVisible(v);});}}this.actionBox.addEventDelegate({onsaptabnext:function(i){var v=i.originalEvent,e1=v.srcElement,f1=jQuery('.sapUshellActionItem:last')[0].id,g1,h1;h1=sap.ui.getCore().byId('meAreaIconTabBar').getVisible();g1=f1===e1.id;if(g1===true&&!h1){i.preventDefault();a.setIsFocusHandledByAnotherHandler(true);a.sendFocusBackToShell(i);}},onsapskipforward:function(i){var v=sap.ui.getCore().byId('meAreaIconTabBar').getVisible();if(!v){i.preventDefault();a.setIsFocusHandledByAnotherHandler(true);a.sendFocusBackToShell(i);}}});return new S({vertical:true,horizontal:false,height:"100%",content:b1});},createIconTabBar:function(o){var R=new jQuery.Deferred(),t=this,i,p,q;sap.ui.require(['sap/m/IconTabBar','sap/m/CustomListItem','sap/m/IconTabFilter','sap/m/Text','sap/m/HBox'],function(s,u,v,T,H){i=new s('meAreaIconTabBar',{backgroundDesign:g.Transparent,expandable:false,items:[t.createIconTab("recentActivities",true,o,u,v,T,H),t.createIconTab("frequentActivities",false,o,u,v,T,H)]}).addStyleClass('sapUshellMeAreaTabBar');i.addEventDelegate({onsaptabnext:function(E){var w=E.originalEvent,x=w.srcElement,y=x.classList,z;z=jQuery.inArray('sapUshellMeAreaActivityItem',y)>-1;if(z===true){E.preventDefault();a.setIsFocusHandledByAnotherHandler(true);a.sendFocusBackToShell(E);}},onsapskipforward:function(E){E.preventDefault();a.setIsFocusHandledByAnotherHandler(true);a.sendFocusBackToShell(E);}});p=i.onAfterRendering;i.onAfterRendering=function(){if(p){p.apply(t,arguments);}q=sap.ui.getCore().byId('meAreaIconTabBar--header');if(q){q.addStyleClass('sapContrastPlus');q.addStyleClass('sapUshellTabBarHeader');}};R.resolve(i);});return R.promise();},createIconTab:function(i,s,o,p,q,T,H){var t,u,v,w,x,y,z,M,E,F;t=function(G,J){u=J.getProperty("icon");v=J.getProperty("title");w=A.getDisplayName(J.getProperty("appType"));var K=new T({text:v}).addStyleClass('sapUshellMeAreaActivityItemTitle'),N=u?new d({src:u}).addStyleClass('sapUshellMeAreaActivityItemIcon'):null,Q=new T({text:w}).addStyleClass('sapUshellMeAreaActivityItemDescription'),R=new T({text:s?J.getProperty("timestamp"):""}).addStyleClass('sapUshellMeAreaActivityItemInfo'),X=new H({items:N?[N,Q]:[Q],justifyContent:"SpaceBetween"}),Y=new H({items:s?[X,R]:[X],justifyContent:"SpaceBetween"}).addStyleClass('sapUshellMeAreaActivityItemContainer');x=new p({content:[K,Y],type:k.Active}).addStyleClass('sapUshellMeAreaActivityItem');x.addCustomData(new b({key:"aria-describedby",value:y.getId(),writeToDom:true}));return x;};y=new q({id:"sapUshellIconTabBar"+i,text:r.i18n.getText(i)});z=new L({id:"sapUshellActivityList"+i,showSeparators:j.All,items:{path:"meAreaModel>/apps/"+i,factory:t.bind(this)},noDataText:r.i18n.getText(i+'NoDataText'),itemPress:function(G){M=this.getModel('meAreaModel');F=sap.ui.getCore().byId("viewPortContainer");if(F){F.switchState("Center");}E=G.getParameter('listItem').getBindingContextPath();o.setLastVisited(M.getProperty(E).url);setTimeout(function(){if(M.getProperty(E).url[0]==='#'){hasher.setHash(M.getProperty(E).url);}else{var J=C.last("/core/shell/enableRecentActivity")&&C.last("/core/shell/enableRecentActivityLogging");if(J){var R={title:M.getProperty(E).title,appType:A.APP,url:M.getProperty(E).url,appId:M.getProperty(E).url};sap.ushell.Container.getRenderer("fiori2").logRecentActivity(R);}W.openURL(M.getProperty(E).url,'_blank');}},200);}});y.addContent(z);return y;},onViewStateShow:function(){this.getController().refreshRecentActivities();this.getController().refreshFrequentActivities();if(this.actionBox){this.actionBox.updateAggregation("content");}this.getController().updateScrollBar(hasher.getHash());},createNewImage:function(){return new I({src:'{/userImage/personPlaceHolder}'});},createPlaceHolderIcon:function(){return new d({src:'{/userImage/personPlaceHolder}',size:'4rem'});},getControllerName:function(){return"sap.ushell.components.shell.MeArea.MeArea";},_updateUserImage:function(o){var u=(typeof o)==='string'?o:o.mParameters;this.oUserHBox.removeItem(this.userBoxItem);if((typeof u)==='string'){this.userBoxItem=this.origScope.createNewImage();}else{this.userBoxItem=this.origScope.createPlaceHolderIcon();}if(this.oUserHBox){this.oUserHBox.insertItem(this.userBoxItem,0);if(this.userBoxItem){this.userBoxItem.addStyleClass("sapUshellMeAreaUserImage");}}}});},false);},"sap/ushell/components/shell/MeArea/ThemeSelector.controller.js":function(){sap.ui.define(["sap/ushell/EventHub","sap/ushell/Config","sap/ui/core/Component"],function(E,C,a){"use strict";sap.ui.controller("sap.ushell.components.shell.MeArea.ThemeSelector",{TILE_SIZE:{Small:0,Responsive:1,getName:function(v){return Object.keys(this)[v];}},onInit:function(){try{this.userInfoService=sap.ushell.Container.getService("UserInfo");this.oUser=this.userInfoService.getUser();}catch(e){jQuery.sap.log.error("Getting UserInfo service failed.");this.oUser=sap.ushell.Container.getUser();}this.currentThemeId=this.oUser.getTheme();this.origThemeId=this.currentThemeId;this.aThemeList=null;this.isContentLoaded=false;this.aSapThemeMap={base:"sapUshellBaseIconStyle",sap_bluecrystal:"sapUshellBlueCrystalIconStyle",sap_belize_hcb:"sapUshellHCBIconStyle",sap_belize_hcw:"sapUshellHCWIconStyle",sap_belize:"sapUshellBelizeIconStyle",sap_belize_plus:"sapUshellPlusIconStyle"};this.oPersonalizers={};},getConfigurationModel:function(){var c=new sap.ui.model.json.JSONModel({});var b=this.getView().getModel()?this.getView().getModel().getProperty("/animationMode"):undefined;this.originalAnimationModeKey=b?b:"full";this.currentAnimationModeKey=this.originalAnimationModeKey;c.setData({isRTL:sap.ui.getCore().getConfiguration().getRTL(),sapUiContentIconColor:sap.ui.core.theming.Parameters.get('sapUiContentIconColor'),isContentDensitySwitchEnabled:this.isContentDensitySwitchEnabled(),flexAlignItems:'Center',textAlign:sap.ui.Device.system.phone?'Left':'Right',textDirection:'Row',labelWidth:'auto',isCozyContentMode:this.isCozyContentMode(),sizeBehaviorConfigurable:C.last("/core/home/sizeBehaviorConfigurable"),animationMode:this.currentAnimationModeKey});return c;},_getIsChangeThemePermitted:function(){return this.oUser.isSetThemePermitted();},onAfterRendering:function(){var t=this;var d=E.on("UserPreferencesDetailNavigated");d.do(function(i){if(i!=="detailuserPrefThemeSelector"){return;}d.off("UserPreferencesDetailNavigated");var l=sap.ui.getCore().byId("userPrefThemeSelector--themeList"),b=l.getItems(),I,T;l.toggleStyleClass("sapUshellThemeListDisabled",!t.isListActive());b.forEach(function(L){T=L.getCustomData()[0].getValue();I=L.getContent()[0].getItems()[0].getItems()[0];if(!t.isListActive()){L.isSelectable=function(){return false;};}if(T===t.currentThemeId){L.setSelected(true);if(!t.isListActive()){L.toggleStyleClass("sapUshellThemeListItemSelected",true);}}else{L.setSelected(false);}I.addStyleClass(t.aSapThemeMap[T]);I.toggleStyleClass("sapUshellHCBIconStyleOnHCB",T===t.currentThemeId&&T==="sap_belize_hcb");I.toggleStyleClass("sapUshellHCWIconStyleOnHCW",t.currentThemeId!=="sap_belize_hcb"&&T==="sap_belize_hcw");});var c=sap.ui.getCore().byId("userPrefThemeSelector--contentDensitySwitch");if(c){c.setState(t.currentContentDensity==="cozy");c.setEnabled(t.isContentDensitySwitchEnabled());}var e=sap.ui.getCore().byId("userPrefThemeSelector--tileSizeRaidoButtonGroup");if(e){var s=C.last("/core/home/sizeBehavior");e.setSelectedIndex(t.TILE_SIZE[s]);}jQuery('.sapUshellAppearanceTable > table').attr('role','list');});},getContent:function(){var t=this;var d=jQuery.Deferred();var r=sap.ushell.resources.getTranslationModel();this.getView().setModel(r,"i18n");this.getView().setModel(this.getConfigurationModel(),"config");if(this.isContentDensitySwitchEnabled()){this.origContentDensity=this.currentContentDensity;if(this.oUser.getContentDensity()){this.currentContentDensity=this.oUser.getContentDensity();}else{this.currentContentDensity="cozy";}}if(this.isContentLoaded===true){d.resolve(this.getView());}else{var b=this._getThemeList();b.done(function(T){if(T.length>0){T.sort(function(c,e){var f=c.name,g=e.name;if(f<g){return-1;}if(f>g){return 1;}return 0;});for(var i=0;i<T.length;i++){if(T[i].id==t.currentThemeId){T[i].isSelected=true;}else{T[i].isSelected=false;}}t.getView().getModel().setProperty("/options",T);d.resolve(t.getView());}else{d.reject();}});b.fail(function(){d.reject();});}return d.promise();},getValue:function(){var d=jQuery.Deferred();var t=this._getThemeList();var b=this;var c;t.done(function(T){b.aThemeList=T;c=b._getThemeNameById(b.currentThemeId);d.resolve(c);});t.fail(function(e){d.reject(e);});return d.promise();},onCancel:function(){this.currentThemeId=this.oUser.getTheme();if(this.isContentDensitySwitchEnabled()){this.currentContentDensity=this.oUser.getContentDensity();}this.currentAnimationModeKey=this.originalAnimationModeKey;var b=sap.ui.getCore().byId("userPrefThemeSelector--animationModeCombo");if(b){b.setSelectedKey(this.originalAnimationModeKey);}this.tileSizeChanged=false;},onSave:function(){var r=jQuery.Deferred(),w,p=[],t=0,s=0,f=0,F=[],b=this,c=function(){s++;r.notify();},d=function(){s++;r.notify();b.getView().getModel().setProperty("/animationMode",b.currentAnimationModeKey);b.originalAnimationModeKey=b.currentAnimationModeKey;},e=function(g){F.push({entry:"currEntryTitle",message:g});f++;r.notify();};var T=this.onSaveThemes();T.done(c);T.fail(e);p.push(T);if(this.currentAnimationModeKey!==this.originalAnimationModeKey){var A=this.writeToPersonalization("flp.launchpad.animation.mode","animationMode",this.currentAnimationModeKey);A.done(d);A.fail(e);p.push(A);}if(this.isContentDensitySwitchEnabled()){var o=this.onSaveContentDensity();o.done(c);o.fail(e);p.push(o);}if(this.tileSizeChanged&&this.currentTileSize){C.emit("/core/home/sizeBehavior",this.currentTileSize);if(this.currentTileSize==="Responsive"){jQuery(".sapUshellTile").removeClass("sapUshellSmall");jQuery(".sapUshellPlusTile").removeClass("sapUshellPlusTileSmall");}else{jQuery(".sapUshellTile").addClass("sapUshellSmall");jQuery(".sapUshellPlusTile").addClass("sapUshellPlusTileSmall");}this.tileSizeChanged=false;var S=this.writeToPersonalization("flp.settings.FlpSettings","sizeBehavior",this.currentTileSize);S.done(c);S.fail(e);p.push(S);}w=jQuery.when.apply(null,p);w.done(function(){r.resolve();});r.progress(function(){if(f>0&&(f+s===t)){r.reject("At least one save action failed");}});return r.promise();},onSaveThemes:function(){var d=jQuery.Deferred();var u;if(this.oUser.getTheme()!=this.currentThemeId&&this.isListActive()){if(this.currentThemeId){this.oUser.setTheme(this.currentThemeId);u=this.userInfoService.updateUserPreferences(this.oUser);u.done(function(){this.origThemeId=this.currentThemeId;this.oUser.resetChangedProperties();d.resolve();}.bind(this));u.fail(function(e){this.oUser.setTheme(this.origThemeId);this.oUser.resetChangedProperties();this.currentThemeId=this.origThemeId;jQuery.sap.log.error(e);d.reject(e);}.bind(this));}else{d.reject("Could not find theme: "+this.currentThemeId);}}else{d.resolve();}return d.promise();},_getThemeList:function(){var d=jQuery.Deferred(),t=this;if(!this.aThemeList){var g=this.userInfoService.getThemeList();g.done(function(D){t.aThemeList=D.options;if(t._getIsChangeThemePermitted()==false){t.aThemeList=[{id:t.currentThemeId,name:t._getThemeNameById(t.currentThemeId)}];}d.resolve(t.aThemeList);});g.fail(function(){d.reject("Failed to load theme list.");});}else{d.resolve(this.aThemeList);}return d.promise();},getCurrentThemeId:function(){return this.currentThemeId;},setCurrentThemeId:function(n){this.currentThemeId=n;},_getThemeNameById:function(t){if(this.aThemeList){for(var i=0;i<this.aThemeList.length;i++){if(this.aThemeList[i].id==t){return this.aThemeList[i].name;}}}return t;},onSaveContentDensity:function(){var d=jQuery.Deferred();var u;if(this.oUser.getContentDensity()!=this.currentContentDensity&&this.isContentDensitySwitchEnabled()){if(this.currentContentDensity){this.oUser.setContentDensity(this.currentContentDensity);u=this.userInfoService.updateUserPreferences(this.oUser);u.done(function(){this.oUser.resetChangedProperties();this.origContentDensity=this.currentContentDensity;sap.ui.getCore().getEventBus().publish("launchpad","toggleContentDensity",{contentDensity:this.currentContentDensity});E.emit("toggleContentDensity",{contentDensity:this.currentContentDensity});E.once("toggleContentDensity").do(function(){d.resolve();});}.bind(this));u.fail(function(e){this.oUser.setContentDensity(this.origContentDensity);this.oUser.resetChangedProperties();this.currentContentDensity=this.origContentDensity;jQuery.sap.log.error(e);d.reject(e);}.bind(this));}else{d.reject("Could not find mode: "+this.currentContentDensity);}}else{d.resolve();}return d.promise();},getCurrentContentDensity:function(){return this.currentContentDensity;},isCozyContentMode:function(){return jQuery("body.sapUiSizeCozy").length?true:false;},setCurrentContentDensity:function(e){var n=e.getSource().getState()?"cozy":"compact";this.currentContentDensity=n;},setCurrentAnimationMode:function(e){var n=e.getSource().getSelectedKey();this.currentAnimationModeKey=n;},setCurrentTileSize:function(e){var n=e.getSource().getSelectedIndex();this.currentTileSize=this.TILE_SIZE.getName(n);this.tileSizeChanged=true;},getIconFormatter:function(t){if(this.aSapThemeMap[t]){return"";}else{return"sap-icon://palette";}},onSelectHandler:function(e){var i=e.getParameters().listItem;this.setCurrentThemeId(i.getBindingContext().getProperty("id"));},isContentDensitySwitchEnabled:function(){return(sap.ui.Device.system.combi&&this.getView().getModel().getProperty("/contentDensity")&&this.oUser.isSetContentDensityPermitted())||false;},isListActive:function(){return this.getView().getModel().getProperty("/setTheme");},getUserStatusSetting:function(){var p=this._getUserSettingsPersonalizer();return p.getPersData();},writeToPersonalization:function(c,i,v){var p;try{p=this.getPersonalizer(c,i).setPersData(v);}catch(e){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(e.name+": "+e.message);p=jQuery.when(Promise.reject(e));}return p;},getPersonalizer:function(c,i){var k=c+"-"+i;if(this.oPersonalizers[k]){return this.oPersonalizers[k];}var p=sap.ushell.Container.getService("Personalization");var o=a.getOwnerComponentFor(this);var s={keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true};if(!this.oPersonalizers[k]){this.oPersonalizers[k]=p.getPersonalizer({container:c,item:i},s,o);}return this.oPersonalizers[k];}});},false);},"sap/ushell/components/shell/MeArea/ThemeSelector.view.xml":'<View controllerName="sap.ushell.components.shell.MeArea.ThemeSelector"\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core">\n\t<IconTabBar id="idIconTabBar" applyContentPadding="true">\n\t\t<items>\n\t\t\t<IconTabFilter text="{i18n>AppearanceThemeMenu}">\n\t\t\t\t<List items="{path: \'/options\'}"\n\t\t\t\t\tincludeItemInSelection="true"\n\t\t\t\t\tmode="SingleSelectMaster"\n\t\t\t\t\tselectionChange="onSelectHandler"\n\t\t\t\t\tid="themeList">\n\t\t\t\t\t<items>\n\t\t\t\t\t\t<CustomListItem selected="{isSelected}" class="sapUshellAppearanceCustomListItem">\n\t\t\t\t\t\t\t<customData>\n\t\t\t\t\t\t\t\t<core:CustomData key="themeid" value="{id}" writeToDom="true" />\n\t\t\t\t\t\t\t</customData>\n\t\t\t\t\t\t\t<HBox>\n\t\t\t\t\t\t\t\t<HBox class="sapUshellAppearanceItemViewLeft">\n\t\t\t\t\t\t\t\t\t<core:Icon src="{parts:[{path:\'id\'}], formatter:\'.getIconFormatter\'}"\n\t\t\t\t\t\t\t\t\t\tcolor="{config>/sapUiContentIconColor}"\n\t\t\t\t\t\t\t\t\t\tsize="1.75rem"\n\t\t\t\t\t\t\t\t\t\tclass="sapUshellAppearanceIcon" />\n\t\t\t\t\t\t\t\t\t<Text text="{name}" class="sapUshellAppearanceItemText">\n\t\t\t\t\t\t\t\t\t\t<layoutData>\n\t\t\t\t\t\t\t\t\t\t\t<FlexItemData styleClass="sapUshellAppearanceFlexItemText" />\n\t\t\t\t\t\t\t\t\t\t</layoutData>\n\t\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t\t</HBox>\n\t\t\t\t\t\t\t\t<HBox class="sapUshellAppearanceItemViewRight">\n\t\t\t\t\t\t\t\t\t<core:Icon src="sap-icon://sys-enter-2"\n\t\t\t\t\t\t\t\t\t\tvisible="{isSelected}"\n\t\t\t\t\t\t\t\t\t\tcolor="{config>/sapUiContentIconColor}"\n\t\t\t\t\t\t\t\t\t\tsize="1.375rem" />\n\t\t\t\t\t\t\t\t</HBox>\n\t\t\t\t\t\t\t</HBox>\n\t\t\t\t\t\t</CustomListItem>\n\t\t\t\t\t</items>\n\t\t\t\t</List>\n\t\t\t</IconTabFilter>\n\t\t\t<IconTabFilter text="{i18n>AppearanceLayoutAndBehaviorMenu}" id="DisplaySettingsTab">\n\t\t\t\t<HBox alignItems="Start" justifyContent="End" class="sapUshellAppearanceBox">\n\t\t\t\t\t<Label\n\t\t\t\t\t\tlabelFor="contentDensitySwitch"\n\t\t\t\t\t\ttext="{i18n>AppearanceContentDensityLabel}:"\n\t\t\t\t\t\tclass="sapUshellAppearanceLabel"\n\t\t\t\t\t\twidth="{config>/labelWidth}"\n\t\t\t\t\t\ttextAlign="{config>/textAlign}" />\n\t\t\t\t\t<VBox alignItems="Baseline" class="sapUshellAppearanceContentDensityText">\n\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\ttype="Default"\n\t\t\t\t\t\t\tid="contentDensitySwitch"\n\t\t\t\t\t\t\tclass="sapUshellAppearanceSwitchButton"\n\t\t\t\t\t\t\ttooltip="{i18n>AppearanceContentDensityTooltip}"\n\t\t\t\t\t\t\tchange="setCurrentContentDensity"\n\t\t\t\t\t\t\tstate="{config>/isCozyContentMode}"\n\t\t\t\t\t\t\tenabled="{config>/isContentDensitySwitchEnable}" />\n\t\t\t\t\t\t<Text text="{i18n>appearanceCompactCozyDescriptionText}" class="sapUshellFlpSettingsDescription" />\n\t\t\t\t\t</VBox>\n\t\t\t\t</HBox>\n\t\t\t\t<HBox alignItems="Start" justifyContent="End" class="sapUshellAppearanceBox">\n\t\t\t\t\t<Label text="{i18n>AppearanceAnimationLabel}:"\n\t\t\t\t\t\tlabelFor="animationModeCombo"\n\t\t\t\t\t\tclass="sapUshellAppearanceLabel"\n\t\t\t\t\t\twidth="{config>/labelWidth}"\n\t\t\t\t\t\ttextAlign="{config>/textAlign}" />\n\t\t\t\t\t<VBox class="sapUshellAppearanceAnimationText">\n\t\t\t\t\t\t<Select type="Default" id="animationModeCombo"\n\t\t\t\t\t\t\tclass="sapUshellAppearanceComboBox"\n\t\t\t\t\t\t\tchange="setCurrentAnimationMode"\n\t\t\t\t\t\t\tselectedKey="{config>/animationMode}">\n\t\t\t\t\t\t\t<core:Item key="full" text="{i18n>AppearanceAnimationFull}" />\n\t\t\t\t\t\t\t<core:Item key="minimal" text="{i18n>AppearanceAnimationMinimal}" />\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t<Text text="{i18n>appearanceAnimationDescriptionText}" class="sapUshellFlpSettingsDescription" />\n\t\t\t\t\t</VBox>\n\t\t\t\t</HBox>\n\t\t\t\t<HBox visible="{config>/sizeBehaviorConfigurable}" alignItems="Start" justifyContent="End" class="sapUshellAppearanceBox">\n\t\t\t\t\t<Label text="{i18n>AppearanceTileSizeLabel}:"\n\t\t\t\t\t\tclass="sapUshellAppearanceLabel"\n\t\t\t\t\t\twidth="{config>/labelWidth}"\n\t\t\t\t\t\ttextAlign="{config>/textAlign}"\n\t\t\t\t\t\tlabelFor="setCurrentTileSize"\n\t\t\t\t\t\tid="sapUshellAppearanceTileSizeLabel" />\n\t\t\t\t\t<VBox class="sapUshellAppearanceTileSizeText">\n\t\t\t\t\t\t<RadioButtonGroup select="setCurrentTileSize" selectedIndex="{config>/tileSize}" id="tileSizeRaidoButtonGroup">\n\t\t\t\t\t\t\t<buttons>\n\t\t\t\t\t\t\t\t<RadioButton text="{i18n>AppearanceTileSizeSmall}"\n\t\t\t\t\t\t\t\t\tclass="sapUshellAppearanceTileSizeSmall"\n\t\t\t\t\t\t\t\t\tariaLabelledBy="sapUshellAppearanceTileSizeLabel" />\n\t\t\t\t\t\t\t\t<RadioButton text="{i18n>AppearanceTileSizeLarge}"\n\t\t\t\t\t\t\t\t\tclass="sapUshellAppearanceTileSizeLarge"\n\t\t\t\t\t\t\t\t\tariaLabelledBy="sapUshellAppearanceTileSizeLabel" />\n\t\t\t\t\t\t\t</buttons>\n\t\t\t\t\t\t</RadioButtonGroup>\n\t\t\t\t\t\t<Text text="{i18n>appearanceTileSizeDescriptionText}" class="sapUshellFlpSettingsDescription" />\n\t\t\t\t\t</VBox>\n\t\t\t\t</HBox>\n\t\t\t</IconTabFilter>\n\t\t</items>\n\t</IconTabBar>\n</View>\n',"sap/ushell/components/shell/MeArea/UsageAnalyticsSelector.controller.js":function(){sap.ui.define(function(){"use strict";sap.ui.controller("sap.ushell.components.shell.MeArea.UsageAnalyticsSelector",{onInit:function(){this.oUser=sap.ushell.Container.getUser();this.switchStateValue=this.oUser.getTrackUsageAnalytics();this.getView().oSwitchButton.setState(this.switchStateValue);},getContent:function(){var t=this,d=jQuery.Deferred();d.resolve(t.getView());return d.promise();},getValue:function(){var d=jQuery.Deferred(),i=sap.ushell.resources.i18n;d.resolve(this.switchStateValue?i.getText("trackingEnabled"):i.getText("trackingDisabled"));return d.promise();},onSave:function(){var c=this.getView().oSwitchButton.getState();this.switchStateValue=c;return sap.ushell.Container.getService("UsageAnalytics").setTrackUsageAnalytics(c);},onCancel:function(){this.getView().oSwitchButton.setState(this.switchStateValue);}});},true);},"sap/ushell/components/shell/MeArea/UsageAnalyticsSelector.view.js":function(){sap.ui.define(['sap/m/Label','sap/ushell/resources'],function(L,r){"use strict";sap.ui.jsview("sap.ushell.components.shell.MeArea.UsageAnalyticsSelector",{createContent:function(c){var f=sap.ui.Device.system.phone?'Start':'Center',F=sap.ui.Device.system.phone?'Wrap':'NoWrap',s=sap.ui.Device.system.phone?'Column':'Row',t=sap.ui.Device.system.phone?'Left':'Right',a=sap.ui.Device.system.phone?'Baseline':'Auto',w=sap.ui.Device.system.phone?'auto':'11.75rem';this.oLabel=new L({width:w,textAlign:t,text:r.i18n.getText("allowTracking")+":"}).addStyleClass('sapUshellUsageAnalyticsSelectorLabel');this.oSwitchButton=new sap.m.Switch("usageAnalyticsSwitchButton",{type:sap.m.SwitchType.Default}).addStyleClass('sapUshellUsageAnalyticsSelectorSwitchButton');this.oMessage=new sap.m.Text({text:sap.ushell.Container.getService("UsageAnalytics").getLegalText()}).addStyleClass('sapUshellUsageAnalyticsSelectorLegalTextMessage');this.fBox=new sap.m.HBox({alignItems:f,wrap:F,direction:s,height:"2rem",items:[this.oLabel,this.oSwitchButton],layoutData:new sap.m.FlexItemData({alignSelf:a})});this.vBox=new sap.m.VBox({items:[this.fBox,this.oMessage]});return this.vBox;},getControllerName:function(){return"sap.ushell.components.shell.MeArea.UsageAnalyticsSelector";}});},true);},"sap/ushell/components/shell/MeArea/UserPreferences.js":function(){sap.ui.define(['sap/ushell/resources','sap/ushell/components/applicationIntegration/AppLifeCycle','sap/ushell/components/SharedComponentUtils','sap/ushell/Config','sap/ushell/EventHub'],function(r,A,s,C,E){"use strict";function _(){return sap.ushell.Container.getRenderer("fiori2");}function a(){return A.getElementsModel().getModel();}function G(v,h,i,j,t,o,k,l,m,n,M,p,q){this.view=null;this.getView=function(){if(!this.view||!sap.ui.getCore().byId(v)){if(i==="xml"){this.view=sap.ui.xmlview(v,h);}else{this.view=sap.ui.jsview(v,h);}}if(M){this.view.setModel(M);}return this.view;};return{entryHelpID:j,title:t,valueResult:null,onSave:o?o.bind(this):function(){if(this.getView().getController().onSave){return this.getView().getController().onSave();}}.bind(this),onCancel:k?k.bind(this):function(){if(this.getView().getController().onCancel){return this.getView().getController().onCancel();}}.bind(this),contentFunc:l?l.bind(this):function(){if(this.getView().getController().getContent){return this.getView().getController().getContent();}}.bind(this),valueArgument:m?m.bind(this):function(){var u=new jQuery.Deferred(),w=this;setTimeout(function(){if(w.getView().getController().getValue){w.getView().getController().getValue().done(function(x){u.resolve(x);});}},0);return u.promise();}.bind(this),editable:typeof n==="function"?n():n,contentResult:null,icon:p,defaultVisibility:q};}function c(m){return function(){return this.getView().getController()[m]();};}function b(p){var o={entryHelpID:p.entryHelpId,title:r.i18n.getText(p.i18nTitleKey),editable:true,valueResult:null,contentResult:null,icon:p.icon,getView:function(){var h=p.viewType==="xml"?sap.ui.xmlview:sap.ui.jsview;var v=sap.ui.getCore().byId(p.viewId);if(!v){v=h(p.viewId,p.componentNamespace);}return v;}};o.valueArgument=c("getValue").bind(o);o.onSave=c("onSave").bind(o);o.onCancel=c("onCancel").bind(o);o.contentFunc=c("getContent").bind(o);return o;}function L(){return b({entryHelpId:"language",i18nTitleKey:"languageRegionTit",icon:"sap-icon://globe",viewId:"languageRegionSelector",componentNamespace:"sap.ushell.components.shell.MeArea.LanguageRegionSelector"});}function U(){return b({entryHelpId:"UserActivitiesEntry",i18nTitleKey:"userActivities",icon:"sap-icon://laptop",viewId:"userActivitiesHandler",componentNamespace:"sap.ushell.components.shell.MeArea.userActivitiesHandler"});}function d(){var S=_().getShellConfig();var u=(S.enableOnlineStatus&&sap.ushell.ui5service.UserStatus.prototype.isEnabled)||S.enableUserImgConsent;var v=u?"userAccountSelector":"userAccountSetting";var h=u?"sap.ushell.components.shell.MeArea.userAccount.UserAccountSelector":"sap.ushell.components.shell.MeArea.userAccount.UserAccountSetting";return b({entryHelpId:"userAccountEntry",i18nTitleKey:"UserAccountFld",icon:"sap-icon://account",viewId:v,componentNamespace:h,viewType:"xml"});}function e(){var m=a(),u=sap.ushell.Container.getUser();var t=new G("userPrefThemeSelector","sap.ushell.components.shell.MeArea.ThemeSelector","xml","themes",r.i18n.getText("Appearance"),function(){var v=this.getView().getController().onSave();v.done(function(){if(m.getProperty("/enableTilesOpacity")===true){sap.ushell.utils.utils.handleTilesOpacity();}});return v;},undefined,undefined,undefined,function(){if(m.getProperty("/setTheme")!==undefined){return m.getProperty("/setTheme")&&u.isSetThemePermitted();}else{return u.isSetThemePermitted();}},m,"sap-icon://palette");var h=new G("userPrefUsageAnalyticsSelector","sap.ushell.components.shell.MeArea.UsageAnalyticsSelector","js","usageAnalytics",r.i18n.getText("usageAnalytics"),undefined,undefined,undefined,undefined,sap.ushell.Container.getService("UsageAnalytics").isSetUsageAnalyticsPermitted());var i=new G("defaultParametersSelector","sap.ushell.components.shell.MeArea.DefaultParameters","js",undefined,r.i18n.getText("defaultsValuesEntry"),undefined,undefined,undefined,undefined,true,undefined,undefined,false);var j=new G("userProfilingView","sap.ushell.components.shell.MeArea.UserProfiling","js","userProfiling",r.i18n.getText("userProfiling"),undefined,undefined,undefined,undefined,false,m,"sap-icon://user-settings",false);var k=[new d(),t,new L()],p=[];p.push(h);var l=C.last("/core/shell/enableRecentActivity");if(l){k.push(new U());}k.push(j);if(m.getProperty("/enableNotifications")===true){var n=sap.ushell.Container.getService("Notifications")._getNotificationSettingsAvalability(),o;o=new G("notificationSettings","sap.ushell.components.shell.Notifications.Settings","js",undefined,r.i18n.getText("notificationSettingsEntry_title"),undefined,undefined,undefined,undefined,true,undefined,"sap-icon://ui-notifications",false);k.push(o);n.done(function(S){if(S.settingsAvailable){o.visible=true;m.getProperty("/userPreferences/entries").every(function(v,w){if(v.title===r.i18n.getText("notificationSettingsEntry_title")){m.setProperty("/userPreferences/entries/"+w+"/visible",true);return false;}return true;});}});}if(m.getProperty("/userDefaultParameters")){k.push(i);}var q=C.last("/core/home/enableHomePageSettings");if(q!==false){k.push(g());}return{dialogTitle:r.i18n.getText("userSettings"),isDetailedEntryMode:false,activeEntryPath:null,entries:k,profiling:p};}function g(){var R=_(),o=r.i18n;var h;var i={title:o.getText('FlpSettings_entry_title'),entryHelpID:"flpSettingsEntry",valueArgument:function(){return jQuery.Deferred().resolve(" ");},contentFunc:function(){var D=new jQuery.Deferred();s.getEffectiveHomepageSetting("/core/home/homePageGroupDisplay","/core/home/enableHomePageSettings").then(function(j){h=sap.ui.xmlview({viewName:"sap.ushell.components.shell.MeArea.FlpSettings",viewData:{initialDisplayMode:j||"scroll"}});D.resolve(h);});return D;},onSave:function(){var D=h.getController().onSave();var j=s.getPersonalizer("homePageGroupDisplay",R).setPersData(D);j.fail(function(k){jQuery.sap.log.error("Failed to save the anchor bar mode in personalization",k,"sap.ushell.components.flp.settings.FlpSettings");});C.emit("/core/home/homePageGroupDisplay",D);return jQuery.Deferred().resolve();},onCancel:function(){return jQuery.Deferred().resolve();},icon:"sap-icon://home"};return i;}function f(){var u=a().getProperty("/userPreferences/entries");var D=e();D.entries=D.entries.concat(u);D.entries=_().reorderUserPrefEntries(D.entries);a().setProperty("/userPreferences",D);}return{setModel:f};});},"sap/ushell/components/shell/MeArea/UserProfiling.controller.js":function(){sap.ui.define(function(){"use strict";sap.ui.controller("sap.ushell.components.shell.MeArea.UserProfiling",{onInit:function(){this.isContentLoaded=true;},onCancel:function(){var p=this.getView().getModel().getProperty("/userPreferences/profiling"),P,i;for(i=0;i<p.length;i++){P=p[i];if(P.onCancel){P.onCancel();}}},getValue:function(){var d=jQuery.Deferred();var p=this.getView().getModel().getProperty("/userPreferences/profiling");p.forEach(function(e,i){if(e.entryHelpID==="usageAnalytics"){if(!sap.ushell.Container.getService("UsageAnalytics").systemEnabled()||!sap.ushell.Container.getService("UsageAnalytics").isSetUsageAnalyticsPermitted()){p.splice(i,1);}}},this);if(p!==undefined&&p.length>0){d.resolve({value:1,displayText:" "});}else{d.resolve({value:0,displayText:" "});}return d.promise();},onSave:function(){var r=jQuery.Deferred(),p=this.getView().getModel().getProperty("/userPreferences/profiling"),w,P=[],t=0,s=0,f=0,F=[],T,a=function(){s++;r.notify();},b=function(e){F.push({entry:"currEntryTitle",message:e});f++;r.notify();};p.forEach(function(i){T=i.onSave();T.done(a);T.fail(b);P.push(T);t++;});w=jQuery.when.apply(null,P);w.done(function(){r.resolve();});r.progress(function(){if(f>0&&(f+s===t)){r.reject("At least one save action failed");}});return r.promise();},getContent:function(){var t=this,d=jQuery.Deferred(),p=this.getView().getModel().getProperty("/userPreferences/profiling");p.forEach(function(i){var c=i.contentFunc();c.done(function(r){t.getView().profilingContent.addItem(r);});});d.resolve(t.getView());return d.promise();}});},false);},"sap/ushell/components/shell/MeArea/UserProfiling.view.js":function(){sap.ui.define(function(){"use strict";sap.ui.jsview("sap.ushell.components.shell.MeArea.UserProfiling",{createContent:function(c){this.profilingContent=new sap.m.VBox().addStyleClass("sapUshellUserSettingDetailContent");return this.profilingContent;},getControllerName:function(){return"sap.ushell.components.shell.MeArea.UserProfiling";}});},false);},"sap/ushell/components/shell/MeArea/UserSettings.controller.js":function(){sap.ui.define(['sap/ushell/ui/launchpad/AccessibilityCustomData','sap/ushell/EventHub','sap/ushell/Config','sap/ui/model/json/JSONModel'],function(A,E,C,J){"use strict";sap.ui.controller("sap.ushell.components.shell.MeArea.UserSettings",{onInit:function(){var v=this.getView(),t=this;this.navBackButton=new sap.m.ToggleButton({icon:sap.ui.Device.system.phone?"sap-icon://nav-back":"sap-icon://menu2",press:function(e){if(sap.ui.Device.system.phone){v.getSplitApp().backDetail();t._handleNavButton();this.setPressed(false);}else{if(v.getSplitApp().isMasterShown()){v.getSplitApp().hideMaster();this.setTooltip(sap.ushell.resources.i18n.getText("ToggleButtonShow"));this.setPressed(false);}else{v.getSplitApp().showMaster();this.setTooltip(sap.ushell.resources.i18n.getText("ToggleButtonHide"));this.setPressed(true);}}},tooltip:sap.ushell.resources.i18n.getText("ToggleButtonShow")});if(v&&v.getSplitApp()){v.getSplitApp().attachAfterMasterClose(t,function(){t._handleNavButton.apply(t);});v.getSplitApp().attachAfterMasterOpen(t,function(){t._handleNavButton.apply(t);});}var m=new J({entries:C.last("/core/shell/model/userPreferences/entries"),profiling:C.last("/core/shell/model/userPreferences/profiling")});this.getView().setModel(m,"entries");this.aDoables=[C.on("/core/shell/model/userPreferences/entries").do(function(e){m.setProperty("/entries",e);}),C.on("/core/shell/model/userPreferences/profiling").do(function(e){m.setProperty("/profiling",e);})];},_handleNavButton:function(){var v=this.getView();if(v&&v.getSplitApp()&&v.getSplitApp().getCurrentDetailPage()){if(!v.getSplitApp().isMasterShown()){v.splitAppHeaderBar.addContentLeft(this.navBackButton);}else{if(sap.ui.Device.system.phone||sap.ui.Device.orientation.landscape){v.splitAppHeaderBar.removeAllContentLeft();}}}},getOriginalDialogContent:function(){if(!this.oInitialContent){var e;e=this.getEntryListControl();this.oInitialContent=new sap.ui.layout.VerticalLayout('userPreferencesLayout',{content:[e]}).addStyleClass("sapUshellUserSettingLayout");this.aDanglingControls.push(this.oInitialContent);}return this.oInitialContent;},createDetailPage:function(e,a,t,c){var b=this,v=b.getView(),o=new sap.m.ObjectHeader({title:t,backgroundDesign:sap.m.BackgroundDesign.Solid}).addStyleClass("sapUshellUserSettingDetailHeader");if(e==="userAccountEntry"){var u=sap.ushell.Container.getUser(),d=u.getImage();if(!d){o.setIcon(sap.ui.core.IconPool.getIconURI("sap-icon://person-placeholder"));}else{o.setIcon(C.last("/core/shell/model/userImage/personPlaceHolder"));}u.attachOnSetImage(this.updateUserImage.bind({origScope:this,oObjectHeader:o}));o.setTitle(sap.ushell.Container.getUser().getFullName());}var p=new sap.m.Page('detail'+c.getId(),{content:[o,c],showHeader:false});p.addStyleClass("sapUsheUserSettingDetaildPage");p.onAfterRendering=function(){b._handleNavButton();};v.aDanglingControls.push(p);v.getModel("entries").setProperty(a+"/contentResult",p);v.getSplitApp().addDetailPage(p);b.navToDetail(p.getId());},updateUserImage:function(d){var u=(typeof d)==='string'?d:d.mParameters;var i=true;if((typeof u)==='string'){if(u){i=false;}}else{if(!jQuery.isEmptyObject(u)){i=false;}}if(!i){this.oObjectHeader.setIcon(this.origScope.getView().getModel().getProperty('/userImage/personPlaceHolder'));}else{this.oObjectHeader.setIcon(sap.ui.core.IconPool.getIconURI("sap-icon://person-placeholder"));}},emitEntryOpened:function(e){var u=E.last("UserSettingsOpened")||{};var p=e.split("/").pop();u[p]=true;E.emit("UserSettingsOpened",u);},getListPressHandler:function(s,a){var t=this,i=true,b=s.getBindingContext("entries").getPath(),v=this.getView(),c=v.getModel("entries").getProperty(b+"/contentResult"),B=null,S=true,I=false,d=v.getModel("entries").getProperty(b),f=d.contentFunc,o,k;if(sap.ui.Device.system.phone){s.setSelected(false);}if(c){t.navToDetail(c.getId(),a);t._handleNavButton();t.emitEntryOpened(b);}else{if(typeof f==="function"){o=f();o.done(function(e){S=false;if(I===true){B.destroy();}if(e instanceof sap.ui.core.Control){t.emitEntryOpened(b);t.createDetailPage.apply(t,[d.entryHelpID,b,d.title,e]);}else{i=false;}});o.fail(function(){S=false;if(I===true){B.destroy();}i=false;});o.always(function(){if(i===false){var e=new sap.m.FlexBox("userPrefErrorFlexBox",{height:"5rem",alignItems:sap.m.FlexAlignItems.Center,justifyContent:sap.m.FlexJustifyContent.Center,items:[new sap.m.Text("userPrefErrorText",{text:v.translationBundle.getText("loadingErrorMessage")})]});v.aDanglingControls.push(e);v.getModel("entries").setProperty(b+"/contentResult",e);v.getSplitApp().addDetailPage(e);t.navToDetail(e.getId());}});if(S===true){B=new sap.m.BusyIndicator('userPrefLoadingBusyIndicator',{size:"2rem"});this.aDanglingControls.push(B);I=true;}}else{d.valueArgument().done(function(V){k=t._getKeyValueContent(d,V);t.createDetailPage(d.entryHelpID,b,d.title,k);}).fail(function(e){k=t._getKeyValueContent(d);t.createDetailPage(d.entryHelpID,b,d.title,k);});}}},_getKeyValueContent:function(e,s){var k,v,b,V=s?s:" ",f=sap.ui.Device.system.phone?'Start':'Center',F=sap.ui.Device.system.phone?'Wrap':'NoWrap',a=sap.ui.Device.system.phone?'Column':'Row';k=new sap.m.Label({text:e.title+":"}).addStyleClass('sapUshellUserSettingsDetailsKey');v=new sap.m.Input({value:V,editable:false}).addStyleClass('sapUshellUserSettingsDetailsValue');b=new sap.m.FlexBox({alignItems:f,wrap:F,direction:a,items:[k,v]});return b;},createMasterPages:function(){var t=this,e=t.getUserSettingsEntryTemplate();this.aDanglingControls=this.getView().aDanglingControls;this.oMasterEntryList=new sap.m.List('userSettingEnteryList',{items:{path:"entries>/entries",template:e},mode:"SingleSelectMaster",select:function(a){t.getListPressHandler(a.getSource().getSelectedItem(),a.getId());}});var o=this.oMasterEntryList.onAfterRendering;this.oMasterEntryList.onAfterRendering=function(){var a=this.getItems();var b;o.apply(this,arguments);for(var i=0;i<a.length;i++){b=a[i].getBindingContext("entries").getPath();t._setEntryValueResult(b);}if(!sap.ui.Device.system.phone){this.setSelectedItem(this.getItems()[0]);t.getListPressHandler(this.getSelectedItem());}};var p=new sap.m.Page("userSettingMaster",{showHeader:false,content:[this.oMasterEntryList]}).addStyleClass("sapUshellUserSettingMaster");t.aDanglingControls.push(this.oMasterEntryList,p);return p;},_setEntryValueResult:function(e){var v=this.getView(),m=v.getModel("entries"),i=m.getProperty(e+"/editable"),a=m.getProperty(e+"/valueArgument"),V;if(typeof a==="function"){m.setProperty(e+"/valueResult",v.translationBundle.getText("genericLoading"));m.setProperty(e+"/editable",false);V=a();if(V){V.done(function(b){m.setProperty(e+"/editable",i);var c=true;if(m.getProperty(e+"/visible")!==undefined){c=m.getProperty(e+"/visible");}else if(m.getProperty(e+"/defaultVisibility")!==undefined){c=m.getProperty(e+"/defaultVisibility");}m.setProperty(e+"/visible",typeof(b)==='object'?!!b.value:c);m.setProperty(e+"/valueResult",typeof(b)==='object'?b.displayText:b);});V.fail(function(){m.setProperty(e+"/valueResult",v.translationBundle.getText("loadingErrorMessage"));});}}else if(!!a){m.setProperty(e+"/valueResult",a);m.setProperty(e+"/editable",i);}else{m.setProperty(e+"/valueResult",v.translationBundle.getText("loadingErrorMessage"));}},getUserSettingsEntryTemplate:function(){var i=new sap.m.StandardListItem({title:"{entries>title}",description:"{entries>valueResult}",icon:{parts:["entries>icon","/userImage/account"],formatter:function(e,u){if(e==="sap-icon://account"){e=u;}return e?e:"sap-icon://action-settings";}},type:sap.ui.Device.system.phone?"Navigation":"Inactive",visible:{parts:[{path:'entries>visible'},{path:'entries>defaultVisibility'},{path:'entries>/profiling/length'}],formatter:function(v,d){if(this.getTitle()===sap.ushell.resources.i18n.getText("userProfiling")){var p=this.getModel("entries").getProperty("/profiling");p.forEach(function(e,a){if(e.entryHelpID==="usageAnalytics"){if(!sap.ushell.Container.getService("UsageAnalytics").systemEnabled()||!sap.ushell.Container.getService("UsageAnalytics").isSetUsageAnalyticsPermitted()){p.splice(a,1);}}},this);return(p!==undefined&&p.length>0);}else{if(v!==undefined){return v;}else{return(d!==undefined)?d:true;}}}},customData:new A({key:"aria-label",value:{parts:[{path:'entries>title'},{path:'entries>valueResult'}],formatter:function(t,v){v=v?v:"";return t+" "+v;}},writeToDom:true})}).addStyleClass("sapUshellUserSettingMasterListItem");return i;},navToDetail:function(i,e){var v=this.getView(),s=v.getSplitApp();s.toDetail(i);E.emit("UserPreferencesDetailNavigated",i);if(e==="select"){this.applyFocus(i);}if(s.getMode()==="ShowHideMode"){s.hideMaster();}},applyFocus:function(i){if(!sap.ui.Device.system.phone){var e=jQuery.sap.byId(i).firstFocusableDomRef();if(e){jQuery.sap.focus(e);}}},onExit:function(){this.aDoables.forEach(function(d){d.off();});this.getView().aDanglingControls.forEach(function(c){if(c){if(c.destroyContent){c.destroyContent();}c.destroy();}});}});},false);},"sap/ushell/components/shell/MeArea/UserSettings.view.js":function(){sap.ui.define(["sap/ushell/resources","sap/m/Page","sap/m/Text","sap/m/SplitApp","sap/m/Bar"],function(r,P,T,S,B){"use strict";sap.ui.jsview("sap.ushell.components.shell.MeArea.UserSettings",{createContent:function(c){this.aDanglingControls=[];this.translationBundle=r.i18n;return this.getMainControl(c);},getMainControl:function(c){this.oMainApp=new S({id:"settingsApp",masterPages:c.createMasterPages(),defaultTransitionNameDetail:"show"});this.splitAppHeaderBar=new B({contentMiddle:new T({text:r.i18n.getText("userSettings")})});var p=new P({content:[this.oMainApp],customHeader:this.splitAppHeaderBar,showHeader:true}).addStyleClass('sapUshellSettingsPage');this.aDanglingControls.push(p);this.oMainApp._oDetailNav.setAutoFocus(false);return p;},getSplitApp:function(){return this.oMainApp;},getControllerName:function(){return"sap.ushell.components.shell.MeArea.UserSettings";}});},false);},"sap/ushell/components/shell/MeArea/userAccount/UserAccountImgConsentSelector.fragment.xml":'<core:FragmentDefinition\n        height="100%"\n        width="100%"\n        xmlns:m="sap.m"\n        xmlns:core="sap.ui.core">\n    <m:VBox>\n        <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}"\n                   id="userImgConsentEnableFlexBox">\n            <m:Label text="{i18n>imgConsentMsg}:"\n                     class="sapUshellUserAccountLabel"/>\n        </m:FlexBox>\n        <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}">\n            <m:Link text="{i18n>userImageConsentDialogShowTermsOfUse}" textAlign="{config>/textAlign}"\n                    class="sapUshellUserAccountLabel" press = "termsOfUserPress" id="termsOfUseLink"  />\n            <m:Label text="{i18n>userImageConsentText}:" visible="false" id="sapUshellUserImageConsentSwitchLabel"/>\n        </m:FlexBox>\n        <m:FlexBox direction="{config>/textDirection}" id="termsOfUseTextFlexBox"\n                   visible = "false">\n            <m:Text text="{i18n>userImageConsentDialogTermsOfUse}" class = "sapUshellUserConsentDialogTerms" />\n        </m:FlexBox>\n    </m:VBox>\n</core:FragmentDefinition>',"sap/ushell/components/shell/MeArea/userAccount/UserAccountSelector.controller.js":function(){sap.ui.define(['sap/ushell/ui5service/UserStatus','sap/ushell/ui/launchpad/AccessibilityCustomData'],function(U,A){"use strict";sap.ui.controller("sap.ushell.components.shell.MeArea.userAccount.UserAccountSelector",{onInit:function(){var t=this;var s=sap.ushell.Container.getRenderer("fiori2").getShellController();var S=s.getView();this.oShellConfig=(S.getViewData()?S.getViewData().config:{})||{};this.imgConsentEnabled=this.oShellConfig.enableUserImgConsent?this.oShellConfig.enableUserImgConsent:false;this.userStatusEnabled=this.oShellConfig.enableOnlineStatus&&U.prototype.isEnabled;this.userStatusEnabled=this.userStatusEnabled?this.userStatusEnabled:false;if(this.imgConsentEnabled){try{this.userInfoService=sap.ushell.Container.getService("UserInfo");this.oUser=this.userInfoService.getUser();}catch(e){jQuery.sap.log.error("Getting UserInfo service failed.");this.oUser=sap.ushell.Container.getUser();}this.currentUserImgConsent=this.oUser.getImageConsent();this.origUserImgConsent=this.currentUserImgConsent;this.addImgConsentEnableSwitch(this.currentUserImgConsent);}if(this.userStatusEnabled){if(this.isServiceEnable()){this.originalEnableStatus=null;this.originalUserStatus=null;var o=sap.ui.core.service.ServiceFactoryRegistry.get("sap.ushell.ui5service.UserStatus");var a=o.createInstance();a.then(function(o){t.oUserStatusService=o;var p=t._getUserStatusSetting();p.then(function(u){var b=u&&u.userStatusEnabled?u.userStatusEnabled:false;var d=u&&u.userStatusDefault?u.userStatusDefault:undefined;this.originalEnableStatus=b;this.originalUserStatus=d;t.userStatusButton=t._getOnlineStatusPopOver(this.originalUserStatus);t.addUserStatusDropdown();t.addUserEnableSwitch(b);}.bind(t));},function(E){});}}},getContent:function(){var d=jQuery.Deferred();var r=sap.ushell.resources.getTranslationModel();this.getView().setModel(r,"i18n");this.getView().setModel(this.getConfigurationModel(),"config");d.resolve(this.getView());return d.promise();},getValue:function(){var d=jQuery.Deferred();d.resolve(sap.ushell.Container.getUser().getFullName());return d.promise();},onCancel:function(){if(this.userStatusEnabled){if(this.isServiceEnable()){this.oUserEnableOnlineStatusSwitch.setState(this.originalEnableStatus);this.userStatusButton.setStatus(sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM[this.originalUserStatus]);}}if(this.imgConsentEnabled){this.currentUserImgConsent=this.oUser.getImageConsent();this.oUserEnableImgConsentSwitch.setState(this.currentUserImgConsent);}},onSave:function(){var r=jQuery.Deferred(),w,u,a,p=[];if(this.userStatusEnabled){u=this.onSaveUserStatus();p.push(u);}if(this.imgConsentEnabled){a=this.onSaveUserImgConsent();p.push(a);}w=jQuery.when.apply(null,p);w.done(function(){r.resolve();});return r.promise();},onSaveUserImgConsent:function(){var d=jQuery.Deferred();var u;if(this.oUser.getImageConsent()!==this.currentUserImgConsent){if(this.currentUserImgConsent!=undefined){this.oUser.setImageConsent(this.currentUserImgConsent);u=this.userInfoService.updateUserPreferences(this.oUser);u.done(function(){this.oUser.resetChangedProperties();this.origUserImgConsent=this.currentUserImgConsent;d.resolve();}.bind(this));u.fail(function(e){this.oUser.setImageConsent(this.origUserImgConsent);this.oUser.resetChangedProperties();this.currentUserImgConsent=this.origUserImgConsent;jQuery.sap.log.error(e);d.reject(e);}.bind(this));}else{d.reject(this.currentUserImgConsent+"is undefined");}}else{d.resolve();}return d.promise();},onSaveUserStatus:function(){var d=jQuery.Deferred(),u;if(this.isServiceEnable()){if(this.originalEnableStatus!==this.oUserEnableOnlineStatusSwitch.getState()||this.originalUserStatus!==this.userStatusButton.getStatus().status){if(!this.oUserEnableOnlineStatusSwitch.getState()){u=null;this.oUserStatusService.setStatus(null);}else{u=this.userStatusButton.getStatus()?this.userStatusButton.getStatus().status:"AVAILABLE";}this._writeUserStatusSettingToPersonalization({userStatusEnabled:this.oUserEnableOnlineStatusSwitch.getState(),userStatusDefault:u});if(!this.originalEnableStatus&&this.oUserEnableOnlineStatusSwitch.getState()){this.oUserStatusService.setStatus(u);}this.originalEnableStatus=this.oUserEnableOnlineStatusSwitch.getState();this.originalUserStatus=u;}}d.resolve();return d.promise();},addUserStatusDropdown:function(){var u=sap.ui.getCore().byId("UserAccountSelector--userStatusDropDownFlexBox");u.addItem(this.userStatusButton);},addUserEnableSwitch:function(e){var u=sap.ui.getCore().byId("UserAccountSelector--userStatusEnableFlexBox");this.oUserEnableOnlineStatusSwitch=new sap.m.Switch({type:sap.m.SwitchType.Default,state:e,change:function(E){this.userStatusButton.setEnabled(E.mParameters.state);jQuery("#"+this.userStatusButton.getId()).attr("tabindex",E.mParameters.state?0:-1);}.bind(this)});this.oUserEnableOnlineStatusSwitch.addCustomData(new A({key:"aria-labelledBy",value:"UserAccountSelector--sapUshellEnableStatusLabel",writeToDom:true}));this.userStatusButton.setEnabled(e);jQuery("#"+this.userStatusButton.getId()).attr("tabindex",e?0:-1);if(!u){jQuery.sap.log.error("UserAccountSelector: addUserEnableSwitch was called before the renderer");return;}u.addItem(this.oUserEnableOnlineStatusSwitch);},isServiceEnable:function(){return U?U.prototype.isEnabled:false;},getConfigurationModel:function(){var c=new sap.ui.model.json.JSONModel({});var u=sap.ushell.Container.getUser();c.setData({isRTL:sap.ui.getCore().getConfiguration().getRTL(),sapUiContentIconColor:sap.ui.core.theming.Parameters.get('sapUiContentIconColor'),isStatusEnable:this.originalEnableStatus?this.originalEnableStatus:false,flexAlignItems:sap.ui.Device.system.phone?'Stretch':'Center',textAlign:sap.ui.Device.system.phone?'Left':'Right',textDirection:sap.ui.Device.system.phone?'Column':'Row',labelWidth:sap.ui.Device.system.phone?"auto":"12rem",name:u.getFullName(),mail:u.getEmail(),server:window.location.host,imgConsentEnabled:this.imgConsentEnabled,isImageConsent:this.currentUserImgConsent,userStatusEnabled:this.userStatusEnabled});return c;},_getOnlineStatusPopOver:function(u){var p=new sap.m.Popover({placement:sap.m.PlacementType.Bottom,showArrow:true,showHeader:false,content:[new sap.ushell.ui.launchpad.UserStatusItem({status:sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.AVAILABLE,isOpener:false,press:function(e){o.setStatus(sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.AVAILABLE);p.close();}}).addStyleClass('sapUserStatusContainer'),new sap.ushell.ui.launchpad.UserStatusItem({status:sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.AWAY,isOpener:false,press:function(e){o.setStatus(sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.AWAY);p.close();}}).addStyleClass('sapUserStatusContainer'),new sap.ushell.ui.launchpad.UserStatusItem({status:sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.BUSY,isOpener:false,press:function(e){o.setStatus(sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.BUSY);p.close();}}).addStyleClass('sapUserStatusContainer'),new sap.ushell.ui.launchpad.UserStatusItem({status:sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.APPEAR_OFFLINE,isOpener:false,press:function(e){o.setStatus(sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM.APPEAR_OFFLINE);p.close();}}).addStyleClass('sapUserStatusContainer')]});var o=new sap.ushell.ui.launchpad.UserStatusItem({tooltip:"{i18n>headerActionsTooltip}",enabled:false,ariaLabel:sap.ushell.Container.getUser().getFullName(),image:sap.ui.core.IconPool.getIconURI("account"),status:u?sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM[u]:sap.ushell.ui.launchpad.UserStatusItem.prototype.STATUS_ENUM["AVAILABLE"],press:function(e){var b=sap.ui.getCore().byId(e.mParameters.id);p.openBy(b);}.bind(this),contentList:p}).addStyleClass('sapUserStatusOpener');return o;},_writeUserStatusSettingToPersonalization:function(u){var d,p;try{p=this._getUserSettingsPersonalizer().setPersData(u);}catch(e){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(e.name+": "+e.message);d=new jQuery.Deferred();d.reject(e);p=d.promise();}return p;},_getUserSettingsPersonalizer:function(){if(this.oUserPersonalizer===undefined){this.oUserPersonalizer=this._createUserPersonalizer();}return this.oUserPersonalizer;},_createUserPersonalizer:function(){var p=sap.ushell.Container.getService("Personalization"),c,s={keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true},P={container:"sap.ushell.services.UserStatus",item:"userStatusData"},o=p.getPersonalizer(P,s,c);return o;},_getUserStatusSetting:function(){var p=this._getUserSettingsPersonalizer();return p.getPersData();},addImgConsentEnableSwitch:function(e){var u=sap.ui.getCore().byId("UserAccountSelector--userImgConsentEnableFlexBox");this.oUserEnableImgConsentSwitch=new sap.m.Switch({customTextOff:sap.ushell.resources.i18n.getText("No"),customTextOn:sap.ushell.resources.i18n.getText("Yes"),type:sap.m.SwitchType.Default,state:e,change:this.setCurrentUserImgConsent.bind(this)});this.oUserEnableImgConsentSwitch.addCustomData(new A({key:"aria-labelledBy",value:"UserAccountSelector--sapUshellUserImageConsentSwitchLabel",writeToDom:true}));if(!u){jQuery.sap.log.error("UserAccountSelector: addImgConsentEnableSwitch was called before the renderer");return;}u.addItem(this.oUserEnableImgConsentSwitch);},setCurrentUserImgConsent:function(e){this.currentUserImgConsent=e.mParameters.state;},termsOfUserPress:function(){var t=sap.ui.getCore().byId("UserAccountSelector--termsOfUseTextFlexBox");var a=sap.ui.getCore().byId("UserAccountSelector--termsOfUseLink");var i=t.getVisible();if(i){t.setVisible(false);a.setText(sap.ushell.resources.i18n.getText("userImageConsentDialogShowTermsOfUse"));}else{a.setText(sap.ushell.resources.i18n.getText("userImageConsentDialogHideTermsOfUse"));t.setVisible(true);}}});},false);},"sap/ushell/components/shell/MeArea/userAccount/UserAccountSelector.view.js":function(){sap.ui.define(function(){"use strict";sap.ui.jsview("sap.ushell.components.shell.MeArea.userAccount.UserAccountSelector",{createContent:function(c){var i=sap.ushell.resources.i18n;var f=sap.ui.Device.system.phone?'Column':'Row';var F=sap.ui.Device.system.phone?'Stretch':'Center';var t=sap.ui.Device.system.phone?'Left':'Right';var l=sap.ui.Device.system.phone?"auto":"12rem";var n=new sap.m.Label({text:i.getText("UserAccountNameFld")+":",width:l,textAlign:t});var a=new sap.m.Input("userAccountuserName",{value:"{/name}",editable:false}).addAriaLabelledBy(n);a.addEventDelegate({onfocusin:function(){jQuery("#userAccountuserName input").blur();}});var b=new sap.m.FlexBox({alignItems:F,direction:f,items:[n,a]});var e=new sap.m.Label({text:i.getText("UserAccountEmailFld")+":",width:l,textAlign:t});var d=new sap.m.FlexBox({alignItems:F,direction:f,items:[e,new sap.m.Input({value:"{/mail}",editable:false}).addAriaLabelledBy(e)]});var s=new sap.m.Label({text:i.getText("UserAccountServerFld")+":",width:l,textAlign:t});var g=new sap.m.FlexBox({alignItems:F,direction:f,items:[s,new sap.m.Input({value:"{/server}",editable:false}).addAriaLabelledBy(s)]});var v=new sap.m.VBox({items:[b,d,g]});v.addStyleClass("sapUiSmallMargin");return v;},getControllerName:function(){return"sap.ushell.components.shell.MeArea.userAccount.UserAccountSelector";}});},true);},"sap/ushell/components/shell/MeArea/userAccount/UserAccountSelector.view.xml":'<View\n\t\tcontrollerName="sap.ushell.components.shell.MeArea.userAccount.UserAccountSelector"\n\t\txmlns="sap.m"\n\t\txmlns:core="sap.ui.core">\n\n\t<IconTabBar id="idIconTabBar"\n\t\tapplyContentPadding="true">\n\t\t<items>\n\t\t\t<IconTabFilter text="{i18n>UserAccountFld}">\n\t\t\t\t<core:Fragment fragmentName="sap.ushell.components.shell.MeArea.userAccount.UserAccountSetting" type="XML"></core:Fragment>\n\t\t\t</IconTabFilter>\n\t\t\t<IconTabFilter text="{i18n>UserAccountOnlineStatusTitle}">\n\t\t\t\t<core:Fragment fragmentName="sap.ushell.components.shell.MeArea.userAccount.UserAccountStatusSelector" type="XML"></core:Fragment>\n\t\t\t</IconTabFilter>\n\t\t\t<IconTabFilter visible = "{config>/imgConsentEnabled}" text="{i18n>ProfileImgId}">\n\t\t\t\t<core:Fragment fragmentName="sap.ushell.components.shell.MeArea.userAccount.UserAccountImgConsentSelector" type="XML"></core:Fragment>\n\t\t\t</IconTabFilter>\n\t\t</items>\n\t</IconTabBar>\n</View>',"sap/ushell/components/shell/MeArea/userAccount/UserAccountSetting.fragment.xml":'<core:FragmentDefinition\n                         height="100%"\n                         width="100%"\n                         xmlns:m="sap.m"\n                         xmlns:core="sap.ui.core">\n    <m:VBox class="sapUiSmallMargin">\n        <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}">\n            <m:Label text="{i18n>UserAccountNameFld}:"\n                     class="sapUshellUserAccountLabel"\n                     width="{config>/labelWidth}"\n                     textAlign="{config>/textAlign}"\n                     labelFor="userAccountuserName"/>\n            <m:Input value="{config>/name}"\n                     id="userAccountuserName"\n                     class="sapUshellUserAccountInput"\n                     editable="false"/>\n\n        </m:FlexBox>\n\n\n        <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}">\n            <m:Label text="{i18n>UserAccountEmailFld}:"\n                     class="sapUshellUserAccountLabel"\n                     width="{config>/labelWidth}"\n                     textAlign="{config>/textAlign}"\n                     labelFor="userAccountuserMail"/>\n            <m:Input value="{config>/mail}"\n                     id="userAccountuserMail"\n                     class="sapUshellUserAccountInput"\n                     editable="false"/>\n\n        </m:FlexBox>\n\n        <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}">\n            <m:Label text="{i18n>UserAccountServerFld}:"\n                     class="sapUshellUserAccountLabel"\n                     width="{config>/labelWidth}"\n                     textAlign="{config>/textAlign}"\n                     labelFor="userAccountuserServer"/>\n            <m:Input value="{config>/server}"\n                     id="userAccountuserServer"\n                     class="sapUshellUserAccountInput"\n                     editable="false"/>\n\n        </m:FlexBox>\n\n    </m:VBox>\n</core:FragmentDefinition>',"sap/ushell/components/shell/MeArea/userAccount/UserAccountSetting.view.xml":'<View\n        controllerName="sap.ushell.components.shell.MeArea.userAccount.UserAccountSelector"\n        xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc"\n        xmlns="sap.m">\n    <core:Fragment fragmentName="sap.ushell.components.shell.MeArea.userAccount.UserAccountSetting" type="XML"></core:Fragment>\n</View>',"sap/ushell/components/shell/MeArea/userAccount/UserAccountStatusSelector.fragment.xml":'<core:FragmentDefinition\n                         height="100%"\n                         width="100%"\n                         xmlns:m="sap.m"\n                         xmlns:core="sap.ui.core">\n    <m:VBox>\n        <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}"\n                   id="userStatusEnableFlexBox">\n            <m:Label text="{i18n>enableStatusMessageBoxFld}:"\n                     class="sapUshellUserAccountLabel" id="sapUshellEnableStatusLabel"/>\n        </m:FlexBox>\n        <m:FlexBox direction="{config>/textDirection}" id="userStatusLegalMessageFlexBox1"\n                   class="ushellUserStatusLegalMessageFlexBox">\n            <m:Text text="{i18n>userStatusMessageBoxInfoTextLine1}"/>\n        </m:FlexBox>\n        <m:FlexBox alignItems="{config>/flexAlignItems}" direction="{config>/textDirection}"\n                   id="userStatusDropDownFlexBox" class="ushellUserStatusDropDownFlexBox">\n            <m:Label text="{i18n>userStatusSettingDropdownLabelFld}:"\n                     class="sapUshellUserAccountLabel"/>\n\n        </m:FlexBox>\n        <m:FlexBox direction="{config>/textDirection}" id="ushellDefaultStatusDescription"\n                   class="ushellUserStatusLegalMessageFlexBox">\n            <m:Text text="{i18n>userStatusDefaultStatusDescriptionLine1}"/>\n        </m:FlexBox>\n    </m:VBox>\n</core:FragmentDefinition>',"sap/ushell/components/shell/MeArea/userActivitiesHandler.controller.js":function(){sap.ui.define(['sap/ushell/components/applicationIntegration/AppLifeCycle'],function(A){"use strict";sap.ui.controller("sap.ushell.components.shell.MeArea.userActivitiesHandler",{onInit:function(){this.oModel=A.getElementsModel().getModel();this.isTrackingEnable=this.oModel.getProperty("/enableTrackingActivity")!=undefined?this.oModel.getProperty("/enableTrackingActivity"):true;this.currentTrackingMode=this.isTrackingEnable;this.oView.trackUserActivitySwitch.setState(this.isTrackingEnable);},getContent:function(){var d=jQuery.Deferred();d.resolve(this.getView());return d.promise();},getValue:function(){return jQuery.Deferred().resolve(" ");},onCancel:function(){var d=jQuery.Deferred();if(this.currentTrackingMode!=this.isTrackingEnable){this.isTrackingEnable=!this.isTrackingEnable;this.oView.trackUserActivitySwitch.setState(this.isTrackingEnable);}d.resolve();return d.promise();},onSave:function(){var d=jQuery.Deferred();if(this.currentTrackingMode!=this.isTrackingEnable){this.oModel.setProperty("/enableTrackingActivity",this.isTrackingEnable);this.writeUserActivityModeToPersonalization(this.isTrackingEnable);this.currentTrackingMode=this.isTrackingEnable;sap.ui.getCore().byId('meAreaIconTabBar').setVisible(this.isTrackingEnable);var m=sap.ui.getCore().byId('meArea');if(this.isTrackingEnable){var a=m.getController();if(!a.oUserRecentsSrvc){a.oUserRecentsSrvc=sap.ushell.Container.getService('UserRecents');}a.refreshRecentActivities();a.refreshFrequentActivities();d.resolve();}else{d.resolve();}}else{d.resolve();}return d.promise();},writeUserActivityModeToPersonalization:function(i){var d,p;try{p=this._getPersonalizer().setPersData(i);}catch(e){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(e.name+": "+e.message);d=new jQuery.Deferred();d.reject(e);p=d.promise();}return p;},_getPersonalizer:function(){var p=sap.ushell.Container.getService("Personalization");var c=sap.ui.core.Component.getOwnerComponentFor(this);var s={keyCategory:p.constants.keyCategory.FIXED_KEY,writeFrequency:p.constants.writeFrequency.LOW,clientStorageAllowed:true};var P={container:"flp.settings.FlpSettings",item:"userActivitesTracking"};return p.getPersonalizer(P,s,c);},_handleCleanHistory:function(){sap.ushell.Container.getServiceAsync("UserRecents").then(function(s){s.clearRecentActivities();a();function a(){sap.ui.require(['sap/m/MessageToast'],function(M){var m=sap.ushell.resources.i18n.getText("savedChanges");M.show(m,{duration:3000,width:"15em",my:"center bottom",at:"center bottom",of:window,offset:"0 -50",collision:"fit fit"});});};});},_handleTrackUserActivitySwitch:function(i){this.isTrackingEnable=i;}});},false);},"sap/ushell/components/shell/MeArea/userActivitiesHandler.view.js":function(){sap.ui.define(function(){"use strict";sap.ui.jsview("sap.ushell.components.shell.MeArea.userActivitiesHandler",{createContent:function(c){var i=sap.ushell.resources.i18n;var f=sap.ui.Device.system.phone?'Column':'Row';var F=sap.ui.Device.system.phone?'Stretch':'Center';var t=sap.ui.Device.system.phone?'Left':'Right';var C="cleanActivityButton";this.trackingLabel=new sap.m.Label('trackingLabel',{text:i.getText("trackingLabel"),textAlign:t}).addStyleClass("sapUshellCleanActivityLabel");this.trackUserActivitySwitch=new sap.m.Switch("trackUserActivitySwitch",{type:sap.m.SwitchType.Default,customTextOn:i.getText("Yes"),customTextOff:i.getText("No"),change:function(e){c._handleTrackUserActivitySwitch(e.getParameter("state"));}}).addAriaLabelledBy(this.trackingLabel);var T=new sap.m.FlexBox({alignItems:F,direction:f,items:[this.trackingLabel,this.trackUserActivitySwitch]});this.cleanActivityLabel=new sap.m.Label('cleanActivityLabel',{text:i.getText("cleanActivityLabel"),textAlign:t,labelFor:C}).addStyleClass("sapUshellCleanActivityLabel");this.cleanActivityButton=new sap.m.Button({id:"cleanActivityButton",text:i.getText("cleanActivityButton"),press:c._handleCleanHistory}).addAriaLabelledBy(this.cleanActivityLabel);var a=new sap.m.FlexBox({alignItems:F,direction:f,items:[this.cleanActivityLabel,this.cleanActivityButton]});var v=new sap.m.VBox({items:[T,a]});v.addStyleClass("sapUiSmallMargin");return v;},getControllerName:function(){return"sap.ushell.components.shell.MeArea.userActivitiesHandler";}});},false);}},"Component-preload");
