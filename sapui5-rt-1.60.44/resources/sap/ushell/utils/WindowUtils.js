// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(["sap/base/Log","sap/ui/Device","sap/ui/util/isCrossOriginURL"],function(L,D,i){"use strict";var W={};W.hasInvalidProtocol=function(U){var u=document.createElement("a");u.setAttribute("href",U);if(u.protocol==="javascript:"){return true;}return false;};W.isCrossOriginUrl=function(u){return i(u);};W.openURL=function(U,w,a,s){var S=(s===undefined)?true:s,I=this.isCrossOriginUrl(U);a=a||"";if(S&&this.hasInvalidProtocol(U)){L.fatal("Tried to open a URL with an invalid protocol");throw new Error("Tried to open a URL with an invalid protocol");}if(D.browser.msie){if(a!==undefined&&a!==null){L.warning("WindowUtils.js - 'windowFeatures' is ignored for new windows in Internet Explorer.");}var n=window.open("about:blank",w);if(I){n.opener=null;}n.location.href=U;return I?true:n;}if(I){if(a.toLowerCase().indexOf("noopener")===-1){if(a!==""){a+=",";}a+="noopener";}if(a.toLowerCase().indexOf("noreferrer")===-1){a+=",noreferrer";}window.open(U,w,a);return true;}return window.open(U,w,a);};return W;});
