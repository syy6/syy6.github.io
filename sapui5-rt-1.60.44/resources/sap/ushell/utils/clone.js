// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/utils/type"],function(t){"use strict";function c(d){function a(o){return t.isPlainObject(o)?{}:[];}function i(v){return t.isPlainObject(v)||t.isArray(v);}function g(v){return t.isPlainObject(v)?Object.keys(v).map(function(k){return{key:k,value:v[k]};}):v.map(function(I){return{value:I};});}function b(I,v){var A=t.isPlainObject(v)?function(I,v){v[I.key]=I.value;}:function(I,v){v.push(I.value);};A(I,v);}function s(I,h,q){h.push(I.length);Array.prototype.push.apply(q,I);}if(!i(d)){return d;}var C=a(d);var e=[C];var r=[];var R=[];var V=new WeakMap();V.set(d,C);s(g(d),R,r);while(e.length>0){var T=e.shift();var f=R.shift();r.splice(0,f).forEach(function(I){var p=I.value;if(!i(p)){b(I,T);return;}var o=p;var A=V.get(o);if(A){b({key:I.key,value:A},T);return;}var v=a(o);V.set(o,v);b({key:I.key,value:v},T);e.push(v);s(g(o),R,r);});}return C;}return c;},false);
