// Copyright (c) 2009-2017 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/EventHub"],function(E){"use strict";function s(e){var r=new jQuery.Deferred(),w,c,t=0,f=0,a=0,p=[],b=[],d;function o(){a++;r.notify();}function g(h){b.push({entry:d,message:h});f++;r.notify();}var u=E.last("UserSettingsOpened")||{};Object.keys(u).forEach(function(i){var I=parseInt(i,10);c=e[I].onSave();c.done(o);d=e[I].title;c.fail(g);p.push(c);t++;});E.emit("UserSettingsOpened",null);w=jQuery.when.apply(null,p);w.done(function(){r.resolve();});r.progress(function(){if(f>0&&(f+a===t)){r.reject(b);}});return r.promise();}return{saveUserPreferenceEntries:s};});
