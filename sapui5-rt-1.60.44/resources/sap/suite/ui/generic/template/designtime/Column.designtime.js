sap.ui.define(["sap/suite/ui/generic/template/changeHandler/util/ChangeHandlerUtils","sap/suite/ui/generic/template/changeHandler/util/AnnotationChangeUtilsV2","sap/suite/ui/generic/template/designtime/utils/DesigntimeUtils","sap/suite/ui/generic/template/designtime/library.designtime"],function(U,A,D){"use strict";var L="com.sap.vocabularies.UI.v1.LineItem",C="com.sap.vocabularies.UI.v1.Chart",a="Datafield",b="Chart",c="RatingIndicator",d="Contact",e="ProgressIndicator",f="DataFieldForAction",g="DataFieldWithIntentBasedNavigation",h="DatafieldWithUrl",i="ConnectedFields",j="ToolbarButton",k="com.sap.vocabularies.UI.v1.ChartType/Area",l="com.sap.vocabularies.UI.v1.ChartType/Donut",m="com.sap.vocabularies.UI.v1.ChartType/Bullet";var r=sap.ui.getCore().getModel("i18nDesigntime").getResourceBundle();var o={_getChartTypeValues:function(){var v={Area:{displayName:"Smart Area Micro Chart"},Donut:{displayName:"Smart Radial Micro Chart"},Bullet:{displayName:"Smart Bullet Micro Chart"}};return v;},_getMeasureDefinition:function(n){var M={Measure:{displayName:"Measure",type:"Edm.PropertyPath",namespace:"com.sap.vocabularies.UI.v1",annotation:"Chart"},Role:{displayName:"Role",type:"EnumType",namespace:"com.sap.vocabularies.UI.v1",annotation:"Chart",possibleValues:{Axis1:{displayName:"Axis 1"},Axis2:{displayName:"Axis 2"},Axis3:{displayName:"Axis 3"}}},DataPointAnnotationPath:{displayName:"Data Point Reference",type:"Edm.AnnotationPath",namespace:"com.sap.vocabularies.UI.v1",annotation:"Chart"}};var p=D.getChartFromColumn(n),q=p&&p.entityType[p.chartID];if(!p||!q||!q.ChartType){return M;}switch(q.ChartType.EnumMember){case k:M.DataPoint={displayName:"Data Point Properties",type:"ComplexType",namespace:"com.sap.vocabularies.UI.v1",annotation:"DataPoint",whiteList:{properties:["Value","TargetValue","CriticalityCalculation"],CriticalityCalculation:["ImprovementDirection","DeviationRangeLowValue","ToleranceRangeLowValue","ToleranceRangeHighValue","DeviationRangeHighValue"],expressionTypes:{Value:["Path"],TargetValue:["Path","String","Int","Decimal"]}}};break;case m:M.DataPoint={displayName:"Data Point Properties",type:"ComplexType",namespace:"com.sap.vocabularies.UI.v1",annotation:"DataPoint",whiteList:{properties:["Value","TargetValue","ForecastValue","MinimumValue","MaximumValue","Criticality","CriticalityCalculation"],CriticalityCalculation:["ImprovementDirection","DeviationRangeLowValue","ToleranceRangeLowValue","ToleranceRangeHighValue","DeviationRangeHighValue"],expressionTypes:{Value:["Path"],TargetValue:["Path","String","Int","Decimal"],ForecastValue:["Path","String","Int","Decimal"]}}};break;case l:M.DataPoint={displayName:"Data Point Properties",type:"ComplexType",namespace:"com.sap.vocabularies.UI.v1",annotation:"DataPoint",whiteList:{properties:["Value","TargetValue","Criticality","CriticalityCalculation"],CriticalityCalculation:["ImprovementDirection","DeviationRangeLowValue","ToleranceRangeLowValue","ToleranceRangeHighValue","DeviationRangeHighValue"],expressionTypes:{Value:["Path"],TargetValue:["Path","String","Int","Decimal"]}}};break;default:break;}return M;},_getChartType:function(n){var p=D.getChartFromColumn(n),s;if(!p||!p.entityType[p.chartID]||!p.entityType[p.chartID].ChartType){return s;}switch(p.entityType[p.chartID].ChartType.EnumMember){case k:s="Area";break;case m:s="Bullet";break;case l:s="Donut";break;default:break;}return s;},_setChartType:function(n,N){var p=[],O=o._getChartType(n);if(O===N){return p;}var q=D.getChartFromColumn(n),s=q&&q.entityType[q.chartID],t={},T=U.getEntityType(U.getComponent(n));if(s){t.Description=s.Description;t.Measures=s.Measures;t.MeasureAttributes=s.MeasureAttributes;}switch(N){case"Area":t.ChartType={EnumMember:k};t.Dimensions=s&&s.Dimensions;break;case"Bullet":t.ChartType={EnumMember:m};break;case"Donut":t.ChartType={EnumMember:l};break;default:return p;}var u=A.createCustomAnnotationTermChange(T,t,s,C);p.push(u);return p;},getDesigntime:function(E){var s=D.getColumnType(E);if(s===j){return{actions:null};}if(this.sColumnType===b){this.sChartType=o._getChartType(E);}else{this.sChartType=undefined;}return{name:{singular:function(){return r.getText("FE_COLUMN");},plural:function(){return r.getText("FE_COLUMNS");}},getLabel:function(E){return E.getHeader()&&E.getHeader().getText();},getCommonInstanceData:function(E){var n=U.getLineItems(E);var R=U.getLineItemRecordIndex(E,n),t;if(R>-1){var M=E.getModel().getMetaModel();var p=U.getEntityType(E);var q=p&&M.getODataEntityType(p);if(q){t=q.namespace+"."+q.name+"/"+L+"/"+R;}}return{target:t,annotation:L,qualifier:null};},aggregations:{header:{ignore:true},footer:{ignore:true}},properties:{columnType:{name:"Column type",virtual:true,ignore:function(){var R=U.getLineItemRecordForColumn(E);return R===undefined;},type:"EnumType",group:"header",possibleValues:D.getColumnTypeValues(),get:D.getColumnType.bind(E),set:D.setColumnType.bind(E)},chartType:{name:"Chart Type",virtual:true,ignore:function(){var s=D.getColumnType(E);return s!==b;},type:"EnumType",group:"header",possibleValues:o._getChartTypeValues(),get:o._getChartType.bind(E),set:o._setChartType.bind(E)},vMeasures:{name:"Measures and Attributes",virtual:true,type:"Collection",ignore:function(){var s=D.getColumnType(E);return s!==b;},visible:false,multiple:true,possibleValues:o._getMeasureDefinition.bind(E),get:D.getMeasures.bind(E),set:D.setMeasures.bind(E)}},actions:{remove:{changeType:"removeTableColumn",changeOnRelevantContainer:true},reveal:{changeType:"revealTableColumn",changeOnRelevantContainer:true}},annotations:{columnDataField:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataField",ignore:function(){var s=D.getColumnType(E);return s!==a;},whiteList:{properties:["Criticality","CriticalityRepresentation","Label","Value"],expressionTypes:{Value:["Path"]}},appliesTo:["Column"],links:{developer:[{href:"/topic/f0e1e1743bef4f519c34025ad4351f77.html",text:function(){return r.getText("FE_SDK_GUIDE_LINEITEMS");}},{href:"/api/sap.ui.comp.smarttable.SmartTable/annotations/DataField",text:function(){return r.getText("FE_API_SMART_TABLE_ANNOTATIONS");}}]}},columnDataFieldWithUrl:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldWithUrl",ignore:function(){var s=D.getColumnType(E);return s!==h;},whiteList:{expressionTypes:{Value:["Path"]}},appliesTo:["Column"],links:{developer:[{href:"/topic/f0e1e1743bef4f519c34025ad4351f77.html",text:function(){return r.getText("FE_SDK_GUIDE_LINEITEMS");}},{href:"/api/sap.ui.comp.smarttable.SmartTable/annotations/DataFieldWithUrl",text:function(){return r.getText("FE_API_SMART_TABLE_ANNOTATIONS");}}]}},dataFieldForAction:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAction",whiteList:{properties:["Action","Label","Criticality","InvocationGrouping"]},ignore:function(){var s=D.getColumnType(E);return s!==f;},appliesTo:["Column"],links:{developer:[{href:"/topic/b623e0bbbb2b4147b2d0516c463921a0",text:function(){return r.getText("FE_SDK_GUIDE_TABLE_ACTION");}}]}},dataFieldForAnnotationChartWithDimensions:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",refersTo:[{annotation:"chartWithDimensions",nullable:false,referredBy:"Target"}],ignore:function(){var n=o._getChartType(E);return n===undefined||n!=="Area";},appliesTo:["Column"],links:{developer:[{href:"/topic/a797173b84724ef1bc54d59dc575e52f",text:function(){return r.getText("FE_SDK_GUIDE_TABLE_CHART");}}]}},dataFieldForAnnotationChartNoDimensions:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",refersTo:[{annotation:"chartNoDimensions",nullable:false,referredBy:"Target"}],ignore:function(){var n=o._getChartType(E);return n===undefined||n==="Area";},appliesTo:["Column"],links:{developer:[{href:"/topic/a797173b84724ef1bc54d59dc575e52f",text:function(){return r.getText("FE_SDK_GUIDE_TABLE_CHART");}}]}},dataFieldForAnnotationRating:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",whiteList:{properties:["Target","Label"]},refersTo:[{annotation:"dataPointRating",nullable:false,referredBy:"Target"}],ignore:function(){var s=D.getColumnType(E);return s!==c;},appliesTo:["Column"],links:{developer:[{href:"/topic/a797173b84724ef1bc54d59dc575e52f",text:function(){return r.getText("FE_SDK_GUIDE_TABLE_RATING");}}]}},dataFieldForAnnotationProgress:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",whiteList:{properties:["Target","Label"]},refersTo:[{annotation:"dataPointProgress",nullable:false,referredBy:"Target"}],ignore:function(){var s=D.getColumnType(E);return s!==e;},appliesTo:["Column"],links:{developer:[{href:"/topic/43f6f0faa1b64c5aa92bcde379be9054",text:function(){return r.getText("FE_SDK_GUIDE_TABLE_PROGRESS");}}]}},dataFieldForAnnotationContact:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",whiteList:{properties:["Target","Label"]},refersTo:[{annotation:"contact",nullable:false,referredBy:"Target"}],ignore:function(){var s=D.getColumnType(E);return s!==d;},appliesTo:["Column"],links:{developer:[{href:"/topic/677fbde43a324f36aa9398b7f04e9896",text:function(){return r.getText("FE_SDK_GUIDE_TABLE_CONTACT");}}]}},dataFieldForAnnotationConnectedFields:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldForAnnotation",whiteList:{properties:["Target","Label"]},ignore:function(){var s=D.getColumnType(E);return s!==i;},appliesTo:["Column"]},dataFieldWithIBN:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataFieldWithIntentBasedNavigation",ignore:function(){var s=D.getColumnType(E);return s!==g;},appliesTo:["Column"]},chartWithDimensions:{namespace:"com.sap.vocabularies.UI.v1",annotation:"Chart",ignore:function(){var n=o._getChartType(E);return n===undefined||n!=="Area";},target:["EntityType"],whiteList:{properties:["Description","Dimensions","vMeasures"]},appliesTo:["Column"],links:{developer:[{href:"/topic/b8312a4adde54f33a89480dbe12d8632",text:function(){return r.getText("FE_SDK_GUIDE_TABLE_CHART");}}]}},chartNoDimensions:{namespace:"com.sap.vocabularies.UI.v1",annotation:"Chart",ignore:function(){var n=o._getChartType(E);return n===undefined||n==="Area";},target:["EntityType"],whiteList:{properties:["Description","vMeasures"]},appliesTo:["Column"],links:{developer:[{href:"/topic/b8312a4adde54f33a89480dbe12d8632",text:function(){return r.getText("FE_SDK_GUIDE_TABLE_CHART");}}]}},dataPointRating:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataPoint",target:["EntityType"],links:{developer:[{href:"/topic/a797173b84724ef1bc54d59dc575e52f",text:function(){return r.getText("FE_SDK_GUIDE_TABLE_RATING");}}]},whiteList:{properties:["Value","TargetValue","Title"],expressionTypes:{Value:["Path"],TargetValue:["Path","String","Int","Decimal"]}},ignore:function(){var s=D.getColumnType(E);return s!==c;}},dataPointProgress:{namespace:"com.sap.vocabularies.UI.v1",annotation:"DataPoint",target:["EntityType"],links:{developer:[{href:"/topic/43f6f0faa1b64c5aa92bcde379be9054",text:function(){return r.getText("FE_SDK_GUIDE_TABLE_PROGRESS");}}]},whiteList:{properties:["Value","TargetValue","Title"],expressionTypes:{Value:["Path"],TargetValue:["Path","String","Int","Decimal"]}},ignore:function(){var s=D.getColumnType(E);return s!==e;}},columnLabelOnProperty:{ignore:true},contact:{namespace:"com.sap.vocabularies.Communication.v1",annotation:"Contact",ignore:function(){var s=D.getColumnType(E);return s!==d;},target:["EntityType"],whiteList:{properties:["fn","n","tel","email","photo","title","org","role"]},appliesTo:["Column"],links:{developer:[{href:"/topic/677fbde43a324f36aa9398b7f04e9896",text:"FE_SDK_GUIDE_TABLE_CONTACT"}]}},textArrangement:{ignore:true},columnImportance:{namespace:"com.sap.vocabularies.UI.v1",annotation:"Importance",target:["Record"],appliesTo:["Column"],ignore:function(){var s=D.getColumnType(E);return s===undefined;},links:{developer:[{href:"/topic/69efbe747fc44c0fa445b24ed369cb1e",text:function(){return r.getText("FE_SDK_GUIDE_RESPONSIVENESS");}},{href:"/api/sap.ui.comp.smarttable.SmartTable/annotations/Importance",text:function(){return r.getText("FE_API_SMART_TABLE_ANNOTATIONS");}}]}}}};}};return o;});
