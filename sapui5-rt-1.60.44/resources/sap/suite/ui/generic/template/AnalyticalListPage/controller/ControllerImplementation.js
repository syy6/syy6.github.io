sap.ui.define(["jquery.sap.global","sap/ui/base/Object","sap/ui/model/json/JSONModel","sap/m/ObjectIdentifier","sap/m/Table","sap/m/Text","sap/ui/comp/smartfield/SmartField","sap/ui/generic/app/navigation/service/SelectionVariant","sap/ui/base/EventProvider","sap/suite/ui/generic/template/AnalyticalListPage/extensionAPI/ExtensionAPI","sap/ui/core/ResizeHandler","sap/suite/ui/generic/template/AnalyticalListPage/controller/FilterBarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/ToolbarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/VisualFilterBarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/VisualFilterDialogController","sap/suite/ui/generic/template/AnalyticalListPage/controller/AnalyticGridController","sap/suite/ui/generic/template/lib/MessageUtils","sap/m/MessageBox","sap/ui/table/AnalyticalTable","sap/ui/model/odata/AnnotationHelper","sap/ui/model/analytics/odata4analytics","sap/suite/ui/generic/template/AnalyticalListPage/controller/ContentAreaController","sap/suite/ui/generic/template/AnalyticalListPage/controller/IappStateHandler","sap/suite/ui/generic/template/AnalyticalListPage/util/FilterUtil","sap/ui/Device","sap/m/SegmentedButtonItem","sap/m/SegmentedButton","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/library",'sap/ui/model/Context',"sap/suite/ui/generic/template/AnalyticalListPage/util/AnnotationHelper","sap/base/Log"],function(q,B,J,O,T,a,S,b,E,c,R,F,d,V,f,A,M,g,h,j,k,C,I,l,D,m,n,o,p,r,s,t,L){"use strict";var u="chart",v="visual",w="compact";return{getMethods:function(x,y,z){var G={};G.bVisualFilterInitialised=false;G._bIsStartingUp=true;function H(){var e=z.getOwnerComponent();var i=e.getModel("_templPriv");i.setProperty("/listReport/isLeaf",e.getIsLeaf());}function K(){var e=q.sap.getObject("sap.ushell.Container.getUser"),i=z.getOwnerComponent(),Z=i.getAppComponent(),$=Z.getMetadata(),_=$.getManifestEntry("sap.ui"),a1=(_&&_.icons&&_.icons.icon)||"",b1=$.getManifestEntry("sap.app"),c1=(b1&&b1.title)||"";var d1={bookmarkIcon:a1,bookmarkAppTitle:c1,bookmarkCustomUrl:function(){G.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();return hasher.getHash()?("#"+hasher.getHash()):window.location.href;},bookmarkServiceUrl:function(){var f1={serviceURL:null};z.onSaveAsTileExtension(f1);if(f1.serviceURL===null){var g1=G.oSmartTable.getTable();var h1;if(g1){h1=g1.getBinding("rows")||g1.getBinding("items");}else{h1="";}return h1?h1.getDownloadUrl()+"&$top=0&$inlinecount=allpages":"";}else{return f1.serviceURL||"";}},isShareInJamActive:!!e&&e().isJamActive()};var e1=z.getOwnerComponent().getModel("_templPriv");e1.setProperty("/listReport/share",d1);}function N(e,i){var Z=e&&e.property;return Z.filter(function($){return typeof $[i]!=="undefined";});}function P(e){var i=e.SelectOptions,Z=e.Parameters;var $=new s(null,"/");var _={};if(i){i.forEach(function(a1){a1.PropertyName=a1.PropertyName.PropertyPath;a1.Ranges.forEach(function(b1){b1.Sign=b1.Sign.EnumMember.split("/")[1];b1.Option=b1.Option.EnumMember.split("/")[1];b1.Low=b1.Low&&j.format($,b1.Low)||null;b1.High=b1.High&&j.format($,b1.High)||null;});});_.SelectOptions=i;}if(Z){Z.forEach(function(a1){a1.PropertyName=a1.PropertyName.PropertyPath.split("/")[1]||a1.PropertyName.PropertyPath;a1.PropertyValue=j.format($,a1.PropertyValue)||null;});_.Parameters=Z;}return new b(_);}function Q(i){var Z=i.getModel(),$=Z&&Z.getMetaModel(),_=$&&$.getODataEntityType(i.getEntityType()),a1,b1=$&&$.getODataEntityType(i.getEntityType(),true),c1=t.createSVAnnotation(_,$,G.oController.getOwnerComponent().getQualifier());if(G.oController.getOwnerComponent().getFilterDefaultsFromSelectionVariant()&&c1){a1=P(c1);}else{if(G.oController.getOwnerComponent().getFilterDefaultsFromSelectionVariant()&&!c1){L.warning("No SelectionVariant found in the annotation : No default values filled in FilterBar","","ALPSmartFilterBar");}var d1=_&&N(_,"com.sap.vocabularies.Common.v1.FilterDefaultValue"),e1,f1,g1,h1,i1,j1=[];try{e1=new k.Model(new k.Model.ReferenceByModel(Z));i1=e1&&e1.findQueryResultByName(i.getEntitySet());f1=i1&&i1.getParameterization();g1=f1&&$.getODataEntitySet(f1.getEntitySet().getQName());h1=g1&&$.getODataEntityType(g1.entityType);j1=h1?N(h1,"defaultValue"):[];}catch(e){q.sap.log.Error(e);}if(d1.length>0||j1.length>0){a1=new b();d1.forEach(function(k1){var l1=$.createBindingContext(b1+"/property/[${path:'name'}===\'"+k1.name+"']/com.sap.vocabularies.Common.v1.FilterDefaultValue");a1.addSelectOption(k1.name,"I","EQ",j.format(l1));});j1.forEach(function(k1){a1.addParameter(k1.name,k1.defaultValue);});}}return a1;}function U(e){var i=e.getSource(),Z=Q(i);if(Z){G.oIappStateHandler.fnSetFiltersUsingUIState(Z.toJSONObject(),true,false);}G.oIappStateHandler.onSmartFilterBarInitialise();z.onInitSmartFilterBarExtension(e);z.templateBaseExtension.onInitSmartFilterBar(e);}function W(){var e=G.oIappStateHandler.onSmartFilterBarInitialized();e.then(function(){G._bIsStartingUp=false;if(G.bVisualFilterInitialised){G.oIappStateHandler.fnUpdateVisualFilterBar();}if(G.oSmartFilterableKPI){var i=G.oSmartFilterableKPI.getContent();i.forEach(function(Z){if(Z.getSmartFilterId){Z._bStopDataLoad=false;Z._updateKpiList(true);}});}},function(i){if(i instanceof Error){i.showMessageBox();}G.oIappStateHandler.fnOnError();G._bIsStartingUp=false;});}function X(e){var i=e.getParameters();var Z=e.getSource();y.oCommonEventHandlers.onSemanticObjectLinkNavigationPressed(Z,i);}function Y(e){var i,Z;i=e.getParameters();Z=e.getSource();y.oCommonEventHandlers.onSemanticObjectLinkNavigationTargetObtained(Z,i,G,undefined,undefined);}return{onInit:function(){var e=z.getOwnerComponent();L.setLevel(q.sap.log.Level.WARNING,"ALPSmartFilterBar");var Z=e.getModel("_templPriv");Z.setProperty("/alp",{filterMode:e.getHideVisualFilter()?w:e.getDefaultFilterMode(),contentView:e.getDefaultContentView(),autoHide:e.getAutoHide(),visibility:{hybridView:(D.system.phone||D.system.tablet&&!D.system.desktop)?false:true},filterChanged:false});G.hideVisualFilter=e.getHideVisualFilter();G.hideVisualFilter=(G.hideVisualFilter===undefined||G.hideVisualFilter!==true)?false:true;G.oSmartFilterbar=z.byId("template::SmartFilterBar");G.oSmartTable=z.byId("table");G.oSmartFilterableKPI=z.byId("template::KPITagContainer::filterableKPIs");G.oPage=z.byId("template::Page");G.oSmartChart=z.byId("chart");if(z.getOwnerComponent().getProperty("dshQueryName")){G.oAnalyticGridContainer=z.byId("template::AnalyticGridContainer");G.oAnalyticGridController=new A();G.oAnalyticGridController.setState(G);}G.alr_compactFilterContainer=z.byId("template::CompactFilterContainer");G.alr_visualFilterContainer=z.byId("template::VisualFilterContainer");G.alr_filterContainer=z.byId("template::FilterContainer");G.alr_visualFilterBar=z.byId("template::VisualFilterBar");G.alp_ColumnListItem=z.byId("template::responsiveHightlightCol");if(G.alr_visualFilterBar){G.alr_visualFilterBar.setSmartFilterId(G.oSmartFilterbar.getId());}G.oKpiTagContainer=z.byId("template::KPITagContainer::globalKPIs");G.oFilterableKpiTagContainer=z.byId("template::KPITagContainer::filterableKPIs");if(G.oKpiTagContainer||G.oFilterableKpiTagContainer){sap.ui.require(["sap/suite/ui/generic/template/AnalyticalListPage/controller/KpiTagController"],function(i){i.init(G);});}G.oContentArea=new C();G.oTemplateUtils=y;G.toolbarController=new d();G.oController=z;G.filterBarController=new F();G.filterBarController.init(G);G.oContentArea.createAndSetCustomModel(G);G.oContentArea.setState(G);if(!G.hideVisualFilter){G.visualFilterBarContainer=new V();G.visualFilterBarContainer.init(G);}G.oIappStateHandler=new I(G,z,y.oCommonUtils.getNavigationHandler());H();K();z.byId("template::FilterText").attachBrowserEvent("click",function(){z.byId("template::Page").setHeaderExpanded(true);});Z.setProperty("/listReport/isHeaderExpanded",true);if(G.oSmartTable){var $=G.oSmartTable.getTable();}var _="sapUiSizeCozy",a1="sapUiSizeCompact",b1="sapUiSizeCondensed";if(y.oCommonUtils.isUiTable($)||$ instanceof h){var c1=z.getView();var d1=q(document.body);if(d1.hasClass(_)||c1.hasStyleClass(_)){G.oSmartTable.addStyleClass(_);}else if(d1.hasClass(a1)||c1.hasStyleClass(a1)){var e1=e.getComponentContainer().getSettings().condensedTableLayout;if(e1===false){G.oSmartTable.addStyleClass(a1);}else{G.oSmartTable.addStyleClass(b1);}}}if(G.oSmartFilterableKPI){G.oSmartFilterableKPI.setModel(e.getModel("_templPriv"),"_templPriv");var f1=G.oSmartFilterableKPI.getContent(),g1=G.oController;f1.forEach(function(i){if(i.getSmartFilterId){i.attachBeforeRebindFilterableKPI(function(h1){var i1=h1.getParameters(),j1=i1.selectionVariant,k1=i1.entityType,l1=h1.getSource().getId();g1.onBeforeRebindFilterableKPIExtension(j1,k1,l1);},g1);}});}x.getUrlParameterInfo=function(){return G.oIappStateHandler.getUrlParameterInfo();};x.onComponentActivate=function(){};x.refreshBinding=function(){if(G.alr_visualFilterBar&&G.alr_visualFilterBar.updateVisualFilterBindings){G.alr_visualFilterBar.updateVisualFilterBindings();}if(G.oSmartChart&&G.oSmartChart.rebindChart){G.oSmartChart.rebindChart();}if(G.oSmartTable){y.oCommonUtils.refreshSmartTable(G.oSmartTable);}if(G.oKpiTagContainer){var h1=G.oKpiTagContainer.mAggregations.content;for(var i in h1){if(h1[i]._createGlobalKpi){h1[i]._createGlobalKpi();}}}if(G.oFilterableKpiTagContainer){var h1=G.oFilterableKpiTagContainer.mAggregations.content;for(var i in h1){if(h1[i]._createFilterableKpi){h1[i]._createFilterableKpi();}}}};if(G.alr_visualFilterBar){G.alr_visualFilterBar.attachInitialized(function(i){G.bVisualFilterInitialised=true;if(!G._bIsStartingUp){G.oIappStateHandler.fnUpdateVisualFilterBar();}});}G.oSmartFilterbar.attachFilterChange(function(i){var h1=G.oSmartChart&&G.oSmartChart.getChart()&&G.oSmartChart.getDrillStackFilters();var Z=e.getModel("_templPriv");if(h1&&h1.length){Z.setProperty('/alp/_ignoreChartSelections',false);}else{Z.setProperty('/alp/_ignoreChartSelections',true);}G.oIappStateHandler.fnCheckMandatory();var i1=G.oSmartFilterbar.isDialogOpen();var j1=i.getSource(),k1;k1=q.extend(true,{},j1.getFilterData(true));if(i1&&G.visualFilterDialogContainer){var l1=G.visualFilterDialogContainer.oVerticalBox.getModel("_dialogFilter");l1.setData(k1);}else{var m1=G.oController.getOwnerComponent().getModel("_filter");m1.setData(k1);}if(i.getParameters().filterItem){if(!G.hideVisualFilter){G.filterBarController.changeVisibility(i);}Z.setProperty('/alp/_ignoreChartSelections',false);}G.filterBarController._updateFilterLink();if(!G.oSmartFilterbar.isLiveMode()&&!G.oSmartFilterbar.isDialogOpen()){if(G.oSmartFilterableKPI&&G.oSmartFilterableKPI.getEnabled()){Z.setProperty('/alp/filterChanged',true);}}});},handlers:{onBack:function(){y.oServices.oNavigationController.navigateBack();},addEntry:function(e){var i=e.getSource();y.oCommonUtils.processDataLossConfirmationIfNonDraft(function(){y.oCommonEventHandlers.addEntry(i,false,G.oSmartFilterbar);},q.noop,G);},deleteEntries:function(e){y.oCommonEventHandlers.deleteEntries(e);},onSelectionChange:function(e){var Z=e.getSource(),$=Z.getModel(),_=Z.getModel("_templPriv");var a1=$.getMetaModel(),b1=a1.getODataEntitySet(this.getOwnerComponent().getEntitySet()),c1=b1["Org.OData.Capabilities.V1.DeleteRestrictions"];var d1=(c1&&c1.Deletable&&c1.Deletable.Path)?c1.Deletable.Path:"";var e1=false;var f1=true;var g1=(d1&&d1!=="");var h1=y.oCommonUtils.getSelectedContexts(Z);if(h1.length>0){for(var i=0;i<h1.length;i++){var i1=$.getObject(h1[i].getPath());if(!(i1.IsActiveEntity&&i1.HasDraftEntity&&i1.DraftAdministrativeData&&i1.DraftAdministrativeData.InProcessByUser)){f1=false;}if(g1){if($.getProperty(d1,h1[i])){g1=false;}}if(!f1&&!g1){e1=true;break;}}}_.setProperty("/listReport/deleteEnabled",e1);},onChange:function(e){y.oCommonEventHandlers.onChange(e);},onSmartFieldUrlPressed:function(e){y.oCommonEventHandlers.onSmartFieldUrlPressed(e,G);},onContactDetails:function(e){y.oCommonEventHandlers.onContactDetails(e);},onSmartFilterBarInitialise:U,onSmartFilterBarInitialized:W,onEditStateFilterChanged:function(e){e.getSource().fireChange();},onFilterPress:function(e){G.filterBarController.showDialog.call(G.filterBarController);},onClearPress:function(e){G.filterBarController.clearFilters();z.onClearFilterExtension(e);},onGoPress:function(e){G.filterBarController.onGoFilter();},onBeforeSFBVariantSave:function(){if(G.oSmartFilterbar.isDialogOpen()&&!G.hideVisualFilter){G.visualFilterDialogContainer._updateFilterBarFromDialog.call(G.visualFilterDialogContainer);}var e=G.oIappStateHandler.getCurrentAppState();if(!this.getOwnerComponent().getProperty('smartVariantManagement')){delete e.customData["sap.suite.ui.generic.template.genericData"].contentView;}G.oSmartFilterbar.setFilterData({_CUSTOM:e.customData});},onAfterSFBVariantLoad:function(e){if(!G.oSmartFilterbar.isDialogOpen()){G.filterBarController._afterSFBVariantLoad();}},onBeforeRebindTable:function(e){y.oCommonEventHandlers.onBeforeRebindTable(e);z.onBeforeRebindTableExtension(e);},onBeforeRebindChart:function(e){},onShowDetails:function(e){y.oCommonEventHandlers.onShowDetails(e.getSource(),G);},onListNavigate:function(e){if(!z.onListNavigationExtension(e)){y.oCommonEventHandlers.onListNavigate(e.getSource(),G);}},onCallActionFromToolBar:function(e){var i=y.oCommonUtils.getParentTable;y.oCommonUtils.getParentTable=function(){return G.oSmartTable;};y.oCommonEventHandlers.onCallActionFromToolBar(e,G);y.oCommonUtils.getParentTable=i;i=null;},onShowDetailsIntent:function(e){y.oCommonEventHandlers.onShowDetailsIntent(e,G.oSmartFilterbar);},onCallActionFromList:function(e){},onDataFieldForIntentBasedNavigation:function(e){y.oCommonEventHandlers.onDataFieldForIntentBasedNavigation(e,G);},onDataFieldWithIntentBasedNavigation:function(e){y.oCommonEventHandlers.onDataFieldWithIntentBasedNavigation(e,G);},onBeforeSemanticObjectLinkPopoverOpens:function(e){var i=e.getParameters();y.oCommonUtils.processDataLossConfirmationIfNonDraft(function(){var Z=G.oSmartFilterbar.getUiState({allFilters:false}).getSelectionVariant();y.oCommonUtils.semanticObjectLinkNavigation(i,Z,z);},q.noop,G,q.noop);},onAssignedFiltersChanged:function(e){if(e&&e.getSource()){if(G&&G.oSmartFilterbar&&G.filterBarController){z.byId("template::FilterText").setText(G.oSmartFilterbar.retrieveFiltersWithValuesAsText());}}},onToggleFiltersPressed:function(){var e=z.getOwnerComponent();var i=e.getModel("_templPriv");i.setProperty("/listReport/isHeaderExpanded",(i.getProperty("/listReport/isHeaderExpanded")===true)?false:true);},onSearchButtonPressed:function(){if(D.system.phone&&G.oPage.getHeaderExpanded()){G.oPage.setHeaderExpanded(false);}var e=z.getOwnerComponent().getModel();if(G.oSmartFilterableKPI&&!G.oSmartFilterableKPI.getEnabled()){G.oController.getOwnerComponent().getModel("_templPriv").setProperty('/alp/filterChanged',false);}e.attachEventOnce("requestSent",function(){if(!G._bIsStartingUp){G.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();}else{G.oIappStateHandler.fnResolveStartUpPromise();}});G.oController.getOwnerComponent().getModel("_templPriv").setProperty('/alp/_ignoreChartSelections',true);y.oCommonUtils.refreshModel(G.oSmartTable);},onSemanticObjectLinkPopoverLinkPressed:function(e){y.oCommonEventHandlers.onSemanticObjectLinkPopoverLinkPressed(e,G);},onSemanticObjectLinkNavigationPressed:X,onSemanticObjectLinkNavigationTargetObtained:Y,onAfterTableVariantSave:function(){G.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onAfterApplyTableVariant:function(){G.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onAfterChartVariantSave:function(e){G.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();y.oCommonUtils.setEnabledToolbarButtons(e.getSource());},onAfterApplyChartVariant:function(){G.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onFilterModeSegmentedButtonChange:function(e){G.filterBarController.handleFilterSwitch(e.getParameter("key"),e.oSource._bApplyingVariant);G.oController._templateEventHandlers.onSegmentButtonPressed();},onContentViewSegmentButtonPressed:function(e){if(e.getParameter("key")==="crosstable"&&!G.oAnalyticGrid){G.oAnalyticGridController.initAnalyticGrid();}if(!G.oSmartFilterableKPI&&!G.oController.getOwnerComponent().getContentTitle()){var i=G.oController.getView(),Z;if(e.getSource().getSelectedKey()==="customview1"){Z="template::contentViewExtensionToolbar";}else if(e.getSource().getSelectedKey()==="customview2"){Z="template::contentViewExtension2Toolbar";}else if(e.getSource().getSelectedKey()==="chart"||e.getSource().getSelectedKey()==="charttable"){Z=i.byId("template::masterViewExtensionToolbar")?"template::masterViewExtensionToolbar":"template::ChartToolbar";}else if(e.getSource().getSelectedKey()==="table"){Z="template::TableToolbar";}G.oController._templateEventHandlers.setFocusOnContentViewSegmentedButtonItem(i,Z);}G.oController._templateEventHandlers.onSegmentButtonPressed(!G.oController.getOwnerComponent().getProperty('smartVariantManagement'));},setFocusOnContentViewSegmentedButtonItem:function(e,i){var Z=e.byId(i);if(Z){var $=Z.getContent().length,_=Z.getContent()[$-1];if(_){_.addEventDelegate({onAfterRendering:function(a1){a1.srcControl.focus();}});}}},onSegmentButtonPressed:function(i){if(!i){G.oController.byId('template::PageVariant').currentVariantSetModified(true);G.oSmartFilterbar.setFilterData({_CUSTOM:G.oIappStateHandler.getFilterState()});}G.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onShareListReportActionButtonPress:function(e){if(!G.oShareActionSheet){G.oShareActionSheet=y.oCommonUtils.getDialogFragment("sap.suite.ui.generic.template.fragments.lists.ShareSheet",{shareEmailPressed:function(){G.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();r.URLHelper.triggerEmail(null,y.oCommonUtils.getText("EMAIL_HEADER",[y.oServices.oApplication.getAppTitle()]),document.URL);},shareJamPressed:function(){G.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();var i=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:document.URL,share:y.oServices.oApplication.getAppTitle()}}});i.open();}},"share",function(i,Z){var $=sap.ui.getCore().getLibraryResourceBundle("sap.m");Z.setProperty("/emailButtonText",$.getText("SEMANTIC_CONTROL_SEND_EMAIL"));Z.setProperty("/jamButtonText",$.getText("SEMANTIC_CONTROL_SHARE_IN_JAM"));Z.setProperty("/bookmarkButtonText",$.getText("SEMANTIC_CONTROL_SAVE_AS_TILE"));var _=q.sap.getObject("sap.ushell.Container.getUser");Z.setProperty("/jamVisible",!!_&&_().isJamActive());i.openBy(e.getSource());});}else{G.oShareActionSheet.openBy(e.getSource());}},onDeterminingDataFieldForAction:function(e){var i=G.oController.getOwnerComponent().getModel("_templPriv");var Z=i.getProperty('/alp/contentView');var $=(Z===u)?G.oSmartChart:G.oSmartTable;y.oCommonEventHandlers.onDeterminingDataFieldForAction(e,$);},onDeterminingDataFieldForIntentBasedNavigation:function(e){var i=e.getSource();var Z=G.oController.getOwnerComponent().getModel("_templPriv");var $=Z.getProperty('/alp/contentView');var _=($===u)?G.oSmartChart:G.oSmartTable.getTable();y.oCommonEventHandlers.onDeterminingDataFieldForIntentBasedNavigation(i,_,G);},onInlineDataFieldForAction:function(e){y.oCommonEventHandlers.onInlineDataFieldForAction(e,G);},onInlineDataFieldForIntentBasedNavigation:function(e){y.oCommonEventHandlers.onInlineDataFieldForIntentBasedNavigation(e.getSource(),G);},onAutoHideToggle:function(){G.oSmartTable.getModel("_tableHighlight").setProperty("/highlightMode","eyeModeSwitch");G.chartController&&G.chartController._updateTable();G.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onFullScreenToggled:function(e){var i=e.getParameter("fullScreen");var Z=e.getSource().getModel("_templPriv");Z.setProperty("/alp/fullScreen",i);},onDialogClosed:function(e){G.visualFilterDialogContainer._closeDialog.call(G.visualFilterDialogContainer);},onDialogOpened:function(e){var i=G.oSmartFilterbar.getFilterDialogContent();if(!G.visualFilterDialogContainer){G.visualFilterDialogContainer=new f();G.visualFilterDialogContainer.init(G);}if(i.length<2){var Z=[new m({icon:"sap-icon://filter-fields",width:"inherit",key:w,tooltip:"{i18n>FILTER_COMPACT}"}),new m({icon:"sap-icon://filter-analytics",width:"inherit",key:v,tooltip:"{i18n>FILTER_VISUAL}",enabled:"{_templPriv>/alp/searchable}"})];var $=new n({width:"inherit",selectedKey:w,items:Z,select:function(e){var c1=e.getSource();c1.setSelectedKey(w);G.visualFilterDialogContainer._toggle.call(G.visualFilterDialogContainer);}}).addEventDelegate({onAfterRendering:function(e){if(e.srcControl.getCustomData()[0]&&e.srcControl.getCustomData()[0].getValue()){e.srcControl.focus();e.srcControl.removeAllCustomData();}}});var _=G.visualFilterDialogContainer._createForm();G.oSmartFilterbar.addFilterDialogContent(_);var a1=new o({design:r.ToolbarDesign.Transparent,content:[new p(),$]}).addStyleClass("sapSmartTemplatesAnalyticalListPageFilterDialogToolbar");i[0].setToolbar(a1);$.setModel(G.oController.getView().getModel("_templPriv"),"_templPriv");}var b1=G.oController.getView().getModel("_templPriv");if(b1.getProperty("/alp/searchable")){if(b1.getProperty("/alp/filterMode")===v){G.oSmartFilterbar.addFilterDialogContent(i[1]);if(D.system.desktop&&(!D.system.phone||!D.system.tablet)){G.oSmartFilterbar.setContentWidth(790);G.oSmartFilterbar.setContentHeight(685);}else if(D.system.tablet){if(D.orientation.portrait){G.oSmartFilterbar.setContentWidth(400);G.oSmartFilterbar.setContentHeight(720);}else if(D.orientation.landscape){G.oSmartFilterbar.setContentWidth(512);G.oSmartFilterbar.setContentHeight(861);}}}else{G.oSmartFilterbar.addFilterDialogContent(i[0]);}}else{G.oSmartFilterbar.addFilterDialogContent(i[0]);}},onSearchForFilters:function(e){G.visualFilterDialogContainer._triggerSearchInFilterDialog.call(G.visualFilterDialogContainer,e);},onDialogSearch:function(e){G.visualFilterDialogContainer._searchDialog.call(G.visualFilterDialogContainer);},onDialogClear:function(e){z.onClearFilterExtension(e);},onRestore:function(e){G.visualFilterDialogContainer._restoreDialog.call(G.visualFilterDialogContainer);},onDataReceived:function(e){G.oContentArea.enableToolbar();y.oCommonEventHandlers.onDataReceived(e);},onRowSelectionChange:function(e){var i=e.getSource();y.oCommonUtils.setEnabledToolbarButtons(i);}},extensionAPI:new c(y,z,G)};}};});
