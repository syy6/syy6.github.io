sap.ui.predefine('sap/suite/ui/commons/CalculationBuilder',["jquery.sap.global","./library","sap/ui/core/Control","./CalculationBuilderItem","./CalculationBuilderExpression","./CalculationBuilderInput","./CalculationBuilderFunction","sap/m/OverflowToolbar","sap/m/OverflowToolbarToggleButton","sap/m/OverflowToolbarButton","sap/m/ToolbarSpacer","sap/m/Title","sap/ui/core/TitleLevel","sap/m/ButtonType","sap/ui/core/Popup","sap/m/MessageBox"],function(q,l,C,a,b,c,d,O,e,f,T,g,h,B,P,M){"use strict";var I=Object.freeze({SHOW_EXPRESSION:"sap-icon://notification-2",EXPAND_VARIABLE:"sap-icon://disconnected",FULL_SCREEN:"sap-icon://full-screen",EXIT_FULL_SCREEN:"sap-icon://exit-full-screen"});var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");var i=l.CalculationBuilderOperatorType,L=l.CalculationBuilderLogicalOperatorType,j=l.CalculationBuilderComparisonOperatorType,k=l.CalculationBuilderItemType,F=l.CalculationBuilderFunctionType,m=l.CalculationBuilderLayoutType,V=l.CalculationBuilderValidationMode;var n={abs:{key:"ABS",title:"ABS - Absolute Value",allowed:true},round:{key:"Round",title:"Round",template:["",",",""],allowed:true},roundup:{key:"RoundUp",title:"Round Up",template:["",",",""],allowed:true},rounddown:{key:"RoundDown",title:"Round Down",template:["",",",""],allowed:true},sqrt:{key:"SQRT",title:"SQRT",allowed:true},"case":{key:"Case",title:"Case",description:"CASE ( \"When\" Expression \"Then\" Expression \"Else\" Expression )",template:["",",","",",",""]},ndiv0:{key:"NDIV0",title:"NDIV0"},nodim:{key:"NODIM",title:"NODIM",description:"NODIM ( Variable )"},sumct:{key:"SUMCT",title:"SUMCT",description:"SUMGT ( Variable )"},sumgt:{key:"SUMGT",title:"SUMGT",description:"SUMGT ( Variable )"},sumrt:{key:"SUMRT",title:"SUMRT",description:"SUMRT ( Variable )"}};
var o=C.extend("sap.suite.ui.commons.CalculationBuilder",{
metadata:{library:"sap.suite.ui.commons",properties:{expression:{type:"string",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},showToolbar:{type:"boolean",group:"Misc",defaultValue:true},wrapItemsInExpression:{type:"boolean",group:"Misc",defaultValue:true},layoutType:{type:"string",group:"Misc",defaultValue:"Default"},showInputToolbar:{type:"boolean",group:"Misc",defaultValue:false},readOnly:{type:"boolean",group:"Misc",defaultValue:false},allowComparisonOperators:{type:"boolean",group:"Misc",defaultValue:true},allowLogicalOperators:{type:"boolean",group:"Misc",defaultValue:true},allowSuggestions:{type:"boolean",group:"Misc",defaultValue:true},allowStringConstants:{type:"boolean",group:"Misc",defaultValue:false},validationMode:{type:"sap.suite.ui.commons.CalculationBuilderValidationMode",group:"Misc",defaultValue:V.LiveChange}},defaultAggregation:"items",aggregations:{items:{type:"sap.suite.ui.commons.CalculationBuilderItem",multiple:true,singularName:"item",bindable:"bindable",forwarding:{idSuffix:"-expression",aggregation:"items",forwardBinding:true}},variables:{type:"sap.suite.ui.commons.CalculationBuilderVariable",multiple:true,singularName:"Variable",forwarding:{idSuffix:"-expression",aggregation:"variables",forwardBinding:true}},functions:{type:"sap.suite.ui.commons.CalculationBuilderFunction",multiple:true,singularName:"Function",forwarding:{idSuffix:"-expression",aggregation:"functions",forwardBinding:true}},operators:{type:"sap.ui.core.Item",multiple:true,singularName:"Operator",forwarding:{idSuffix:"-expression",aggregation:"operators",forwardBinding:true}},groups:{type:"sap.suite.ui.commons.CalculationBuilderGroup",multiple:true,singularName:"Group",forwarding:{idSuffix:"-expression",aggregation:"groups",forwardBinding:true}}},events:{validateFunction:{parameters:{definition:"object",customFunction:"object",result:"sap.suite.ui.commons.CalculationBuilderValidationResult"}},change:{},afterValidation:{}}},
renderer:function(R,p){var w=p.getWrapItemsInExpression()?" sapCalculationBuilderWrapItems ":"",s=p.getLayoutType()===m.TextualOnly,D=p._bShowInput||s?"":"style=\"display:none\"",t=p._isExpressionVisible(),u=p._isInputVisible(),v=p.getReadOnly();R.write("<div");R.writeControlData(p);R.addClass("sapCalculationBuilder");if(p.getReadOnly()){R.addClass("sapCalculationBuilderReadOnly");}R.writeClasses(p);R.write(">");if(p.getShowToolbar()&&!s){R.renderControl(p.getToolbar());}if(t){p._oExpressionBuilder._bReadOnly=v;R.write("<div class=\"sapCalculationBuilderInsideWrapper"+w+"\">");R.renderControl(p._oExpressionBuilder);R.write("</div>");}if(t&&u){R.write("<div class=\"sapCalculationBuilderDelimiterLine\"></div>");}if(u){p._oInput._bReadOnly=v||(p.getLayoutType()===m.VisualTextualReadOnly);R.write("<div");R.addClass("sapCalculationBuilderInputOuterWrapper");if(p._oInput._bReadOnly){R.addClass("sapCalculationBuilderReadOnly");}if(p.getLayoutType()===m.Default||p.getLayoutType()===m.VisualTextualReadOnly){R.addClass("sapCalculationBuilderInputOuterWrapperMargin");}R.writeClasses();R.write(D+">");R.renderControl(p._oInput);R.write("</div>");}R.write("</div>");}
});
o.prototype.init=function(){this._bShowInput=true;this._oFullScreenContainer=null;this._bIsFullScreen=false;this._oExpressionBuilder=new b(this.getId()+"-expression",{change:function(){var p="";this._oExpressionBuilder._aErrors=this._oExpressionBuilder._validateSyntax();p=this._oInput._itemsToString({items:this._oExpressionBuilder.getItems(),errors:this._oExpressionBuilder._aErrors});this._setExpression(p);this.fireAfterValidation();this._oInput._displayError(this._oExpressionBuilder._aErrors.length!==0);this._oExpressionBuilder._printErrors();this._enableOrDisableExpandAllButton();this.fireChange();}.bind(this)});this.addDependent(this._oExpressionBuilder);this._oInput=new c(this.getId()+"-input",{change:function(E){var t=E.getParameter("value"),p=this._oInput._stringToItems(t),s=E.getParameter("position");this._oExpressionBuilder._setItems(p);this._setExpression(this._oInput._convertEmptyHashes(t));if(this.getValidationMode()!==V.FocusOut){this._validateInput(t,s);}else{this._oInput._recreateText({text:t,position:s,errors:this._oExpressionBuilder._aErrors});}this._enableOrDisableExpandAllButton();this.fireChange();}.bind(this)});this.addDependent(this._oInput);};
o.prototype.onBeforeRendering=function(){this._createToolbar();this._oExpressionBuilder._createVariablesMap();this._oInput._aVariables=this.getVariables();if(this._sExpressionDirectValue){this._oExpressionBuilder._setItems(this._oInput._stringToItems(this._sExpressionDirectValue));}this._sExpressionDirectValue="";};
o.prototype.onAfterRendering=function(){this._setExpression(this._oInput._itemsToString({items:this._oExpressionBuilder.getItems(),errors:this._oExpressionBuilder._aErrors}));};
o.prototype.getToolbar=function(){return this._oToolbar;};
o.prototype.getInputToolbar=function(){return this._oInput&&this._oInput._oInputToolbar;};
o.prototype.validateParts=function(p){p=p||{};return this._oExpressionBuilder._validateSyntax({items:p.items,from:p.from,to:p.to});};
o.prototype.appendError=function(E){this._oExpressionBuilder._aErrors.push(E);};
o.prototype.getErrors=function(){return this._oExpressionBuilder._aErrors;};
o.prototype.allowFunction=function(s,A){if(!s){return;}var p=n[s.toLowerCase()];if(p){p.allowed=A;}};
o.prototype.updateOrCreateItem=function(K){this._oExpressionBuilder._updateOrCreateItem({key:K});};
o.prototype.getErrors=function(){return this._oExpressionBuilder&&this._oExpressionBuilder._aErrors;};
o.prototype._validateInput=function(t,p){this._oExpressionBuilder._aErrors=this._oExpressionBuilder._validateSyntax();this.fireAfterValidation();this._oInput._recreateText({text:t,position:p,errors:this._oExpressionBuilder._aErrors});this._oExpressionBuilder._printErrors();this._oInput._displayError(this._oExpressionBuilder._aErrors.length>0);};
o.prototype._findInArray=function(K,p,s){return p.some(function(t){var v=s?t["get"+s]():t;return v.toLowerCase()===K;});};
o.prototype._findInItems=function(K,p){K=(K||"").toLowerCase();return p.some(function(s){return s.getKey().toLowerCase()===K;});};
o.prototype._getFunctionMap=function(){return n;};
o.prototype._getFunctionDefinition=function(K){K=(K||"").toLowerCase();return n[K]||q.grep(this.getFunctions(),function(p){return p.getKey().toLowerCase()===K;})[0];};
o.prototype._getFunctionDescription=function(p){var E;if(p.description){return p.description;}E=r.getText("CALCULATION_BUILDER_EXPRESSION_TITLE");if(p.template){var D=(p.key||"")+" ( ";p.template.forEach(function(K){D+=(K?K:E)+" ";});return D+")";}return(p.key||"")+" ( "+E+" )";};
o.prototype._getFunctionTemplateItems=function(p){if(!p){return[];}var t=(p instanceof d)?k.CustomFunction:k.Function;return t===k.Function?(p.template||[]):this._convertToTemplate(p.getItems());};
o.prototype._getFunctionAllowParametersCount=function(K){var t=this._getFunctionTemplateItems(this._getFunctionDefinition(K)),s=t.join("");return(s.match(/,/g)||[]).length+1;};
o.prototype._convertToTemplate=function(p){return p.map(function(s){return s.getKey();});};
o.prototype._isOperator=function(K,A){A=A!==false;K=(K||"").toLowerCase();return this._findInArray(K,Object.keys(i))||(A&&this.getAllowLogicalOperators()&&this._findInArray(K,Object.keys(L)))||(this.getAllowComparisonOperators()&&this._findInArray(K,Object.keys(j)));};
o.prototype._isCustomOperator=function(K){return this._findInItems(K,this.getOperators());};
o.prototype._isStringConstant=function(K){return K&&K.length>2&&K[0]==="\""&&K[K.length-1]==="\"";};
o.prototype._getType=function(K){K=(K||"").toLowerCase();if(!K){return k.Empty;}if(this._isOperator(K)){return k.Operator;}if(this._isCustomOperator(K)){return k.CustomOperator;}if(this._findInArray(K,this.getVariables(),"Key")){return k.Variable;}if(this._findInArray(K,Object.keys(F))){return k.Function;}if(this._findInArray(K,this.getFunctions(),"Key")){return k.CustomFunction;}if(this.getAllowStringConstants()&&this._isStringConstant(K)){return k.Constant;}if(!isNaN(K)){return k.Constant;}return k.Error;};
o.prototype._createToolbar=function(){if(this._oToolbar){this._oShowInputButton&&this._oShowInputButton.setVisible(this._isInputVisible());this._oToolbarTitle.setText(this.getTitle());this._oToolbarTitle.setVisible(!!this.getTitle());return;}this._oToolbarTitle=new g({titleStyle:h.H4,text:this.getTitle(),visible:!!this.getTitle()});this._oToolbar=new O(this.getId()+"-toolbar",{content:[this._oToolbarTitle,new T()]}).addStyleClass("sapCalculationBuilderToolbar");this._oShowInputButton=new e({type:B.Transparent,icon:I.SHOW_EXPRESSION,tooltip:r.getText("CALCULATION_BUILDER_TOGGLE_EXPRESSION_BUTTON"),pressed:true,press:function(){this.$().find(".sapCalculationBuilderInputOuterWrapper").toggle();this._bShowInput=!this._bShowInput;}.bind(this)});this._oToolbar.addContent(this._oShowInputButton);this._oToolbar.addContent(this._getExpandAllVariablesButton());this._oToolbar.addContent(new e({type:B.Transparent,icon:I.FULL_SCREEN,tooltip:r.getText("CALCULATION_BUILDER_ENTER_FULL_SCREEN_BUTTON"),press:function(E){var t=E.getSource();this._toggleFullScreen();t.setTooltip(this._bIsFullScreen?r.getText("CALCULATION_BUILDER_EXIT_FULL_SCREEN_BUTTON"):r.getText("CALCULATION_BUILDER_ENTER_FULL_SCREEN_BUTTON"));t.setIcon(this._bIsFullScreen?I.EXIT_FULL_SCREEN:I.FULL_SCREEN);this.invalidate();}.bind(this)}));this._oFullScreenPopup=new P({modal:true,shadow:false,autoClose:false});this.addDependent(this._oToolbar);};
o.prototype._getExpandAllVariablesButton=function(){if(!this._oExpandAllVariablesButton){this._oExpandAllVariablesButton=new f({type:B.Transparent,icon:I.EXPAND_VARIABLE,tooltip:r.getText("CALCULATION_BUILDER_EXPAND_ALL_BUTTON"),press:function(E){M.show(r.getText("CALCULATION_BUILDER_EXPAND_ALL_MESSAGE_TEXT"),{icon:M.Icon.WARNING,title:r.getText("CALCULATION_BUILDER_EXPAND_ALL_MESSAGE_TITLE"),actions:[M.Action.OK,M.Action.CANCEL],onClose:function(A){if(A===M.Action.OK){this._oExpressionBuilder._expandAllVariables();}}.bind(this)});}.bind(this)});}return this._oExpandAllVariablesButton;};
o.prototype._enableOrDisableExpandAllButton=function(){var p=this.getReadOnly()||this.getLayoutType()===m.VisualTextualReadOnly,$=this._getExpandAllVariablesButton().$();if($[0]){this._getExpandAllVariablesButton().setEnabled(!p&&this.getItems().some(function(s){return s._isVariable()&&s.isExpandable();}));}};
o.prototype.setExpression=function(v){this.setProperty("expression",v);this._sExpressionDirectValue=v;this._oInput._setupAriaLabel();};
o.prototype._setExpression=function(v){this.setProperty("expression",v,true);this._oInput._setupAriaLabel();};
o.prototype._toggleFullScreen=function(){var p=function(){this._oFullScreenContainer={};this._oFullScreenContainer.$content=this.$();if(this._oFullScreenContainer.$content){this._oFullScreenContainer.$tempNode=q("<div></div>");this._oFullScreenContainer.$content.before(this._oFullScreenContainer.$tempNode);this._oFullScreenContainer.$overlay=q("<div id='"+q.sap.uid()+"'></div>");this._oFullScreenContainer.$overlay.addClass("sapCalculationBuilderOverlay");this._oFullScreenContainer.$overlay.append(this._oFullScreenContainer.$content);this._oFullScreenPopup.setContent(this._oFullScreenContainer.$overlay);}this._oFullScreenPopup.open(0,P.Dock.BeginTop,P.Dock.BeginTop,q("body"));}.bind(this);var s=function(){this._oFullScreenContainer.$tempNode.replaceWith(this.$());this._oFullScreenPopup.close();this._oFullScreenContainer.$overlay.remove();}.bind(this);this._bIsFullScreen?s():p();this._bIsFullScreen=!this._bIsFullScreen;};
o.prototype._getGroupMap=function(){return this._oExpressionBuilder._mGroups;};
o.prototype._isExpressionVisible=function(){return this.getLayoutType()!==m.TextualOnly;};
o.prototype._isInputVisible=function(){return this.getLayoutType()!==m.VisualOnly;};
o.prototype._createFunctionObject=function(p){if(!p){return null;}return p instanceof d?{key:p.getKey(),title:p._getLabel(),description:this._getFunctionDescription({key:p.getKey(),description:p.getDescription(),template:this._convertToTemplate(p.getItems())}),type:k.CustomFunction,functionObject:p}:{key:p.key,title:p.title,description:this._getFunctionDescription(p),type:k.Function,functionObject:p};};
o.prototype._getAllFunctions=function(){var p=[];Object.keys(n).forEach(function(K){if(n[K].allowed){p.push(this._createFunctionObject(n[K]));}}.bind(this));this.getFunctions().forEach(function(s){p.push(this._createFunctionObject(s));}.bind(this));return p.sort(function(s,t){return s.title>t.title;});};
return o;},true);
sap.ui.predefine('sap/suite/ui/commons/CalculationBuilderExpression',["jquery.sap.global","./library","./CalculationBuilderItem","sap/ui/core/Control","sap/ui/core/ValueState","sap/ui/core/Popup","sap/ui/core/TextAlign","sap/ui/core/delegate/ItemNavigation","sap/m/MessageBox","sap/m/OverflowToolbar","sap/m/OverflowToolbarToggleButton","sap/m/OverflowToolbarButton","sap/m/ToolbarSpacer","sap/m/Title","sap/m/ButtonType","sap/m/Button","sap/m/FlexBox","sap/m/FlexRendertype","sap/m/FlexAlignItems","sap/m/FlexDirection","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/StepInput","sap/m/Input","sap/m/InputType","sap/m/Page","sap/m/List","sap/m/ListMode","sap/m/ListType","sap/m/StandardListItem","sap/m/NavContainer","sap/m/SearchField","sap/m/Label","sap/m/Panel","sap/m/ResponsivePopover","sap/m/PlacementType","sap/m/Toolbar","sap/m/MessageStrip","./CalculationBuilderValidationResult","sap/suite/ui/commons/ControlProxy","sap/ui/thirdparty/jqueryui/jquery-ui-core","sap/ui/thirdparty/jqueryui/jquery-ui-widget","sap/ui/thirdparty/jqueryui/jquery-ui-mouse","sap/ui/thirdparty/jqueryui/jquery-ui-draggable","sap/ui/thirdparty/jqueryui/jquery-ui-droppable","sap/ui/thirdparty/jqueryui/jquery-ui-selectable"],function(q,l,C,a,V,P,T,I,M,O,b,c,d,e,B,f,F,g,h,j,S,m,n,o,p,r,L,s,t,u,N,v,w,x,R,y,z,A,D,E){"use strict";var G=l.CalculationBuilderItemType,H=l.CalculationBuilderOperatorType,J=l.CalculationBuilderComparisonOperatorType,K=l.CalculationBuilderLogicalOperatorType;var Q=Object.freeze({PAGE_MAIN:"-pagemain",PAGE_OPERATORS:"-pageoperators",PAGE_CONSTANT:"-pageconstant",PAGE_VARIABLE:"-pagevariable",PAGE_FUNCTIONS:"-pagefunctions"});var U=Object.freeze({OPERATORS_CATEGORY:"sap-icon://attachment-html",CONSTANTS_CATEGORY:"sap-icon://grid",VARIABLES_CATEGORY:"sap-icon://notes",FUNCTIONS_CATEGORY:"sap-icon://chalkboard",DELETE:"sap-icon://delete"});var W=Object.freeze({KEY_PREVIOUS:"previous",KEY_NEXT:"next",MOUSE:"mouse"});var X="##DEFAULT##";var Y=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");
var Z=a.extend("sap.suite.ui.commons.CalculationBuilderExpression",{
metadata:{library:"sap.suite.ui.commons",defaultAggregation:"items",aggregations:{items:{type:"sap.suite.ui.commons.CalculationBuilderItem",multiple:true,singularName:"item",bindable:"bindable"},variables:{type:"sap.suite.ui.commons.CalculationBuilderVariable",multiple:true,singularName:"Variable"},functions:{type:"sap.suite.ui.commons.CalculationBuilderFunction",multiple:true,singularName:"Function"},operators:{type:"sap.ui.core.Item",multiple:true,singularName:"operator"},groups:{type:"sap.suite.ui.commons.CalculationBuilderGroup",multiple:true,singularName:"Group"}},events:{change:{}}},
renderer:function(k,$){k.write("<div");k.writeControlData($);k.addClass("sapCalculationBuilderInner");k.writeClasses($);k.write(">");k.write($._renderDelimiter(0));$.getItems().forEach(function(_,i){_._iIndex=i;_._bReadOnly=$._bReadOnly;k.renderControl(_);k.write($._renderDelimiter(i+1));},this);if(!$._bReadOnly){k.renderControl($._getNewItem());}k.write("<div class=\"sapCalculationBuilderSelected\"></div>");k.write("</div>");}
});
Z.prototype.init=function(){this._aErrors=[];this._bAreSelectedItemsDeleting=false;this._bDragging=false;this._bIsCalculationBuilderRendering=false;};
Z.prototype._renderDelimiter=function(i){var k="";k+="<div class=\"sapCalculationBuilderDelimiter sapCalculationBuilderDroppable\" index=\""+i+"\">";k+="<div class=\"sapCalculationBuilderDroppableLine\"></div>";k+="<div class=\"sapCalculationBuilderDroppableCircle\"></div>";k+="<div class=\"sapCalculationBuilderDelimiterNewButton\" index=\""+i+"\">";k+="<span role=\"presentation\" aria-hidden=\"true\" data-sap-ui-icon-content=\"\""+"class=\"sapUiIcon sapUiIconMirrorInRTL sapCalculationBuilderDelimiterNewButtonIcon\" style=\"font-family:'SAP-icons'\"></span>";k+="</div>";k+="</div>";return k;};
Z.prototype.onBeforeRendering=function(){this._reset();this._createPopup();this.getParent()._enableOrDisableExpandAllButton();this._aErrors=this._validateSyntax();this._fireAfterValidation();this._bIsCalculationBuilderRendering=true;};
Z.prototype.onAfterRendering=function(){this._bIsCalculationBuilderRendering=false;if(!this._bReadOnly){this._setupDroppable();this._setupSelectable();this._setupNewButtonEvents();}this._setupKeyboard();};
Z.prototype.onsapfocusleave=function(){if(!this._bAreSelectedItemsDeleting){this._deselect();}};
Z.prototype.onsapenter=function(i){this._handleEnter(i);};
Z.prototype.onsapspace=function(i){if(q(i.target).hasClass("sapCalculationBuilderItem")){this._handleSpace(i);}};
Z.prototype.onsappreviousmodifiers=function(i){if(i.ctrlKey){this._handleCtrlPrevious(i);}};
Z.prototype.onsapnextmodifiers=function(i){if(i.ctrlKey){this._handleCtrlNext(i);}};
Z.prototype.onsapdelete=function(i){this._handleDelete(i);};
Z.prototype.exit=function(){if(this._oPopover){this._oPopover.destroy();}if(this._oItemNavigation){this.removeDelegate(this._oItemNavigation);this._oItemNavigation.destroy();}};
Z.prototype._createPopup=function(){var i={};this._createPopoverLayout(i);this._createPopoverConstantsItems(i);this._createPopoverFunctionsItems(i);this._createPopoverOperatorsItems(i);this._createPopoverNavContainer(i);this._createPopover(i);};
Z.prototype._reset=function(){this.getItems().forEach(function(i){i._reset();});if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}};
Z.prototype._createPopoverLayout=function(i){var k=function(_){return new f({text:_==="*"?"x":_,press:this._updateOrCreateItem.bind(this,{type:G.Operator,key:_})}).addStyleClass("sapUiTinyMarginEnd");}.bind(this);var $=new F({renderType:g.Div});$.addStyleClass("sapCalculationBuilderItemPopupOperators");Object.keys(H).forEach(function(_){var a1=k(H[_]);if(_===H[","]){this._attachAriaLabelToButton(a1,Y.getText("CALCULATION_BUILDER_COMMA_ARIA_LABEL"));}else if(_===H["-"]){this._attachAriaLabelToButton(a1,Y.getText("CALCULATION_BUILDER_MINUS_ARIA_LABEL"));}$.addItem(a1);}.bind(this));i.layout=$;};
Z.prototype._createPopoverConstantsItems=function(i){if(this.getParent().getAllowStringConstants()){i.constantInput=new o({width:"100%",placeholder:Y.getText("CALCULATION_BUILDER_ADD_CONSTANT_FIELD_PLACEHOLDER_ANY_STRING"),valueStateText:Y.getText("CALCULATION_BUILDER_ADD_CONSTANT_FIELD_PLACEHOLDER_ERROR"),liveChange:function(k){var $=k.getSource(),_=k.getParameter("value"),a1=!/[\s\+\-\\\*\/\#]/.test(_);$.setValueState(a1?V.None:V.Error);i.constantInput.okButton.setEnabled(a1);}});}else{i.constantInput=new n({width:"100%",placeholder:Y.getText("CALCULATION_BUILDER_ADD_CONSTANT_FIELD_PLACEHOLDER"),textAlign:T.Right,valueStateText:Y.getText("CALCULATION_BUILDER_ADD_CONSTANT_FIELD_ERROR_TEXT"),displayValuePrecision:3});}};
Z.prototype._createPopoverVariablesItems=function(i){if(!i){return[];}var k=[];i.forEach(function(a1){var b1=new u({title:a1._getLabel()});b1._calculationBuilderKey=a1.getKey();k.push(b1);},this);k=k.sort(function(o1,o2){return o1.getTitle().localeCompare(o2.getTitle());});var $=new L({mode:s.SingleSelectMaster,selectionChange:function(a1){this._updateOrCreateItem({type:G.Variable,key:a1.getParameter("listItem")._calculationBuilderKey});}.bind(this),items:k});var _=new v({placeholder:Y.getText("CALCULATION_BUILDER_SEARCH_VARIABLE"),liveChange:function(a1){var b1=a1.getSource().getValue();if(b1||b1===""){$.removeAllItems();k.forEach(function(c1){if(c1.getTitle().toLowerCase().indexOf(b1.toLowerCase())!==-1){$.addItem(c1);}});}}});this._aVariableLists.push($);return[_,$];};
Z.prototype._createPopoverFunctionsItems=function(i){var k=this,$=this.getParent();var _=function(a1){return new u({title:a1.title,description:a1.description,type:t.Active,customData:[{key:"functionKey",value:a1.key}],press:a1.press});};i.functionList=new L({mode:s.SingleSelectMaster,itemPress:function(){this.getSelectedItem().firePress();}});$._getAllFunctions().forEach(function(a1){i.functionList.addItem(_({key:a1.key,title:a1.title,description:a1.description,press:k._updateOrCreateItem.bind(k,{key:a1.key,type:a1.type,functionObject:a1.functionObject})}));});};
Z.prototype._createPopoverOperatorsItems=function(i){var k=function(a1,b1){var c1=[];Object.keys(a1).forEach(function(d1){var e1,f1,g1=a1[d1];if(typeof g1==="object"){f1=g1.getText();e1=g1.getKey();}else{e1=f1=g1;}var h1=new f({text:f1,press:this._updateOrCreateItem.bind(this,{type:b1,key:e1})}).addStyleClass("sapCalculationBuilderPopoverOperatorsButton").addStyleClass("sapUiTinyMarginEnd");if(d1===J["!="]){this._attachAriaLabelToButton(h1,Y.getText("CALCULATION_BUILDER_NOT_EQUAL_ARIA_LABEL"));}c1.push(h1);}.bind(this));return c1;}.bind(this);var $=function(a1,b1,c1){return new x({content:[new w({width:"100%",text:a1}).addStyleClass("sapUiTinyMarginBottom"),k(b1,c1)]});};i.operatorsItems=[];if(this.getParent().getAllowComparisonOperators()){i.operatorsItems.push($(Y.getText("CALCULATION_BUILDER_COMPARISON_TITLE_SELECT"),J,G.Operator));}if(this.getParent().getAllowLogicalOperators()){i.operatorsItems.push($(Y.getText("CALCULATION_BUILDER_LOGICAL_TITLE_SELECT"),K,G.Operator));}var _=this.getParent().getOperators();if(_.length>0){i.operatorsItems.push($(Y.getText("CALCULATION_BUILDER_OPERATORS_TITLE"),_,G.CustomOperator));}};
Z.prototype._createPopoverNavContainer=function(i){var k=function(c1){var d1=b1.getPage(c1);b1.to(d1);};var $=function(){var c1=new A({type:"Error",showIcon:true}).addStyleClass("sapUiTinyMarginBegin sapUiTinyMarginEnd sapUiTinyMarginTop");this._aStrips.push(c1);return c1;}.bind(this);this._aStrips=[];var _=[new u({title:Y.getText("CALCULATION_BUILDER_CONSTANTS_TITLE"),type:t.Active,description:Y.getText("CALCULATION_BUILDER_CONSTANTS_CATEGORY_DESCRIPTION"),icon:U.CONSTANTS_CATEGORY,press:k.bind(this,this.getId()+Q.PAGE_CONSTANT)})];var a1=this._createPopoverVariablesItems(this._mGroups[X]);if(a1.length>0){_.push(new u({title:Y.getText("CALCULATION_BUILDER_VARIABLES_TITLE"),description:Y.getText("CALCULATION_BUILDER_VARIABLES_CATEGORY_DESCRIPTION"),icon:U.VARIABLES_CATEGORY,press:k.bind(this,this.getId()+Q.PAGE_VARIABLE),type:t.Active}));}_.push(new u({title:Y.getText("CALCULATION_BUILDER_FUNCTIONS_TITLE"),type:t.Active,description:Y.getText("CALCULATION_BUILDER_FUNCTIONS_CATEGORY_DESCRIPTION"),icon:U.FUNCTIONS_CATEGORY,press:k.bind(this,this.getId()+Q.PAGE_FUNCTIONS)}));if(i.operatorsItems.length>0){_.unshift(new u({title:Y.getText("CALCULATION_BUILDER_OPERATORS_TITLE"),type:t.Active,description:Y.getText("CALCULATION_BUILDER_OPERATORS_CATEGORY_DESCRIPTION"),icon:U.OPERATORS_CATEGORY,press:k.bind(this,this.getId()+Q.PAGE_OPERATORS)}));}this.getGroups().forEach(function(c1){_.push(new u({title:c1._getTitle(),type:t.Active,description:c1.getDescription(),icon:c1.getIcon(),press:k.bind(this,this.getId()+c1.getKey())}));}.bind(this));var b1=new N({defaultTransitionName:"show",navigate:function(c1){var d1=c1.getParameters().to;d1.setFooter(this._getPageFooter(d1.getId(),i));}.bind(this),pages:[new r({id:this.getId()+Q.PAGE_MAIN,title:Y.getText("CALCULATION_BUILDER_DIALOG_TITLE"),content:[$(),i.layout,new F({direction:j.Column,items:[new L({items:_})]}).addStyleClass("sapUiSmallMarginBeginEnd").addStyleClass("sapUiTinyMarginTop").addStyleClass("sapCalculationBuilderNavMainPage")]}),new r({id:this.getId()+Q.PAGE_OPERATORS,content:[$(),new F({direction:j.Column,items:[i.operatorsItems]}).addStyleClass("sapUiSmallMarginBeginEnd").addStyleClass("sapUiTinyMarginTop")],showNavButton:true,title:Y.getText("CALCULATION_BUILDER_OPERATORS_PAGE_TITLE"),navButtonPress:k.bind(this,this.getId()+Q.PAGE_MAIN)}),new r({id:this.getId()+Q.PAGE_CONSTANT,content:[$(),new F({direction:j.Column,items:[i.constantInput]}).addStyleClass("sapUiSmallMarginBeginEnd").addStyleClass("sapUiTinyMarginTop")],showNavButton:true,title:Y.getText("CALCULATION_BUILDER_CONSTANTS_PAGE_TITLE"),navButtonPress:k.bind(this,this.getId()+Q.PAGE_MAIN)})]});if(a1.length>0){b1.addPage(new r({id:this.getId()+Q.PAGE_VARIABLE,content:[$(),new F({direction:j.Column,items:a1}).addStyleClass("sapUiSmallMarginBeginEnd").addStyleClass("sapUiTinyMarginTop")],showNavButton:true,title:Y.getText("CALCULATION_BUILDER_VARIABLES_PAGE_TITLE"),navButtonPress:k.bind(this,this.getId()+Q.PAGE_MAIN)}));}b1.addPage(new r({id:this.getId()+Q.PAGE_FUNCTIONS,content:[$(),new F({direction:j.Column,items:[i.functionList]}).addStyleClass("sapUiSmallMarginBeginEnd").addStyleClass("sapUiTinyMarginTop")],showNavButton:true,title:Y.getText("CALCULATION_BUILDER_FUNCTIONS_PAGE_TITLE"),navButtonPress:k.bind(this,this.getId()+Q.PAGE_MAIN)}));this.getGroups().forEach(function(c1){var d1=new r({id:this.getId()+c1.getKey(),showNavButton:true,title:c1._getTitle(),navButtonPress:k.bind(this,this.getId()+Q.PAGE_MAIN),content:$()});var e1=c1.getCustomView();if(e1){var f1=new E();f1.setAssociation("control",e1);d1.addContent(f1);}else{d1.addContent(new F({direction:j.Column,items:this._createPopoverVariablesItems(this._mGroups[c1.getKey()])}).addStyleClass("sapUiSmallMarginBeginEnd").addStyleClass("sapUiTinyMarginTop"));}b1.addPage(d1);}.bind(this));i.navContainer=b1;};
Z.prototype._callFunctionFireSelection=function(k){this.getGroups().forEach(function(i){if(i.getCustomView()){i.fireSetSelection({key:k});}});};
Z.prototype._clearVariableLists=function(){this._aVariableLists.forEach(function(i){var k=i.getSelectedItem();if(k){i.setSelectedItem(k,false);}});this._callFunctionFireSelection();};
Z.prototype._setVariableListSelection=function($){for(var i=0;i<this._aVariableLists.length;i++){var _=this._aVariableLists[i],a1=this._aVariableLists[i].getItems();for(var k=0;k<a1.length;k++){if(a1[k]._calculationBuilderKey===$){_.setSelectedItem(a1[k],true);return;}}}this._callFunctionFireSelection($);};
Z.prototype._sanitizeStringConstant=function(i){if(this.getParent()._isStringConstant(i)){i=i.substring(1,i.length-1);}return i;};
Z.prototype._createPopover=function(k){var $=function(){var _=this._oCurrentItem,a1=k.navContainer.getCurrentPage().getId(),b1=k.functionList.getSelectedItem(),c1,d1,e1;k.constantInput.setValue(this.getParent().getAllowStringConstants()?"":0);this._clearVariableLists();if(b1){k.functionList.setSelectedItem(b1,false);}if(!_){c1=this.getId()+Q.PAGE_MAIN;}else{if(_._isFunction()){e1=_.getKey();c1=this.getId()+Q.PAGE_FUNCTIONS;d1=k.functionList.getItems();for(var i=0;i<d1.length;i++){var f1=d1[i].data("functionKey");if((f1&&f1.toLowerCase())===e1.toLowerCase()){k.functionList.setSelectedItem(d1[i],true);break;}}}else if(_._isConstant()){var g1=this._sanitizeStringConstant(_.getKey());k.constantInput.setValue(g1);c1=this.getId()+Q.PAGE_CONSTANT;}else if(_._isVariable()){this._setVariableListSelection(_.getKey());var h1=_._oVariable||_.getVariable(),i1=(h1&&h1.getGroup())||Q.PAGE_VARIABLE;c1=this.getId()+i1;}else if(_._isSecondaryOperator()){c1=this.getId()+Q.PAGE_OPERATORS;}else{c1=this.getId()+Q.PAGE_MAIN;}}if(c1!==a1){if(c1!==this.getId()+Q.PAGE_MAIN){k.navContainer.backToPage(this.getId()+Q.PAGE_MAIN);}k.navContainer.to(k.navContainer.getPage(c1),"show");}else{k.navContainer.getCurrentPage().setFooter(this._getPageFooter(a1,k));}var j1=this._oCurrentItem&&this._oCurrentItem._getItemError(),k1=j1&&(" "+j1.title);this._aStrips.forEach(function(l1){l1.setVisible(!!j1);l1.setText(k1?Y.getText("CALCULATION_BUILDER_INCORRECT_SYNTAX")+k1:"");});}.bind(this);this._oPopover=new R({showHeader:false,contentWidth:"400px",contentHeight:"450px",placement:y.Bottom,content:[k.navContainer],beforeOpen:$,afterClose:function(){this._bDragging=false;this._clearNewButtonPositions();}.bind(this)});};
Z.prototype._getPageFooter=function(i,k){var $=false,_=false,a1=function(){};if(this._oCurrentItem&&!this._oCurrentItem._bIsNew){_=true;}if(i===(this.getId()+Q.PAGE_CONSTANT)){$=k.constantInput.getValueState()===V.None;a1=function(){if(k.constantInput.getValue()!==""){var b1=k.constantInput.getValue();if(this.getParent()&&this.getParent().getAllowStringConstants()&&isNaN(b1)){b1="\""+b1+"\"";}this._updateOrCreateItem({type:G.Constant,key:b1});k.constantInput.setValueState(V.None);}else{k.constantInput.setValueState(V.Error);}}.bind(this);}k.constantInput.okButton=new f({enabled:$,text:Y.getText("CALCULATION_BUILDER_CONFIRM_BUTTON"),press:a1});return new z({content:[new d(),k.constantInput.okButton,new f({enabled:_,text:Y.getText("CALCULATION_BUILDER_DELETE_BUTTON"),press:this._deleteItem.bind(this)}),new f({text:Y.getText("CALCULATION_BUILDER_CLOSE_BUTTON"),press:this._instantClose.bind(this)})]});};
Z.prototype._insertFunctionItems=function(i,k){var $=function(_){i.push(_);};if(k&&k.length>0){k.forEach(function(_){$(_);});}else{$("");}$(")");};
Z.prototype._updateOrCreateItem=function(i){var k=!this._oCurrentItem||this._oCurrentItem._bIsNew,$=this.getParent(),_=i.functionObject,a1;if(k){var b1=[i.key];a1=isNaN(this._iCurrentIndex)?this.getItems().length:this._iCurrentIndex;if(_){var c1=i.type===G.Function?_.template:$._convertToTemplate(_.getItems());this._insertFunctionItems(b1,c1);}var d1=this._getKeys();this._smartRender(d1.slice(0,a1).concat(b1,d1.slice(a1)));}else{this._oCurrentItem.setKey(i.key);if(i.type){this._oCurrentItem._sType=i.type;}}this._instantClose();this._fireChange();};
Z.prototype._expandAllVariables=function(){this.getItems().forEach(function(i){if(i.isExpandable()){i._expandVariable(false);}});this._fireChange();};
Z.prototype._handleDelete=function(i){if(this._isEmptySelected()){return;}this._bAreSelectedItemsDeleting=true;M.show(Y.getText("CALCULATION_BUILDER_DELETE_MESSAGE_TEXT"),{icon:M.Icon.WARNING,title:Y.getText("CALCULATION_BUILDER_DELETE_MESSAGE_TITLE"),actions:[M.Action.YES,M.Action.CANCEL],onClose:function(k){if(k===M.Action.YES){var $=this.$().find(".sapCalculationBuilderSelected .sapCalculationBuilderItem"),_=$.length,a1=$.first(),b1=sap.ui.getCore().byId(a1.attr("id"));if(b1){var c1=this._getKeys();c1.splice(b1._iIndex,_);this._smartRender(c1);this._fireChange();}}this._bAreSelectedItemsDeleting=false;}.bind(this)});};
Z.prototype._handleEnter=function(i){var $=q(i.target),k;if(this._oItemNavigation&&!this._bReadOnly){if($.hasClass("sapCalculationBuilderNewItem")){k=this._getNewItem();if(k){k._buttonPress(i);}}else if($.hasClass("sapCalculationBuilderItem")){k=this._getItemById($[0].id);if(k){k._buttonPress(i);}}else if($.hasClass("sapCalculationBuilderItemExpandButton")){k=this._getItemById($.closest(".sapCalculationBuilderItem")[0].id);if(k){k._expandButtonPress(i);}}}};
Z.prototype._createVariablesMap=function(){this._mGroups={};this._aVariableLists=[];this.getVariables().forEach(function(i){var k=i.getGroup()||X;if(!this._mGroups[k]){this._mGroups[k]=[];}this._mGroups[k].push(i);}.bind(this));};
Z.prototype._handleSpace=function(i){this._selectItem(i.target);};
Z.prototype._handleCtrlNext=function(i){this._moveItems(W.KEY_NEXT);};
Z.prototype._handleCtrlPrevious=function(i){this._moveItems(W.KEY_PREVIOUS);};
Z.prototype._getVariableByKey=function(k){var $=this.getVariables();if(!k){return null;}k=k.toLowerCase();for(var i=0;i<$.length;i++){if($[i].getKey().toLowerCase()===k){return $[i];}}return null;};
Z.prototype.setTitle=function(i){var k=this._oToolbarTitle;if(k){k.setText(i);k.setVisible(!!i);}this.setProperty("title",i);};
Z.prototype._getKeys=function(){return this.getItems().map(function(i){return i.getKey();});};
Z.prototype._deleteItem=function(){var k=this._getKeys();k.splice(this._oCurrentItem._iIndex,1);this._smartRender(k);this._instantClose();this._fireChange();};
Z.prototype._openDialog=function(i){this._oCurrentItem=i.currentItem;this._iCurrentIndex=i.index;this._oPopover.openBy(i.opener);};
Z.prototype._setupDroppable=function(i){var k=this;i=i||this.$().find(".sapCalculationBuilderDroppable");i.droppable({scope:k.getId()+"-scope",tolerance:"pointer",activeClass:"sapCalculationBuilderDroppableActive",hoverClass:"sapCalculationBuilderDroppableActive",drop:function($,_){if(!_.draggable.hasClass("sapCalculationBuilderSelected")){k._selectItem(_.draggable[0]);}k._moveItems(W.MOUSE,parseInt(q(this).attr("index"),10));k._bDragging=false;},over:function($,_){k._bDragging=true;}});};
Z.prototype._clearNewButtonPositions=function(){var $=this.$();$.find(".sapCalculationBuilderDelimiterNewButton").hide(200);$.find(".sapCalculationBuilderItem").animate({"left":0},300);};
Z.prototype._setupNewButtonEvents=function(){var i=13,k=300;var $=this.$().find(".sapCalculationBuilderDelimiter[data-events!='bound']"),_=this.$().find(".sapCalculationBuilderDelimiterNewButton[data-events!='bound']"),a1=this,b1,c1;var d1=function(e1,f1){e1.prev().animate({"left":-f1},k);e1.next().animate({"left":f1},k);};_.click(function(ev){var e1=q(this),f1=parseInt(e1.attr("index"),10);e1.css("opacity",1);a1._oCurrentItem=null;a1._iCurrentIndex=f1;a1._openDialog({opener:this,index:f1});});_.attr("data-events","bound");$.mouseover(function(ev){var e1=q(this);if(!a1._bDragging&&!a1._oPopover.isOpen()){b1=true;c1=setTimeout(function(){if(b1){b1=false;d1(e1,i);e1.find(".sapCalculationBuilderDelimiterNewButton").show(200);}},700);}});$.mouseout(function(ev){var e1=q(this).find(".sapCalculationBuilderDelimiterNewButton"),f1=q(this);b1=false;clearTimeout(c1);if(a1._bDragging||a1._oPopover.isOpen()){return;}if(!e1.is(':hover')){d1(f1,0);e1.hide(200);}});$.attr("data-events","bound");};
Z.prototype._setupSelectable=function(){this.$().selectable({cancel:".sapCalculationBuilderCancelSelectable",distance:5,start:function(){this._deselect();this._instantClose();}.bind(this),stop:function(){this._selectItems(this.$().find(".sapCalculationBuilderItem.ui-selected"));}.bind(this)});};
Z.prototype._selectItemsTo=function($){var i=q($.next(".sapCalculationBuilderDelimiter")[0]),k=i.attr("index")-1,_=this.$(),a1,b1,c1,d1,e1;if($.parent().hasClass("sapCalculationBuilderSelected")||this._isEmptySelected()){this._selectItem($);return;}if(k>this._iLastSelectedIndex){a1=this._iFirstSelectedIndex;b1=k+1;}else{a1=k;b1=this._iLastSelectedIndex+1;}this._deselect();d1=_.find(".sapCalculationBuilderDelimiter[index=\""+a1+"\"]");e1=_.find(".sapCalculationBuilderDelimiter[index=\""+b1+"\"]");c1=d1.nextUntil(e1,".sapCalculationBuilderItem");this._selectItems(c1);};
Z.prototype._selectItems=function(k){for(var i=0;i<k.length;i++){this._selectItem(k[i]);}};
Z.prototype._selectItem=function(i){var $=this.$().find(".sapCalculationBuilderSelected"),k=q(i),_=q(k.next(".sapCalculationBuilderDelimiter")[0]),a1=$[0].children.length,b1=_.attr("index")-1,c1=true;if(!this._oItemNavigation||!this._getItemById(k[0].id)||this._bReadOnly){return;}if(a1===0){this._iFirstSelectedIndex=b1;this._iLastSelectedIndex=b1;}else{if(k.parent().hasClass("sapCalculationBuilderSelected")){if(this._iFirstSelectedIndex===b1){this._iFirstSelectedIndex++;this._deselectItem(k,false);}else if(this._iLastSelectedIndex===b1){this._iLastSelectedIndex--;this._deselectItem(k,true);}else{this._deselect();}this._setCorrectFocus();return;}if((this._iFirstSelectedIndex-b1)===1){this._iFirstSelectedIndex=b1;c1=false;}else if((b1-this._iLastSelectedIndex)===1){this._iLastSelectedIndex=b1;c1=true;}else{this._iFirstSelectedIndex=b1;this._iLastSelectedIndex=b1;this._deselect();}}var d1=this.$();if(this._isEmptySelected()){$.detach().insertBefore(k);$.draggable({revert:"invalid",cursor:"move",axis:"x",scope:this.getId()+"-scope",helper:function(e1){var f1=$.clone();f1.removeClass("sapCalculationBuilderSelected");f1.addClass("sapCalculationBuilderDraggingSelectedClone");return f1;},start:function(){$.addClass("sapCalculationBuilderDragging");d1.find(".sapCalculationBuilderItemContent").css("cursor","move");},stop:function(){$.removeClass("sapCalculationBuilderDragging");d1.find(".sapCalculationBuilderItemContent").css("cursor","pointer");}});}if(c1){k.detach().appendTo($);_.detach().appendTo($);}else{_.detach().prependTo($);k.detach().prependTo($);}if(k.hasClass("sapCalculationBuilderItem")){k.draggable("disable");k.addClass("ui-selected");}this._setCorrectFocus();};
Z.prototype._isEmptySelected=function(){var $=this.$().find(".sapCalculationBuilderSelected");if($){return $.is(":empty");}return true;};
Z.prototype._deselectItem=function($,i){var k=this.$().find(".sapCalculationBuilderSelected"),_=q($.next(".sapCalculationBuilderDelimiter")[0]);if(!$.hasClass("ui-selected")){return;}if(i){_.detach().insertAfter(k);$.detach().insertAfter(k);}else{$.detach().insertBefore(k);_.detach().insertBefore(k);}$.draggable("enable");$.removeClass("ui-selected");};
Z.prototype._deselect=function(){var $=this.$().find(".sapCalculationBuilderSelected");if(this._isEmptySelected()){return;}this.$().find(".sapCalculationBuilderSelected .ui-selected").removeClass("ui-selected");$.children().each(function(){var i=q(this);if(i.hasClass("sapCalculationBuilderItem")){i.draggable("enable");}i.detach().insertBefore($);});};
Z.prototype._setupKeyboard=function(){var i=this.getDomRef(),k=[];this.getItems().forEach(function($){k.push($.getFocusDomRef());if($.isExpandable()){k.push($.$("expandbutton"));}});k.push(this._getNewItem().getFocusDomRef());if(!this._oItemNavigation){this._oItemNavigation=new I();this.addDelegate(this._oItemNavigation);}this._oItemNavigation.setRootDomRef(i);this._oItemNavigation.setItemDomRefs(k);this._oItemNavigation.setCycling(true);this._oItemNavigation.setPageSize(250);};
Z.prototype._setCorrectFocus=function(){q(this._oItemNavigation.getFocusedDomRef()).focus();};
Z.prototype._getItemById=function(i){return this.getItems().filter(function(k){return k.getId()===i;})[0];};
Z.prototype._getNewItem=function(){if(!this._oNewItem){this._oNewItem=new C();this._oNewItem._bIsNew=true;this._oNewItem.setParent(this,null,true);}return this._oNewItem;};
Z.prototype._instantClose=function(){var i=this._oPopover.getAggregation("_popup");if(i&&i.oPopup&&i.oPopup.close){i.oPopup.close(0);this._setCorrectFocus();}};
Z.prototype._attachAriaLabelToButton=function(i,k){i.addEventDelegate({onAfterRendering:function($){$.srcControl.$("content").attr("aria-label",k);}});};
Z.prototype._printErrors=function(){this.getItems().forEach(function(i){var k=i._getItemError(),$=i.$(),_=!!k?"addClass":"removeClass";$[_]("sapCalculationBuilderItemErrorSyntax");});};
Z.prototype._validateSyntax=function(k){var $=function(){var v1=this.getItems()[l1],w1=v1.getKey();return!v1._isOperator()||w1==="("||w1==="+"||w1==="-"||w1.toLowerCase()==="not";}.bind(this);var _=function(){var f1=this.getItems(),v1=f1[m1-1];return!v1._isOperator()||v1.getKey()===")";}.bind(this);var a1=function(i1){var v1=i1.getKey().toLowerCase();if(i1._isOperator()){return v1==="not"||v1==="("||v1===")"?v1:"#op#";}return i1._isFunction()?"#fun#":"#col#";};var b1=function(i1){return{index:i,item:i1,items:[],text:i1.getKey()+(i1._isFunction()?"(":"")};};var c1=function(r1){var v1=1,w1=i;i++;for(;i<f1.length;i++){var i1=f1[i],x1=i1.getKey(),y1=b1(i1);r1.items.push(y1);switch(x1){case")":v1--;break;case"(":v1++;break;case",":v1=1;break;}if(i1._isFunction()){c1(y1);r1.text+=y1.text;}else{r1.text+=x1;}if(v1===0){return r1;}}p1.push({index:w1,title:Y.getText("CALCULATION_BUILDER_CLOSING_BRACKET_ERROR_TEXT")});return r1;};var d1=function(r1){var v1=this.getParent()._getFunctionAllowParametersCount(r1.item.getKey()),w1=[],x1=[];r1.items.forEach(function(i1){if(i1.item._isComma()){w1.push(x1);x1=[];}else{x1.push(i1);}});if(x1.length>0&&x1[x1.length-1].text===")"){x1.pop();}w1.push(x1);if(w1.length!==v1){p1.push({index:r1.index,title:Y.getText(w1.length<v1?"CALCULATION_BUILDER_TOO_LITTLE_PARAMETERS":"CALCULATION_BUILDER_TOO_MANY_PARAMETERS")});}if(w1.length>0){w1.forEach(function(y1){if(y1.length>0){q.merge(p1,this._validateSyntax({from:y1[0].index,to:y1[y1.length-1].index+1}));}else{p1.push({index:r1.index,title:Y.getText("CALCULATION_BUILDER_EMPTY_PARAMETER")});}}.bind(this));}}.bind(this);var e1={"#op#":["(","#col#","#fun#","not"],"(":["(","+","-","#col#","#fun#","not"],")":["#op#",")"],"#col#":["#op#",")"],"#fun#":["(","+","-","#col#","#fun#"],"not":["#col#","#fun#","not","("]};k=k||{};var f1=k.items||this.getItems(),g1,h1,i1,j1,k1,l1=k.from||0,m1=k.to||f1.length,n1=(l1===0&&m1===f1.length),o1=[],p1=[];if(f1.length>0){if(!$()){p1.push({index:l1,title:Y.getText("CALCULATION_BUILDER_FIRST_CHAR_ERROR_TEXT")});}if(!_()){p1.push({index:m1-1,title:Y.getText("CALCULATION_BUILDER_LAST_CHAR_ERROR_TEXT")});}}for(var i=l1;i<m1;i++){i1=f1[i];if(i1._getType()===G.Error){p1.push({index:i,title:Y.getText("CALCULATION_BUILDER_SYNTAX_ERROR_TEXT")});continue;}if(!k.skipCustomValidation&&i1._isFunction()){var q1=i1._getCustomFunction(),r1=c1(b1(i1));if(q1&&!q1.getUseDefaultValidation()){var s1=new D();this.getParent().fireValidateFunction({definition:r1,customFunction:q1,result:s1});q.merge(p1,s1.getErrors());}else{d1(r1);}}if(i<m1-1){j1=f1[i+1];g1=a1(f1[i]);h1=a1(j1);k1=j1?j1.getKey().toLowerCase():"";var t1=j1._isCustomOperator()||i1._isCustomOperator();if(e1[g1].indexOf(h1)===-1&&e1[g1].indexOf(k1)===-1&&!t1){var u1={index:i+1};if(i1._isOperator()&&j1._isOperator()){u1.title=Y.getText("CALCULATION_BUILDER_BEFORE_OPERATOR_ERROR_TEXT",j1.getKey());}else if(!i1._isOperator()&&!j1._isOperator()){u1.title=Y.getText("CALCULATION_BUILDER_BETWEEN_NOT_OPERATORS_ERROR_TEXT",[i1.getKey(),j1.getKey()]);}else if(i1.getKey()===")"&&!j1._isOperator()){u1.title=Y.getText("CALCULATION_BUILDER_AFTER_CLOSING_BRACKET_ERROR_TEXT");}else if(!i1._isOperator()&&(j1.getKey()==="(")){u1.title=Y.getText("CALCULATION_BUILDER_BEFORE_OPENING_BRACKET_ERROR_TEXT");}else{u1.title=Y.getText("CALCULATION_BUILDER_CHAR_ERROR_TEXT");}p1.push(u1);}}if(i1._isFunction()){continue;}if(n1&&i1.getKey()===","){p1.push({index:i,title:Y.getText("CALCULATION_BUILDER_WRONG_PARAMETER_MARK")});}if((i1._isOperator()&&i1.getKey()==="(")||i1._isFunction()){o1.push(i);}if(i1._isOperator()&&i1.getKey()===")"){if(o1.length===0){p1.push({index:i,title:Y.getText("CALCULATION_BUILDER_OPENING_BRACKET_ERROR_TEXT")});}else{o1.pop();}}}for(i=0;i<o1.length;i++){p1.push({index:o1[i],title:Y.getText("CALCULATION_BUILDER_CLOSING_BRACKET_ERROR_TEXT")});}return p1;};
Z.prototype._getType=function(k){return this.getParent()&&this.getParent()._getType(k);};
Z.prototype._setItems=function(i){this._smartRender(i);};
Z.prototype._moveItems=function(k,$){var _=[],a1=this.$(),b1=this.getItems(),c1=a1.find(".sapCalculationBuilderSelected"),d1,e1,f1,g1;if(this._isEmptySelected()){return;}g1=(c1.length>1)?q(c1[0]).children():c1.children();if(k===W.KEY_PREVIOUS){e1=this._iFirstSelectedIndex-1;}else if(k===W.KEY_NEXT){e1=this._iLastSelectedIndex+2;}else if(k===W.MOUSE){e1=$;}if(e1<0||e1===(b1.length+1)){return;}d1=this.$().find(".sapCalculationBuilderDelimiter[index=\""+e1+"\"]");for(var i=0;i<b1.length+1;i++){f1=b1[i];if(e1===i){g1.each(function(){var a1=q(this),f1;if(a1.hasClass("sapCalculationBuilderItem")){f1=sap.ui.getCore().byId(q(this)[0].id);_.push(f1);f1._bMovingItem=true;a1.draggable("enable");}a1.css("left",0);a1.detach().insertAfter(d1).removeClass("");d1=a1;});}if(f1&&!f1.$().parent().hasClass("sapCalculationBuilderSelected")&&!f1._bMovingItem){_.push(f1);}}c1.css("left","");a1.find(".sapCalculationBuilderDelimiter").each(function(i){q(this).attr("index",i);});this.removeAllAggregation("items",true);_.forEach(function(f1,i){f1._bMovingItem=false;f1._iIndex=i;this.addAggregation("items",f1,true);}.bind(this));this._setupKeyboard();this._selectItems(g1.filter(function(i,el){return q(el).hasClass("sapCalculationBuilderItem");}));this._fireChange();};
Z.prototype._fireAfterValidation=function(){this.getParent().fireAfterValidation();};
Z.prototype._smartRender=function(k){var $="",_=this.$(),a1=[],b1=this.getItems(),c1=b1.length;var d1=function(f1){if(typeof f1!=="object"){f1=new C({key:g1});}return f1;};var e1=function(g1){g1=d1(g1);this.addAggregation("items",g1,true);g1._iIndex=i;if(_[0]){$+=g1._render();$+=this._renderDelimiter(i+1);}g1.bOutput=true;a1.push(g1);}.bind(this);if(!this.getParent()._isExpressionVisible()){this.removeAllAggregation("items",true);(k||[]).forEach(function(f1){f1=d1(f1);this.addAggregation("items",f1,true);}.bind(this));return;}this._bIsCalculationBuilderRendering=true;this._deselect();for(var i=0;i<k.length;i++){var f1=b1[i],g1=k[i],h1=typeof g1==="object"&&g1.getKey?g1.getKey():g1,i1=g1._sType?g1._sType:"";if(!f1){e1(k[i]);}else if(f1.getKey()!==h1||f1._sType!==i1){f1.setKey(h1,true);f1._sType=i1;f1.$()[0].innerHTML=f1._innerRender();f1.$().attr("class",f1._getClass());f1._setEvents();}}if(k.length<c1){for(var i=k.length;i<b1.length;i++){var j1=b1[i].$();j1.next().remove();j1.remove();this.removeAggregation("items",b1[i],true);}}if(_[0]&&a1.length>0){_.find(".sapCalculationBuilderDelimiter").last().after($);a1.forEach(function(f1){f1._afterRendering();});this._setupDroppable(_.find(".sapCalculationBuilderDroppable").filter(function(){return parseInt(q(this).attr("index"),10)>c1;}));}this._setupKeyboard();this._setupNewButtonEvents();this._bIsCalculationBuilderRendering=false;};
Z.prototype._fireChange=function(){this.fireEvent("change");};
return Z;},true);
sap.ui.predefine('sap/suite/ui/commons/CalculationBuilderFunction',["jquery.sap.global","./library","sap/ui/core/Control"],function(q,l,C){"use strict";
var a=C.extend("sap.suite.ui.commons.CalculationBuilderFunction",{metadata:{library:"sap.suite.ui.commons",properties:{key:{type:"string",group:"Misc",defaultValue:null},label:{type:"string",group:"Misc",defaultValue:null},description:{type:"string",group:"Misc",defaultValue:null},useDefaultValidation:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{items:{type:"sap.suite.ui.commons.CalculationBuilderItem",multiple:true,singularName:"item"}}}});
a.prototype._getLabel=function(){return this.getLabel()||this.getKey();};
return a;});
sap.ui.predefine('sap/suite/ui/commons/CalculationBuilderGroup',["jquery.sap.global","./library","sap/ui/core/Control"],function(q,l,C){"use strict";
var a=C.extend("sap.suite.ui.commons.CalculationBuilderGroup",{metadata:{library:"sap.suite.ui.commons",properties:{key:{type:"string",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},description:{type:"string",group:"Misc",defaultValue:null},icon:{type:"string",group:"Misc",defaultValue:null}},events:{setSelection:{parameters:{key:"string",group:"Misc",defaultValue:null}}},aggregations:{customView:{type:"sap.ui.core.Control",multiple:false}}}});
a.prototype._getTitle=function(){return this.getTitle()||this.getKey();};
return a;},true);
sap.ui.predefine('sap/suite/ui/commons/CalculationBuilderInput',["jquery.sap.global","./library","sap/ui/core/Control","./CalculationBuilderItem","sap/m/List","sap/m/ListMode","sap/m/StandardListItem","sap/m/ResponsivePopover","sap/m/PlacementType","sap/m/Button","sap/m/ButtonType","sap/m/Menu","sap/m/MenuButton","sap/m/MenuItem","sap/m/OverflowToolbar","sap/m/ToolbarSeparator","sap/m/ToolbarSpacer","sap/m/Title","sap/m/OverflowToolbarToggleButton","sap/ui/core/CustomData","sap/ui/model/Sorter","sap/ui/model/json/JSONModel","sap/ui/Device"],function(q,l,C,a,L,b,S,R,P,B,c,M,d,f,O,T,g,h,j,k,m,J,D){"use strict";var E="&nbsp;&nbsp;";var n="┘┘";var I=l.CalculationBuilderItemType,V=l.CalculationBuilderValidationMode;var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");var o=function(e){if(typeof e.which==="undefined"){return true;}else if(typeof e.which==="number"&&e.which>0){return!e.ctrlKey&&!e.metaKey&&!e.altKey&&e.which!==8;}return false;};var G=function(e,s){var N,t="",i=0;if(e instanceof q){e=e[0];}var u=e.nodeType;if(!u){while((N=e[i++])){t+=G(N,s);}}else if(u===1||u===9||u===11){for(e=e.firstChild;e;e=e.nextSibling){t+=G(e,s);}}else if(u===3||u===4){t+=s&&q(e).parent().hasClass("sapCalculationBuilderItemTextEmpty")&&e.nodeValue==="  "?"┘┘":e.nodeValue;}return t;};
var p=C.extend("sap.suite.ui.commons.CalculationBuilderInput",{
metadata:{library:"sap.suite.ui.commons",events:{change:{parameters:{value:"String",position:"integer",validate:"boolean"}}}},
renderer:function(e,i){var s="contenteditable=\"true\"";if(i.getParent().getShowInputToolbar()&&!i._bReadOnly){e.write("<div class=\"sapCalculationBuilderInputToolbarWrapper\">");e.renderControl(i._oInputToolbar);e.write("</div>");}e.write("<div");e.writeControlData(i);e.addClass("sapCalculationBuilderInputWrapper");if(i._bReadOnly){s="";}e.writeClasses(i);e.write(" aria-label=\"\" >");e.write("<div aria-label=\"\" aria-describedby=\""+i.getId()+"-error\" spellcheck=\"false\""+s+" id=\""+i.getId()+"-input\" class=\"sapCalculationBuilderInput\"></div>");e.write("<div id=\""+i.getId()+"-error\" class=\"sapCalculationBuilderInputErrorArea\"></div>");e.write("</div>");}
});
p.prototype.init=function(){this._setupSuggestionList();this._iCarretPosition=0;this._sSuggestionText="";this._aVariables=[];this._oInputToolbar=new O(this.getId()+"-toolbar").addStyleClass("sapCalculationBuilderInputToolbar");this.addDependent(this._oInputToolbar);};
p.prototype.exit=function(){if(this._oPopup){this._oPopup.destroy();}if(this._oInputToolbar){this._oInputToolbar.destroy();}};
p.prototype.onAfterRendering=function(){this._setupKeyPress();this._setupEvents();this._setupAriaLabel();};
p.prototype.onBeforeRendering=function(){this._aFunctions=this.getParent()._getAllFunctions();this._fillInputToolbar();};
p.prototype.getFocusDomRef=function(){return this.getDomRef("input");};
p.prototype._setupEvents=function(){var $=this.$("input");$.blur(function(){this._lastRangeSelection=this._getSelectionRange();}.bind(this));$.mouseup(function(e){this._iCarretPosition=this._getCaretPosition();}.bind(this));};
p.prototype._validate=function(s){var e=this.getParent();if(e&&e.getValidationMode()===V.FocusOut){this.getParent()._validateInput(G(this.$("input")),s?this._iCarretPosition:0);}};
p.prototype._setupKeyPress=function(){var t=this,i=this.getParent(),A=i&&i.getAllowSuggestions()&&D.system.desktop,s="paste input";if(D.browser.msie){s+=" keyup";}this.$("input").on('focus',function(){var $=q(this);$.data('before',G($[0]));}).on(s,function(e){var $=q(this),u=$.data('before'),v=e.key,w=G($[0]);if(t._oPopup.isOpen()&&v==="Enter"){return;}if(u!==w){var x=t._iCarretPosition=t._getCaretPosition();t._storeCurrent();t.fireChange({position:Math.max(0,x),value:G($[0],true)});if(A){t._checkSuggestions(x,w,o(e));if(t._sSuggestionText.length>0){t._filterSuggestionList(t._sSuggestionText);if(t._oSuggestionList.getItems().length===0){t._oPopup.close();}else{t._findCurrentSpan();if(!t._oPopup.isOpen()){var y=sap.ui.getCore().getConfiguration().getRTL(),z=q(t._oCurrentSpan),F=y?-($.width()-z.position().left-z.width()):z.position().left;var H=parseInt(F,10),K=t.$("input").outerHeight()-(parseInt(q(t._oCurrentSpan).position().top,10)+q(t._oCurrentSpan).height())-10;t._iSuggestionSelectedIndex=-1;t._oPopup.setOffsetX(H);t._oPopup.setOffsetY(-K);t._oPopup.openBy(t.getDomRef("input"));}}}}}});};
p.prototype._createItemSpan=function(K,e){var i=function(){if(!K){return"sapCalculationBuilderItemTextEmpty";}if(e){return"sapCalculationBuilderItemTextError";}if(this._isOperator(K)){return"sapCalculationBuilderItemTextOperator";}return"sapCalculationBuilderItemTextDefault";}.bind(this);var F=K?"text":"html";var N=q('<span />',{title:e?e.title:"","class":i(),"aria-hidden":D.browser.msie})[F](K||E);return N;};
p.prototype._findCurrentSpan=function(){var s;if(window.getSelection&&window.getSelection().getRangeAt){s=window.getSelection();this._oCurrentSpan=s.anchorNode.parentNode;if(!q(this._oCurrentSpan).is("span")){this._oCurrentSpan=this.$("input").children().first()[0];}}return this._oCurrentSpan;};
p.prototype._setupSuggestionList=function(){var s=new m({path:"grouptitle",descending:false,group:function(i){return i.getProperty("grouptitle");}});var A=function(K){var N=this._createItemSpan(K);q(this._oCurrentSpan).after(N);return N;}.bind(this);var e=function($){var t=$.innerText,v=this._sSuggestionText.toLowerCase(),i=v.length,u=t.toLowerCase(),N="",w=(" "+u).indexOf(" "+v),x;if(w>-1){N+=t.substring(0,w);x=t.substring(w,w+i);N+="<span class=\"sapMInputHighlight\">"+x+"</span>";N+=t.substring(w+i);}else{N=t;}return N;}.bind(this);this._oSuggestionList=new L({mode:b.SingleSelectMaster,showNoData:false,enableBusyIndicator:false,rememberSelections:false,items:{path:"/data",factory:function(i,t){var u=t.getProperty(t.oModel.sPath),v=new S({title:u.title,customData:[new k({key:"key",value:u.key})]});v.addStyleClass("sapCalculationBuilderSuggestionItem");return v;},sorter:s},selectionChange:function(t){var u=t.getParameter("listItem"),v,w,F,K,x;if(u){K=u.getCustomData()[0].getValue();F=this._getFunction(K);q(this._oCurrentSpan).text(F?K+"(":K+"");q(this._oCurrentSpan).removeClass("sapCalculationBuilderItemTextError").addClass("sapCalculationBuilderItemTextDefault");this._iCarretPosition+=(K||"").length+1;if(F){x=this._getFunctionTemplateItems(F);v=x.length;if(v>0){x.forEach(function(K,i){this._oCurrentSpan=A(K)[0];if(!K&&!w){w=this._oCurrentSpan;}if(!w&&K){this._iCarretPosition+=K.length;}if(K&&i!==v-1){this._oCurrentSpan=A(" ");}}.bind(this));}else{w=this._oCurrentSpan=A("")[0];}var y=A(")");if(!w){this._oCurrentSpan=y[0];}}this._storeCurrent();var z=w||this._oCurrentSpan,H=(z&&z.textContent&&z.textContent.length)||0;this.fireChange({position:this._getCaretPosition(z,F?1:H),value:G(this.$("input")[0],true)});}this._oPopup.close();}.bind(this)});this._oSuggestionList.addEventDelegate({onAfterRendering:function(){this._oSuggestionList.$().find(".sapMDLILabel, .sapMSLITitleOnly, .sapMDLIValue").each(function(){this.innerHTML=e(this);});}.bind(this)});this._oPopup=new R(this.getId()+"-popup",{contentWidth:"300px",showArrow:false,showHeader:false,placement:P.Vertical,horizontalScrolling:true,content:this._oSuggestionList}).attachAfterClose(function(i){this._clearSuggestion();}.bind(this));};
p.prototype._checkSuggestions=function(e,t,s){var u=t[Math.max(e-1,0)];var v=function(u){return this._isOperator(u)||this._isEmptySpace(u);}.bind(this);if(!u||v(u)){this._clearSuggestion();return;}var w=s?u:"",x=s?2:1;e=Math.max(e,0);for(var i=e-x;i>=0;i--){if(v(t[i])){break;}w=t[i]+w;}for(i=e;i<t.length;i++){if(v(t[i])){break;}w=w+t[i];}if(!w){this._clearSuggestion();}this._sSuggestionText=w||"";};
p.prototype._clearSuggestion=function(){this._sSuggestionText="";this._oCurrentSpan={};this._oPopup.close();};
p.prototype._filterSuggestionList=function(t){var e=[];var A=function(K,s,u,v){var w=(s||K).toLowerCase(),x=t.toLowerCase();if((" "+w).indexOf(" "+x)!==-1){e.push({title:s||K,key:K,type:u,grouptitle:v});}};var i=this.getParent();i.getOperators().forEach(function(s){A(s.getKey(),s.getText(),I.CustomOperator,r.getText("CALCULATION_BUILDER_OPERATORS_TITLE"));});this._aVariables.forEach(function(v){var s=v.getGroup(),u,w=r.getText("CALCULATION_BUILDER_VARIABLES_TITLE");if(s){u=i.getGroups().filter(function(x){return x.getKey()===s;})[0];w=u?u.getTitle():w;}A(v.getKey(),v.getLabel(),I.Variable,w);});this._aFunctions.forEach(function(s){A(s.key,s.title,I.Function,r.getText("CALCULATION_BUILDER_FUNCTIONS_TITLE"));});e.sort(function(s,u){return s.title.toUpperCase()<u.title.toUpperCase()?-1:1;});this._oSuggestionList.setModel(new J({"data":e}));};
p.prototype._getCaretPosition=function(s,t){var u,v,w,A=0;var x=function(N){return(s&&N===s)||(!s&&(N===v.anchorNode||N===v.anchorNode.parentNode));};var y=function(N){var z;if(x(N)){return false;}if(N.nodeType===3){A+=N.textContent.length;}else{for(var i=0;i<N.childNodes.length;i++){z=N.childNodes[i];if(x(z)){return false;}A+=z.textContent.length;}}return true;};try{if(window.getSelection&&window.getSelection().getRangeAt){u=window.getSelection().getRangeAt(0);v=window.getSelection();w=this.$("input")[0].childNodes;for(var i=0;i<w.length;i++){if(!y(w[i])){break;}}return(t||u.startOffset)+A;}}catch(e){return this._iCarretPosition;}return 0;};
p.prototype._getSelectionRange=function(){var s,i=0,t=this.$("input")[0];if(typeof window.getSelection!=="undefined"){try{var u=window.getSelection().getRangeAt(0),v=u.cloneRange();if(!q.sap.containsOrEquals(t,u.startContainer)){return this._lastRangeSelection;}v.selectNodeContents(t);v.setEnd(u.startContainer,u.startOffset);s=v.toString().length;i=s+u.toString().length;}catch(e){i=s=this._iCarretPosition||0;}}return{start:s,length:i-s};};
p.prototype._setCaretPosition=function(e){var s=window.getSelection(),$=this.$("input"),t,u,v,F,w;var x=function(w){var y=$.children(),z,A,H=0;for(var i=0;i<y.length;i++){z=y[i];A=z.innerText||"";if(H+A.length>w){return{spanIndex:i,position:H+A.length-w};}H+=A.length;}return{spanIndex:Math.max(i-1,0),position:100};};if(typeof e==="number"){e=x(e);}v=e&&e.span;if(e){t=$[0];if(!v){v=t&&t.children&&t.children.length>e.spanIndex?t.childNodes[e.spanIndex]:null;}if(v){u=document.createRange();F=v.firstChild?v.firstChild:v;w=Math.min(F.length,e.position);u.setStart(F,w);u.collapse(true);s.removeAllRanges();s.addRange(u);}}};
p.prototype._recreateText=function(e){var s=function(A){var F;if(A){if(!this._isEmptySpace(A)){F=q.grep(e.errors,function(K){return K.index===w;})[0];}if(A==="┘"){A="";}H+=this._createItemSpan(A,F)[0].outerHTML;if(!this._isEmptySpace(A)){w++;}x++;}}.bind(this);var t=function(){for(;i<v.length;i++){u();if(!this._isEmptySpace(v[i])&&v[i]!=="("){i--;break;}W+=v[i];if(v[i]==="("){break;}}s(W);W="";}.bind(this);var u=function(A){if(!y&&e.position===i){y={spanIndex:x-(A||0),position:A||W.length};}};var H="",v,w=0,x=0,y=null,W="",z;v=e.text||G(this.$("input")[0],true);for(var i=0;i<v.length;i++){z=v[i];u();if(z==="┘"||this._isEmptySpace(z)||this._isOperator(z)){if(this._isFunction(W)){t();}else{s(W);s(z);W="";}if(z==="┘"){i++;u(1);}}else{W+=z;}}s(W);this.$("input").html(H);this._showErrorText(true,e.errors);if(e.position>0){this._setCaretPosition(y||{spanIndex:x-1,position:Number.MAX_SAFE_INTEGER});}};
p.prototype._setupAriaLabel=function(){var e,i,A;if(D.browser.msie){return;}e=this.getParent();i=e._oExpressionBuilder._aErrors;A=r.getText("CALCULATION_BUILDER_EXPRESSION_TITLE")+": "+e.getExpression();if(i.length>0){A+=". "+r.getText("CALCULATION_BUILDER_ERROR_TITLE")+": ";i.forEach(function(s){A+=s.title+" ";});}this.$().attr("aria-label",A);};
p.prototype._showErrorText=function(s,e){var $=this.$("error");e=e||this.getParent().getErrors();if((e&&e.length>0)&&s){var t="",u=5;for(var i=0;i<e.length&&i<u;i++){t+=e[i].title+"\n";}$.show();$.text(t);}else{$.hide();}};
p.prototype._stringToItems=function(e){var i=[],s="",t="",u=0;var v=function(){var F,x="";if(t){F=this._getFunction(t);if(F){if(e[u]!=="("){x=I.Error;for(;u<e.length;u++){if(e[u]==="("){x="";break;}if(!this._isEmptySpace(e[u])){u--;break;}}}}var y=new a({key:t});y._sType=x;i.push(y);}t="";return!!F||!!x;}.bind(this);if(!e){e=G(this.$("input")[0],true);}for(;u<e.length;u++){s=e[u];if(s==="┘"){i.push(new a());u++;continue;}if(this._isEmptySpace(s)){if(t){v();}continue;}var N=e[u+1];if(N&&this._isOperator(s+N,false)){s+=N;u++;}var w=this._isOperator(s,false);if(w){if(v()){continue;}i.push(new a({key:s}));}else{t+=s;}}v();return i;};
p.prototype._itemsToString=function(e){var s=e.items,t="",u="",v,w,x;var y=function(z){var A="";if(z){A=z.getKey();v=this._isFunction(A);if(v){A+="(";}}return A;}.bind(this);for(var i=0;i<s.length;i++){w=q.grep(e.errors,function(z){return z.index===i;})[0];x=y(s[i]);u+=this._createItemSpan(x,w)[0].outerHTML;if(!v&&x!=="("&&y(s[i+1])!==")"){u+=this._createItemSpan(" ")[0].outerHTML;}t+=x;}this.$("input").html(u);return t;};
p.prototype.onfocusin=function(e){if(this._bSetCaretOnFocus){this._setCaretPosition(this._iCarretPosition);}this._bSetCaretOnFocus=false;this._showErrorText(true);};
p.prototype.onsapfocusleave=function(e){if(e.relatedControlId&&q.sap.containsOrEquals(this._oPopup.getDomRef(),sap.ui.getCore().byId(e.relatedControlId).getFocusDomRef())){if(sap.ui.getCore().isMobile()||D.browser.safari){this._bSetCaretOnFocus=true;}this.focus();}else{this._showErrorText(false);this._validate(false);}};
p.prototype.onsappageup=function(e){this._suggestionListKeyHandling({event:e,add:true,toEnd:true});if(!this._oPopup.isOpen()){this._iCarretPosition=G(this.$("input")).length-1;}};
p.prototype.onsapnext=function(e){if(this._iCarretPosition<G(this.$("input")).length-1){this._iCarretPosition++;}};
p.prototype.onsapprev=function(e){if(this._iCarretPosition>0){this._iCarretPosition--;}};
p.prototype.onsappagedown=function(e){this._suggestionListKeyHandling({event:e,add:false,toEnd:true});if(!this._oPopup.isOpen()){this._iCarretPosition=0;}};
p.prototype.onsapdown=function(e){this._suggestionListKeyHandling({event:e,add:true});};
p.prototype.onsapescape=function(e){if(this._oPopup.isOpen()){this._oPopup.close();}};
p.prototype.onsapup=function(e){this._suggestionListKeyHandling({event:e,add:false});};
p.prototype.onsapenter=function(e){if(this._oPopup.isOpen()){this._oSuggestionList.fireSelectionChange({listItem:this._oSuggestionList.getSelectedItem()});}else{this._validate(true);}e.preventDefault();e.stopPropagation();};
p.prototype._suggestionListKeyHandling=function(e){var i=e.event,A=e.add,t=e.toEnd,s,u;if(!this._oPopup.isOpen()||!i){return;}A?this._iSuggestionSelectedIndex++:this._iSuggestionSelectedIndex--;s=this._oSuggestionList.$().find(".sapCalculationBuilderSuggestionItem");u=s.length;if((this._iSuggestionSelectedIndex<0)||(!A&&t)){this._iSuggestionSelectedIndex=u-1;}else if((this._iSuggestionSelectedIndex>=u)||(A&&t)){this._iSuggestionSelectedIndex=0;}this._oSuggestionList.removeSelections(true);sap.ui.getCore().byId(s[this._iSuggestionSelectedIndex].id).setSelected(true).focus();i.preventDefault();i.stopPropagation();};
p.prototype._displayError=function(s){this.$("input")[s?"addClass":"removeClass"]("sapCalculationBuilderInputError");};
p.prototype._insertItemFromToolbar=function(K){var $=this.$("input"),t,N,e;var s=" "+K+" ",F=this._getFunction(K),i=s.length,u;var v=function(){return{start:$.text().length,length:0};};e=this._getSelectionRange()||v();$.focus();this._lastRangeSelection={};t=G($[0],true);if(t[e.start]==="┘"&&t[e.start-1]==="┘"&&e.length===0){e.start--;e.length+=2;}if(F){s=" "+K+"(";u=this._getFunctionTemplateItems(F);if(u.length>0){u.forEach(function(K){s+=K?K:n;});}else{s+=n;}s+=") ";i=s.indexOf(n)+1;}N=[t.slice(0,e.start),s,t.slice(e.start+e.length)].join('');this.fireChange({value:N,position:e.start+i});this._storeCurrent();};
p.prototype._convertEmptyHashes=function(t){return t?t.replace(new RegExp(n,'g'),"  "):"";};
p.prototype._fillInputToolbar=function(){var e=function(W,X){return new B({type:c.Transparent,text:W==="*"?"x":W,press:this._insertItemFromToolbar.bind(this,W)}).addStyleClass("sapCalculationBuilderInputToolbarButtons "+X);}.bind(this);var i=function(W){if(W){return W.map(function(X){return new f({key:X.getKey(),text:X._getLabel()});}).sort(function(X,Y){return X.getText().localeCompare(Y.getText());});}return[];};var s=function(W){return W.map(function(X){return new f({key:X.getKey(),text:X.getText()?X.getText():X.getKey()});}).sort(function(X,Y){return X.getText().localeCompare(Y.getText());});};var t=function(W){return W.map(function(X){return new f({key:X,text:X});});};var u=function(){var A=this.getParent(),W=A.getAllowComparisonOperators(),X=A.getAllowLogicalOperators(),Y=A.getOperators(),Z=Y.length>0,$,_,a1=[];if(W){$=t(Object.keys(x));a1.push(new f({text:r.getText("CALCULATION_BUILDER_COMPARISON_TITLE"),items:$}));}if(X){_=t(Object.keys(y));a1.push(new f({text:r.getText("CALCULATION_BUILDER_LOGICAL_TITLE"),items:t(Object.keys(y))}));}if(Z){_=s(Y);a1.push(new f({text:r.getText("CALCULATION_BUILDER_ADDITIONAL_OPERATOR"),items:_}));}if(a1.length>1){return a1;}if(W){return $;}if(X){return $;}if(Z){return $;}return[];}.bind(this);var v=function(W){return new d({text:W,menu:new M({itemSelected:function(X){this._insertItemFromToolbar(X.getParameters().item.getKey());}.bind(this)})}).addStyleClass("sapCalculationBuilderInputToolbarFunctionMenu").addStyleClass("sapCalculationBuilderInputToolbarMenuButtons");}.bind(this);var w=l.CalculationBuilderOperatorType,x=l.CalculationBuilderComparisonOperatorType,y=l.CalculationBuilderLogicalOperatorType,z=u(),A=this.getParent(),F=!!A.getTitle()&&(A.getLayoutType()===l.CalculationBuilderLayoutType.TextualOnly),H;this._oInputToolbar.removeAllContent();this._oInputToolbar.addContent(new h({text:A.getTitle(),visible:F}));this._oInputToolbar.addContent(new g());Object.keys(w).forEach(function(W){this._oInputToolbar.addContent(e(w[W],""));}.bind(this));this._oInputToolbar.addContent(new T().addStyleClass("sapUiSmallMarginBeginEnd"));if(z.length>0){this._oInputToolbar.addContent(new d({text:r.getText("CALCULATION_BUILDER_OPERATORS_TITLE"),menu:new M({itemSelected:function(W){this._insertItemFromToolbar(W.getParameters().item.getKey());}.bind(this),items:z})}).addStyleClass("sapCalculationBuilderInputToolbarMenuButtons"));}H=this._aFunctions.map(function(W){return new f({key:W.key,text:W.title});});var K=v(r.getText("CALCULATION_BUILDER_FUNCTIONS_AND_VARIABLES_TITLE"));if(H.length>0){K.getMenu().addItem(new f({text:r.getText("CALCULATION_BUILDER_FUNCTIONS_TITLE"),items:[H]}));}var N=A._getGroupMap(),Q=A.getGroups(),U=N["##DEFAULT##"];if(U&&U.length>0){K.getMenu().addItem(new f({text:r.getText("CALCULATION_BUILDER_VARIABLES_TITLE"),items:i(U)}));}Q.forEach(function(W){var X=N[W.getKey()];if(X&&X.length>0){K.getMenu().addItem(new f({text:W._getTitle(),items:i(X)}));}});this._oInputToolbar.addContent(K);};
p.prototype._isOperator=function(s,A){return this.getParent()&&this.getParent()._isOperator(s,A);};
p.prototype._getFunctionTemplateItems=function(F){return this.getParent()._getFunctionTemplateItems(F);};
p.prototype._isEmptySpace=function(s){return s===String.fromCharCode(160)||s===" ";};
p.prototype._isEmptyItem=function(t){return t===E;};
p.prototype._getText=function(){return this.$("input").text();};
p.prototype._isFunction=function(K){return!!this._getFunction(K);};
p.prototype._getFunction=function(K){return this.getParent()._getFunctionDefinition(K);};
p.prototype._storeCurrent=function(v){var $=this.$("input");$.data('before',$.text());};
return p;},true);
sap.ui.predefine('sap/suite/ui/commons/CalculationBuilderItem',["jquery.sap.global","./library","sap/ui/core/Control","sap/m/MessageBox","sap/ui/thirdparty/jqueryui/jquery-ui-core","sap/ui/thirdparty/jqueryui/jquery-ui-widget","sap/ui/thirdparty/jqueryui/jquery-ui-mouse","sap/ui/thirdparty/jqueryui/jquery-ui-draggable"],function(q,l,C,M){"use strict";var I=l.CalculationBuilderItemType,O=l.CalculationBuilderOperatorType,L=l.CalculationBuilderLogicalOperatorType;var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");
var a=C.extend("sap.suite.ui.commons.CalculationBuilderItem",{
constructor:function(i,s){if(typeof i!=="string"&&i!==undefined){s=i;}if(s&&s.key){s.key=this._sanitizeKey(s.key);}C.apply(this,arguments);},
metadata:{library:"sap/suite/ui/commons",properties:{key:{type:"string",group:"Misc",defaultValue:null}}},
renderer:function(R,i){R.write(i._render());}
});
a.prototype._innerRender=function(){var h="",A="",s=this._getLabel(),i={"!=":"NOT_EQUAL","-":"MINUS",",":"COMMA"};var R=function(){h+="<div class=\"sapCalculationBuilderItemFocusWrapper\">";h+="<div class=\"sapCalculationBuilderItemFocus\"></div>";h+="</div>";};var f=function(){h+="<div class=\"sapCalculationBuilderItemExpandButtonWrapper\" title=\""+r.getText("CALCULATION_BUILDER_EXPAND_BUTTON_TITLE")+"\">";h+="<div id=\""+this.getId()+"-expandbutton\" class=\"sapCalculationBuilderItemExpandButton "+(this._bReadOnly?"sapMBtnDisabled":"")+"\" tabindex=\"-1\">";if(!this._bReadOnly){h+="<div class=\"sapCalculationBuilderItemExpandButtonFocus\"></div>";}b("");h+="</div></div>";}.bind(this);var b=function(c){h+="<span aria-hidden=\"true\" data-sap-ui-icon-content=\""+c+"\" class=\"sapCalculationBuilderEmptyItemIcon sapUiIcon sapUiIconMirrorInRTL\" style=\"font-family:'SAP-icons'\"></span>";};var g=function(t){return" aria-label=\""+r.getText(t)+"\" ";};if(this._bIsNew||this._isEmpty()){A=" title=\""+r.getText("CALCULATION_BUILDER_NEW_ITEM_TITLE")+"\" ";}else if(i[s]){A=g("CALCULATION_BUILDER_"+i[s]+"_ARIA_LABEL");}h+="<div class=\"sapCalculationBuilderItemContentWrapper\">";h+="<div id=\""+this.getId()+"-content\" class=\"sapCalculationBuilderItemContent\""+A+">";R();if(this._isEmpty()){b("");h+="</div>";}else if(this._bIsNew){b("");h+="</div>";}else if(this._isFunction()){var F=this._getFunction();h+="<span class=\"sapCalculationBuilderItemLabel sapCalculationBuilderItemFunctionLabel\">";h+=q.sap.encodeHTML(F.title||this.getKey());h+="</span>";h+="<span class=\"sapCalculationBuilderItemLabel sapCalculationBuilderItemFunctionBracket\">";h+="&nbsp;(";h+="</span>";h+="</div>";}else{h+="<span class=\"sapCalculationBuilderItemLabel\">";h+=q.sap.encodeHTML(s);h+="</span>";h+="</div>";}h+="</div>";if(this._isVariable()&&this.isExpandable()){f();}return h;};
a.prototype._getClass=function(h){var c="",i=this._isEmpty();c+=this._bIsNew?"sapCalculationBuilderNewItem  sapCalculationBuilderCancelSelectable":"sapCalculationBuilderItem";if(i){c+=" sapCalculationBuilderNewItem ";}if(this._isBracket()){c+=" sapCalculationBuilderItemBracket ";}else if(this._isOperator()){c+=" sapCalculationBuilderItemOperator sapCalculationBuilderItemOperatorLength-"+this._getLabel().length+" ";if(this._isLogicalOperator()){c+=" sapCalculationBuilderItemLogicalOperator ";}}else if(this._isCustomOperator()){c+=" sapCalculationBuilderItemOperator sapCalculationBuilderItemCustomOperator ";}else if(this._isFunction()){c+=" sapCalculationBuilderItemFunction ";}else if(this._isConstant()){c+=" sapCalculationBuilderItemConstant ";}else if(this._isVariable()){c+=" sapCalculationBuilderItemVariable ";if(this.isExpandable()){c+=" sapCalculationBuilderItemVariableSeparator ";}}else{c+=" sapCalculationBuilderUnknownItem ";}if(h){c+=" sapCalculationBuilderItemErrorSyntax ";}return c;};
a.prototype._render=function(){var i=this._hasCorrectParent(),e=this._getItemError(),h="";h+="<div "+" class=\""+this._getClass(!!e)+"\" id=\""+this.getId()+"\" tabindex=\""+(i?"-1":"0")+"\">";h+=this._innerRender();h+="</div>";return h;};
a.prototype.init=function(){this._bIsNew=false;};
a.prototype.onBeforeRendering=function(){this._oVariable=this.getVariable();};
a.prototype.onAfterRendering=function(){this._afterRendering();};
a.prototype._afterRendering=function(){var p=this.getParent();this._setEvents();if(!this._bIsNew&&!this._bReadOnly){this._setupDraggable();}if(this._hasCorrectParent(p)){if(!p._bIsCalculationBuilderRendering){p._setupKeyboard();p.getParent()._enableOrDisableExpandAllButton();}}};
a.prototype._setEvents=function(){if(this.isExpandable()){this.$("expandbutton").click(this._expandButtonPress.bind(this));this.$("expandbutton").mousedown(function(e){e.stopPropagation();});}if(!this._bReadOnly){this.$("content").click(this._buttonPress.bind(this));}if(this._isBracket()||this._isFunction()){this._setBracketHover();}};
a.prototype._buttonPress=function(e){var p=this.getParent();if(this._hasCorrectParent(p)&&!p._bDragging){if(e.ctrlKey){p._selectItem(this.$());}else if(e.shiftKey){p._selectItemsTo(this.$());}else{p._deselect();p._openDialog({opener:this,currentItem:this});}}};
a.prototype._expandButtonPress=function(e){if(!this._bReadOnly){this._openExpandConfirmMessageBox();}};
a.prototype.isExpandable=function(){var v=this._oVariable?this._oVariable:this.getVariable();return v&&v.getItems().length>0;};
a.prototype.getVariable=function(){var p=this.getParent();return this._hasCorrectParent(p)&&p._getVariableByKey(this.getKey());};
a.prototype.getType=function(){return this._getType();};
a.prototype._setupMobileDraggable=function(){if(sap.ui.getCore().isMobile()){var s=function(e,b){if(e.originalEvent.touches.length>1){return;}e.preventDefault();var c=e.originalEvent.changedTouches[0],d=document.createEvent('MouseEvents');d.initMouseEvent(b,true,true,window,1,c.screenX,c.screenY,c.clientX,c.clientY,false,false,false,false,0,null);e.target.dispatchEvent(d);};var t=false;this.$().bind({touchstart:function(e){if(t){return;}t=true;s(e,'mouseover');s(e,'mousemove');s(e,'mousedown');},touchmove:function(e){if(!t){return;}s(e,'mousemove');},touchend:function(e){if(!t){return;}s(e,'mouseup');s(e,'mouseout');s(e,'click');t=false;}});}};
a.prototype._setupDraggable=function(){var p=this.getParent(),$=p.$(),b=this.$();b.draggable({revert:"invalid",axis:"x",delay:100,cursor:"move",helper:function(e){var c=b.clone();c.addClass("sapCalculationBuilderDragging");c.css("pointer-events","none");return c;},scope:p.getId()+"-scope",start:function(){$.find(".sapCalculationBuilderBracket").removeClass("sapCalculationBuilderBracket");$.find(".sapCalculationBuilderItemContent").css("cursor","move");q(this).addClass("sapCalculationBuilderDragging");p._bDragging=true;if(!q(this).hasClass("ui-selected")){p._deselect();}},stop:function(){q(this).removeClass("sapCalculationBuilderDragging");$.find(".sapCalculationBuilderItemContent").css("cursor","pointer");p._bDragging=false;}});this._setupMobileDraggable();};
a.prototype._setBracketHover=function(){var $=this.$("content"),b=this._isFunction()?O["("]:this.getKey(),c=b===O[")"],t=c?O["("]:O[")"],T;$.mouseenter(function(e){var o,f,B=0,d=(this._hasCorrectParent()&&this.getParent().getItems())||[],i=c?d.length:0;for(;c?i>=0:i<d.length;(c?i--:i++)){o=d[i];if(o===this){f=true;}if(f){if((o.getKey()===t)||(o._isFunction()&&c)){B--;if(B===0){T=o;break;}}else if((o.getKey()===b)||(o._isFunction()&&!c)){B++;}}}if(T){this.$().addClass("sapCalculationBuilderBracket");T.$().addClass("sapCalculationBuilderBracket");}}.bind(this));$.mouseleave(function(e){this.$().removeClass("sapCalculationBuilderBracket");if(T){T.$().removeClass("sapCalculationBuilderBracket");}}.bind(this));};
a.prototype._expandVariable=function(f){var p=this.getParent(),t,v;if(p){t=p.getItems().indexOf(this);v=p._getVariableByKey(this.getKey());p.insertItem(new a({"key":"("}),t++);v.getItems().forEach(function(i){p.insertItem(i._cloneItem(),t++);});p.insertItem(new a({"key":")"}),t++);p.removeItem(this);if(f){p._aErrors=p._validateSyntax();p._fireChange();}}};
a.prototype._cloneItem=function(){return new a({key:this.getKey()});};
a.prototype._openExpandConfirmMessageBox=function(){M.show(r.getText("CALCULATION_BUILDER_EXPAND_MESSAGE_TEXT",this._getLabel()),{icon:M.Icon.WARNING,title:r.getText("CALCULATION_BUILDER_EXPAND_MESSAGE_TITLE"),actions:[M.Action.OK,M.Action.CANCEL],onClose:function(A){var p;if(A===M.Action.OK){this._expandVariable(true);}else{p=this.getParent();if(p){p._setCorrectFocus();}}}.bind(this)});};
a.prototype._getItemError=function(){var p=this.getParent(),e;if(this._hasCorrectParent(p)){e=q.grep(p._aErrors,function(i){return i.index===this._iIndex;}.bind(this))[0];}return e;};
a.prototype._getLabel=function(){var g=function(){if(this._isMultiplication()){return"X";}var i=this._getVariable()||this._getFunction();if(!i){return this.getKey();}return i.title?i.title:i._getLabel();}.bind(this);if(!this._sLabel){this._sLabel=g();if(this._isFunction()){this._sLabel+=" (";}}return this._sLabel;};
a.prototype._sanitizeKey=function(k){if(!k||typeof k!=="string"){return k;}k=k.replace(/{/g,"&#125;");k=k.replace(/}/g,"&#123;");return k;};
a.prototype._reset=function(){this._sType="";this._sLabel="";this._oVariable="";};
a.prototype.setKey=function(k,s){this._reset();this.setProperty("key",this._sanitizeKey(k),s);};
a.prototype.getKey=function(){var k=this.getProperty("key");k=k.replace(/&#125;/g,"{");k=k.replace(/&#123;/g,"}");return k;};
a.prototype._getType=function(){var p=this.getParent();if(!this._sType&&p){this._sType=p._getType(this.getKey());}return this._sType;};
a.prototype._isEmpty=function(){return!this._bIsNew&&!this.getKey();};
a.prototype._isOperator=function(){return this._getType()===I.Operator;};
a.prototype._isSecondaryOperator=function(){var t=this._getType();if(this._getType()===I.Operator){return["+","-","/","x","(",")",","].indexOf(this.getKey())===-1;}return t===I.CustomOperator;};
a.prototype._isCustomOperator=function(){return this._getType()===I.CustomOperator;};
a.prototype._isVariable=function(){return this._getType()===I.Variable;};
a.prototype._isConstant=function(){return this._getType()===I.Constant;};
a.prototype._isFunction=function(){var t=this._getType();return t===I.Function||t===I.CustomFunction;};
a.prototype._getFunction=function(){var t=this._getType();if(t===I.Function||t===I.CustomFunction){var b=this.getParent().getParent();return b._createFunctionObject(b._getFunctionDefinition(this.getKey()));}return null;};
a.prototype._getVariable=function(){if(this._getType()===I.Variable){var k=this.getKey();return q.grep(this.getParent().getVariables(),function(i){return i.getKey().toLowerCase()===k.toLowerCase();})[0];}return null;};
a.prototype._getCustomFunction=function(){var i=this._isFunction(),t=this,p=this.getParent();if(p&&i){return q.grep(p.getFunctions(),function(f){return f.getKey().toLowerCase()===t.getKey().toLowerCase();})[0];}return null;};
a.prototype._isBracket=function(){return this._isOperator()&&(this.getKey()==="("||this.getKey()===")");};
a.prototype._isAddition=function(){return this._isOperator()&&this.getKey()==="+";};
a.prototype._isSubtraction=function(){return this._isOperator()&&this.getKey()==="-";};
a.prototype._isDivision=function(){return this._isOperator()&&this.getKey()==="/";};
a.prototype._isMultiplication=function(){return this._isOperator()&&this.getKey()==="*";};
a.prototype._isComma=function(){return this._isOperator()&&this.getKey()===",";};
a.prototype._isLogicalOperator=function(){return this._isOperator()&&!!L[this.getKey()];};
a.prototype._hasCorrectParent=function(p){p=p||this.getParent();return p instanceof sap.suite.ui.commons.CalculationBuilderExpression;};
return a;},true);
sap.ui.predefine('sap/suite/ui/commons/CalculationBuilderValidationResult',["jquery.sap.global","./library","sap/ui/core/Control","sap/ui/base/Object"],function(q,l,C,B){"use strict";
var a=B.extend("sap.suite.ui.commons.CalculationBuilderValidationResult",{constructor:function(){B.prototype.constructor.apply(this,arguments);this._aErrors=[];}});
a.prototype.addError=function(e){this._aErrors.push(e);};
a.prototype.addErrors=function(e){q.merge(this._aErrors,e);};
a.prototype.getErrors=function(){return this._aErrors;};
return a;});
sap.ui.predefine('sap/suite/ui/commons/CalculationBuilderVariable',["jquery.sap.global","./library","sap/ui/core/Control"],function(q,l,C){"use strict";
var a=C.extend("sap.suite.ui.commons.CalculationBuilderVariable",{metadata:{library:"sap.suite.ui.commons",properties:{key:{type:"string",group:"Misc",defaultValue:null},label:{type:"string",group:"Misc",defaultValue:null},group:{type:"string",group:"Misc"}},aggregations:{items:{type:"sap.suite.ui.commons.CalculationBuilderItem",multiple:true,singularName:"Item"}}}});
a.prototype._getLabel=function(){return this.getLabel()||this.getKey();};
return a;},true);
sap.ui.predefine('sap/suite/ui/commons/ControlProxy',["jquery.sap.global","./library","sap/ui/core/Control"],function(q,l,C){"use strict";
var a=C.extend("sap.suite.ui.commons.ControlProxy",{
metadata:{library:"sap.suite.ui.commons",association:{control:{type:"sap.ui.core.Control",multiple:false}}},
renderer:function(r,i){var I=i.getAssociation("control"),i=sap.ui.getCore().byId(I);r.renderControl(i);}
});
return a;},true);
sap.ui.predefine('sap/suite/ui/commons/MicroProcessFlow',['jquery.sap.global','./library','sap/ui/core/Control','sap/ui/core/Icon','sap/ui/base/ManagedObject','sap/ui/core/delegate/ItemNavigation',"sap/ui/core/ResizeHandler",],function(q,l,C,I,M,a,R){"use strict";var b=l.MicroProcessFlowRenderType;var L=function(i){return i[i.length-1];};
var c=C.extend("sap.suite.ui.commons.MicroProcessFlow",{
metadata:{library:"sap.suite.ui.commons",properties:{ariaLabel:{type:"string",defaultValue:null},renderType:{type:"sap.suite.ui.commons.MicroProcessFlowRenderType",defaultValue:sap.suite.ui.commons.MicroProcessFlowRenderType.Wrap},width:{type:"sap.ui.core.CSSSize",defaultValue:""}},aggregations:{content:{type:"sap.suite.ui.commons.MicroProcessFlowItem",multiple:true,singularName:"content"}}},
renderer:function(r,m){var d=m.getContent(),w=m.getWidth(),e=d.length;if(!m._bThemeApplied){return;}r.write("<div ");r.writeAttributeEscaped("role","listbox");r.writeControlData(m);if(w){r.addStyle("width",w);}r.writeStyles();r.addClass("sapSuiteUiCommonsMicroProcessFlow");r.writeClasses(m);r.write(">");if(m._hasScrolling()){r.write("<div tabindex=\"0\" id=\""+m.getId()+"-leftscroller\" class=\"sapSuiteUiCommonsMicroProcessFlowScroller sapSuiteUiCommonsMicroProcessFlowLeftScroller\">");r.renderControl(m._getLeftScroller());r.write("<span id=\""+m.getId()+"-leftlabel\" class=\"sapSuiteUiCommonsMicroProcessFlowLeftLabel\"></span>");r.write("</div>");}r.write("<div id=\""+m.getId()+"-content\" class=\"sapSuiteUiCommonsMicroProcessFlowContent\">");r.write("<div id=\""+m.getId()+"-scrolling\" class=\"sapSuiteUiCommonsMicroProcessFlowScrolling sapSuiteUiCommonsMicroProcessFlowScrollingTransition\"");if(m.getRenderType()===b.Wrap){r.addStyle("flex-wrap","wrap");r.writeStyles();}r.write(">");d.forEach(function(o,i){o._setAccessibilityData(i+1,e);r.renderControl(o);});r.write("</div>");r.write("</div>");if(m._hasScrolling()){r.write("<div tabindex=\"0\" id=\""+m.getId()+"-rightscroller\" class=\"sapSuiteUiCommonsMicroProcessFlowScroller sapSuiteUiCommonsMicroProcessFlowRightScroller\">");r.write("<span id=\""+m.getId()+"-rightlabel\" class=\"sapSuiteUiCommonsMicroProcessFlowRightLabel\"></span>");r.renderControl(m._getRightScroller());r.write("</div>");}r.write("</div>");}
});
c.prototype.onExit=function(){if(this._oLeftScroller){this._oLeftScroller.destroy();}if(this._oRightScroller){this._oRightScroller.destroy();}};
c.prototype.init=function(){sap.ui.getCore().attachThemeChanged(function(){this._bThemeApplied=true;this.invalidate();},this);this._bThemeApplied=sap.ui.getCore().isThemeApplied();this._iScrollingIndex=0;this._iLastVisibleIndex=0;this._aEdges=[];this._aWidths=[];};
c.prototype.onAfterRendering=function(){this._correctSeparatorWidth();this._setupKeyboard();if(this._hasScrolling()){this._setupScrolling();this._collectEdgesAndWidths();this._updateScrollingElements();if(this.getRenderType()===b.ScrollingWithResizer){this._oResizer=R.register(this,q.proxy(this._performResizeChanges,this));}}};
c.prototype._performResizeChanges=function(){this._collectEdgesAndWidths();this._updateScrollingElements();};
c.prototype._isLastItem=function(i){return i===this.getContent()[this.getContent().length-1];};
c.prototype._getMaxHeight=function(i){return Math.max.apply(null,this.$().find(".sapSuiteUiCommonsMicroProcessFlowItemWrapper").map(function(){return q(this).height();}).get());};
c.prototype._correctSeparatorWidth=function(){var m=this._getMaxHeight();if(m){this.getContent().forEach(function(i){var s=i.getStepWidth(),S;if(s.indexOf("%")!==-1){S=parseInt(s,10);if(!isNaN(S)){i.$("separator").width(m/S*100);}}},this);}};
c.prototype._firePress=function(){if(this._oItemNavigation){var i=this._oItemNavigation.getFocusedIndex(),d=this.getContent()[i];if(d){d._firePress();}}};
c.prototype._setupKeyboard=function(){var f=this.getDomRef(),d=this.getContent(),D=[];d.forEach(function(o,i){var $=o._getAccessibleItem();D.push($[0]);});if(!this._oItemNavigation){this._oItemNavigation=new a();this.addDelegate(this._oItemNavigation);}this._oItemNavigation.setRootDomRef(f);this._oItemNavigation.setItemDomRefs(D);this._oItemNavigation.setCycling(false);this._oItemNavigation.attachEvent(a.Events.AfterFocus,function(e){if(this._bKeyBoard===true){this._findEdgeItems(e.getParameter("index"));this._updateScrollingElements();}this._bKeyBoard=false;}.bind(this));};
c.prototype._hasScrolling=function(){var r=this.getRenderType();return r===b.Scrolling||r===b.ScrollingWithResizer;};
c.prototype._setupScrolling=function(){var $=this.$("leftscroller"),d=this.$("rightscroller");this._iScrollingIndex=0;this._iLastVisibleIndex=0;$.click(this._scroll.bind(this,-1));d.click(this._scroll.bind(this,1));this._iScrollingIndex<=0?$.hide():$.show();};
c.prototype._updateScrollingElements=function(d){var e=this.getContent(),$=this.$("leftscroller"),f=this.$("rightscroller");$[this._iScrollingIndex<=0?"hide":"show"]();this._iLastVisibleIndex=this._findLastVisibleItemIndex(d);f[this._iLastVisibleIndex>=e.length-1?"hide":"show"]();this.$("leftlabel").text(this._iScrollingIndex);this.$("rightlabel").text(e.length-1-this._iLastVisibleIndex);};
c.prototype._scroll=function(d){var e=this.getContent(),$=this.$("rightscroller"),f=this.$("leftscroller"),g=sap.ui.getCore().getConfiguration().getRTL(),E,t,r;var h=function(){if(d>0){var w=this.$("content").width()-(f.is(":visible")?0:f.width()),n=L(this._aEdges)+L(this._aWidths);if(E+w>n){E-=(E+w-n+$.width());for(var i=0;i<this._aEdges;i++){if(this._aEdges[i]+this._aWidths[i]>E){this._iScrollingIndex=i;break;}}}}}.bind(this);var j=function(){if(!g&&m[0].scrollLeft!=0){this._clearScroll(m);}if(g){r=m.scrollRightRTL();if(r){this._clearScroll(m);}}}.bind(this);var k=this.$("scrolling"),m=k.parent();this._bKeyBoard=false;if(d<0&&this._iScrollingIndex<=0){return;}j();(d<0)?$.show():f.show();this._iScrollingIndex+=d;E=this._aEdges[this._iScrollingIndex];h();t="translateX("+((g?1:-1)*E)+"px)";this.$("scrolling").css("transform",t);if(!k.hasClass("sapSuiteUiCommonsMicroProcessFlowScrollingTransition")){setTimeout(function(){k.addClass("sapSuiteUiCommonsMicroProcessFlowScrollingTransition");},0);}this._updateScrollingElements(d);j();};
c.prototype._clearScroll=function($){var i=sap.ui.getCore().getConfiguration().getRTL();if($&&$[0]){i?$.scrollLeftRTL($[0].scrollWidth-$[0].clientWidth):$[0].scrollLeft=0;}};
c.prototype._findLastVisibleItemIndex=function(d){var s=this._aEdges[this._iScrollingIndex],w=this.$("content").width(),W=w+this.$("rightscroller").width(),e,n=0,f;for(var i=0;i<this._aEdges.length;i++){e=this._aEdges[i];if(e+this._aWidths[i]-10<s+w){n=i;}else{if(e+this._aWidths[i]<s+W){f=true;}else{f=false;break;}}}return f&&d!==-1?this.getContent().length-1:n;};
c.prototype._collectEdgesAndWidths=function(){var s=0,h=0,w=this.$("content").width();this._aEdges=[];this._aWidths=[];this.getContent().forEach(function(o,i){var d=o.$().width();this._aEdges.push(s);this._aWidths.push(d);s+=d;},this);};
c.prototype._getLeftScroller=function(){if(!this._oLeftScroller){this._oLeftScroller=new I(this.getId()+"leftscroller",{src:"sap-icon://nav-back"});this._oLeftScroller.addStyleClass("sapSuiteUiCommonsMicroProcessFlowArrow");}return this._oLeftScroller;};
c.prototype._getRightScroller=function(){if(!this._oRightScroller){this._oRightScroller=new I(this.getId()+"rightscroller",{src:"sap-icon://navigation-right-arrow"});this._oRightScroller.addStyleClass("sapSuiteUiCommonsMicroProcessFlowArrow");}return this._oRightScroller;};
c.prototype._findEdgeItems=function(d){var $=this.$("scrolling"),e=$.parent(),f=this.$("leftscroller"),g=this.$("rightscroller"),h=this.getContent(),j=Math.abs($.position().left),w,E,F=-1,k=-1;if(j<10||d===0){F=0;this._clearScroll(e);}if(d===h.length-1){k=h.length-1;}w=$.width();for(var i=0;i<this._aEdges.length;i++){E=this._aEdges[i];if(F===-1&&E>=j){F=i;}if(k===-1&&(E+this._aWidths[i]>j+w+5)){k=i-1;break;}}this._iScrollingIndex=F;this._iLastVisibleIndex=k!==-1?k:h.length-2;};
c.prototype._processKeyPress=function(){if(this._hasScrolling()){var $=this.$("scrolling");this._bKeyBoard=true;$.removeClass("sapSuiteUiCommonsMicroProcessFlowScrollingTransition");$.css("transform","");}};
c.prototype.onsapspace=function(){this._firePress();};
c.prototype.onsapenter=function(){this._firePress();};
c.prototype.onsapnext=function(e){this._processKeyPress();};
c.prototype.onsapprevious=function(){this._processKeyPress();};
c.prototype.onsaphome=function(e){this._processKeyPress();};
c.prototype.onsapend=function(){this._processKeyPress();};
return c;},true);
sap.ui.predefine('sap/suite/ui/commons/MicroProcessFlowItem',['jquery.sap.global','./library','sap/ui/core/Control','sap/suite/ui/commons/MicroProcessFlow','sap/ui/core/ValueState'],function(q,l,C,M,V){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");var D={"Error":"sap-icon://status-negative","None":null,"Success":"sap-icon://status-positive","Warning":"sap-icon://status-critical"};
var a=C.extend("sap.suite.ui.commons.MicroProcessFlowItem",{
metadata:{library:"sap.suite.ui.commons",properties:{key:{type:"string",group:"Misc",defaultValue:null},icon:{type:"string",group:"Appearance",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},state:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:V.Standard},showIntermediary:{type:"boolean",group:"Appearance",defaultValue:false},stepWidth:{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:null},showSeparator:{type:"boolean",group:"Appearance",defaultValue:true}},aggregations:{customControl:{type:"sap.ui.core.Control",multiple:false,singularName:"customControl"},intermediary:{type:"sap.ui.core.Control",multiple:false,singularName:"intermediary"}},events:{press:{parameters:{item:"object"}}}},
onAfterRendering:function(){this._setupEvents();this._setAccessibility();},
renderer:function(R,m){var f=function(){R.write("<div");R.writeAttributeEscaped("id",m.getId()+"-separator");R.addClass("sapSuiteUiCommonsMicroProcessFlowItemSeparatorWrapper");R.writeClasses();R.addStyle("width",m._getStepWidth());R.writeStyles();R.write(">");R.write("<div ");R.addClass("sapSuiteUiCommonsMicroProcessFlowItemSeparator");if(!m.getShowSeparator()||I){R.addClass("sapSuiteUiCommonsMicroProcessFlowItemHiddenSeparator");}R.writeClasses();R.write("></div>");if(S){b();}R.write("</div>");};var b=function(){var o=m.getIntermediary();R.write("<div class=\"sapSuiteUiCommonsMicroProcessFlowItemIntermediary\">");if(o){R.renderControl(o);}else{R.write("<div class=\"sapSuiteUiCommonsMicroProcessFlowItemOnHoldElement\"></div>");}R.write("</div>");};var i=m.getIcon()||m._getIconByState(),I=m.getParent()._isLastItem(m),s=m.getId(),S=m.getShowIntermediary(),c=m.getCustomControl(),t=m.getTitle();R.write("<div ");R.addClass("sapSuiteUiCommonsMicroProcessFlowItemWrapper");R.writeClasses(m);R.writeControlData(m);R.write(">");R.write("<div");if(t){R.writeAttributeEscaped("title",t);}R.writeAttributeEscaped("id",s+"-item");R.writeAttribute("class","sapSuiteUiCommonsMicroProcessFlowItemContent");R.write(">");if(c){R.renderControl(c);}else{R.write("<div tabindex=\"0\" id=\""+s+"-itemContent\" class=\"sapSuiteUiCommonsMicroProcessFlowItem sapSuiteUiCommonsMicroProcessFlowItem"+m.getState()+"\"");R.writeAttributeEscaped("aria-label",m._getAriaText());R.write(">");if(i){R.renderControl(new sap.ui.core.Icon({tooltip:m.getTitle(),src:i}).addStyleClass("sapSuiteUiCommonsMicroProcessFlowItemIcon"));}R.write("</div>");}R.write("</div>");if(!I||S){f();}R.write("</div>");}
});
a.prototype.getFocusDomRef=function(){var c=this.getCustomControl();return c?c.getFocusDomRef():this.getDomRef("itemContent");};
a.prototype._setAccessibility=function(){var $=this._getAccessibleItem(),A=this._getAriaText();if($.attr("tabindex")!=="0"){$.attr("tabindex",0);}$.attr("aria-label",A);$.attr("aria-posinset",this._iIndex);$.attr("aria-setsize",this._iItemsCount);};
a.prototype._getAccessibleItem=function(){var $=q(this.getFocusDomRef());return $.attr("tabindex")==="0"?$:this.$("item");};
a.prototype._setupEvents=function(){var $=this.$("item"),h=this.hasListeners("press");$.on("touchstart click",function(){this._click();}.bind(this));if(h){$.mousedown(function(e){q(this).addClass("sapSuiteUiCommonsMicroProcessFlowItemPressed");});$.mouseup(function(e){q(this).removeClass("sapSuiteUiCommonsMicroProcessFlowItemPressed");});}if(h){$.css("cursor","pointer");$.attr("role","button");}};
a.prototype._getAriaText=function(){var t=r.getText("MICRO_PROCESS_FLOW_ITEM");switch(this.getState()){case V.Error:t+=" - "+r.getText("MICRO_PROCESS_FLOW_ERROR");break;case V.Warning:t+=" - "+r.getText("MICRO_PROCESS_FLOW_WARNING");break;case V.Success:t+=" - "+r.getText("MICRO_PROCESS_FLOW_SUCCESS");break;}if(this.getTitle()){t+=" - "+this.getTitle();}return t;};
a.prototype._isCompact=function(){return q("body").hasClass("sapUiSizeCompact")||this.$().is(".sapUiSizeCompact")||this.$().closest(".sapUiSizeCompact").length>0;};
a.prototype._getStepWidth=function(){var w=this.getStepWidth();if(!w){w=this._isCompact()?"1rem":"1.5rem";}return w;};
a.prototype._setAccessibilityData=function(i,I){this._iIndex=i;this._iItemsCount=I;};
a.prototype._click=function(){var p=this.getParent();if(p){p._bKeyBoard=false;}this._firePress();};
a.prototype._firePress=function(){this.firePress({item:this.getFocusDomRef()});};
a.prototype._getIconByState=function(){return D[this.getState()];};
return a;},true);
sap.ui.predefine('sap/suite/ui/commons/statusindicator/Rectangle',["sap/suite/ui/commons/util/HtmlElement","sap/suite/ui/commons/statusindicator/SimpleShape","sap/suite/ui/commons/statusindicator/SimpleShapeRenderer"],function(H,S,a){"use strict";
var R=S.extend("sap.suite.ui.commons.statusindicator.Rectangle",{
metadata:{properties:{x:{type:"int",defaultValue:0},y:{type:"int",defaultValue:0},rx:{type:"int",defaultValue:0},ry:{type:"int",defaultValue:0},width:{type:"int",defaultValue:0},height:{type:"int",defaultValue:0}}},
renderer:a
});
R.prototype._getSimpleShapeElement=function(r){var o=new H("rect");o.setId(this._buildIdString(r));o.setAttribute("x",this.getX());o.setAttribute("y",this.getY());o.setAttribute("width",this.getWidth());o.setAttribute("height",this.getHeight());o.setAttribute("rx",this.getRx());o.setAttribute("ry",this.getRy());o.setAttribute("stroke-width",this.getStrokeWidth());o.setAttribute("stroke",this._getCssStrokeColor());return o;};
return R;});
sap.ui.predefine('sap/suite/ui/commons/statusindicator/util/AnimationPropertiesResolver',["jquery.sap.global","sap/suite/ui/commons/statusindicator/Shape","sap/suite/ui/commons/statusindicator/ShapeGroup","sap/suite/ui/commons/statusindicator/CustomShape","sap/base/Log"],function(q,S,a,C,L){"use strict";var A=function(s){this._oStatusIndicator=s;this.aOnDiscreteThresholdChange=[];this.aOnPropertyThresholdChange=[];};
A.prototype.addDiscreteThresholdChange=function(c){this.aOnDiscreteThresholdChange.push(c);};
A.prototype.addPropertyThresholdChange=function(c){this.aOnPropertyThresholdChange.push(c);};
A.prototype.getValue=function(s,i){var p=s.getParent();if(!p instanceof a){L.fatal("Shape should be always direct child of ShapeGroup.");return i;}if(!this._oStatusIndicator._discreteThresholdsEnabled()){return i;}return this._getGroupValue(p,this._getCappedValue(p,i));};
A.prototype._getCappedValue=function(g,s){var n=this._getStatusIndicatorValue(g,s);var d=this._oStatusIndicator._getDiscreteThresholdForValue(n);return d?d.getValue():0;};
A.prototype.propagateValueChange=function(s,n){if(!this._oStatusIndicator._discreteThresholdsEnabled()){return;}var g=s.getParent();var o=this._getCappedValue(g,s.getDisplayedValue());var N=this._getCappedValue(g,n);if(o!==N){this.aOnDiscreteThresholdChange.forEach(function(O){O(N);});}};
A.prototype.getColor=function(s,i){var p=s.getParent();if(p instanceof C){i=p.getDisplayedValue();p=p.getParent();}var b=this._getStatusIndicatorValue(p,i);var n=s._getCssFillColor();if(this._oStatusIndicator._propertyThresholdsEnabled()){var P=this._oStatusIndicator._getPropertyThresholdForValue(b);if(P){n=P._getCssFillColor();}}return n;};
A.prototype.propagateColorChange=function(s,i){if(!this._oStatusIndicator._propertyThresholdsEnabled()){return;}var p=s.getParent();var n=this._getPropertyThreshold(p,i);var o=this._getPropertyThreshold(p,s.getDisplayedValue());if(n!==o){this.aOnPropertyThresholdChange.forEach(function(O){O(n._getCssFillColor());});}};
A.prototype._getPropertyThreshold=function(g,s){var i=this._getStatusIndicatorValue(g,s);return this._oStatusIndicator._getPropertyThresholdForValue(i);};
A.prototype._getStatusIndicatorValue=function(c,s){var t=this;var g=this._oStatusIndicator.getGroups();var i=0;g.some(function(G){var f=G.getWeight()/t._getTotalWeight();if(G!==c){var F=100*f;i+=F;return false;}var b=s*f;i+=b;return true;});return Number(i.toPrecision(3));};
A.prototype._getGroupValue=function(c,s){var g=this._oStatusIndicator.getGroups();var t=this._getTotalWeight();var r=0;g.some(function(G){var f=G.getWeight()/t;var n;if(s===0){n=0;}else if(s>=100*f){n=100;}else{n=s/f;}s-=n*f;if(c!==G){return false;}r=n;return true;});return r;};
A.prototype._getTotalWeight=function(){return this._oStatusIndicator.getGroups().reduce(function(i,g){return i+g.getWeight();},0);};
return A;});
sap.ui.predefine('sap/suite/ui/commons/statusindicator/util/ProgressHandler',[],function(){"use strict";var P=function(p){var t=this;this._fnResolveCallback=null;this._oPromise=null;this._bInProgress=false;this._fnProgress=p;this._oInnerProgressHandler={finish:function(){t.finish();},stop:function(r){t.stop(r);},isCanceled:function(){return t.isCanceled();}};};
P.prototype.start=function(){var t=this;if(this._oPromise){return this._oPromise;}this._oPromise=new Promise(function(r,a){t._fnResolveCallback=r;t._bInProgress=true;t._fnProgress(t._oInnerProgressHandler);});return this._oPromise;};
P.prototype.finish=function(){this._bInProgress=false;if(this._fnResolveCallback){this._fnResolveCallback();this._fnResolveCallback=null;}};
P.prototype.stop=function(r){this._bInProgress=false;if(this._fnResolveCallback){this._fnResolveCallback(r);this._fnResolveCallback=null;}};
P.prototype.cancel=function(){this._bCancelled=true;};
P.prototype.isCanceled=function(){return this._bCancelled;};
P.prototype.isInProgress=function(){return this._bInProgress;};
return P;},true);
sap.ui.predefine('sap/suite/ui/commons/statusindicator/util/ThemingUtil',["sap/ui/core/theming/Parameters","sap/m/ValueCSSColor","sap/ui/core/CSSColor","sap/m/ValueColor"],function(P,V,C,a){"use strict";var T=function(){throw new Error();};
T.resolveColor=function(c){if(C.isValid(c)){return c;}switch(c){case a.Good:return P.get("sapPositiveColor");case a.Error:return P.get("sapNegativeColor");case a.Critical:return P.get("sapCriticalColor");case a.Neutral:return P.get("sapNeutralColor");default:return P.get(c);}};
return T;},true);
sap.ui.predefine('sap/suite/ui/commons/taccount/TAccount',["jquery.sap.global","sap/suite/ui/commons/library","sap/ui/core/Control","sap/ui/core/delegate/ItemNavigation","./TAccountGroup","sap/ui/core/IconPool","sap/ui/core/Icon","sap/base/security/encodeXML","./TAccountUtils","sap/ui/thirdparty/jqueryui/jquery-ui-core","sap/ui/thirdparty/jqueryui/jquery-ui-widget","sap/ui/thirdparty/jqueryui/jquery-ui-mouse","sap/ui/thirdparty/jqueryui/jquery-ui-draggable","sap/ui/thirdparty/jqueryui/jquery-ui-droppable","sap/ui/thirdparty/jqueryui/jquery-ui-selectable"],function(q,l,C,I,T,a,b,e,c){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");var D=Object.freeze({UP:"UP",DOWN:"DOWN",PREVIOUS:"PREVIOUS",NEXT:"NEXT"});
var d=C.extend("sap.suite.ui.commons.taccount.TAccount",{
metadata:{library:"sap.suite.ui.commons",properties:{measureOfUnit:{type:"string",group:"Misc",defaultValue:""},collapsed:{type:"boolean",group:"Misc",defaultValue:false},title:{type:"string",group:"Misc",defaultValue:null},subtitle:{type:"string",group:"Misc",defaultValue:null}},aggregations:{debit:{type:"sap.suite.ui.commons.taccount.TAccountItem",multiple:true,singularName:"debit"},credit:{type:"sap.suite.ui.commons.taccount.TAccountItem",multiple:true,singularName:"credit"}}},
renderer:function(R,A){var w=function(i,f){i.forEach(function(o){o._bIsDebit=f;R.renderControl(o);});};R.write("<div");if(A.getCollapsed()){R.addClass("sapSuiteUiCommonsAccountCollapsed");}R.addClass("sapSuiteUiCommonsAccount");R.writeClasses(A);R.writeControlData(A);R.writeAttributeEscaped("aria-label",A._getAriaLabelText());R.writeAttribute("tabindex","0");R.write(">");R.write("<div class=\"sapSuiteUiCommonsTAccountInfoIconWrapper sapSuiteUiCommonsTAccountBaseInfoIconWrapper\" title=\""+r.getText("TACCOUNT_SELECTED")+"\">");R.write("<div class=\"sapSuiteUiCommonsInfoIcon\">");R.write("!");R.write("</div>");R.write("</div>");R.write("<div class=\"sapSuiteUiCommonsAccountHeader\">");R.write("<div class=\"sapSuiteUiCommonsAccountHeaderFirst\">");R.write("<div");R.addClass("sapSuiteUiCommonsAccountHeaderExpandWrapper");if(A.getSubtitle()){R.addClass("sapSuiteUiCommonsAccountHeaderExpandWrapperTopAlign");}R.writeClasses();R.write(">");R.renderControl(A._getDownArrow());R.write("</div>");var t=e(A.getTitle()).replace(/&#xa;|\n/g,"<br>");if(A.getSubtitle()){var s=e(A.getSubtitle()).replace(/&#xa;|\n/g,"<br>");R.write("<div class=\"sapSuiteUiCommonsAccountHeaderTitleWrapper\">");R.write("<div class=\"sapSuiteUiCommonsAccountHeaderTitleWithSubtitle\">"+t+"</div>");R.write("<div class=\"sapSuiteUiCommonsAccountHeaderSubtitle\">"+s+"</div>");R.write("</div>");}else{R.write("<span class=\"sapSuiteUiCommonsAccountHeaderTitle\">"+t+"</span>");}R.write("</div>");R.write("<div class=\"sapSuiteUiCommonsAccountHeaderSecond\">");R.write("<span id=\""+A.getId()+"-sum\" class=\"sapSuiteUiCommonsAccountHeaderSUM\">"+A._getSumText()+"</span>");R.write("</div>");R.write("</div>");R.write("<div id=\""+A.getId()+"-content"+"\" class=\"sapSuiteUiCommonsAccountTWrapper\"");if(A.getCollapsed()){R.write("style=\"display:none\"");}R.write(">");R.write("<div class=\"sapSuiteUiCommonsAccountTHeader\">");R.write("<span class=\"sapSuiteUiCommonsAccountTHeaderTitle\">"+r.getText("TACCOUNT_DEBIT")+"</span>");R.write("<span class=\"sapSuiteUiCommonsAccountTHeaderTitle\">"+r.getText("TACCOUNT_CREDIT")+"</span>");R.write("</div>");R.write("<div class=\"sapSuiteUiCommonsAccountTBody\"");R.writeAttribute("role","listbox");R.write(">");R.write("<div class=\"sapSuiteUiCommonsAccountDebit\">");w(A.getDebit(),true);R.write("</div>");R.write("<div class=\"sapSuiteUiCommonsAccountCredit\">");w(A.getCredit(),false);R.write("</div>");R.write("</div>");R.write("</div>");R.write("</div>");}
});
d.prototype.onBeforeRendering=function(){this._bRendered=false;};
d.prototype.onAfterRendering=function(){this._bRendered=true;this._setupDraggable();this._setupKeyboard();};
d.prototype.onsapdownmodifiers=function(E){if(E.ctrlKey){this._handleArrowMoveEvent(E,D.DOWN);}};
d.prototype.onsapupmodifiers=function(E){if(E.ctrlKey){this._handleArrowMoveEvent(E,D.UP);}};
d.prototype.onsappreviousmodifiers=function(E){if(E.ctrlKey){this._handleArrowMoveEvent(E,D.PREVIOUS);}};
d.prototype.onsapnextmodifiers=function(E){if(E.ctrlKey){this._handleArrowMoveEvent(E,D.NEXT);}};
d.prototype._setupKeyboard=function(){if(!this._oItemNavigation){this._oItemNavigation=new I();this.addDelegate(this._oItemNavigation);}this._oItemNavigation.setRootDomRef(this.$().find(".sapSuiteUiCommonsAccountTBody")[0]);this._oItemNavigation.setItemDomRefs(this.$().find(".sapSuiteUiCommonsAccountItem"));this._oItemNavigation.setCycling(true);};
d.prototype._isInGroup=function(){return this.getParent()instanceof T;};
d.prototype._setupDraggable=function(){if(this._isInGroup()){var $=this.$(),p=this.getParent();$.draggable({revert:"invalid",delay:100,helper:function(){return $.clone().width($.width()).css("z-index",500);},opacity:0.6,scope:p.getId()+"-content",handle:".sapSuiteUiCommonsAccountHeader",start:function(){$.addClass("sapSuiteUiCommonsAccountItemDragging");p.$().find(".sapSuiteUiCommonsAccountGroupDroppingArea").addClass("sapSuiteUiCommonsAccountGroupDroppingAreaHighlight");},stop:function(){$.removeClass("sapSuiteUiCommonsAccountItemDragging");p.$().find(".sapSuiteUiCommonsAccountGroupDroppingArea").removeClass("sapSuiteUiCommonsAccountGroupDroppingAreaHighlight");}});}};
d.prototype._getDownArrow=function(){if(!this._oArrowDown){this._oArrowDown=new b({src:"sap-icon://navigation-down-arrow",press:function(){this.setCollapsed(!this.getCollapsed());}.bind(this)}).addStyleClass("sapSuiteUiCommonsAccountGroupCollapseIcon");}return this._oArrowDown;};
d.prototype._getSum=function(){if(!this._iSum){var s=0;this.getCredit().forEach(function(i){s+=i.getValue();});this.getDebit().forEach(function(i){s-=i.getValue();});this._iSum=s;}return this._iSum;};
d.prototype._getAriaLabelText=function(){return"T account "+this.getTitle()+" "+this._getSumText();};
d.prototype._getSumText=function(){var s=this.getMeasureOfUnit(),v=c.formatCurrency(Math.abs(this._getSum()),s);return(this._getSum()>0?r.getText("TACCOUNT_CREDIT"):r.getText("TACCOUNT_DEBIT"))+": "+v+" "+e(s);};
d.prototype._valueChanged=function(i){if(this._bRendered){this._iSum=this._getSum()+i;this.$("sum").text(this._getSumText());var p=this.getParent();if(this._hasGroupParent(p)){p._valueChanged(i);}}};
d.prototype._hasGroupParent=function(p){return(p||this.getParent())instanceof T;};
d.prototype._handleArrowMoveEvent=function(E,o){this._moveTAccount(o);E.preventDefault();E.stopImmediatePropagation();};
d.prototype._moveTAccount=function(o){var $,f,g,m,i=o===D.UP,s=true,h=this.$();var M=function(A){if(g.length===0){s=false;return;}h.detach();$.detach();g[A](h);g[A]($);};if(i||o===D.DOWN){m=i?["next","prev","insertBefore","append"]:["prev","next","insertAfter","prepend"];$=h[m[0]](".sapSuiteUiCommonsAccountGroupDroppingArea");f=h[m[1]]()[m[1]](".sapSuiteUiCommonsAccount");if(f.length!==0){h.detach()[m[2]](f);$.detach()[m[2]](f);}else{g=h.parent()[m[1]](".sapSuiteUiCommonsAccountGroupColumn");M(m[3]);}}else{$=h.prev(".sapSuiteUiCommonsAccountGroupDroppingArea");g=h.parent()[o===D.NEXT?"next":"prev"](".sapSuiteUiCommonsAccountGroupColumn");M("append");}if(s){this.getParent()._setupKeyboard();h.focus();}};
d.prototype.setCollapsed=function(v){this.setProperty("collapsed",v,true);this._getDownArrow().setSrc(!v?"sap-icon://navigation-down-arrow":"sap-icon://navigation-right-arrow");this.$()[v?"addClass":"removeClass"]("sapSuiteUiCommonsAccountCollapsed");if(this.getDomRef()){this.$("content")[v?"hide":"show"]("medium");}};
return d;},true);
sap.ui.predefine('sap/suite/ui/commons/taccount/TAccountGroup',["jquery.sap.global","sap/suite/ui/commons/library","sap/ui/core/Control","sap/ui/core/theming/Parameters","./TAccountPanel","sap/ui/core/IconPool","sap/ui/core/Icon","sap/m/Button","sap/base/security/encodeXML","sap/ui/core/Configuration","sap/ui/core/delegate/ItemNavigation","./TAccountUtils"],function(q,l,C,P,T,I,a,B,e,b,c,d){"use strict";var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");
var f=C.extend("sap.suite.ui.commons.taccount.TAccountGroup",{
metadata:{library:"sap.suite.ui.commons",properties:{title:{type:"string",group:"Misc",defaultValue:null},collapsed:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{accounts:{type:"sap.suite.ui.commons.taccount.TAccount",multiple:true,singularName:"account"}},events:{}},
renderer:function(R,g){if(!g._bThemeApplied){return;}R.write("<div");R.addClass("sapSuiteUiCommonsAccountGroup");if(g.getCollapsed()){R.addClass("sapSuiteUiCommonsAccountGroupCollapsed");}R.writeClasses(g);R.writeControlData(g);R.writeAttributeEscaped("aria-label",g._getSum());R.write(">");R.write("<div class=\"sapSuiteUiCommonsGroupHeader\">");R.write("<div class=\"sapSuiteUiCommonsGroupHeaderExpandWrapper\">");R.renderControl(g._getExpandCollapse());R.write("</div>");R.write("<div class=\"sapSuiteUiCommonsGroupHeaderFirst\">");R.write("<span class=\"sapSuiteUiCommonsGroupHeaderTitle\">"+e(g.getTitle())+"</span>");R.write("<span id=\""+g.getId()+"-sum\" class=\"sapSuiteUiCommonsGrouptHeaderSUM\">"+g._getSumText()+"</span>");R.write("<div id=\"\" class=\"sapSuiteUiCommonsGroupInfoIconWrapper sapSuiteUiCommonsTAccountBaseInfoIconWrapper\" title=\""+r.getText("TACCOUNT_SELECTED")+"\">");R.write("<span class=\"sapSuiteUiCommonsInfoIcon\">");R.write("!");R.write("</span>");R.write("</div>");R.write("</div>");R.write("<div class=\"sapSuiteUiCommonsGroupHeaderSecond\">");R.renderControl(g._getExpandAllAccounts());R.renderControl(g._getCollapseAllAccounts());R.write("</div>");R.write("</div>");R.write("<div id=\""+g.getId()+"-content\" class=\"sapSuiteUiCommonsAccountGroupContent\">");g.getAccounts().forEach(function(i){R.renderControl(i);});R.write("</div>");R.write("</div>");}
});
f.prototype.init=function(){sap.ui.getCore().attachThemeChanged(function(){this._bThemeApplied=true;this.invalidate();},this);this._bThemeApplied=sap.ui.getCore().isThemeApplied();q(window).resize(function(){this._adjustUI();}.bind(this));};
f.prototype.exit=function(){if(this._oIconExpand){this._oIconExpand.destroy();}if(this._oIconCollapse){this._oIconCollapse.destroy();}};
f.prototype.onBeforeRendering=function(){this._oSum=null;this._iColumnCount=-1;};
f.prototype.onAfterRendering=function(){this._adjustUI();this._setupKeyboard();};
f.prototype._setupKeyboard=function(){if(!this._oItemNavigation){this._oItemNavigation=new c();this.addDelegate(this._oItemNavigation);}this._oItemNavigation.setRootDomRef(this.getDomRef("content"));this._oItemNavigation.setItemDomRefs(this.$().find(".sapSuiteUiCommonsAccount"));this._oItemNavigation.setCycling(true);};
f.prototype._getExpandCollapse=function(){if(!this._oArrowDown){this._oArrowDown=new a({src:"sap-icon://navigation-down-arrow",press:function(){this._expandCollapse();}.bind(this)});}return this._oArrowDown;};
f.prototype._expandCollapse=function(){var g=this.getCollapsed();this._oArrowDown.setSrc(g?"sap-icon://navigation-down-arrow":"sap-icon://navigation-right-arrow");this.setProperty("collapsed",!g,true);this.$("content")[g?"show":"hide"]("medium");this.$()[!g?"addClass":"removeClass"]("sapSuiteUiCommonsAccountGroupCollapsed");};
f.prototype._expandCollapseAllAccounts=function(E){this.getAccounts().forEach(function(A){A.setCollapsed(!!E);});};
f.prototype._getExpandAllAccounts=function(){if(!this._oIconExpand){this._oIconExpand=new B({icon:"sap-icon://expand-all",type:"Transparent",tooltip:r.getText("TACCOUNT_EXPAND"),press:this._expandCollapseAllAccounts.bind(this,false)}).addStyleClass("sapSuiteUiCommonsGroupHeaderIcon");}return this._oIconExpand;};
f.prototype._getCollapseAllAccounts=function(){if(!this._oIconCollapse){this._oIconCollapse=new B({icon:"sap-icon://collapse-all",type:"Transparent",tooltip:r.getText("TACCOUNT_COLLAPSE"),press:this._expandCollapseAllAccounts.bind(this,true)}).addStyleClass("sapSuiteUiCommonsGroupHeaderIcon");}return this._oIconCollapse;};
f.prototype._getSum=function(){var A=this.getAccounts(),s=0,m="",g=true;if(!this._oSum){for(var i=0;i<A.length;i++){var o=A[i];if(m&&m!==o.getMeasureOfUnit()){g=false;break;}m=o.getMeasureOfUnit();s+=o._getSum();}this._oSum={sum:s,measure:m,correct:g};}return this._oSum;};
f.prototype._getSumText=function(){var s=this._getSum();if(s&&s.correct){var v=d.formatCurrency(Math.abs(s.sum),s.measure);return(s.sum>0?r.getText("TACCOUNT_CREDIT"):r.getText("TACCOUNT_DEBIT"))+": "+v+" "+e(s.measure);}return"-";};
f.prototype._getAriaText=function(){return"T Account Group "+e(this.getTitle())+" "+this._getSumText();};
f.prototype._adjustUI=function(){var g=320,S=16,h=g+S;var $=this.$("content"),w=$.width(),j=Math.max(Math.ceil(w/(h))-1,1);if(j===this._iColumnCount){return;}var m=q("<div id=\""+this.getId()+"-content\" class=\"sapSuiteUiCommonsAccountGroupContent\"/>"),H=Array.apply(null,Array(j)).map(Number.prototype.valueOf,0);var n=this.$().find(".sapSuiteUiCommonsAccount"),o=0;this._iColumnCount=j;this._iDivs=[];var D="<div class=\"sapSuiteUiCommonsAccountGroupDroppingArea\"><div class=\"sapSuiteUiCommonsAccountGroupDroppingAreaInner\">"+"</div><div class=\"sapSuiteUiCommonsAccountGroupDroppingAreaInnerBall\"></div></div>";for(var i=0;i<j;i++){var s="<div class=\"sapSuiteUiCommonsAccountGroupColumn\">"+D+"</div>",p=q(s);m.append(p);this._iDivs.push(p);}for(var i=0;i<n.length;i++){var t=q(n[i]),u=t.height(),v=this._iDivs[o];var M=Number.MAX_VALUE,x=0;for(var k=0;k<j;k++){var y=H[k];if(y<M){M=y;x=k;}}var v=this._iDivs[x];t.detach().appendTo(v);q(D).appendTo(v);H[x]+=u;}$.detach();this.$().append(m);this._setupDroppable();};
f.prototype._setupDroppable=function(){var i=this.$().find(".sapSuiteUiCommonsAccountGroupDroppingArea");i.droppable({scope:this.getId()+"-content",tolerance:"pointer",activeClass:"sapSuiteUiCommonsAccountGroupDroppingAreaActive",hoverClass:"sapSuiteUiCommonsAccountGroupDroppingAreaActive",drop:function(E,u){var $=q(this),g=u.draggable,h=g.next();if(h[0]!==$[0]){h.detach().insertAfter($);g.detach().insertAfter($);}else{g.detach().insertBefore($);}g.css("left",0);g.css("top",0);},over:function(g,u){}});};
f.prototype._valueChanged=function(D){var s=this._getSum();if(s.correct){this._oSum.sum+=D;this.$("sum").text(this._getSumText());}var p=this.getParent();if(this._hasPanelParent(p)){p._valueChanged(D);}};
f.prototype._hasPanelParent=function(p){return(p||this.getParent())instanceof T;};
return f;},true);
sap.ui.predefine('sap/suite/ui/commons/taccount/TAccountItem',["jquery.sap.global","sap/suite/ui/commons/library","sap/ui/core/Control","sap/ui/core/theming/Parameters","sap/suite/ui/commons/taccount/TAccountPanel","sap/suite/ui/commons/taccount/TAccountGroup","sap/ui/core/format/NumberFormat","sap/ui/core/Core","sap/ui/core/library","./TAccountUtils"],function(q,l,C,P,T,a,N,b,c,d){"use strict";
var e=C.extend("sap.suite.ui.commons.taccount.TAccountItem",{
metadata:{library:"sap.suite.ui.commons",properties:{value:{type:"float",group:"Misc",defaultValue:0},color:{type:"sap.m.ValueCSSColor",group:"Misc",defaultValue:null},group:{type:"string",group:"Misc",defaultValue:""},ariaLabel:{type:"string",group:"Misc",defaultValue:""}},aggregations:{properties:{type:"sap.suite.ui.commons.taccount.TAccountItemProperty",multiple:true,singularName:"property"}},events:{press:{}}},
renderer:function(r,i){var s=i.getColor(),u=i.getParent()&&i.getParent().getMeasureOfUnit(),v=d.formatCurrency(i.getValue(),u),t=v+" "+u;r.write("<div tabindex=\"0\"");r.addClass("sapSuiteUiCommonsAccountItem");r.writeClasses(i);r.writeControlData(i);if(i.getGroup()){r.writeAttributeEscaped("group",i.getGroup());}var A=i.getAriaLabel();if(A){r.writeAttributeEscaped("aria-label",A);}r.write(">");r.write("<div class=\"sapSuiteUiCommonsAccountColorBar\"");if(s&&c.CSSColor.isValid(s)){r.write("style=\"background-color:"+s+"\"");}else if(c.CSSColor.isValid(P.get(s))){r.write("style=\"background-color:"+P.get(s)+"\"");}r.write(">");r.write("</div>");r.write("<div id=\""+i.getId()+"-content\" class=\"sapSuiteUiCommonsAccountContent\">");r.write("<div class=\"sapSuiteUiCommonsAccountItemTitleWrapper\">");r.write("<span class=\"sapSuiteUiCommonsAccountItemTitle\">");r.writeEscaped(t);r.write("</span>");r.write("</div>");r.write("<div class=\"sapSuiteUiCommonsAccountItemProperties\">");i.getProperties().forEach(function(p){r.renderControl(p);});r.write("</div>");r.write("</div>");r.write("</div>");}
});
e.prototype.onBeforeRendering=function(){this._prepareProperties();};
e.prototype.onAfterRendering=function(){this.$().on("click",this._click.bind(this));};
e.prototype._click=function(){var E=this.fireEvent("press",{},true);if(E){this._highlightItems();}};
e.prototype._highlightItems=function(){var $=this.$(),g=this.getGroup(),s=!$.is(".sapSuiteUiCommonsAccountItemSelected, .sapSuiteUiCommonsAccountItemSelectedByGroup");q(".sapSuiteUiCommonsAccountItemSelected").removeClass("sapSuiteUiCommonsAccountItemSelected");s?$.addClass("sapSuiteUiCommonsAccountItemSelected"):$.removeClass("sapSuiteUiCommonsAccountItemSelected");var p=this._findHighlightParent();if(p){q(".sapSuiteUiCommonsAccountItemSelectedByGroup").removeClass("sapSuiteUiCommonsAccountItemSelectedByGroup");if(g&&s){var G=q(".sapSuiteUiCommonsAccountItem[group="+g+"]");G.addClass("sapSuiteUiCommonsAccountItemSelectedByGroup");G.each(function(i,f){var E=sap.ui.getCore().byId(f.id);if(E){var o=E.getParent();if(o){o.$().addClass("sapSuiteUiCommonsAccountItemSelectedByGroup");var h=o.getParent();if(h instanceof a){h.$().addClass("sapSuiteUiCommonsAccountItemSelectedByGroup");}}}});}}};
e.prototype.onsapenter=function(){this._highlightItems();};
e.prototype.onsapspace=function(){this._highlightItems();};
e.prototype._findHighlightParent=function(){var p=this.getParent();p=p&&p.getParent();if(p instanceof a){var o=p.getParent();return o instanceof T||p;}return null;};
e.prototype._prepareProperties=function(){this._mProperties={};this.getProperties().forEach(function(p){var k=p.getKey();if(k){this._mProperties[k]=p;}}.bind(this));};
e.prototype.setValue=function(v){var o=this.getValue(),D=(this._bIsDebit?-1:1)*(v-o);this.setProperty("value",v);this.getParent()&&this.getParent()._valueChanged(D);};
return e;},true);
sap.ui.predefine('sap/suite/ui/commons/taccount/TAccountItemProperty',["jquery.sap.global","sap/suite/ui/commons/library","sap/ui/core/Control","sap/ui/core/theming/Parameters"],function(q,l,C,P){"use strict";
var T=C.extend("sap.suite.ui.commons.taccount.TAccountItemProperty",{
metadata:{library:"sap.suite.ui.commons",properties:{key:{type:"string",group:"Misc",defaultValue:null},value:{type:"string",group:"Misc",defaultValue:null},label:{type:"string",group:"Misc",defaultValue:null},displayLabel:{type:"boolean",group:"Misc",defaultValue:true},visible:{type:"boolean",group:"Misc",defaultValue:true}}},
renderer:function(r,p){var v=p.getValue(),L=p.getLabel(),d=p.getVisible()?"":"style=\"display:none\"",k="key="+p.getKey();r.write("<div class=\"sapSuiteUiCommonsAccountPropertyWrapper\""+k+" "+d);r.writeControlData(p);r.write(">");if(L&&p.getDisplayLabel()){r.write("<div class=\"sapSuiteUiCommonsAccountItemLabel\">"+L+":</div>");}r.write("<div class=\"sapSuiteUiCommonsAccountItemProperty\">"+v+"</div>");r.write("</div>");}
});
T.prototype._getLabel=function(){return this.getValue()||this.getKey();};
return T;},true);
sap.ui.predefine('sap/suite/ui/commons/taccount/TAccountPanel',["jquery.sap.global","sap/suite/ui/commons/library","sap/ui/core/Control","sap/ui/core/theming/Parameters","sap/m/Panel","sap/ui/model/json/JSONModel","sap/m/Dialog","sap/m/Button","sap/m/FlexBox","sap/m/Label","sap/ui/model/Filter","sap/m/SearchField","sap/m/List","sap/m/StandardListItem","sap/m/CheckBox","sap/m/Title","sap/m/Toolbar","sap/m/ToolbarSpacer","sap/m/Text","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/ui/model/FilterOperator","sap/base/security/encodeXML","sap/ui/core/format/NumberFormat","sap/ui/core/Core","sap/ui/core/Configuration","sap/m/ButtonType","./TAccountUtils"],function(q,l,C,P,a,J,D,B,F,L,b,S,c,d,e,T,f,g,h,j,k,m,n,N,o,p,r,s){"use strict";var R=o.getLibraryResourceBundle("sap.suite.ui.commons");var t=l.taccount.TAccountPanelState;
var u=a.extend("sap.suite.ui.commons.taccount.TAccountPanel",{metadata:{library:"sap.suite.ui.commons",properties:{title:{type:"string",group:"Misc",defaultValue:null},state:{type:"sap.suite.ui.commons.taccount.TAccountPanelState",group:"Misc",defaultValue:"Default"},showOverlay:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{properties:{type:"sap.suite.ui.commons.taccount.TAccountItemProperty",multiple:true,singularName:"property"},table:{type:"sap.ui.core.Control",multiple:false}},events:{stateChanged:{parameters:{state:"sap.suite.ui.commons.taccount.TAccountPanelState"}},settingsApplied:{parameters:{properties:"object"}}}}});
u.prototype.init=function(){this._bDisplayLabels=true;};
u.prototype.onBeforeRendering=function(){this._oSum=null;this._prepareProperties();this._createToolbar();};
u.prototype.onAfterRendering=function(){var $=this.$();this._switchContent(this.getState()===t.Table);$.attr("aria-label",this._getAriaLabelText());$.addClass("sapSuiteUiCommonsAccountPanel");this._setTotalBalanceTitle();};
u.prototype.getSum=function(){var v=0,M="",w=true,x=this.getContent();if(!this._oSum){for(var i=0;i<x.length;i++){var G=x[i];if(G instanceof sap.suite.ui.commons.taccount.TAccountGroup){var y=G._getSum();if((M&&M!==y.measure)||!y.correct){w=false;break;}M=y.measure;v+=y.sum;}}this._oSum={measure:M,sum:v||0,correct:w};}return this._oSum;};
u.prototype.switchContent=function(i){var v=i?t.Table:t.Default;this._switchContent(i);this.setProperty("state",v,true);};
u.prototype.getSettingsDialog=function(){return this._getPopover();};
u.prototype.getToolbar=function(){return this._getToolbar();};
u.prototype.openSettings=function(){this._oSelectAllCheckBox&&this._oSelectAllCheckBox.setText(this._getSelectAllText());this._getPopover().open();};
u.prototype.setState=function(v){var i=v===t.Table;this._switchContent(i);this.setProperty("state",v,true);return this;};
u.prototype._switchContent=function(i){var v=i?t.Table:t.Default;this.$("table")[i?"show":"hide"]();this.$("datacontent")[i?"hide":"show"]();if(this._oDisplaySwitcher){this._oDisplaySwitcher.setSelectedKey(v);}};
u.prototype._prepareProperties=function(){this._mProperties={};this.getProperties().forEach(function(i){var K=i.getKey();if(K){this._mProperties[K]=i;}}.bind(this));};
u.prototype._setPropertiesVisibility=function(v){var $=this.$();Object.keys(v).forEach(function(K){var w=v[K],I=$.find(".sapSuiteUiCommonsAccountPropertyWrapper[key="+K+"]");I.each(function(i,x){var V=w.getVisible(),y=o.byId(x.id);if(y){y.setProperty("visible",V,true);}q(x)[V?"show":"hide"]();});});$.find(".sapSuiteUiCommonsAccountItemLabel")[this._bDisplayLabels?"show":"hide"]();};
u.prototype._getPopover=function(){if(!this._oPopover){this._createPopover();}return this._oPopover;};
u.prototype._getSelectAllText=function(i){var v=this.getProperties();if(!i&&i!==0){i=v.reduce(function(w,x){return w+(x.getVisible()?1:0);},0);}this._iSelectedCount=i;return R.getText("TACCOUNT_SELECTALL")+" ("+i+"/"+v.length+")";};
u.prototype._createPopover=function(){var i=this,v=false;if(!this._oPopover){this._oPopover=new D({contentWidth:"450px",title:R.getText("TACCOUNT_DISPLAYOPTIONS"),afterOpen:function(){if(!v){var M=i._oPopover.$().height();i._oPopover.setProperty("contentHeight",M+"px",true);v=true;}}});}this._oPopover.setEndButton(new B({text:R.getText("TACCOUNT_CANCEL"),press:function(M){i._oPopover.close();}}));this._oPopover.setBeginButton(new B({text:R.getText("TACCOUNT_OK"),type:r.Emphasized,press:function(M){var O=E.getSelectedContexts(true),Q=E.getModel();var V={},U={};O.forEach(function(W){var X=Q.getProperty(W.sPath);if(X){var Y=i._mProperties[X.key];V[X.key]=1;if(Y&&!Y.getVisible()){Y.setProperty("visible",true,true);U[X.key]=Y;}}});Object.keys(i._mProperties).forEach(function(W){var X=i._mProperties[W];if(X.getVisible()&&!V[W]){X.setProperty("visible",false,true);U[W]=X;}});i._bDisplayLabels=x.getSelected();if(i.fireEvent("settingsApplied",{properties:U},true)){i._setPropertiesVisibility(U);}i._oPopover.close();}}));this._oPopover.removeAllContent();var w=new F({width:"100%",renderType:"Bare",direction:"Column"});this._oPopover.addContent(w);var x=new e({selected:this._bDisplayLabels}).addStyleClass("sapUiTinyMarginBegin");var y=new F({renderType:"Bare",alignItems:"Center",items:[x,new L({text:"Show labels"}).addStyleClass("sapUiTinyMarginBegin")]}).addStyleClass("sapUiTinyMarginBottom sapUiTinyMarginTop");w.addItem(y);var z=function(M){var O=[],Q=M.getSource().getValue();if(Q&&Q.length>0){O.push(new b("title",m.Contains,Q));}var U=E.getBinding("items");U.filter(O,"Application");};var A=new S({width:"100%",liveChange:z}).addStyleClass("sapSuiteUiCommonsAccountsPopupSearch");w.addItem(A);var E=new c({width:"100%",mode:"MultiSelect",includeItemInSelection:true,selectionChange:function(M){var O=M.getParameter("listItem").getSelected();i._oSelectAllCheckBox.setText(i._getSelectAllText(i._iSelectedCount+(O?1:-1)));i._oSelectAllCheckBox.setSelected(G.length===i._iSelectedCount);}}).addStyleClass("sapSuiteUiCommonsAccountsPopupList");E.bindAggregation("items",{path:"/items",template:new d({title:"{title}",selected:"{selected}"})});var G=this.getProperties(),H=this._getSelectAllText();this._oSelectAllCheckBox=new e({selected:G.length===i._iSelectedCount,text:H,select:function(M){var O=M.getSource().getSelected();i._oSelectAllCheckBox.setText(i._getSelectAllText(O?G.length:0));E.getItems().forEach(function(Q){Q.setSelected(O);});}}).addStyleClass("sapUiTinyMarginBegin sapUiTinyMarginEnd sapSuiteUiCommonsAccountsPopupSelectAll");var I=new F({renderType:"Bare",alignItems:"Center"}).addStyleClass("sapSuiteUiCommonsAccountsPopupSelectAllWrapper");I.addItem(this._oSelectAllCheckBox);w.addItem(I);w.addItem(E);var K=[];G.forEach(function(M){K.push({title:M._getLabel(),key:M.getKey(),selected:M.getVisible()});});E.setModel(new J({items:K}));return this._oPopover;};
u.prototype._getToolbar=function(){if(!this._oToolbar){this._createToolbar();}return this._oToolbar;};
u.prototype._createToolbar=function(){var i=this;if(this._oToolbar){return;}this._oToolbar=new f();this._oToolbar.addContent(new T(this.getId()+"-toolbartitle",{text:this.getTitle()}));this._oToolbar.addContent(new g(this.getId()+"-toolbarspacer"));this._oToolbar.addContent(new h(this.getId()+"-toolbarbalancelabel",{wrapping:false,text:R.getText("TACCOUNT_TOTALBALANCE")+":"}).addStyleClass("sapSuiteUiCommonsAccountPanelLabel"));this._oToolbar.addContent(new h(this.getId()+"-toolbarsumtitle",{wrapping:false}).addStyleClass("sapSuiteUiCommonsAccountPanelSum"));this._oDisplaySwitcher=new j(this.getId()+"-toolbarswitcher",{selectionChange:function(E){var I=o.byId(i._oDisplaySwitcher.getSelectedItem());if(I){i.switchContent(I.getKey()===t.Table);i.fireStateChanged({state:I.getKey()});}},items:[new k({key:t.Default,tooltip:R.getText("TACCOUNT_DEFAULT"),icon:"sap-icon://screen-split-two"}),new k({key:t.Table,tooltip:R.getText("TACCOUNT_TABLE"),icon:"sap-icon://table-chart"})]});this._oToolbar.addContent(this._oDisplaySwitcher);this._oToolbar.addContent(new B(this.getId()+"-toolbarsettings",{icon:"sap-icon://action-settings",press:this.openSettings.bind(this)}));this.setHeaderToolbar(this._oToolbar);};
u.prototype._getSumText=function(){var i=this.getSum();if(!i.correct){return" - ";}return s.formatCurrency(Math.abs(i.sum),i.measure)+" "+n(i.measure);};
u.prototype._setTotalBalanceTitle=function(){var i=this.getSum(),v="";if(!i.correct||i.sum===0){v=R.getText("TACCOUNT_TOTALBALANCE");}else{v=i.sum>0?R.getText("TACCOUNT_TOTALCREDIT"):R.getText("TACCOUNT_TOTALDEBIT");}this.$("toolbarbalancelabel").text(v+":");this.$("toolbarsumtitle").text(this._getSumText());};
u.prototype._getAriaLabelText=function(){return"T account panel "+this.getTitle()+" "+this._getSumText();};
u.prototype._valueChanged=function(i){var v=this.getSum();if(v.correct){this._oSum.sum+=i;this._setTotalBalanceTitle();}};
u.prototype.setShowOverlay=function(v){this.setProperty("showOverlay",v,true);this.$("overlay")[v?"addClass":"removeClass"]("sapSuiteUiCommonsAccountPanelOverlayVisible");};
return u;},true);
/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.predefine('sap/suite/ui/commons/ChartContainer',['jquery.sap.global','./library','sap/m/library','sap/viz/library','sap/ui/base/ManagedObject','sap/m/Button','sap/m/ButtonType','sap/m/OverflowToolbar','sap/m/OverflowToolbarButton','sap/m/SegmentedButton','sap/m/Title','sap/m/ToolbarSpacer','sap/ui/Device','sap/ui/core/Control','sap/ui/core/CustomData','sap/ui/core/Popup','sap/ui/core/ResizeHandler','sap/ui/core/delegate/ScrollEnablement','sap/m/ToggleButton','sap/base/Log'],function(q,l,M,V,a,B,b,O,c,S,T,d,D,C,e,P,R,f,g,L){"use strict";
var h=C.extend("sap.suite.ui.commons.ChartContainer",{metadata:{library:"sap.suite.ui.commons",properties:{showPersonalization:{type:"boolean",group:"Misc",defaultValue:false},showFullScreen:{type:"boolean",group:"Misc",defaultValue:false},fullScreen:{type:"boolean",group:"Misc",defaultValue:false},showLegend:{type:"boolean",group:"Misc",defaultValue:true},title:{type:"string",group:"Misc",defaultValue:''},selectorGroupLabel:{type:"string",group:"Misc",defaultValue:null,deprecated:true},autoAdjustHeight:{type:"boolean",group:"Misc",defaultValue:false},showZoom:{type:"boolean",group:"Misc",defaultValue:true},showLegendButton:{type:"boolean",group:"Misc",defaultValue:true},showSelectionDetails:{type:"boolean",group:"Behavior",defaultValue:false},wrapLabels:{type:"boolean",group:"Misc",defaultValue:false}},defaultAggregation:"content",aggregations:{dimensionSelectors:{type:"sap.ui.core.Control",multiple:true,singularName:"dimensionSelector"},content:{type:"sap.suite.ui.commons.ChartContainerContent",multiple:true,singularName:"content"},toolbar:{type:"sap.m.OverflowToolbar",multiple:false},customIcons:{type:"sap.ui.core.Icon",multiple:true,singularName:"customIcon"}},events:{personalizationPress:{},contentChange:{parameters:{selectedItemId:{type:"string"}}},customZoomInPress:{},customZoomOutPress:{}}}});
h.prototype.init=function(){this._aUsedContentIcons=[];this._aCustomIcons=[];this._oToolBar=null;this._aDimensionSelectors=[];this._bChartContentHasChanged=false;this._bControlNotRendered=true;this._bSegmentedButtonSaveSelectState=false;this._mOriginalVizFrameHeights={};this._oActiveChartButton=null;this._oSelectedContent=null;this._sResizeListenerId=null;this._bHasApplicationToolbar=false;this._iPlaceholderPosition=0;this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");this._oFullScreenButton=new g({icon:"sap-icon://full-screen",type:b.Transparent,tooltip:this._oResBundle.getText("CHARTCONTAINER_FULLSCREEN"),press:this._onFullScreenButtonPress.bind(this)});this._oPopup=new P({modal:true,shadow:false,autoClose:false});this._oShowLegendButton=new c({icon:"sap-icon://legend",type:b.Transparent,text:this._oResBundle.getText("CHARTCONTAINER_LEGEND"),tooltip:this._oResBundle.getText("CHARTCONTAINER_LEGEND"),press:this._onShowLegendButtonPress.bind(this)});this._oPersonalizationButton=new c({icon:"sap-icon://action-settings",type:b.Transparent,text:this._oResBundle.getText("CHARTCONTAINER_PERSONALIZE"),tooltip:this._oResBundle.getText("CHARTCONTAINER_PERSONALIZE"),press:this._onPersonalizationButtonPress.bind(this)});this._oZoomInButton=new c({icon:"sap-icon://zoom-in",type:b.Transparent,text:this._oResBundle.getText("CHARTCONTAINER_ZOOMIN"),tooltip:this._oResBundle.getText("CHARTCONTAINER_ZOOMIN"),press:this._zoom.bind(this,true)});this._oZoomOutButton=new c({icon:"sap-icon://zoom-out",type:b.Transparent,text:this._oResBundle.getText("CHARTCONTAINER_ZOOMOUT"),tooltip:this._oResBundle.getText("CHARTCONTAINER_ZOOMOUT"),press:this._zoom.bind(this,false)});this._oChartSegmentedButton=new S({select:this._onChartSegmentButtonSelect.bind(this),width:"auto"});this._oChartTitle=new T();};
h.prototype.onAfterRendering=function(){this._sResizeListenerId=R.register(this,this._performHeightChanges.bind(this));if(!D.system.desktop){D.resize.attachHandler(this._performHeightChanges,this);}if(this.getAutoAdjustHeight()||this.getFullScreen()){setTimeout(function(){var m=this._performHeightChanges.bind(this);if(typeof m==="string"||m instanceof String){m=this[m];}m.apply(this,[]);}.bind(this),500);}var s=this.getSelectedContent(),v=false,i;if(s){i=s.getContent();v=i&&i.getMetadata().getName()==="sap.viz.ui5.controls.VizFrame";}this._oScrollEnablement=new f(this,this.getId()+"-wrapper",{horizontal:!v,vertical:!v});this._bControlNotRendered=false;};
h.prototype.onBeforeRendering=function(){if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(!D.system.desktop){D.resize.detachHandler(this._performHeightChanges,this);}if(this._bChartContentHasChanged||this._bControlNotRendered){this._chartChange();}var j=this._aCustomIcons;this._aCustomIcons=[];var k=this.getAggregation("customIcons");if(k&&k.length>0){for(var i=0;i<k.length;i++){this._addButtonToCustomIcons(k[i]);}}if(this._bControlNotRendered){if(!this.getToolbar()){this.setAggregation("toolbar",new O({design:"Transparent"}));}}this._adjustDisplay();this._destroyButtons(j);};
h.prototype.exit=function(){if(this._oFullScreenButton){this._oFullScreenButton.destroy();this._oFullScreenButton=undefined;}if(this._oPopup){this._oPopup.destroy();this._oPopup=undefined;}if(this._oShowLegendButton){this._oShowLegendButton.destroy();this._oShowLegendButton=undefined;}if(this._oPersonalizationButton){this._oPersonalizationButton.destroy();this._oPersonalizationButton=undefined;}if(this._oActiveChartButton){this._oActiveChartButton.destroy();this._oActiveChartButton=undefined;}if(this._oChartSegmentedButton){this._oChartSegmentedButton.destroy();this._oChartSegmentedButton=undefined;}if(this._oSelectedContent){this._oSelectedContent.destroy();this._oSelectedContent=undefined;}if(this._oToolBar){this._oToolBar.destroy();this._oToolBar=undefined;}if(this._oToolbarSpacer){this._oToolbarSpacer.destroy();this._oToolbarSpacer=undefined;}if(this._aDimensionSelectors){for(var i=0;i<this._aDimensionSelectors.length;i++){if(this._aDimensionSelectors[i]){this._aDimensionSelectors[i].destroy();}}this._aDimensionSelectors=undefined;}if(this._oScrollEnablement){this._oScrollEnablement.destroy();this._oScrollEnablement=undefined;}if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId=null;}if(!D.system.desktop){D.resize.detachHandler(this._performHeightChanges,this);}if(this._oZoomInButton){this._oZoomInButton.destroy();this._oZoomInButton=undefined;}if(this._oZoomOutButton){this._oZoomOutButton.destroy();this._oZoomOutButton=undefined;}};
h.prototype._onButtonIconPress=function(E){var s=E.getSource().getCustomData()[0].getValue();this._switchChart(s);};
h.prototype._onFullScreenButtonPress=function(E){if(E.getParameter("pressed")===true){this._oFullScreenButton.setTooltip(this._oResBundle.getText("CHARTCONTAINER_FULLSCREEN_CLOSE"));this._oFullScreenButton.setIcon("sap-icon://exit-full-screen");}else{this._oFullScreenButton.setTooltip(this._oResBundle.getText("CHARTCONTAINER_FULLSCREEN"));this._oFullScreenButton.setIcon("sap-icon://full-screen");}this._bSegmentedButtonSaveSelectState=true;this._toggleFullScreen();this._oFullScreenButton.focus();};
h.prototype._onShowLegendButtonPress=function(E){this._bSegmentedButtonSaveSelectState=true;this._onLegendButtonPress();};
h.prototype._onChartSegmentButtonSelect=function(E){var s=E.getParameter("button").getCustomData()[0].getValue();this._bSegmentedButtonSaveSelectState=true;this._switchChart(s);};
h.prototype._onOverflowToolbarButtonPress=function(E,i){i.icon.firePress({controlReference:E.getSource()});};
h.prototype._onLegendButtonPress=function(){var s=this.getSelectedContent();if(s){var i=s.getContent();if(q.isFunction(i.getLegendVisible)){var j=i.getLegendVisible();i.setLegendVisible(!j);this.setShowLegend(!j);}else{this.setShowLegend(!this.getShowLegend());}}else{this.setShowLegend(!this.getShowLegend());}};
h.prototype._onPersonalizationButtonPress=function(){this.firePersonalizationPress();};
h.prototype._setSelectedContent=function(s){var i;if(this.getSelectedContent()===s){return this;}if(s===null){this._oShowLegendButton.setVisible(false);return this;}var o=s.getContent();this._toggleShowLegendButtons(o);i=o&&o.getMetadata&&o.getMetadata().getName()==="sap.viz.ui5.controls.VizFrame";var j=i||q.isFunction(o.setLegendVisible);if(this.getShowLegendButton()){this._oShowLegendButton.setVisible(j);}var k=this.getShowZoom()&&D.system.desktop&&i;this._oZoomInButton.setVisible(k);this._oZoomOutButton.setVisible(k);this._oSelectedContent=s;return this;};
h.prototype._getSelectionDetails=function(){var o=this.getSelectedContent();return o&&o._getSelectionDetails();};
h.prototype._toggleShowLegendButtons=function(j){var s=j.getId();var r=null;for(var i=0;!r&&i<this._aUsedContentIcons.length;i++){if(this._aUsedContentIcons[i].getCustomData()[0].getValue()===s&&j.getVisible()===true){r=this._aUsedContentIcons[i];this._oChartSegmentedButton.setSelectedButton(r);break;}}};
h.prototype._setDefaultOnSegmentedButton=function(){if(!this._bSegmentedButtonSaveSelectState){this._oChartSegmentedButton.setSelectedButton(null);}this._bSegmentedButtonSaveSelectState=false;};
h.prototype._toggleFullScreen=function(){var F=this.getProperty("fullScreen");if(F){var j=this.getAggregation("content");this._closeFullScreen();this.setProperty("fullScreen",false,true);this._oFullScreenButton.setIcon("sap-icon://full-screen");this._oFullScreenButton.setTooltip(this._oResBundle.getText("CHARTCONTAINER_FULLSCREEN"));this._oFullScreenButton.setPressed(false);var o;var H;for(var i=0;i<j.length;i++){o=j[i].getContent();o.setWidth("100%");H=this._mOriginalVizFrameHeights[o.getId()];if(H){o.setHeight(H);}}this.invalidate();}else{this._openFullScreen();this.setProperty("fullScreen",true,true);this._oFullScreenButton.setIcon("sap-icon://exit-full-screen");this._oFullScreenButton.setTooltip(this._oResBundle.getText("CHARTCONTAINER_FULLSCREEN_CLOSE"));this._oFullScreenButton.setPressed(true);}};
h.prototype._openFullScreen=function(){var i=P.Dock;this.$content=this.$();if(this.$content){this.$tempNode=q("<div></div>");this.$content.before(this.$tempNode);this._$overlay=q("<div id='"+q.sap.uid()+"'></div>");this._$overlay.addClass("sapSuiteUiCommonsChartContainerOverlay");this._$overlay.addClass("sapSuiteUiCommonsChartContainerChartArea");this._$overlay.append(this.$content);this._oPopup.setContent(this._$overlay);}else{L.warning("Overlay: content does not exist or contains more than one child");}this._oPopup.open(200,i.BeginTop,i.BeginTop,q("body"));if(!D.system.desktop){setTimeout(function(){var m=this._performHeightChanges.bind(this);if(typeof m==="string"||m instanceof String){m=this[m];}m.apply(this,[]);}.bind(this),500);}};
h.prototype._closeFullScreen=function(){if(this._oScrollEnablement!==null){this._oScrollEnablement.destroy();this._oScrollEnablement=null;}this.$tempNode.replaceWith(this.$content);this._oToolBar.setDesign(M.ToolbarDesign.Auto);this._oPopup.close();this._$overlay.remove();};
h.prototype._performHeightChanges=function(){var t,v;if(this.getAutoAdjustHeight()||this.getFullScreen()){var $=this.$(),s,i,I;t=$.find(".sapSuiteUiCommonsChartContainerToolBarArea :first");v=$.find(".sapSuiteUiCommonsChartContainerChartArea :first");s=this.getSelectedContent();if(t[0]&&v[0]&&s){var j=$.height();var k=t.height();var m=Math.round(parseFloat(t.css("borderBottomWidth")));var n=j-k-m;var E=v.height();i=s.getContent();if(i){I=i.getMetadata().getName();if(I==="sap.viz.ui5.controls.VizFrame"||I==="sap.chart.Chart"){if(n>0&&n!==E){this._rememberOriginalHeight(i);i.setHeight(n+"px");}}else if(i.$().innerWidth()!==this.$("chartArea").innerWidth()){this.rerender();}}}}};
h.prototype._rememberOriginalHeight=function(i){var H;if(q.isFunction(i.getHeight)){H=i.getHeight();}else{H=0;}this._mOriginalVizFrameHeights[i.getId()]=H;};
h.prototype._switchChart=function(i){var o=this._findChartById(i);this._setSelectedContent(o);this.fireContentChange({selectedItemId:i});this.rerender();};
h.prototype._chartChange=function(){var j=this.getContent();this._destroyButtons(this._aUsedContentIcons);this._aUsedContentIcons=[];if(this.getContent().length===0){this._oChartSegmentedButton.removeAllButtons();this._setDefaultOnSegmentedButton();this.switchChart(null);}if(j){var s=this.getShowLegend();var I;var o;for(var i=0;i<j.length;i++){if(!j[i].getVisible()){continue;}I=j[i].getContent();if(q.isFunction(I.setVizProperties)){I.setVizProperties({legend:{visible:s},sizeLegend:{visible:s}});}if(q.isFunction(I.setWidth)){I.setWidth("100%");}if(q.isFunction(I.setHeight)&&this._mOriginalVizFrameHeights[I.getId()]){I.setHeight(this._mOriginalVizFrameHeights[I.getId()]);}o=new B({icon:j[i].getIcon(),type:b.Transparent,width:"3rem",tooltip:j[i].getTitle(),customData:[new e({key:'chartId',value:I.getId()})],press:this._onButtonIconPress.bind(this)});this._aUsedContentIcons.push(o);if(i===0){this._setSelectedContent(j[i]);this._oActiveChartButton=o;}}}this._bChartContentHasChanged=false;};
h.prototype._findChartById=function(j){var o=this.getAggregation("content");if(o){for(var i=0;i<o.length;i++){if(o[i].getContent().getId()===j){return o[i];}}}return null;};
h.prototype._getToolbarPlaceHolderPosition=function(t){var o;for(var i=0;i<t.getContent().length;i++){o=t.getContent()[i];if(o.getMetadata&&o.getMetadata().getName()==="sap.suite.ui.commons.ChartContainerToolbarPlaceholder"){return i;}}return-1;};
h.prototype._addContentToolbar=function(i,p){if(!this._bHasApplicationToolbar){if(!p){this._oToolBar.addContent(i);}else{this._oToolBar.insertContent(i,p);}}else{if(i instanceof d){this._iPlaceholderPosition=this._getToolbarPlaceHolderPosition(this._oToolBar);return;}if(p){this._iPlaceholderPosition=this._iPlaceholderPosition+p;}this._oToolBar.insertAggregation("content",i,this._iPlaceholderPosition,true);this._iPlaceholderPosition=this._iPlaceholderPosition+1;}};
h.prototype._rearrangeToolbar=function(){var t=this._aToolbarContent.length;for(var i=0;i<t;i++){this._oToolBar.insertContent(this._aToolbarContent[i],i);}};
h.prototype._adjustIconsDisplay=function(){if(this.getShowSelectionDetails()){this._addContentToolbar(this._getSelectionDetails());}if(this.getShowLegendButton()){this._addContentToolbar(this._oShowLegendButton);}if(this.getShowZoom()&&D.system.desktop){this._addContentToolbar(this._oZoomInButton);this._addContentToolbar(this._oZoomOutButton);}if(this.getShowPersonalization()){this._addContentToolbar(this._oPersonalizationButton);}if(this.getShowFullScreen()){this._addContentToolbar(this._oFullScreenButton);}var i=0;for(i;i<this._aCustomIcons.length;i++){this._addContentToolbar(this._aCustomIcons[i]);}if(!this._bControlNotRendered){this._oChartSegmentedButton.removeAllButtons();}var I=this._aUsedContentIcons.length;if(I>1){for(i=0;i<I;i++){this._oChartSegmentedButton.addButton(this._aUsedContentIcons[i]);}this._addContentToolbar(this._oChartSegmentedButton);}};
h.prototype._adjustSelectorDisplay=function(){if(this._aDimensionSelectors.length===0){this._oChartTitle.setVisible(true);this._addContentToolbar(this._oChartTitle);return;}for(var i=0;i<this._aDimensionSelectors.length;i++){if(q.isFunction(this._aDimensionSelectors[i].setAutoAdjustWidth)){this._aDimensionSelectors[i].setAutoAdjustWidth(true);}this._addContentToolbar(this._aDimensionSelectors[i]);}};
h.prototype._adjustDisplay=function(){this._oToolBar=this.getToolbar();if(this._oToolbarSpacer){this._oToolBar.removeContent(this._oToolbarSpacer);this._oToolbarSpacer.destroy();}this._oToolBar.removeAllContent();this._oToolBar.setProperty("height","3rem",true);if(this._bHasApplicationToolbar){this._rearrangeToolbar();this._iPlaceholderPosition=0;}this._adjustSelectorDisplay();this._oToolbarSpacer=new d();this._addContentToolbar(this._oToolbarSpacer);this._adjustIconsDisplay();};
h.prototype._addButtonToCustomIcons=function(i){var I=i;var s=I.getTooltip();var o=new c({icon:I.getSrc(),text:s,tooltip:s,type:b.Transparent,width:"3rem",visible:I.getVisible(),press:[{icon:I},this._onOverflowToolbarButtonPress.bind(this)]});this._aCustomIcons.push(o);};
h.prototype._zoom=function(z){var o=this.getSelectedContent().getContent();if(o.getMetadata().getName()==="sap.viz.ui5.controls.VizFrame"){if(z){o.zoom({"direction":"in"});}else{o.zoom({"direction":"out"});}}if(z){this.fireCustomZoomInPress();}else{this.fireCustomZoomOutPress();}var Z=o._getZoomInfo().currentZoomLevel;if(Z===undefined){return;}else if(Z===null){this._oZoomOutButton.setEnabled(false);this._oZoomInButton.setEnabled(false);}else if(Z===0){this._oZoomOutButton.setEnabled(false);this._oZoomInButton.setEnabled(true);}else if(Z===1){this._oZoomInButton.setEnabled(false);this._oZoomOutButton.setEnabled(true);}else{if(this._oZoomOutButton.getEnabled()==false){this._oZoomOutButton.setEnabled(true);}if(this._oZoomInButton.getEnabled()==false){this._oZoomInButton.setEnabled(true);}}};
h.prototype._destroyButtons=function(j){for(var i=0;i<j.length;i++){j[i].destroy();}};
h.prototype._setShowLegendForAllCharts=function(s){var j=this.getContent();var I;for(var i=0;i<j.length;i++){I=j[i].getContent();if(q.isFunction(I.setLegendVisible)){I.setLegendVisible(s);}else{L.info("ChartContainer: chart with id "+I.getId()+" is missing the setVizProperties property");}}};
h.prototype.setFullScreen=function(i){if(this._bControlNotRendered){return this;}if(this.getFullScreen()===i){return this;}if(this.getProperty("fullScreen")!==i){this._toggleFullScreen();}return this;};
h.prototype.setTitle=function(t){if(this.getTitle()===t){return this;}this._oChartTitle.setText(t);this.setProperty("title",t,true);return this;};
h.prototype.setShowLegendButton=function(s){if(this.getShowLegendButton()===s){return this;}this.setProperty("showLegendButton",s,true);if(!this.getShowLegendButton()){this.setShowLegend(false);}return this;};
h.prototype.setSelectorGroupLabel=function(s){if(this.getSelectorGroupLabel()===s){return this;}this.setProperty("selectorGroupLabel",s,true);return this;};
h.prototype.setShowLegend=function(s){if(this.getShowLegend()===s){return this;}this.setProperty("showLegend",s,true);this._setShowLegendForAllCharts(s);return this;};
h.prototype.setWrapLabels=function(i){var s;if(this.getWrapLabels()!==i){this.setProperty("wrapLabels",i);s=this._getSelectionDetails();if(s){s.setWrapLabels(i);}}return this;};
h.prototype.setToolbar=function(t){if(!t||this._getToolbarPlaceHolderPosition(t)===-1){L.info("A placeholder of type 'sap.suite.ui.commons.ChartContainerToolbarPlaceholder' needs to be provided. Otherwise, the toolbar will be ignored");return this;}if(this.getToolbar()!==t){this.setAggregation("toolbar",t);}if(this.getToolbar()){this._aToolbarContent=this.getToolbar().getContent();this._bHasApplicationToolbar=true;}else{this._aToolbarContent=null;this._bHasApplicationToolbar=false;}this.invalidate();return this;};
h.prototype.getDimensionSelectors=function(){return this._aDimensionSelectors;};
h.prototype.indexOfDimensionSelector=function(j){for(var i=0;i<this._aDimensionSelectors.length;i++){if(this._aDimensionSelectors[i]===j){return i;}}return-1;};
h.prototype.addDimensionSelector=function(i){this._aDimensionSelectors.push(i);return this;};
h.prototype.insertDimensionSelector=function(j,k){if(!j){return this;}var i;if(k<0){i=0;}else if(k>this._aDimensionSelectors.length){i=this._aDimensionSelectors.length;}else{i=k;}if(i!==k){L.warning("ManagedObject.insertAggregation: index '"+k+"' out of range [0,"+this._aDimensionSelectors.length+"], forced to "+i);}this._aDimensionSelectors.splice(i,0,j);return this;};
h.prototype.destroyDimensionSelectors=function(){if(this._oToolBar){for(var i=0;i<this._aDimensionSelectors.length;i++){if(this._aDimensionSelectors[i]){this._oToolBar.removeContent(this._aDimensionSelectors[i]);this._aDimensionSelectors[i].destroy();}}}this._aDimensionSelectors=[];return this;};
h.prototype.removeDimensionSelector=function(i){if(!i){return null;}if(this._oToolBar){this._oToolBar.removeContent(i);}var j=this.indexOfDimensionSelector(i);if(j===-1){return null;}else{return this._aDimensionSelectors.splice(j,1)[0];}};
h.prototype.removeAllDimensionSelectors=function(){var j=this._aDimensionSelectors.slice();if(this._oToolBar){for(var i=0;i<this._aDimensionSelectors.length;i++){if(this._aDimensionSelectors[i]){this._oToolBar.removeContent(this._aDimensionSelectors[i]);}}}this._aDimensionSelectors=[];return j;};
h.prototype.addContent=function(i){this.addAggregation("content",i);this._bChartContentHasChanged=true;return this;};
h.prototype.insertContent=function(i,j){this.insertAggregation("content",i,j);this._bChartContentHasChanged=true;return this;};
h.prototype.updateContent=function(){this.updateAggregation("content");this._bChartContentHasChanged=true;};
h.prototype.addAggregation=function(i,o,s){if(i==="dimensionSelectors"){return this.addDimensionSelector(o);}else{return a.prototype.addAggregation.apply(this,arguments);}};
h.prototype.getAggregation=function(i,j){if(i==="dimensionSelectors"){return this.getDimensionSelectors();}else{return a.prototype.getAggregation.apply(this,arguments);}};
h.prototype.indexOfAggregation=function(i,o){if(i==="dimensionSelectors"){return this.indexOfDimensionSelector(o);}else{return a.prototype.indexOfAggregation.apply(this,arguments);}};
h.prototype.insertAggregation=function(i,o,j,s){if(i==="dimensionSelectors"){return this.insertDimensionSelector(o,j);}else{return a.prototype.insertAggregation.apply(this,arguments);}};
h.prototype.destroyAggregation=function(i,s){if(i==="dimensionSelectors"){return this.destroyDimensionSelectors();}else{return a.prototype.destroyAggregation.apply(this,arguments);}};
h.prototype.removeAggregation=function(i,o,s){if(i==="dimensionSelectors"){return this.removeDimensionSelector(o);}else{return a.prototype.removeAggregation.apply(this,arguments);}};
h.prototype.removeAllAggregation=function(i,s){if(i==="dimensionSelectors"){return this.removeAllDimensionSelectors();}else{return a.prototype.removeAllAggregation.apply(this,arguments);}};
h.prototype.getSelectedContent=function(){return this._oSelectedContent;};
h.prototype.getScrollDelegate=function(){return this._oScrollEnablement;};
h.prototype.switchChart=function(i){this._setSelectedContent(i);this.rerender();};
h.prototype.updateChartContainer=function(){this._bChartContentHasChanged=true;this.rerender();return this;};
return h;});
sap.ui.predefine('sap/suite/ui/commons/ChartContainerContent',['jquery.sap.global','sap/ui/core/Control','sap/ui/base/Event','sap/m/SelectionDetails','sap/m/SelectionDetailsItem','sap/m/SelectionDetailsItemLine','sap/suite/ui/commons/ChartContainer'],function(q,C,E,S,a,b,c){"use strict";
var d=C.extend("sap.suite.ui.commons.ChartContainerContent",{metadata:{library:"sap.suite.ui.commons",properties:{icon:{type:"string",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null}},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}}}});
d.prototype.init=function(){this._oSelectionDetails=new S();this._oSelectionDetails.registerSelectionDetailsItemFactory(d._selectionDetailsItemFactory);};
d.prototype.onBeforeRendering=function(){var p=this.getParent(),o;this._oSelectionDetails.detachSelectionHandler("_selectionDetails");o=this.getContent();if(o&&o.getMetadata().getName()==="sap.viz.ui5.controls.VizFrame"){this._oSelectionDetails.attachSelectionHandler("_selectionDetails",o);}if(p instanceof c){this._oSelectionDetails.setWrapLabels(p.getWrapLabels());}};
d.prototype.exit=function(){if(this._oSelectionDetails){this._oSelectionDetails.destroy();this._oSelectionDetails=null;}};
d.prototype.getSelectionDetails=function(){d._addEventMapping(this._oSelectionDetails);return this._oSelectionDetails.getFacade();};
d.prototype._getSelectionDetails=function(){var o=this.getContent();if(o&&o.getMetadata().getName()==="sap.viz.ui5.controls.VizFrame"){return this._oSelectionDetails;}};
d._selectionDetailsItemFactory=function(e,f,g,h,s){s=s||"";var l=[],L,I=typeof s==="string";for(var i=0;i<e.length;i++){L=new b({label:e[i].label,value:e[i].value,unit:e[i].unit});if(!I){L.setLineMarker(s[e[i].id]);}else if(i===0){L.setLineMarker(s);}l.push(L);}return new a({lines:l});};
d._aProxyEvent=["beforeOpen","beforeClose","navigate","actionPress"];
d._addEventMapping=function(s){var A=s.attachEvent;s.attachEvent=function(e,f,g,l){if(d._aProxyEvent.indexOf(e)===-1){A.apply(this,arguments);return;}else if(q.type(f)==="function"){l=g;g=f;f=null;}A.apply(s,[e,f,p,l||s.getFacade()]);function p(i){var o=new E(e,i.oSource,i.mParameters);o.getSource=s.getFacade;if(e==="actionPress"){i.getParameters().items=h(i);}else if(e==="navigate"){i.getParameters().item=i.getParameter("item").getFacade();}g.call(l||s.getFacade(),o,f);}function h(j){var I=j.getParameter("items"),k=[];for(var i=0;i<I.length;i++){k.push(I[i].getFacade());}return k;}};};
return d;});
sap.ui.predefine('sap/suite/ui/commons/ChartContainerContentRenderer',function(){"use strict";var C={};
C.render=function(r,c){r.renderControl(c.getContent());};
return C;},true);
sap.ui.predefine('sap/suite/ui/commons/ChartContainerRenderer',function(){"use strict";var C={};
C.render=function(r,c){var s=c.getSelectedContent();r.write("<div");r.writeControlData(c);r.addClass("sapSuiteUiCommonsChartContainer");r.writeClasses();r.write(">");r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-wrapper");r.addClass("sapSuiteUiCommonsChartContainerWrapper");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapSuiteUiCommonsChartContainerToolBarArea");r.writeClasses();r.write(">");r.renderControl(c.getToolbar());r.write("</div>");r.write("<div");r.writeAttributeEscaped("id",c.getId()+"-chartArea");r.addClass("sapSuiteUiCommonsChartContainerChartArea");r.writeClasses();r.write(">");if(s!==null){r.renderControl(s);}else if(c.getContent().length>0){s=c.getContent()[0];r.renderControl(s);}r.write("</div>");r.write("</div>");r.write("</div>");};
return C;},true);
sap.ui.predefine('sap/suite/ui/commons/ChartContainerToolbarPlaceholder',['sap/ui/core/Control'],function(C){"use strict";
var a=C.extend("sap.suite.ui.commons.ChartContainerToolbarPlaceholder",{metadata:{library:"sap.suite.ui.commons"}});
return a;});
sap.ui.predefine('sap/suite/ui/commons/ChartContainerToolbarPlaceholderRenderer',function(){"use strict";var C={};
C.render=function(r,c){};
return C;},true);
sap.ui.predefine('sap/suite/ui/commons/ProcessFlow',["jquery.sap.global","./library","sap/m/library","sap/ui/core/Control","sap/suite/ui/commons/ProcessFlowConnection","sap/suite/ui/commons/ProcessFlowLaneHeader","sap/ui/Device","sap/ui/core/ResizeHandler","sap/ui/events/KeyCodes","sap/base/Log"],function(q,l,M,C,P,a,D,R,K,L){"use strict";
var b=C.extend("sap.suite.ui.commons.ProcessFlow",{metadata:{library:"sap.suite.ui.commons",properties:{foldedCorners:{type:"boolean",group:"Misc",defaultValue:false},scrollable:{type:"boolean",group:"Misc",defaultValue:true},wheelZoomable:{type:"boolean",group:"Behavior",defaultValue:true},showLabels:{type:"boolean",group:"Appearance",defaultValue:false}},defaultAggregation:"lanes",aggregations:{_connections:{type:"sap.suite.ui.commons.ProcessFlowConnection",multiple:true,singularName:"_connection",visibility:"hidden"},nodes:{type:"sap.suite.ui.commons.ProcessFlowNode",multiple:true,singularName:"node"},lanes:{type:"sap.suite.ui.commons.ProcessFlowLaneHeader",multiple:true,singularName:"lane"}},events:{nodeTitlePress:{deprecated:true,parameters:{oEvent:{type:"object"}}},nodePress:{parameters:{oEvent:{type:"object"}}},labelPress:{parameters:{oEvent:{type:"object"}}},headerPress:{parameters:{oEvent:{type:"object"}}},onError:{parameters:{oEvent:{type:"object"}}}}}});
b.prototype._resBundle=null;b._cellEdgeConstants={"LU":"tl","LD":"lb","DU":"tb","LR":"rl","DR":"rt","UR":"rb"};b._constants={scrollContainer:"scrollContainer",counterLeft:"counterLeft",counterRight:"counterRight",arrowScrollRight:"arrowScrollRight",arrowScrollRightMinus:"-arrowScrollRight",arrowScrollLeft:"arrowScrollLeft",arrowScrollLeftMinus:"-arrowScrollLeft",top:"top",px:"px",parents:"parents",left:"left",right:"right"};b._mouseEvents={mouseMove:"mousemove",mouseDown:"mousedown",mouseUp:"mouseup",mouseLeave:"mouseleave",mouseEnter:"mouseenter",touchStart:"touchstart",sapTouchStart:"saptouchstart",touchEnd:"touchend",sapTouchCancel:"saptouchcancel"};b._enumMoveDirection={"LEFT":"left","RIGHT":"right","UP":"up","DOWN":"down"};b.prototype._zoomLevel=l.ProcessFlowZoomLevel.Two;b.prototype._wheelTimeout=null;b.prototype._isFocusChanged=false;b.prototype._wheelTimestamp=null;b.prototype._wheelCalled=false;b.prototype._internalCalcMatrix=false;b.prototype._internalConnectionMap=null;b.prototype._internalLanes=false;b.prototype._jumpOverElements=5;b.prototype._lastNavigationFocusElement=null;b.prototype._bHighlightedMode=false;b.prototype._isLayoutOptimized=false;b.prototype._defaultCursorClass="sapSuiteUiDefaultCursorPF";if(D.browser.msie||D.browser.edge){b.prototype._grabCursorClass="sapSuiteUiGrabCursorIEPF";b.prototype._grabbingCursorClass="sapSuiteUiGrabbingCursorIEPF";}else{b.prototype._grabCursorClass="sapSuiteUiGrabCursorPF";b.prototype._grabbingCursorClass="sapSuiteUiGrabbingCursorPF";}b.prototype._mousePreventEvents="contextmenu dblclick";b.prototype._mouseEvents="contextmenu mousemove mouseleave mousedown mouseup mouseenter";b.prototype._mouseWheelEvent=D.browser.mozilla?"DOMMouseScroll MozMousePixelScroll":"mousewheel wheel";b.prototype._headerHasFocus=false;b.prototype._isInitialZoomLevelNeeded=true;b.prototype._bDoScroll=!D.system.desktop||D.os.windows&&D.os.version>=8;b.prototype._scrollStep=192;b.prototype._bPreviousScrollForward=false;b.prototype._bPreviousScrollBack=false;b.prototype._iInitialArrowTop=undefined;b.prototype._iInitialCounterTop=undefined;b.prototype._bRtl=false;b.prototype._arrowScrollable=null;b.prototype._iTouchStartScrollTop=undefined;b.prototype._iTouchStartScrollLeft=undefined;b.prototype._bSetFocusOnce=true;
b.prototype.init=function(){this._bRtl=sap.ui.getCore().getConfiguration().getRTL();if(!this._resBundle){this._resBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");}this._internalLanes=[];if(this._getScrollContainer()){this._getScrollContainer().bind("keydown",q.proxy(this.onkeydown,this));}};
b.prototype.exit=function(){var n=this.getNodes(),i;if(n){for(i=0;i<n.length;i++){if(n[i]){n[i].destroy();}}n=null;}if(this._internalLanes){for(i=0;i<this._internalLanes.length;i++){this._internalLanes[i].destroy();}this._internalLanes=null;}var I=this.getAggregation("_connections");if(I){for(i=0;i<I.length;i++){I[i].destroy();}I=null;}if(this._oArrowLeft){this._oArrowLeft.destroy();}if(this._oArrowRight){this._oArrowRight.destroy();}if(this._resizeRegId){R.deregister(this._resizeRegId);}if(this._internalCalcMatrix){delete this._internalCalcMatrix;this._internalCalcMatrix=null;}if(this._getScrollContainer()){this._getScrollContainer().unbind(this._mousePreventEvents,this._handlePrevent);this._getScrollContainer().unbind(this._mouseEvents,q.proxy(this._registerMouseEvents,this));this._getScrollContainer().unbind(this._mouseWheelEvent,q.proxy(this._registerMouseWheel,this));this._getScrollContainer().unbind("keydown",q.proxy(this.onkeydown,this));this._getScrollContainer().unbind("scroll",q.proxy(this._onScroll,this));}};
b.prototype.onBeforeRendering=function(){if(this._getScrollContainer()){this._getScrollContainer().unbind(this._mousePreventEvents,this._handlePrevent);this._getScrollContainer().unbind(this._mouseEvents,q.proxy(this._registerMouseEvents,this));this._getScrollContainer().unbind(this._mouseWheelEvent,q.proxy(this._registerMouseWheel,this));this._getScrollContainer().unbind("keydown",q.proxy(this.onkeydown,this));this._getScrollContainer().unbind("scroll",q.proxy(this._onScroll,this));}};
b.prototype.onAfterRendering=function(){var s=false,$=this.$("scroll-content"),h,w,S,i;this._checkOverflow(this._getScrollContainer().get(0),this.$());this.iCursorPositionX=0;this.iCursorPositionY=0;if($&&$.length){this._getScrollContainer().find(".sapSuiteUiCommonsProcessFlowNode .sapUiIcon").css("cursor","inherit");if(this.getScrollable()){h=parseInt(this._getScrollContainer().css("height").slice(0,-2),10);w=parseInt(this._getScrollContainer().css("width").slice(0,-2),10);i=$[0].scrollHeight;S=$[0].scrollWidth;if(i<=h&&S<=w){this._clearHandlers(this._getScrollContainer());this._switchCursors(this._getScrollContainer(),this._grabCursorClass,this._defaultCursorClass);}else{this._switchCursors(this._getScrollContainer(),this._defaultCursorClass,this._grabCursorClass);s=true;}}else{this._clearHandlers(this._getScrollContainer());this._switchCursors(this._getScrollContainer(),this._grabCursorClass,this._defaultCursorClass);$.css("position","static");}if(s){if(!this._iInitialArrowTop||!this._iInitialCounterTop){this._iInitialArrowTop=parseInt(this.$(b._constants.arrowScrollRight).css(b._constants.top),10);this._iInitialCounterTop=parseInt(this.$(b._constants.counterRight).css(b._constants.top),10);}if(D.os.windows&&D.system.combi&&D.browser.chrome){this._getScrollContainer().bind(this._mouseEvents,q.proxy(this._registerMouseEvents,this));this._getScrollContainer().css("overflow","auto");}else if(D.os.windows&&(D.browser.msie&&(D.browser.version>9)||D.browser.edge)){this._getScrollContainer().bind(this._mouseEvents,q.proxy(this._registerMouseEvents,this));this._getScrollContainer().css("overflow","auto");this._getScrollContainer().css("-ms-overflow-style","none");}else if(!D.support.touch){this._getScrollContainer().bind(this._mouseEvents,q.proxy(this._registerMouseEvents,this));}else{this._clearHandlers(this._getScrollContainer());this._getScrollContainer().css("overflow","auto");}}else if(this._bDoScroll){this._getScrollContainer().css("overflow","auto");}else{this._getScrollContainer().css("overflow","hidden");}if(this.getWheelZoomable()&&D.system.desktop&&!this._isHeaderMode()){this._getScrollContainer().bind(this._mouseWheelEvent,q.proxy(this._registerMouseWheel,this));}if(this._bDoScroll){this._getScrollContainer().bind("scroll",q.proxy(this._onScroll,this));}this._resizeRegId=R.register(this,q.proxy(b.prototype._onResize,this));if(this._isInitialZoomLevelNeeded){this._initZoomLevel();}if(this._headerHasFocus){this._headerHasFocus=false;var c=this.$("scroll-content").children().children().children(1).children("td[tabindex='0']").first().children();var n=sap.ui.getCore().byId(c[0].id);this._changeNavigationFocus(null,n);}}};
b.prototype.ontouchend=function(e){if(e.target&&e.target.id.indexOf("arrowScroll")!==-1){this._onArrowClick(e);}else{if(!D.support.touch){this.onAfterRendering();}else{this._adjustAndShowArrow();}if(e===null||e.oSource===undefined){return;}e.preventDefault();if(this._isHeaderMode()){this._internalLanes=[];this.fireHeaderPress(this);}}};
b.prototype._handlePrevent=function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault();}if(e&&!e.isPropagationStopped()){e.stopPropagation();}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation();}};
b.prototype._onResize=function(){var A=new Date().getTime();if(!this._iLastResizeEventTime||((A-this._iLastResizeEventTime)<50)){if(!this._iLastResizeHandlingTime||(A-this._iLastResizeHandlingTime>500)){this.onAfterRendering();this._iLastResizeHandlingTime=new Date().getTime();}}else{this._iLastResizeHandlingTime=null;}this._iLastResizeEventTime=new Date().getTime();};
b.prototype._registerMouseEvents=function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault();}switch(e.type){case b._mouseEvents.mouseMove:if(this._getScrollContainer().hasClass(this._grabbingCursorClass)){if(sap.ui.getCore().getConfiguration().getRTL()){this._getScrollContainer().scrollLeftRTL(this.iCursorPositionX-e.pageX);}else{this._getScrollContainer().scrollLeft(this.iCursorPositionX-e.pageX);}this._getScrollContainer().scrollTop(this.iCursorPositionY-e.pageY);this._adjustAndShowArrow();}break;case b._mouseEvents.mouseDown:this._switchCursors(this._getScrollContainer(),this._defaultCursorClass,this._grabbingCursorClass);if(sap.ui.getCore().getConfiguration().getRTL()){this.iCursorPositionX=this._getScrollContainer().scrollLeftRTL()+e.pageX;}else{this.iCursorPositionX=this._getScrollContainer().scrollLeft()+e.pageX;}this.iCursorPositionY=this._getScrollContainer().scrollTop()+e.pageY;if(D.system.combi){this._iTouchStartScrollLeft=this._getScrollContainer().scrollLeft();if(this.getScrollable()){this._iTouchStartScrollTop=this._getScrollContainer().scrollTop();}}break;case b._mouseEvents.mouseUp:this._switchCursors(this._getScrollContainer(),this._grabbingCursorClass,this._grabCursorClass);break;case b._mouseEvents.mouseLeave:this._getScrollContainer().removeClass(this._grabbingCursorClass);this._getScrollContainer().removeClass(this._grabCursorClass);this._getScrollContainer().addClass(this._defaultCursorClass);break;case b._mouseEvents.mouseEnter:this._getScrollContainer().removeClass(this._defaultCursorClass);if(e.buttons===null){if(e.which===1){this._getScrollContainer().addClass(this._grabbingCursorClass);}else{this._getScrollContainer().addClass(this._grabCursorClass);}}else if(e.buttons===0){this._getScrollContainer().addClass(this._grabCursorClass);}else if(e.buttons===1){this._getScrollContainer().addClass(this._grabbingCursorClass);}break;default:}if(e.target&&e.target.parentElement&&e.target.parentElement.parentElement&&e.target.parentElement.parentElement.getMetadata&&e.target.parentElement.parentElement.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnectionLabel"){if(e&&!e.isPropagationStopped()){e.stopPropagation();}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation();}}};
b.prototype.onfocusin=function(e){var t;if(e&&e.target&&e.target.id){t=sap.ui.getCore().byId(e.target.id);}if(this._isHeaderMode()){this._setFocusOnHeader(true);}else if(this._bSetFocusOnce&&!(t&&e.target.id.indexOf("arrowScroll"))){this._bSetFocusOnce=false;if(t&&t.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnectionLabel"){this._changeNavigationFocus(null,t);}else if(!this._lastNavigationFocusElement){var $=this.$("scroll-content").children().children().children(1).children("td[tabindex='0']").first().children();var n=sap.ui.getCore().byId($[0].id);this._changeNavigationFocus(null,n);}else if(this._lastNavigationFocusElement){this._changeNavigationFocus(null,this._lastNavigationFocusElement);}}};
b.prototype.onfocusout=function(){this._bSetFocusOnce=true;if(this._lastNavigationFocusElement&&this._lastNavigationFocusElement._getNavigationFocus()){this._lastNavigationFocusElement._setNavigationFocus(false);if(this._lastNavigationFocusElement.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){this._lastNavigationFocusElement.rerender();}}};
b.prototype.onsapplus=function(){this._isFocusChanged=true;this.zoomIn();};
b.prototype.onsapminus=function(){this._isFocusChanged=true;this.zoomOut();};
b.prototype.onsaptabnext=function(e){var f=true;var $=e.target;var A=sap.ui.getCore().byId($.id);if(!A&&$&&$.childElementCount>0){$=$.childNodes[0];A=sap.ui.getCore().byId($.id);}if(!A||(A.getMetadata().getName()!=="sap.suite.ui.commons.ProcessFlowNode"&&A.getMetadata().getName()!=="sap.suite.ui.commons.ProcessFlowConnectionLabel")){if(!this._isHeaderMode()&&!this._lastNavigationFocusElement){var c=this.$("scroll-content").children().children().children(1).children("td[tabindex='0']").first().children();var n=sap.ui.getCore().byId(c[0].id);this._changeNavigationFocus(null,n);f=false;}else if(this._lastNavigationFocusElement){this._changeNavigationFocus(null,this._lastNavigationFocusElement);f=false;}}if(this._isHeaderMode()&&f){if(!this._headerHasFocus){this._setFocusOnHeader(true);}else{this._setFocusOnHeader(false);}}else if(this._lastNavigationFocusElement&&this._lastNavigationFocusElement.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){this._lastNavigationFocusElement.rerender();}var N;if(f){N=this.$().nextAll().find(":focusable").first();if(N.length===0){s.apply(this);}N.focus();L.debug("saptabnext: Keyboard focus has been changed to element:  id='"+N.id+"' outerHTML='"+N.outerHTML+"'");N=null;}e.preventDefault();function s(){var d=this.$().parent();do{N=d.next(":focusable");if(N.length===0){N=d.nextAll().find(":focusable").first();}d=d.parent();}while((d.length!==0)&&(N.length===0));}};
b.prototype.onsaptabprevious=function(e){var p=null;var $=e.target;if((!this._lastNavigationFocusElement||!this._lastNavigationFocusElement._getNavigationFocus())&&e.target&&e.target.childElementCount>0){$=e.target.childNodes[0];}var A=sap.ui.getCore().byId($.id);if(A&&(A.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"||A.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode")){if(!this._isHeaderMode()&&!this._lastNavigationFocusElement){var c=this.$("scroll-content").children().children().children(1).children("td[tabindex='0']").first().children();var n=sap.ui.getCore().byId(c[0].id);this._changeNavigationFocus(null,n);}else if(this._lastNavigationFocusElement){this._changeNavigationFocus(null,this._lastNavigationFocusElement);e.preventDefault();return;}}if(this._isHeaderMode()){if(!this._headerHasFocus){this._setFocusOnHeader(true);}else{this._setFocusOnHeader(false);p=this.$().prevAll().find(":focusable").first();}}else{p=this.$().prev(":focusable");if(p.length===0){p=this.$().prevAll().find(":focusable").first();}if(this._lastNavigationFocusElement){this._lastNavigationFocusElement._setNavigationFocus(false);}if(this._lastNavigationFocusElement&&this._lastNavigationFocusElement.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){this._lastNavigationFocusElement.rerender();}}if(p){if(p.length===0){s.apply(this);}else if(p.first().length!==0){p=q(p.first());}p.focus();L.debug("saptabnext: Keyboard focus has been set on element:  id='"+p.id+"' outerHTML='"+p.outerHTML+"'");p=null;}e.preventDefault();function s(){var d=this.$();do{p=d.prev(":focusable");if(p.length===0){p=d.prevAll().find(":focusable").last();}d=d.parent();}while((d.length!==0)&&(p.length===0));}};
b.prototype._handleKeySelect=function(e){if(this._isHeaderMode()){this._internalLanes=[];this.fireHeaderPress(this);var $=this.$("scroll-content").children().children().children(1).children("td[tabindex='0']").first().children();var n=sap.ui.getCore().byId($[0].id);this._changeNavigationFocus(null,n);}else if(this._lastNavigationFocusElement&&this._lastNavigationFocusElement.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&this._lastNavigationFocusElement._getNavigationFocus()){var f=this._lastNavigationFocusElement;f._handleEvents(e);}};
b.prototype.onkeyup=function(e){var k=e.keyCode?e.keyCode:e.which;switch(k){case K.ENTER:case K.SPACE:var f=this._lastNavigationFocusElement;if(f){this.fireNodePress(this._lastNavigationFocusElement);f._handleEvents(e);}break;default:break;}};
b.prototype.onkeydown=function(e){var k=(e.keyCode?e.keyCode:e.which);L.debug("ProcessFlow::keyboard input has been catched and action going to start: keycode="+k);var E=false;var c=e.ctrlKey;var d=e.altKey;var p=this._lastNavigationFocusElement;switch(k){case K.ARROW_RIGHT:E=this._moveToNextElement(b._enumMoveDirection.RIGHT);break;case K.ARROW_LEFT:E=this._moveToNextElement(b._enumMoveDirection.LEFT);break;case K.ARROW_DOWN:E=this._moveToNextElement(b._enumMoveDirection.DOWN);break;case K.ARROW_UP:E=this._moveToNextElement(b._enumMoveDirection.UP);break;case K.PAGE_UP:E=this._moveOnePage(b._enumMoveDirection.UP,d);break;case K.PAGE_DOWN:E=this._moveOnePage(b._enumMoveDirection.DOWN,d);break;case K.HOME:E=this._moveHomeEnd(b._enumMoveDirection.LEFT,c);break;case K.END:E=this._moveHomeEnd(b._enumMoveDirection.RIGHT,c);break;case K.NUMPAD_0:case K.DIGIT_0:this._initZoomLevel();break;case K.ENTER:case K.SPACE:this._handleKeySelect(e);e.preventDefault();return;default:return;}e.preventDefault();if(E){this._changeNavigationFocus(p,this._lastNavigationFocusElement);}};
b.prototype._onArrowClick=function(e){var t=e.target.id;if(t){var i=this.getId();e.preventDefault();if(t===i+b._constants.arrowScrollLeftMinus&&D.system.desktop){this._scroll(-this._scrollStep,500);}else if(t===i+b._constants.arrowScrollRightMinus&&D.system.desktop){this._scroll(this._scrollStep,500);}}};
b.prototype._onScroll=function(){var s=this._getScrollContainer().scrollLeft();var d=Math.abs(s-this._iTouchStartScrollLeft);if(d>(this._scrollStep/4)&&!this._isFocusChanged){this._adjustAndShowArrow();this._iTouchStartScrollLeft=s;}else if(this.getScrollable()){var S=this._getScrollContainer().scrollTop();var i=Math.abs(S-this._iTouchStartScrollTop);if(i>10){this._moveArrowAndCounterVertical();this._iTouchStartScrollTop=S;}}};
b.prototype.ontouchstart=function(){this._iTouchStartScrollLeft=this._getScrollContainer().scrollLeft();if(this.getScrollable()){this._iTouchStartScrollTop=this._getScrollContainer().scrollTop();}};
b.prototype.ontouchmove=function(e){e.setMarked();};
b.prototype._handleLabelClick=function(e){if(e){var c=e.getSource();if(c&&c.getMetadata().getName()==="sap.ui.core.Icon"){c=c.getParent();}if(c&&c.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnectionLabel"){var r=this._getConnectionMapEntries(c);var d=this._createLabelPressEventArgs(c,r);this.fireLabelPress(d);}}};
b.prototype._onFocusChanged=function(){var f=this._lastNavigationFocusElement,$=f?f.$():null,s,S,i,c,d,e,g,E,h,p,j,k,m,n,o,r,t=500;if(f&&this.getScrollable()){L.debug("The actually focused element is "+f.getId());if(f.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnectionLabel"){E=$.parent().parent().parent().outerWidth();h=$.parent().parent().parent().outerHeight();p=$.parent().parent().parent().position();}else{E=$.outerWidth();h=$.outerHeight();p=$.position();}L.debug("Element outer width x height ["+E+" x "+h+"]");L.debug("Position of element in the content is ["+p.left+", "+p.top+"]");d=this.$("scroll-content");s=this._getScrollContainer().innerWidth();S=this._getScrollContainer().innerHeight();L.debug("Scroll container inner width x height ["+s+" x "+S+"]");i=this._getScrollContainer().scrollLeft();c=this._getScrollContainer().scrollTop();L.debug("Current scroll offset is ["+i+", "+c+"]");e=d.innerWidth();g=d.innerHeight();L.debug("Scroll content inner width x height ["+e+" x "+g+"]");j=-i+p.left;m=j+E;k=-c+p.top;n=k+h;if((m>s)||(j<0)||(n>S)||(k<0)){o=Math.round((s-E)/2);o=Math.max(s-e+p.left,o);o=Math.min(p.left,o);r=Math.round((S-h)/2);r=Math.max(S-g+p.top,r);r=Math.min(p.top,r);L.debug("Element lies outside the scroll container, scrolling from ["+j+","+k+"] to ["+o+","+r+"]");this._isFocusChanged=true;this._getScrollContainer().animate({scrollTop:p.top-r,scrollLeft:p.left-o},t,"swing",q.proxy(this._adjustAndShowArrow,this));}else{L.debug("Element lies inside the scroll container, no scrolling happens.");this._setFocusToNode(f);}}else{this._setFocusToNode(f);this._adjustAndShowArrow();}};
b.prototype._setScrollWidth=function(){switch(this.getZoomLevel()){case(l.ProcessFlowZoomLevel.One):this._scrollStep=240;break;case(l.ProcessFlowZoomLevel.Two):this._scrollStep=192;break;case(l.ProcessFlowZoomLevel.Three):this._scrollStep=168;break;case(l.ProcessFlowZoomLevel.Four):this._scrollStep=128;break;default:this._scrollStep=192;}};
b.prototype._getLastNavigationFocusElement=function(){return this._lastNavigationFocusElement;};
b.prototype._getNode=function(n,c){for(var i=0;i<c.length;i++){if(c[i].getNodeId()===n.toString()){return c[i];}}};
b.prototype._getLane=function(c){for(var i=0;i<this._internalLanes.length;i++){if(this._internalLanes[i].getLaneId()===c){return this._internalLanes[i];}}};
b._getChildIdByElement=function(c){if(typeof c==="object"){return c.nodeId;}else{return c;}};
b.prototype._isHeaderMode=function(){var n=this.getNodes();return!n||(n.length===0);};
b.prototype._getScrollContainer=function(){return this.$(b._constants.scrollContainer);};
b.prototype._handleException=function(e){var t=this._resBundle.getText("PF_ERROR_INPUT_DATA");this.fireOnError({text:t});L.error("Error loading data for the process flow with id : "+this.getId());if(e instanceof Array){for(var i=0;i<e.length;i++){L.error("Detailed description ("+i+") :"+e[i]);}}else{L.error("Detailed description  :"+e);}};
b.prototype._getAriaText=function(){return this._resBundle.getText("PF_ARIA_PROCESS_FLOW");};
b.prototype._updateLanesFromNodes=function(){b.NodeElement._createNodeElementsFromProcessFlowNodes(this.getNodes(),this.getLanes());var i=this._arrangeNodesByParentChildRelation(this.getNodes());this._internalLanes=b.NodeElement._updateLanesFromNodes(this.getLanes(),i).lanes;};
b.prototype._getOrCreateLaneMap=function(){if(!this._internalLanes||this._internalLanes.length<=0){this._updateLanesFromNodes();}return b.NodeElement._createMapFromLanes(this._internalLanes,q.proxy(this.ontouchend,this),this._isHeaderMode()).positionMap;};
b.prototype._arrangeNodesByParentChildRelation=function(c){var I=c?c.length:0;var d=[];var i,j;if(I>0){this._setParentForNodes(c);for(i=0;i<I;i++){d=c[i].getChildren();if(d){var e=d.length;for(j=0;j<e;j++){d[j]=b._getChildIdByElement(d[j]).toString();}}for(j=0;j<i;j++){if(q.inArray(c[j].getNodeId(),d)>-1&&c[j].getLaneId()===c[i].getLaneId()){c.splice(j,0,c[i]);c.splice(i+1,1);c=this._arrangeNodesByParentChildRelation(c);break;}}}}return c;};
b.prototype._getOrCreateProcessFlow=function(){if(!this._internalLanes||this._internalLanes.length<=0){this._updateLanesFromNodes();}this.applyNodeDisplayState();var I=this.getNodes();var r=b.NodeElement._createNodeElementsFromProcessFlowNodes(I,this._internalLanes);var e=r.elementById;var E=r.elementsByLane;var c=this._calculateMatrix(e);c=this._addFirstAndLastColumn(c);b.NodeElement._calculateLaneStatePieChart(E,this._internalLanes,I,this);for(var i=0;i<c.length;i++){for(var j=0;j<c[i].length;j++){if(c[i][j]instanceof b.NodeElement){c[i][j]=e[c[i][j].nodeId].oNode;}}}this._internalCalcMatrix=c;return c;};
b.prototype._addFirstAndLastColumn=function(c){if(!c||c.length<=0){return[];}var o=c.length;for(var i=0;i<o;i++){c[i].unshift(null);c[i].push(null);}return c;};
b.prototype._calculateMatrix=function(n){var I,e,c,r,m;if(!n||(n.length===0)){return[];}I=new b.InternalMatrixCalculation(this);I.checkInputNodeConsistency(n);e=I._retrieveInfoFromInputArray(n);I._resetPositions();c=e.highestLanePosition+1;r=Math.max(Object.keys(n).length,2);m=I._createMatrix(r,c);for(var i=0;i<e.rootElements.length;i++){I.iPositionY=e.rootElements[i].lane;m=I.processCurrentElement(e.rootElements[i],n,m);}if(this._isLayoutOptimized){I._optimizeMatrix(m,n);}m=I._doubleColumnsInMatrix(m);m=I._calculatePathInMatrix(m);m=I._removeEmptyLines(m);return m;};
b.NodeElement=function(i,c,n,d){this.nodeId=i;this.lane=c;this.state=n.getState();this.displayState=n._getDisplayState();this.isProcessed=false;if(q.isArray(d)){this.aParent=d;}else{this.oParent=d;}this.oNode=n;};
b.NodeElement._initNodeElement=function(i,c,n,d){return new b.NodeElement(i,c,n,d);};
b.NodeElement.prototype={toString:function(){return this.nodeId;},containsChildren:function(e){if(!e){return false;}if(!(e instanceof b.NodeElement)){return false;}if(this.oNode.getChildren()&&e.oNode.getChildren()&&this.oNode.getChildren().length&&e.oNode.getChildren().length){for(var i=0;i<this.oNode.getChildren().length;i++){if(e.oNode.getChildren().indexOf(this.oNode.getChildren()[i])>=0){return true;}}}return false;}};
b.NodeElement._calculateLaneStatePieChart=function(c,d,e,p){if(!c||!d||!e){return;}var i;for(i=0;i<e.length;i++){p._bHighlightedMode=e[i].getHighlighted();if(p._bHighlightedMode){break;}}var f,n,N,g,h;for(i=0;i<d.length;i++){var o=d[i];var k=c[o.getLaneId()];if(!k){continue;}f=0;n=0;N=0;g=0;h=0;for(var j=0;j<k.length;j++){if(!p._bHighlightedMode||(k[j].oNode._getDisplayState()===l.ProcessFlowDisplayState.Highlighted||k[j].oNode._getDisplayState()===l.ProcessFlowDisplayState.HighlightedFocused||k[j].oNode._getDisplayState()===l.ProcessFlowDisplayState.SelectedHighlighted||k[j].oNode._getDisplayState()===l.ProcessFlowDisplayState.SelectedHighlightedFocused)){switch(k[j].oNode.getState()){case l.ProcessFlowNodeState.Positive:f++;break;case l.ProcessFlowNodeState.Negative:case l.ProcessFlowNodeState.PlannedNegative:n++;break;case l.ProcessFlowNodeState.Planned:g++;break;case l.ProcessFlowNodeState.Critical:h++;break;case l.ProcessFlowNodeState.Neutral:default:N++;}}}var s=[{state:l.ProcessFlowNodeState.Positive,value:f},{state:l.ProcessFlowNodeState.Negative,value:n},{state:l.ProcessFlowNodeState.Neutral,value:N},{state:l.ProcessFlowNodeState.Planned,value:g},{state:l.ProcessFlowNodeState.Critical,value:h}];o.setState(s);}};
b.NodeElement._updateLanesFromNodes=function(p,c){var r=b.NodeElement._createMapFromLanes(p,null,false);var d=r.positionMap;var e=r.idMap;var n={};var t=p.slice();var f;var T={};var g=0;var i;for(i=0;i<c.length;i++){n[c[i].getNodeId()]=c[i];}for(i=0;i<c.length;i++){var o=c[i];var h=o.getChildren()||[];var k=1;var N=null;var m=null;for(var j=0;j<h.length;j++){var s=b._getChildIdByElement(h[j]);var u=n[s];if(u){if(o.getLaneId()===u.getLaneId()){N=u.getLaneId()+k;m=e[N];if(!m){var w=e[o.getLaneId()];m=b.NodeElement._createNewProcessFlowElement(w,N,w.getPosition()+k);e[m.getLaneId()]=m;t.splice(m.getPosition(),0,m);}u._setMergedLaneId(m.getLaneId());}b.NodeElement._changeLaneOfChildren(o.getLaneId(),u,n);}}if(m){T={};f=false;for(var x in d){if(m.getLaneId()===d[x].getLaneId()){f=true;break;}if(parseInt(x,10)>=m.getPosition()){var y=d[x];T[y.getPosition()+k]=y;}}if(!f){for(var z in T){g=parseInt(z,10);T[g]._setMergedPosition(g);}T[m.getPosition()]=m;for(var v=0;v<m.getPosition();v++){T[v]=d[v];}d=T;}}}return{lanes:t,nodes:c};};
b.NodeElement._changeLaneOfChildren=function(c,d,n){var e=d.getChildren();if(e){for(var i=0;i<e.length;i++){var s=b._getChildIdByElement(e[i]);var o=n[s];if(o&&o.getLaneId()===c){o._setMergedLaneId(d.getLaneId());b.NodeElement._changeLaneOfChildren(c,o,n);}}}};
b.NodeElement._createNewProcessFlowElement=function(o,n,c){return new a({laneId:n,iconSrc:o.getIconSrc(),text:o.getText(),state:o.getState(),position:c,zoomLevel:o.getZoomLevel()});};
b.NodeElement._createMapFromLanes=function(p,t,c){var o,d={},e={},f=p?p.length:0,i=0;if(!f){return{};}else{while(i<f){o=p[i];if(o&&o.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowLaneHeader"){d[o.getPosition()]=o;e[o.getLaneId()]=o;if(t){o.attachPress(t);}o._setHeaderMode(c);}i++;}return{positionMap:d,idMap:e};}};
b.NodeElement._createNodeElementsFromProcessFlowNodes=function(p,c){var d={},e={},f={},n,N=p?p.length:0,s,o,g=c?c.length:0,h,k=[],m,r,t,u,i,j,I={};if(N===0){return{elementById:{},elementsByLane:{}};}if(g===0){throw["No lane definition although there is a node definition."];}i=0;while(i<g){o=c[i];h=o.getLaneId();m=o.getPosition();if(d[h]){throw["The lane with id: "+h+" is defined at least twice. (Lane error)"];}d[h]=m;if(q.inArray(m,k)>-1){throw["The position "+m+" is defined at least twice. (Lane error)."];}else{k.push(m);}e[h]=[];i++;}i=0;while(i<N){n=p[i];if(n&&n.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){s=n.getNodeId();h=n.getLaneId();r=n.getChildren()||[];u=r.length;j=0;while(j<u){t=b._getChildIdByElement(r[j]);f[t]=f[t]||[];f[t].push(s);j++;}}i++;}i=0;while(i<N){n=p[i];if(n&&n.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){s=n.getNodeId();if(!s){throw["There is a node which has no node id defined. (Title="+n.getTitle()+") and array position: "+i];}h=n.getLaneId();m=d[h];if(q.type(m)!=="number"){throw["For the node "+s+" position (lane) is not defined."];}if(!I[s]){I[s]=b.NodeElement._initNodeElement(s,m,n,f[s]);e[h].push(I[s]);}else{throw["The node id "+s+" is used second time."];}}i++;}return{elementById:I,elementsByLane:e};};
b.InternalMatrixCalculation=function(){this.iPositionX=0;this.iPositionY=0;this.nodePositions={};this.mapChildToNode={};};
b.InternalMatrixCalculation.prototype._optimizeMatrix=function(m,e){var c;do{c=false;for(var d=0;d<m[0].length;d++){for(var f=0;f<m.length-1;f++){if(!m[f][d]){var n=false;for(var i=f+1;i<m.length;i++){if(m[i][d]){n=true;break;}}if(!n){break;}if(this._optimizeLane(m,f,d,e)){c=true;}}}}}while(c);};
b.InternalMatrixCalculation.prototype._optimizeLane=function(m,r,c,e){for(var i=r+1;i<m.length;i++){if(m[i][c]){var n=m[i][c];if(this._verifyOptimizeLane(m,r,i,c,e)){m[r][c]=n;this.nodePositions[n.nodeId].x=r;m[i][c]=null;return true;}else{return false;}}}return false;};
b.InternalMatrixCalculation.prototype._verifyOptimizeLane=function(m,r,c,d,n){var N=m[c][d].oNode;var i,j,e,s;if(N&&N.getChildren()){e=m[c][d].oNode.getChildren();for(i=0;i<e.length;i++){s=b._getChildIdByElement(e[i]);var f=n[s].lane;for(j=d+1;j<f;j++){if(m[r][j]){return false;}}}}var o=m[c][d].nodeId;var O=this.nodePositions[o];var p=m[c][d].aParent;if(p){for(i=0;i<p.length;i++){s=b._getChildIdByElement(p[i]);if(d-1!==n[s].lane){return false;}var g=this.nodePositions[s];if(g.x>=O.x){return false;}}}for(i=0;i<d;i++){for(j=0;j<m.length;j++){if(m[j][i]&&m[j][i].oNode){s=m[j][i].nodeId;var h=this.nodePositions[s];e=m[j][i].oNode.getChildren();if(e){for(var k=0;k<e.length;k++){var t=b._getChildIdByElement(e[k]);var u=this.nodePositions[t];if(n[t].lane>d&&!((h.x<r&&u.x<r)||((h.x>r&&u.x>r)))){return false;}}}}}}if(N._hasChildren()){for(i=0;i<r;i++){if(m[i][d]){e=m[i][d].oNode.getChildren();if(e){for(j=0;j<e.length;j++){s=b._getChildIdByElement(e[j]);var E=n[s];var v=this.nodePositions[s];if(E.lane>d&&v.x>=r&&!N._hasChildrenWithNodeId(s)){return false;}}}}}}return true;};
b.InternalMatrixCalculation.prototype._resetPositions=function(){this.iPositionX=0;this.iPositionY=0;delete this.nodePositions;delete this.mapChildToNode;this.nodePositions={};this.mapChildToNode={};};
b.InternalMatrixCalculation.prototype._createMatrix=function(c){c=parseInt(c,10);var d=new Array(c||0);var i=c;if(arguments.length>1){var e=Array.prototype.slice.call(arguments,1);while(i--){d[c-1-i]=this._createMatrix.apply(this,e);}}return d;};
b.InternalMatrixCalculation.prototype._retrieveInfoFromInputArray=function(e){var i=0,r=[],E;Object.keys(e).forEach(function(s){E=e[s];if(!E.oParent&&!E.aParent){r.push(E);}if(i<E.lane){i=E.lane;}});return{"highestLanePosition":i,"rootElements":r};};
b.InternalMatrixCalculation.prototype._doubleColumnsInMatrix=function(c){var m=0,i;for(i=0;i<c.length;i++){m=m>c[i].length?m:c[i].length;}var t=new Array(c.length||0);for(i=0;i<t.length;i++){t[i]=new Array(m*2-1);for(var j=0;j<m;j++){if(c[i][j]){t[i][2*j]=c[i][j];}}}return t;};
b.InternalMatrixCalculation.prototype._removeEmptyLines=function(o){var c=0,i,j;for(i=0;i<o.length;i++){for(j=0;j<o[i].length;j++){if(o[i][j]){c++;break;}}}var r=this._createMatrix(c,o[0].length);for(i=0;i<c;i++){for(j=0;j<o[i].length;j++){r[i][j]=null;if(o[i][j]){r[i][j]=o[i][j];}}}return r;};
b.InternalMatrixCalculation.prototype._sortBasedOnChildren=function(n,e){var E={},c,s=null,d,i,f,S=[],g,h,p;if(n){n.forEach(function(o){var k=b._getChildIdByElement(o);c=E[e[k].lane];if(!c){E[e[k].lane]=c=[];}c.push(e[k]);});}else{return[];}var j=function(k,m){i=(k.oNode.getChildren()||[]).length;f=(m.oNode.getChildren()||[]).length;return f-i;};d=[];for(s in E){d.push(s);E[s].sort(j);}d=d.sort(function(k,m){return m-k;});var A=function(o){if(p.containsChildren(o)){h.push(o);}};d.forEach(function(k){g=E[k];if(g.length>1){h=[];p=g.shift();while(p){if(h.indexOf(p)<0){h.push(p);}g.forEach(A);p=g.shift();}S=S.concat(h);}else{S=S.concat(g);}});return S;};
b.InternalMatrixCalculation.prototype._calculatePathInMatrix=function(o){var c=null;for(var k in this.nodePositions){if(this.nodePositions.hasOwnProperty(k)){c=this.nodePositions[k];var d=c.c.oNode.getChildren();for(var i=0;d&&i<d.length;i++){var s=b._getChildIdByElement(d[i]);var p=this.nodePositions[s];o=this._calculateSingleNodeConnection(c,p,c.x,c.y,p.x,p.y,o);}}}return o;};
b.InternalMatrixCalculation.prototype._calculateSingleNodeConnection=function(n,c,p,d,e,f,o){var h=f-d;var v=e-p;if(h<0){throw["Problem with negative horizontal movement","Parent node is "+n.c.toString(),"Children node is "+c.c.toString(),"Coordinates : '"+p+"','"+d+"','"+e+"','"+f+"'"];}else if(v<=-1){var N=this._checkIfHorizontalLinePossible(o,e,d+2,f);var i=f-1;if(N){i=d+1;}var g=p;if(N){g=e;}o[p][i]=this._createConnectionElement(o[p][i],b._cellEdgeConstants.LU,n,c,false);o=this._writeVerticalLine(o,p,e,i,n,c);o[e][i]=this._createConnectionElement(o[e][i],b._cellEdgeConstants.UR,n,c,(i===f-1));var s=d+2;var E=f;if(!N){s=d+1;E=i+1;}o=this._writeHorizontalLine(o,g,s,E,n,c);}else if(v===0){o=this._writeHorizontalLine(o,p,d+1,f,n,c);}else if(v===1){o[p][d+1]=this._createConnectionElement(o[p][d+1],b._cellEdgeConstants.LD,n,c,false);o[e][d+1]=this._createConnectionElement(o[e][d+1],b._cellEdgeConstants.DR,n,c,(d+1)===(f-1));o=this._writeHorizontalLine(o,e,d+2,f,n,c);}else{o[p][d+1]=this._createConnectionElement(o[p][d+1],b._cellEdgeConstants.LD,n,c,false);o=this._writeVerticalLine(o,e,p,d+1,n,c);o[e][d+1]=this._createConnectionElement(o[e][d+1],b._cellEdgeConstants.DR,n,c,(d+1)===(f-1));o=this._writeHorizontalLine(o,e,d+2,f,n,c);}return o;};
b.InternalMatrixCalculation.prototype._writeVerticalLine=function(o,f,c,d,n,e){for(var j=f-1;j>c;j--){o[j][d]=this._createConnectionElement(o[j][d],b._cellEdgeConstants.DU,n,e,false);}return o;};
b.InternalMatrixCalculation.prototype._checkIfHorizontalLinePossible=function(o,r,f,c){var d=true;for(var i=f;i<c;i++){if(o[r][i]instanceof b.NodeElement){d=false;break;}}return d;};
b.InternalMatrixCalculation.prototype._writeHorizontalLine=function(o,r,f,c,n,d){var p=(r===d.x);if(!p){c--;}for(var i=f;i<c;i++){o[r][i]=this._createConnectionElement(o[r][i],b._cellEdgeConstants.LR,n,d,(i===(c-1))&&p);}return o;};
b.InternalMatrixCalculation.prototype._createConnectionElement=function(o,f,s,t,h){var n=o;if(!n){n=new P();}if(n.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){var d=this._calculateConnectionDisplayStateBySourceAndTargetNode(s.c.oNode,t.c.oNode);var c={flowLine:f,targetNodeState:t.c.state,displayState:d,hasArrow:h};n.addConnectionData(c);}return n;};
b.InternalMatrixCalculation.prototype._calculateConnectionDisplayStateBySourceAndTargetNode=function(s,t){var S=s.getHighlighted();var c=s.getSelected();var d=s._getDimmed();var T=t.getHighlighted();var e=t.getSelected();var f=t._getDimmed();var o=l.ProcessFlowDisplayState.Regular;if(c&&e){o=l.ProcessFlowDisplayState.Selected;}else if(S&&T){o=l.ProcessFlowDisplayState.Highlighted;}else if((d||f)||S&&e||c&&T){o=l.ProcessFlowDisplayState.Dimmed;}return o;};
b.prototype.addNode=function(n){return this.addAggregation("nodes",n,false);};
b.prototype._switchCursors=function($,c,d){if($.hasClass(c)){$.removeClass(c);}if(!$.hasClass(d)){$.addClass(d);}};
b.prototype._clearHandlers=function($){$.bind(this._mousePreventEvents,q.proxy(this._handlePrevent,this));};
b.prototype._initZoomLevel=function(){if(this.$()){var w=this.$().width();if(w){if(w<M.ScreenSizes.tablet){this.setZoomLevel(l.ProcessFlowZoomLevel.Four);}else if(w<M.ScreenSizes.desktop){this.setZoomLevel(l.ProcessFlowZoomLevel.Three);}else{this.setZoomLevel(l.ProcessFlowZoomLevel.Two);}}}};
b.prototype._registerMouseWheel=function(e){var d=e.originalEvent.wheelDelta||-e.originalEvent.detail;if(d===0){d=-e.originalEvent.deltaY;}if(e&&!e.isDefaultPrevented()){e.preventDefault();e.originalEvent.returnValue=false;}var w=300;var f=function(){var i=new Date()-this._wheelTimestamp;if(i<w){this._wheelTimeout=setTimeout(function(){var m=f.bind(this);if(typeof m==="string"||m instanceof String){m=this[m];}m.apply(this,[]);}.bind(this),w-i);}else{this._wheelTimeout=null;this._wheelCalled=false;}};if(!this._wheelCalled){this._wheelCalled=true;if(d<0){this._isFocusChanged=true;this.zoomOut();}else{this._isFocusChanged=true;this.zoomIn();}}if(!this._wheelTimeout){this._wheelTimestamp=new Date();this._wheelTimeout=setTimeout(function(){var m=f.bind(this);if(typeof m==="string"||m instanceof String){m=this[m];}m.apply(this,[]);}.bind(this),w);}if(e&&!e.isPropagationStopped()){e.stopPropagation();}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation();}};
b.prototype._setFocusToNode=function(n){if(n){if(n.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){q("#"+n.sId).parent().focus();n._setNavigationFocus(true);n.rerender();}else if(n.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnectionLabel"){n.$().focus();n._setNavigationFocus(true);}}else if(this._lastNavigationFocusElement){if(this._lastNavigationFocusElement.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){q("#"+this._lastNavigationFocusElement.sId).parent().focus();this._lastNavigationFocusElement._setNavigationFocus(true);this._lastNavigationFocusElement.rerender();}else if(this._lastNavigationFocusElement.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnectionLabel"){this._lastNavigationFocusElement.$().focus();this._lastNavigationFocusElement._setNavigationFocus(true);}}};
b.prototype._changeNavigationFocus=function(n,c){if(n&&c&&(n.getId()!==c.getId())){L.debug("Rerendering PREVIOUS node with id '"+n.getId()+"' navigation focus : "+n._getNavigationFocus());n._setNavigationFocus(false);if(n.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){n.rerender();}}if(c){L.debug("Rerendering CURRENT node with id '"+c.getId()+"' navigation focus : "+c._getNavigationFocus());c._setNavigationFocus(true);if(c.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){c.rerender();}this._lastNavigationFocusElement=c;this._onFocusChanged();}};
b.prototype._moveOnePage=function(d,c){d=d||b._enumMoveDirection.UP;c=c||false;var p=0,e=0;var f=0,g=0;var n=0;var N=false,i,j,o;for(i=0;i<this._internalCalcMatrix.length;i++){for(j=0;j<this._internalCalcMatrix[i].length;j++){if(this._internalCalcMatrix[i][j]&&this._internalCalcMatrix[i][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&this._internalCalcMatrix[i][j]._getNavigationFocus()){p=i;e=j;break;}else if(this._internalCalcMatrix[i][j]&&this._internalCalcMatrix[i][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][j]._getVisibleLabel();if(o&&o._getNavigationFocus()){p=i;e=j;break;}}}}if(c){if(d===b._enumMoveDirection.UP){for(j=e-1;j>=0&&n<this._jumpOverElements;j--){if(this._internalCalcMatrix[p][j]&&this._internalCalcMatrix[p][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&(!this._bHighlightedMode||this._internalCalcMatrix[p][j].getHighlighted())){n++;f=p;g=j;N=true;}else if(this._internalCalcMatrix[p][j]&&this._internalCalcMatrix[p][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[p][j]._getVisibleLabel();if(this._labelCanGetFocus(o)){n++;f=p;g=j;N=true;}}}}else if(d===b._enumMoveDirection.DOWN){for(j=e+1;j<this._internalCalcMatrix[p].length&&n<this._jumpOverElements;j++){if(this._internalCalcMatrix[p][j]&&this._internalCalcMatrix[p][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&(!this._bHighlightedMode||this._internalCalcMatrix[p][j].getHighlighted())){n++;f=p;g=j;N=true;}else if(this._internalCalcMatrix[p][j]&&this._internalCalcMatrix[p][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[p][j]._getVisibleLabel();if(this._labelCanGetFocus(o)){n++;f=p;g=j;N=true;}}}}}else if(d===b._enumMoveDirection.UP){for(i=p-1;i>=0&&n<this._jumpOverElements;i--){if(this._internalCalcMatrix[i][e]&&this._internalCalcMatrix[i][e].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&(!this._bHighlightedMode||this._internalCalcMatrix[i][e].getHighlighted())){n++;f=i;g=e;N=true;}else if(this._internalCalcMatrix[i][e]&&this._internalCalcMatrix[i][e].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][e]._getVisibleLabel();if(this._labelCanGetFocus(o)){n++;f=i;g=e;N=true;}}}}else if(d===b._enumMoveDirection.DOWN){for(i=p+1;i<this._internalCalcMatrix.length&&n<this._jumpOverElements;i++){if(this._internalCalcMatrix[i][e]&&this._internalCalcMatrix[i][e].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&(!this._bHighlightedMode||this._internalCalcMatrix[i][e].getHighlighted())){n++;f=i;g=e;N=true;}else if(this._internalCalcMatrix[i][e]&&this._internalCalcMatrix[i][e].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][e]._getVisibleLabel();if(this._labelCanGetFocus(o)){n++;f=i;g=e;N=true;}}}}if(N){if(this._internalCalcMatrix[p][e]&&this._internalCalcMatrix[p][e].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){this._internalCalcMatrix[p][e]._getVisibleLabel()._setNavigationFocus(false);}else{this._internalCalcMatrix[p][e]._setNavigationFocus(false);}if(this._internalCalcMatrix[f][g]&&this._internalCalcMatrix[f][g].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[f][g]._getVisibleLabel();o._setNavigationFocus(true);this._lastNavigationFocusElement=o;}else{this._internalCalcMatrix[f][g]._setNavigationFocus(true);this._lastNavigationFocusElement=this._internalCalcMatrix[f][g];}}return N;};
b.prototype._moveHomeEnd=function(d,c){d=d||b._enumMoveDirection.RIGHT;c=c||false;var p=0,e=0;var f=0,g=0;var n=false,i,j,o;for(i=0;i<this._internalCalcMatrix.length;i++){for(j=0;j<this._internalCalcMatrix[i].length;j++){if(this._internalCalcMatrix[i][j]&&this._internalCalcMatrix[i][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&this._internalCalcMatrix[i][j]._getNavigationFocus()){p=i;e=j;break;}else if(this._internalCalcMatrix[i][j]&&this._internalCalcMatrix[i][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][j]._getVisibleLabel();if(o&&o._getNavigationFocus()){p=i;e=j;break;}}}}if(c){if(d===b._enumMoveDirection.LEFT){for(i=0;i<p;i++){if(this._internalCalcMatrix[i][e]&&this._internalCalcMatrix[i][e].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&(!this._bHighlightedMode||this._internalCalcMatrix[i][e].getHighlighted())){f=i;g=e;n=true;break;}else if(this._internalCalcMatrix[i][e]&&this._internalCalcMatrix[i][e].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][e]._getVisibleLabel();if(this._labelCanGetFocus(o)){f=i;g=e;n=true;break;}}}}else if(d===b._enumMoveDirection.RIGHT){for(i=this._internalCalcMatrix.length-1;i>p;i--){if(this._internalCalcMatrix[i][e]&&this._internalCalcMatrix[i][e].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&(!this._bHighlightedMode||this._internalCalcMatrix[i][e].getHighlighted())){f=i;g=e;n=true;break;}else if(this._internalCalcMatrix[i][e]&&this._internalCalcMatrix[i][e].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][e]._getVisibleLabel();if(this._labelCanGetFocus(o)){f=i;g=e;n=true;break;}}}}}else if(d===b._enumMoveDirection.LEFT){for(j=0;j<e;j++){if(this._internalCalcMatrix[p][j]&&this._internalCalcMatrix[p][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&(!this._bHighlightedMode||this._internalCalcMatrix[p][j].getHighlighted())){f=p;g=j;n=true;break;}else if(this._internalCalcMatrix[p][j]&&this._internalCalcMatrix[p][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[p][j]._getVisibleLabel();if(this._labelCanGetFocus(o)){f=p;g=j;n=true;break;}}}}else if(d===b._enumMoveDirection.RIGHT){for(j=this._internalCalcMatrix[p].length-1;j>e;j--){if(this._internalCalcMatrix[p][j]&&this._internalCalcMatrix[p][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&(!this._bHighlightedMode||this._internalCalcMatrix[p][j].getHighlighted())){f=p;g=j;n=true;break;}else if(this._internalCalcMatrix[p][j]&&this._internalCalcMatrix[p][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[p][j]._getVisibleLabel();if(this._labelCanGetFocus(o)){f=p;g=j;n=true;break;}}}}if(n){if(this._internalCalcMatrix[p][e]&&this._internalCalcMatrix[p][e].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){this._internalCalcMatrix[p][e]._getVisibleLabel()._setNavigationFocus(false);}else{this._internalCalcMatrix[p][e]._setNavigationFocus(false);}if(this._internalCalcMatrix[f][g]&&this._internalCalcMatrix[f][g].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[f][g]._getVisibleLabel();o._setNavigationFocus(true);this._lastNavigationFocusElement=o;}else{this._internalCalcMatrix[f][g]._setNavigationFocus(true);this._lastNavigationFocusElement=this._internalCalcMatrix[f][g];}}return n;};
b.prototype._moveToNextElement=function(d,s){d=d||b._enumMoveDirection.RIGHT;if(sap.ui.getCore().getConfiguration().getRTL()){if(d===b._enumMoveDirection.RIGHT){d=b._enumMoveDirection.LEFT;}else if(d===b._enumMoveDirection.LEFT){d=b._enumMoveDirection.RIGHT;}}s=s||1;var f=false;var n=false;var p=0,c=1,i,j,o;if(!this._internalCalcMatrix){return false;}var e=0,g=0;for(i=0;i<this._internalCalcMatrix.length;i++){for(j=0;j<this._internalCalcMatrix[i].length;j++){if(this._internalCalcMatrix[i][j]){if(this._internalCalcMatrix[i][j]&&this._internalCalcMatrix[i][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&this._internalCalcMatrix[i][j]._getNavigationFocus()){p=e=i;c=g=j;f=true;break;}else if(this._internalCalcMatrix[i][j]&&this._internalCalcMatrix[i][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][j]._getVisibleLabel();if(o&&o._getNavigationFocus()&&o.getEnabled()){p=e=i;c=g=j;f=true;break;}}}}if(f){break;}}if(d===b._enumMoveDirection.RIGHT){for(i=e;i<this._internalCalcMatrix.length;i++){for(j=g+1;j<this._internalCalcMatrix[i].length;j++){if(this._internalCalcMatrix[i][j]&&this._internalCalcMatrix[i][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][j].getHighlighted())){this._internalCalcMatrix[i][j]._setNavigationFocus(true);this._lastNavigationFocusElement=this._internalCalcMatrix[i][j];n=true;break;}}else if(this._internalCalcMatrix[i][j]&&this._internalCalcMatrix[i][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][j]._getVisibleLabel();if(f&&this._labelCanGetFocus(o)){o._setNavigationFocus(true);this._lastNavigationFocusElement=o;n=true;break;}}}g=0;if(n){break;}}}if(d===b._enumMoveDirection.LEFT){for(i=e;i>=0;i--){for(j=g-1;j>=0;j--){if(this._internalCalcMatrix[i][j]&&this._internalCalcMatrix[i][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][j].getHighlighted())){this._lastNavigationFocusElement=this._internalCalcMatrix[i][j]._setNavigationFocus(true);this._lastNavigationFocusElement=this._internalCalcMatrix[i][j];n=true;break;}}else if(this._internalCalcMatrix[i][j]&&this._internalCalcMatrix[i][j].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][j]._getVisibleLabel();if(f&&this._labelCanGetFocus(o)){o._setNavigationFocus(true);this._lastNavigationFocusElement=o;n=true;break;}}}if(i>0){g=this._internalCalcMatrix[i-1].length;}if(n){break;}}}var h,k,m;if(d===b._enumMoveDirection.UP){for(i=e-1;i>=0;i--){h=0;while(!n){k=g-h;m=g+h;if(k>=0&&this._internalCalcMatrix[i][k]&&this._internalCalcMatrix[i][k].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][k].getHighlighted())){this._internalCalcMatrix[i][k]._setNavigationFocus(true);this._lastNavigationFocusElement=this._internalCalcMatrix[i][k];n=true;break;}}else if(k>=0&&this._internalCalcMatrix[i][k]&&this._internalCalcMatrix[i][k].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][k]._getVisibleLabel();if(f&&this._labelCanGetFocus(o)){o._setNavigationFocus(true);this._lastNavigationFocusElement=o;n=true;break;}}if(m<this._internalCalcMatrix[i].length&&this._internalCalcMatrix[i][m]&&this._internalCalcMatrix[i][m].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][m].getHighlighted())){this._internalCalcMatrix[i][m]._setNavigationFocus(true);this._lastNavigationFocusElement=this._internalCalcMatrix[i][m];n=true;break;}}else if(m>=0&&this._internalCalcMatrix[i][m]&&this._internalCalcMatrix[i][m].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][m]._getVisibleLabel();if(f&&this._labelCanGetFocus(o)){o._setNavigationFocus(true);this._lastNavigationFocusElement=o;n=true;break;}}if(k<0&&m>this._internalCalcMatrix[i].length){break;}h++;}}}if(d===b._enumMoveDirection.DOWN){for(i=e+1;i<this._internalCalcMatrix.length;i++){h=0;while(!n){k=g-h;m=g+h;if(k>=0&&this._internalCalcMatrix[i][k]&&this._internalCalcMatrix[i][k].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][k].getHighlighted())){this._lastNavigationFocusElement=this._internalCalcMatrix[i][k]._setNavigationFocus(true);this._lastNavigationFocusElement=this._internalCalcMatrix[i][k];n=true;break;}}else if(k>=0&&this._internalCalcMatrix[i][k]&&this._internalCalcMatrix[i][k].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][k]._getVisibleLabel();if(f&&this._labelCanGetFocus(o)){o._setNavigationFocus(true);this._lastNavigationFocusElement=o;n=true;break;}}if(m<this._internalCalcMatrix[i].length&&this._internalCalcMatrix[i][m]&&this._internalCalcMatrix[i][m].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){if(f&&(!this._bHighlightedMode||this._internalCalcMatrix[i][m].getHighlighted())){this._lastNavigationFocusElement=this._internalCalcMatrix[i][m]._setNavigationFocus(true);this._lastNavigationFocusElement=this._internalCalcMatrix[i][m];n=true;break;}}else if(m>=0&&this._internalCalcMatrix[i][m]&&this._internalCalcMatrix[i][m].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnection"){o=this._internalCalcMatrix[i][m]._getVisibleLabel();if(f&&this._labelCanGetFocus(o)){o._setNavigationFocus(true);this._lastNavigationFocusElement=o;n=true;break;}}if(k<0&&m>this._internalCalcMatrix[i].length){break;}h++;}}}if(n){if(this._internalCalcMatrix[p][c]&&this._internalCalcMatrix[p][c].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){this._internalCalcMatrix[p][c]._setNavigationFocus(false);}else{this._internalCalcMatrix[p][c]._getVisibleLabel()._setNavigationFocus(false);}}return n;};
b.prototype._getScrollContainerOnZoomChanged=function(s,$){s.scrollLeft=Math.round($.get()[0].scrollWidth/s.scrollWidth*s.scrollLeft);s.scrollTop=Math.round($.get()[0].scrollHeight/s.scrollHeight*s.scrollTop);s.scrollWidth=$.get()[0].scrollWidth;s.scrollHeight=$.get()[0].scrollHeight;return s;};
b.prototype._mergeLaneIdNodeStates=function(c){var p=0;var n=0;var N=0;var i=0;var d=0;for(var s=0;s<5;s++){for(var e=0;e<c.length;e++){switch(c[e][s].state){case l.ProcessFlowNodeState.Positive:p=p+c[e][s].value;break;case l.ProcessFlowNodeState.Negative:n=n+c[e][s].value;break;case l.ProcessFlowNodeState.Neutral:N=N+c[e][s].value;break;case l.ProcessFlowNodeState.Planned:i=i+c[e][s].value;break;case l.ProcessFlowNodeState.PlannedNegative:n=n+c[e][s].value;break;case l.ProcessFlowNodeState.Critical:d=d+c[e][s].value;break;default:break;}}}return[{state:l.ProcessFlowNodeState.Positive,value:p},{state:l.ProcessFlowNodeState.Negative,value:n},{state:l.ProcessFlowNodeState.Neutral,value:N},{state:l.ProcessFlowNodeState.Planned,value:i},{state:l.ProcessFlowNodeState.Critical,value:d}];};
b.prototype._setFocusOnHeader=function(n){var t=q(document.getElementById(this.getId()+"-thead"));if(n){t.focus();t.addClass("sapSuiteUiCommonsPFHeaderFocused");this._headerHasFocus=true;}else{t.removeClass("sapSuiteUiCommonsPFHeaderFocused");this._headerHasFocus=false;}};
b.prototype._scroll=function(d,c){var o=this._getScrollContainer().get(0);var s=o.scrollLeft;if(!D.browser.msie&&!D.browser.edge&&this._bRtl){d=-d;}var S=s+d;q(o).stop(true,true).animate({scrollLeft:S},c,q.proxy(this._adjustAndShowArrow,this));};
b.prototype._adjustAndShowArrow=function(){this._checkOverflow(this._getScrollContainer().get(0),this.$());if(this.getScrollable()){this._moveArrowAndCounterVertical();}if(this._isFocusChanged){this._setFocusToNode(this._lastNavigationFocusElement);this._isFocusChanged=false;}};
b.prototype._getScrollingArrow=function(d){var s;if(D.system.desktop){s="sap-icon://navigation-"+d+"-arrow";}else{s="sap-icon://slim-arrow-"+d;}var p={src:s};var c="sapPFHArrowScrollLeft";var r="sapPFHArrowScrollRight";var e=["sapPFHArrowScroll",c];var f=["sapPFHArrowScroll",r];if(d===b._constants.left){if(!this._oArrowLeft){this._oArrowLeft=M.ImageHelper.getImageControl(this.getId()+b._constants.arrowScrollLeftMinus,null,this,p,e);}return this._oArrowLeft;}if(d===b._constants.right){if(!this._oArrowRight){this._oArrowRight=M.ImageHelper.getImageControl(this.getId()+b._constants.arrowScrollRightMinus,null,this,p,f);}return this._oArrowRight;}};
b.prototype._checkScrolling=function(s,$){var S=false;if(s){if(s.scrollWidth>s.clientWidth){S=true;}}if(this._arrowScrollable!==S){$.toggleClass("sapPFHScrollable",S);$.toggleClass("sapPFHNotScrollable",!S);this._arrowScrollable=S;}return S;};
b.prototype._updateLeftCounter=function(){var s;if(!this._bRtl){s=this._getScrollContainer().scrollLeft();}else{s=this._getScrollContainer().scrollRightRTL();}var c=Math.round(s/this._scrollStep);this.$(b._constants.counterLeft).text(c.toString());return c;};
b.prototype._updateRightCounter=function(s,c){var S;var i;if(!this._bRtl){S=this._getScrollContainer().scrollLeft();i=Math.round((c-S-s)/this._scrollStep);}else{S=this._getScrollContainer().scrollLeftRTL();i=Math.round(S/this._scrollStep);}this.$(b._constants.counterRight).text(i.toString());return i;};
b.prototype._moveArrowAndCounterVertical=function(){var s=this._getScrollContainer().scrollTop();if(s>0){var A=this._iInitialArrowTop-s;var c=this._iInitialCounterTop-s;var d=this._iInitialCounterTop-this._iInitialArrowTop;if(A>0){this.$(b._constants.arrowScrollRight).css(b._constants.top,A+b._constants.px);this.$(b._constants.arrowScrollLeft).css(b._constants.top,A+b._constants.px);}else{this.$(b._constants.arrowScrollRight).css(b._constants.top,"0px");this.$(b._constants.arrowScrollLeft).css(b._constants.top,"0px");}if(c>d){this.$(b._constants.counterRight).css(b._constants.top,c+b._constants.px);this.$(b._constants.counterLeft).css(b._constants.top,c+b._constants.px);}else{this.$(b._constants.counterRight).css(b._constants.top,d+b._constants.px);this.$(b._constants.counterLeft).css(b._constants.top,d+b._constants.px);}}else{this.$(b._constants.arrowScrollRight).css(b._constants.top,this._iInitialArrowTop+b._constants.px);this.$(b._constants.arrowScrollLeft).css(b._constants.top,this._iInitialArrowTop+b._constants.px);this.$(b._constants.counterRight).css(b._constants.top,this._iInitialCounterTop+b._constants.px);this.$(b._constants.counterLeft).css(b._constants.top,this._iInitialCounterTop+b._constants.px);}};
b.prototype._checkOverflow=function(s,$){if(this._checkScrolling(s,$)&&s){this._setScrollWidth();var S=false;var c=false;var o=20;var i=this._getScrollContainer().scrollLeft();var d=s.scrollWidth;var e=s.clientWidth;if(Math.abs(d-e)===1){d=e;}if(!this._bRtl){if(i>o){S=true;}if((d>e)&&(i+e+o<d)){c=true;}}else{var f=q(s);if(f.scrollLeftRTL()>o){c=true;}if(f.scrollRightRTL()>o){S=true;}}this._updateLeftCounter();this._updateRightCounter(e,d);if(c!==this._bPreviousScrollForward||(S!==this._bPreviousScrollBack)){this._bPreviousScrollForward=c;this._bPreviousScrollBack=S;$.toggleClass("sapPFHScrollBack",S);$.toggleClass("sapPFHNoScrollBack",!S);$.toggleClass("sapPFHScrollForward",c);$.toggleClass("sapPFHNoScrollForward",!c);}}else{this._bPreviousScrollForward=false;this._bPreviousScrollBack=false;}};
b.prototype._setParentForNodes=function(c){var I=c?c.length:0;var d;var i,j;for(var o in c){c[o].removeAllAssociation(b._constants.parents,true);}for(i=0;i<I;i++){d=c[i].getChildren();if(d){for(j=0;j<d.length;j++){var e=this._getNode(b._getChildIdByElement(d[j]),c);if(e){e.addAssociation(b._constants.parents,c[i],true);}}}}};
b.prototype._getConnectionsMap=function(){var c=[];var n=this.getNodes();for(var i=0;i<n.length;i++){var p=this._getPositionOfNodeInMatrix(this._internalCalcMatrix,n[i]);var d=n[i].getChildren();if(d){for(var j=0;j<d.length;j++){var o={};o.sourceNode=n[i];var e=b._getChildIdByElement(d[j]);var f=this._getNode(e,n);if(f){if(typeof d[j]==="object"){o.label=d[j].connectionLabel;}o.targetNode=f;var g=this._getPositionOfNodeInMatrix(this._internalCalcMatrix,o.targetNode);o.connectionParts=this._calculateConnectionParts(p,g);c.push(o);}}}}this._internalConnectionMap=c;return c;};
b.prototype._getPositionOfNodeInMatrix=function(m,n){var p={};for(var i=0;i<m.length;i++){var c=m[i];for(var j=0;j<c.length;j++){var d=c[j];if(d&&d.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&d.getNodeId()===n.getNodeId()){p.y=i;p.x=j;return p;}}}return p;};
b.prototype._calculateConnectionParts=function(p,c){var d=[];var s=p.y;var S=p.x;S++;d.push({x:S,y:s});if(c.y>=p.y){while(s<c.y){s++;d.push({x:S,y:s});}}else{while(s>c.y){s--;d.push({x:S,y:s});}}while(S<c.x-1){S++;d.push({x:S,y:s});}return d;};
b.prototype._getConnectionMapEntries=function(c){var f=[];var o=null;var e=null;if(this._internalConnectionMap){for(var i=0;i<this._internalConnectionMap.length;i++){e=this._internalConnectionMap[i];if(e.label&&e.label.getId()===c.getId()){o=e;break;}}e=null;for(var j=0;j<this._internalConnectionMap.length;j++){e=this._internalConnectionMap[j];if(e.targetNode&&e.targetNode.getNodeId()===o.targetNode.getNodeId()){f.push(e);}}}return f;};
b.prototype._createLabelPressEventArgs=function(c,d){var e={};var E=[];if(d){for(var i=0;i<d.length;i++){var o={sourceNode:d[i].sourceNode,targetNode:d[i].targetNode,label:d[i].label};E.push(o);}}e.selectedLabel=c;e.connections=E;return e;};
b.prototype.applyNodeDisplayState=function(){var I=this.getNodes(),n=I?I.length:0,i=0;if(n!==0){while(i<n){I[i]._setRegularState();i++;}i=0;while((i<n)&&!I[i].getHighlighted()&&!I[i].getSelected()){i++;}if(i<n){i=0;while(i<n){if(!I[i].getHighlighted()&&!I[i].getSelected()){I[i]._setDimmedState();}i++;}}}};
b.InternalMatrixCalculation.prototype.checkInputNodeConsistency=function(e){var E=[],j,c,i,d,o,f=0;Object.keys(e).forEach(function(s){o=e[s];d=o.oNode.getChildren();i=d?d.length:0;if(o.oNode.getFocused()){f++;}j=0;while(j<i){c=b._getChildIdByElement(d[j]);if(!e[c]){E.push("Node identificator "+c+" used in children definition is not presented as the node itself. Element : "+o.nodeId);}j++;}});if(E.length>0){throw E;}return f>1;};
b.InternalMatrixCalculation.prototype.processCurrentElement=function(c,e,m){var E,d,n=true,f=true;if(c.isProcessed){return m;}this.nodePositions[c.nodeId]={"c":c,"x":this.iPositionX,"y":this.iPositionY*2};m[this.iPositionX][this.iPositionY++]=c;E=c.oNode.getChildren();c.isProcessed=true;d=this._sortBasedOnChildren(E,e);if(d){d.forEach(function(o){if(!o.isProcessed){f=false;while(this.iPositionY<o.lane){m[this.iPositionX][this.iPositionY++]=null;}m=this.processCurrentElement(o,e,m);}else if(n&&f){this.iPositionX++;n=false;}}.bind(this));}if(!E||f){if(n){this.iPositionX++;}this.iPositionY=0;}return m;};
b.prototype.getZoomLevel=function(){return this._zoomLevel;};
b.prototype.setZoomLevel=function(z){if(!this._getScrollContainer()){return;}var $=this._getScrollContainer();var s=null;var S;if($.get().length){s={scrollWidth:$.get()[0].scrollWidth,scrollHeight:$.get()[0].scrollHeight,scrollLeft:$.get()[0].scrollLeft,scrollTop:$.get()[0].scrollTop};S=s;if(this._zoomLevel===z){this._isInitialZoomLevelNeeded=false;return;}}if(!(z in l.ProcessFlowZoomLevel)){this._handleException("\""+z+"\" is not a valid entry of the enumeration for property zoom level of ProcessFlow");return;}this._zoomLevel=z;if(this._isInitialZoomLevelNeeded){this._isInitialZoomLevelNeeded=false;this.invalidate();}else{this.rerender();}if(s){if(D.support.touch){var h=parseInt(this._getScrollContainer().css("height").slice(0,-2),10);var w=parseInt(this._getScrollContainer().css("width").slice(0,-2),10);var i=this._getScrollContainer()[0].scrollHeight;var c=this._getScrollContainer()[0].scrollWidth;if(this.getScrollable()&&(i>h||c>w)){this._switchCursors(this._getScrollContainer(),this._defaultCursorClass,this._grabCursorClass);this._getScrollContainer().css("overflow","auto");}}$=this._getScrollContainer();S=this._getScrollContainerOnZoomChanged(s,$);$.scrollLeft(S.scrollLeft);$.scrollTop(S.scrollTop);this._adjustAndShowArrow();if(this._isFocusChanged){this._setFocusToNode();this._isFocusChanged=false;}}};
b.prototype.zoomOut=function(){var c=this.getZoomLevel();var n=c;switch(c){case(l.ProcessFlowZoomLevel.One):n=l.ProcessFlowZoomLevel.Two;break;case(l.ProcessFlowZoomLevel.Two):n=l.ProcessFlowZoomLevel.Three;break;case(l.ProcessFlowZoomLevel.Three):n=l.ProcessFlowZoomLevel.Four;break;default:break;}this.setZoomLevel(n);return this.getZoomLevel();};
b.prototype.zoomIn=function(){var c=this.getZoomLevel();var n=c;switch(c){case(l.ProcessFlowZoomLevel.Four):n=l.ProcessFlowZoomLevel.Three;break;case(l.ProcessFlowZoomLevel.Three):n=l.ProcessFlowZoomLevel.Two;break;case(l.ProcessFlowZoomLevel.Two):n=l.ProcessFlowZoomLevel.One;break;default:break;}this.setZoomLevel(n);return this.getZoomLevel();};
b.prototype.updateModel=function(){var n=this.getNodes();n.forEach(function(d){d._mergedLaneId=false;});var c=this.getLanes();c.forEach(function(d){d._mergedLanePosition=false;});this._internalLanes=[];if(this._isHeaderMode()){var o=this.getBindingInfo("lanes");this.getModel(o.model).refresh();}else{var N=this.getBindingInfo("nodes");this.getModel(N.model).refresh();}this.rerender();};
b.prototype.optimizeLayout=function(i){if(i===undefined){i=true;}if(this._isLayoutOptimized!==i){this._isLayoutOptimized=i;this.updateModel();}return this;};
b.prototype.getFocusedNode=function(){return this._lastNavigationFocusElement&&this._lastNavigationFocusElement.sId;};
b.prototype.updateNodesOnly=function(){var n=this.getBindingInfo("nodes");this.getModel(n.model).refresh();this.rerender();};
b.prototype.setSelectedPath=function(s,t){var n=this.getNodes(),i;if(n){if(s&&t){var c=0;for(i=0;i<n.length;i++){if(n[i].getNodeId()===s||n[i].getNodeId()===t){n[i].setSelected(true);c++;}else{n[i].setSelected(false);}}if(c===2){this.rerender();}}else if(!s&&!t){for(i=0;i<n.length;i++){n[i].setSelected(false);}this.rerender();}}};
b.prototype.setShowLabels=function(v){var o=this.getShowLabels();if(o&&!v){this.setProperty("showLabels",v,true);if(!this.getShowLabels()){this.setSelectedPath(null,null);}}else{this.setProperty("showLabels",v);}};
b.prototype.setFocusToLabel=function(c){this._changeNavigationFocus(this._lastNavigationFocusElement,c);};
b.prototype._labelCanGetFocus=function(c){return c&&c.getEnabled()&&(!this._bHighlightedMode||c._bHighlighted);};
b.prototype.getNode=function(n){var N=this.getNodes();for(var i=0;i<N.length;i++){if(N[i].getProperty("nodeId")===n){return N[i];}}};
b.prototype.getLane=function(s){var c=this.getLanes();for(var i=0;i<c.length;i++){if(c[i].getProperty("laneId")===s){return c[i];}}};
return b;});
sap.ui.predefine('sap/suite/ui/commons/ProcessFlowConnection',['./library','sap/ui/core/Control'],function(l,C){"use strict";
var P=C.extend("sap.suite.ui.commons.ProcessFlowConnection",{metadata:{library:"sap.suite.ui.commons",properties:{drawData:{type:"object[]",group:"Misc",defaultValue:null},zoomLevel:{type:"sap.suite.ui.commons.ProcessFlowZoomLevel",group:"Misc",defaultValue:"Two"},type:{type:"sap.suite.ui.commons.ProcessFlowConnectionType",group:"Appearance",defaultValue:"Normal",deprecated:true},state:{type:"sap.suite.ui.commons.ProcessFlowConnectionState",group:"Appearance",defaultValue:"Regular",deprecated:true}},defaultAggregation:"_labels",aggregations:{_labels:{type:"sap.suite.ui.commons.ProcessFlowConnectionLabel",multiple:true,singularName:"_label",visibility:"hidden"}}}});
P.prototype._oResBundle=null;P.prototype._showLabels=false;P.prototype._oStateOrderMapping=null;
P.prototype.init=function(){if(!this._oResBundle){this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");}this._oStateOrderMapping={};this._oStateOrderMapping[l.ProcessFlowConnectionLabelState.Neutral]=1;this._oStateOrderMapping[l.ProcessFlowConnectionLabelState.Positive]=2;this._oStateOrderMapping[l.ProcessFlowConnectionLabelState.Critical]=3;this._oStateOrderMapping[l.ProcessFlowConnectionLabelState.Negative]=4;};
P.prototype._getAriaText=function(t){var a="";var A=" "+this._oResBundle.getText('PF_CONNECTION_ENDS');if(this._isHorizontalLine(t)){a=this._oResBundle.getText('PF_CONNECTION_HORIZONTAL_LINE');if(t.arrow){a+=A;}}else if(this._isVerticalLine(t)){a=this._oResBundle.getText('PF_CONNECTION_VERTICAL_LINE');if(t.arrow){a+=A;}}else{a=this._oResBundle.getText('PF_CONNECTION_BRANCH');if(t.arrow){a+=A;}}return a;};
P.prototype._getVisibleLabel=function(){var v=null;if(this.getAggregation("_labels")){var L=this.getAggregation("_labels");for(var i=0;i<L.length;i++){var c=L[i];if(c&&c.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowConnectionLabel"){if(v){if(this._oStateOrderMapping[v.getState()]<this._oStateOrderMapping[c.getState()]){v=c;}else if(this._oStateOrderMapping[v.getState()]===this._oStateOrderMapping[c.getState()]){if(v.getPriority()<c.getPriority()){v=c;}}}else{v=c;}}}}return v;};
P.prototype._getShowLabels=function(){return P.prototype._showLabels;};
P.prototype._setShowLabels=function(s){P.prototype._showLabels=s;};
P.prototype._traverseConnectionData=function(){var c=this.getDrawData();if(!c){return{};}var t=this._createConnection(c);if(this.getAggregation("_labels")){t.labels=this.getAggregation("_labels");}return t;};
P.prototype._isVerticalLine=function(c){return c.hasOwnProperty("left")&&!c.left.draw&&c.hasOwnProperty("right")&&!c.right.draw&&c.hasOwnProperty("top")&&c.top.draw&&c.hasOwnProperty("bottom")&&c.bottom.draw;};
P.prototype._isHorizontalLine=function(c){return c.hasOwnProperty("left")&&c.left.draw&&c.hasOwnProperty("right")&&c.right.draw&&c.hasOwnProperty("top")&&!c.top.draw&&c.hasOwnProperty("bottom")&&!c.bottom.draw;};
P.prototype._createConnection=function(c){var L={draw:false,type:"",state:""};var o={right:L,top:L,left:L,bottom:L,arrow:false};for(var i=0;i<c.length;i++){o.right=this._createLine(c[i],"r",o.right);o.top=this._createLine(c[i],"t",o.top);o.left=this._createLine(c[i],"l",o.left);o.bottom=this._createLine(c[i],"b",o.bottom);if(c[i].flowLine.indexOf("r")>=0){if(c[i].hasArrow){o.arrow=true;}}}return o;};
P.prototype._createLine=function(c,d,a){var L={draw:a.draw,type:a.type,state:a.state};if(c.flowLine.indexOf(d)>=0){L.draw=true;if(c.targetNodeState===l.ProcessFlowNodeState.Neutral||c.targetNodeState===l.ProcessFlowNodeState.Positive||c.targetNodeState===l.ProcessFlowNodeState.Negative||c.targetNodeState===l.ProcessFlowNodeState.Critical){L.type=l.ProcessFlowConnectionType.Normal;}else if(c.targetNodeState===l.ProcessFlowNodeState.Planned||c.targetNodeState===l.ProcessFlowNodeState.PlannedNegative){if(L.type!==l.ProcessFlowConnectionType.Normal){L.type=l.ProcessFlowConnectionType.Planned;}}if(c.displayState===l.ProcessFlowDisplayState.Selected||c.displayState===l.ProcessFlowDisplayState.SelectedHighlighted||c.displayState===l.ProcessFlowDisplayState.SelectedHighlightedFocused||c.displayState===l.ProcessFlowDisplayState.SelectedFocused){L.state=l.ProcessFlowConnectionState.Selected;}else if(c.displayState===l.ProcessFlowDisplayState.Highlighted||c.displayState===l.ProcessFlowDisplayState.HighlightedFocused){if(L.state!==l.ProcessFlowConnectionState.Selected){L.state=l.ProcessFlowConnectionState.Highlighted;}}else if(c.displayState===l.ProcessFlowDisplayState.Regular||c.displayState===l.ProcessFlowDisplayState.RegularFocused){if(L.state!==l.ProcessFlowConnectionState.Highlighted&&L.state!==l.ProcessFlowConnectionState.Selected){L.state=l.ProcessFlowConnectionState.Regular;}}else if(c.displayState===l.ProcessFlowDisplayState.Dimmed||c.displayState===l.ProcessFlowDisplayState.DimmedFocused){if(L.state!==l.ProcessFlowConnectionState.Highlighted&&L.state!==l.ProcessFlowConnectionState.Regular&&L.state!==l.ProcessFlowConnectionState.Selected){L.state=l.ProcessFlowConnectionState.Dimmed;}}}return L;};
P.prototype.addConnectionData=function(s){var t=this.getDrawData();if(!t){t=[];}t.push(s);this.setDrawData(t);return t;};
P.prototype.destroyAggregation=function(a,s){this.removeAllAggregation("_labels",true);};
return P;});
sap.ui.predefine('sap/suite/ui/commons/ProcessFlowConnectionLabel',['sap/m/Button','./library','sap/ui/core/InvisibleText'],function(B,l,I){"use strict";
var P=B.extend("sap.suite.ui.commons.ProcessFlowConnectionLabel",{metadata:{library:"sap.suite.ui.commons",properties:{priority:{type:"int",group:"Misc",defaultValue:0},state:{type:"sap.suite.ui.commons.ProcessFlowConnectionLabelState",group:"Appearance",defaultValue:"Neutral"}}}});
P.prototype._bNavigationFocus=false;P.prototype._bSelected=false;P.prototype._bHighlighted=false;P.prototype.ACTIVE_CSS_CLASS="sapSuiteUiCommonsProcessFlowLabelActive";P.prototype.HOVER_CSS_CLASS="sapSuiteUiCommonsProcessFlowLabelHover";P.prototype.MOUSE_EVENTS="mouseenter mousedown mouseup mouseleave";P.prototype._oResBundle=null;P.prototype._bDimmed=false;
P.prototype.init=function(){if(B.prototype.init){B.prototype.init.apply(this,arguments);}this.addStyleClass("sapSuiteUiCommonsProcessFlowConnectionLabel");if(!this._oResBundle){this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");}};
P.prototype.exit=function(){this.$().unbind(this.MOUSE_EVENTS,this._handleEvents);};
P.prototype.onBeforeRendering=function(){this.$().unbind(this.MOUSE_EVENTS,this._handleEvents);this._configureStateClasses();this._setLabelWidth();this._setAriaDetails();};
P.prototype.onAfterRendering=function(){if(!this.getText()){if(this.$().children().hasClass("sapMBtnIconFirst")){this.$().children().removeClass("sapMBtnIconFirst");}}this.$().bind(this.MOUSE_EVENTS,this._handleEvents.bind(this));};
P.prototype._handleEvents=function(e){var p=sap.ui.require("sap/suite/ui/commons/ProcessFlow");if(!p){return;}switch(e.type){case p._mouseEvents.mouseEnter:this.$().find("*").addClass(this.HOVER_CSS_CLASS);break;case p._mouseEvents.mouseDown:this.$().find("*").removeClass(this.HOVER_CSS_CLASS);this.$().find("*").addClass(this.ACTIVE_CSS_CLASS);break;case p._mouseEvents.mouseUp:this.$().find("*").removeClass(this.ACTIVE_CSS_CLASS);this.$().find("*").addClass(this.HOVER_CSS_CLASS);break;case p._mouseEvents.mouseLeave:this.$().find("*").removeClass(this.ACTIVE_CSS_CLASS);this.$().find("*").removeClass(this.HOVER_CSS_CLASS);break;default:}};
P.prototype._getNavigationFocus=function(){return this._bNavigationFocus;};
P.prototype._setNavigationFocus=function(n){this._bNavigationFocus=n;};
P.prototype._setSelected=function(s){this._bSelected=s;};
P.prototype._getSelected=function(){return this._bSelected;};
P.prototype._setHighlighted=function(h){this._bHighlighted=h;};
P.prototype._getHighlighted=function(){return this._bHighlighted;};
P.prototype._setDimmed=function(d){this._bDimmed=d;};
P.prototype._getDimmed=function(){return this._bDimmed;};
P.prototype.setWidth=function(){};
P.prototype.setIconFirst=function(){};
P.prototype._setLabelWidth=function(){if(this.getIcon()){if(this.getText()){this.setProperty("width","4.5rem",false);}else{this.setProperty("width","2rem",false);}}else if(this.getText()&&this.getText().length>2){this.setProperty("width","4.5rem",false);}else{this.setProperty("width","2rem",false);}};
P.prototype._configureStateClasses=function(){switch(this.getState()){case l.ProcessFlowConnectionLabelState.Positive:this.addStyleClass("sapSuiteUiCommonsLabelStatePositive");break;case l.ProcessFlowConnectionLabelState.Critical:this.addStyleClass("sapSuiteUiCommonsLabelStateCritical");break;case l.ProcessFlowConnectionLabelState.Negative:this.addStyleClass("sapSuiteUiCommonsLabelStateNegative");break;default:this.addStyleClass("sapSuiteUiCommonsLabelStateNeutral");}if(this._getDimmed()&&this.getEnabled()){this.addStyleClass("sapSuiteUiCommonsLabelDimmed");}else{this.removeStyleClass("sapSuiteUiCommonsLabelDimmed");}if(this._getSelected()){this.addStyleClass("sapSuiteUiCommonsLabelSelected");}else{this.removeStyleClass("sapSuiteUiCommonsLabelSelected");}if(this._getHighlighted()){this.addStyleClass("sapSuiteUiCommonsLabelHighlighted");}else{this.removeStyleClass("sapSuiteUiCommonsLabelHighlighted");}};
P.prototype._setAriaDetails=function(){var i=new I();i.setText(this._oResBundle.getText('PF_CONNECTIONLABEL'));i.toStatic();var o=new I();o.setText(this.getText());o.toStatic();if(this.getAriaLabelledBy().length===0){this.addAriaLabelledBy(i);this.addAriaLabelledBy(o);}};
return P;});
sap.ui.predefine('sap/suite/ui/commons/ProcessFlowConnectionLabelRenderer',['sap/m/ButtonRenderer','sap/ui/core/Renderer'],function(B,R){"use strict";var P=R.extend(B);return P;},true);
sap.ui.predefine('sap/suite/ui/commons/ProcessFlowConnectionRenderer',['./library'],function(l){"use strict";var P={};
P.render=function(r,c){var C=c._traverseConnectionData();var z=c.getZoomLevel();r.write("<div");r.writeAttribute("id",c.getId());r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria-label",c._getAriaText(C));r.write(">");if(c._isHorizontalLine(C)){this._writeHorizontalLine(r,C,z,c);}else if(c._isVerticalLine(C)){this._writeVerticalLine(r,C,z,c._getShowLabels());}else{this._writeSpecialLine(r,C,z,c);}r.write("</div>");};
P._writeVerticalLine=function(r,c,z,s){r.write("<div");r.addClass("sapSuiteUiCommonsFloatLeft");if(s){r.addClass("sapSuiteUiCommonsPFWithLabel");}switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxZoom1Width");r.addClass("sapSuiteUiCommonsBoxWideZoom1Height");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxZoom3Width");r.addClass("sapSuiteUiCommonsBoxWideZoom3Height");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxZoom4Width");r.addClass("sapSuiteUiCommonsBoxWideZoom4Height");break;default:r.addClass("sapSuiteUiCommonsBoxZoom2Width");r.addClass("sapSuiteUiCommonsBoxWideZoom2Height");}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsFloatLeft");r.addClass("sapSuiteUiCommonsBoxMiddleBorderWidth");switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxWideZoom1Height");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxWideZoom3Height");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxWideZoom4Height");break;default:r.addClass("sapSuiteUiCommonsBoxWideZoom2Height");}r.addClass("sapSuiteUiCommonsBorderLeft");if(c.top.type===l.ProcessFlowConnectionType.Planned){r.addClass("sapSuiteUiCommonsBorderLeftTypePlanned");}else{r.addClass("sapSuiteUiCommonsBorderLeftTypeNormal");}if(c.top.state===l.ProcessFlowConnectionState.Highlighted){r.addClass("sapSuiteUiCommonsBorderLeftStateHighlighted");r.addClass("sapSuiteUiCommonsStateHighlighted");}else if(c.top.state===l.ProcessFlowConnectionState.Dimmed){r.addClass("sapSuiteUiCommonsBorderLeftStateDimmed");}else if(c.top.state===l.ProcessFlowConnectionState.Selected){r.addClass("sapSuiteUiCommonsBorderLeftStateSelected");r.addClass("sapSuiteUiCommonsStateSelected");}else{r.addClass("sapSuiteUiCommonsBorderLeftStateRegular");r.addClass("sapSuiteUiCommonsStateRegular");}r.writeClasses();r.write(">");r.write("</div>");P._resetFloat(r);};
P._writeHorizontalLine=function(r,c,z,C){r.write("<div");r.addClass("sapSuiteUiCommonsBoxWideWidth");switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxTopZoom1Height");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxTopZoom3Height");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxTopZoom4Height");break;default:r.addClass("sapSuiteUiCommonsBoxTopZoom2Height");}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");if(c.arrow){r.addClass("sapSuiteUiCommonsParentPosition");if(C._getShowLabels()){r.addClass("sapSuiteUiCommonsPFWithLabel");}switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxWideArrowZoom1Width");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxWideArrowZoom3Width");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxWideArrowZoom4Width");break;default:r.addClass("sapSuiteUiCommonsBoxWideArrowZoom2Width");}}else{r.addClass("sapSuiteUiCommonsBoxWideWidth");}r.addClass("sapSuiteUiCommonsBoxMiddleBorderHeight");r.addClass("sapSuiteUiCommonsBorderBottom");if(c.right.type===l.ProcessFlowConnectionType.Planned){r.addClass("sapSuiteUiCommonsBorderBottomTypePlanned");}else{r.addClass("sapSuiteUiCommonsBorderBottomTypeNormal");}if(c.right.state===l.ProcessFlowConnectionState.Highlighted){r.addClass("sapSuiteUiCommonsBorderBottomStateHighlighted");r.addClass("sapSuiteUiCommonsStateHighlighted");}else if(c.right.state===l.ProcessFlowConnectionState.Dimmed){r.addClass("sapSuiteUiCommonsBorderBottomStateDimmed");}else if(c.right.state===l.ProcessFlowConnectionState.Selected){r.addClass("sapSuiteUiCommonsBorderBottomStateSelected");r.addClass("sapSuiteUiCommonsStateSelected");}else{r.addClass("sapSuiteUiCommonsBorderBottomStateRegular");r.addClass("sapSuiteUiCommonsStateRegular");}r.writeClasses();r.write(">");if(c.labels&&C._showLabels){P._renderLabel(r,C,c);}if(c.arrow){r.write("<div");r.addClass("sapSuiteUiCommonsArrowRight");if(c.right.state===l.ProcessFlowConnectionState.Highlighted){r.addClass("sapSuiteUiCommonsBorderLeftStateHighlighted");}else if(c.right.state===l.ProcessFlowConnectionState.Dimmed){r.addClass("sapSuiteUiCommonsBorderLeftStateDimmed");}else if(c.right.state===l.ProcessFlowConnectionState.Selected){r.addClass("sapSuiteUiCommonsBorderLeftStateSelected");}else{r.addClass("sapSuiteUiCommonsBorderLeftStateRegular");}r.writeClasses();r.write(">");r.write("</div>");}r.write("</div>");};
P._writeSpecialLine=function(r,c,z,C){P._writeFirstRowOfSpecialLine(r,c,z,C);P._writeSecondRowOfSpecialLine(r,c,z,C);P._writeThirdRowOfSpecialLine(r,c,z,C);P._resetFloat(r);};
P._writeFirstRowOfSpecialLine=function(r,c,z,C){r.write("<div");r.addClass("sapSuiteUiCommonsFloatLeft");if(C._getShowLabels()){r.addClass("sapSuiteUiCommonsPFWithLabel");}switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxZoom1Width");r.addClass("sapSuiteUiCommonsBoxTopZoom1Height");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxZoom3Width");r.addClass("sapSuiteUiCommonsBoxTopZoom3Height");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxZoom4Width");r.addClass("sapSuiteUiCommonsBoxTopZoom4Height");break;default:r.addClass("sapSuiteUiCommonsBoxZoom2Width");r.addClass("sapSuiteUiCommonsBoxTopZoom2Height");}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");if(C._getShowLabels()){r.addClass("sapSuiteUiCommonsPFWithLabel");}r.addClass("sapSuiteUiCommonsFloatLeft");switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxTopZoom1Height");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxTopZoom3Height");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxTopZoom4Height");break;default:r.addClass("sapSuiteUiCommonsBoxTopZoom2Height");}if(c.hasOwnProperty("top")&&c.top.draw){r.addClass("sapSuiteUiCommonsBoxMiddleBorderWidth");r.addClass("sapSuiteUiCommonsBorderLeft");if(c.top.type===l.ProcessFlowConnectionType.Planned){r.addClass("sapSuiteUiCommonsBorderLeftTypePlanned");}else{r.addClass("sapSuiteUiCommonsBorderLeftTypeNormal");}if(c.top.state===l.ProcessFlowConnectionState.Highlighted){r.addClass("sapSuiteUiCommonsBorderLeftStateHighlighted");r.addClass("sapSuiteUiCommonsStateHighlighted");}else if(c.top.state===l.ProcessFlowConnectionState.Dimmed){r.addClass("sapSuiteUiCommonsBorderLeftStateDimmed");}else if(c.top.state===l.ProcessFlowConnectionState.Selected){r.addClass("sapSuiteUiCommonsBorderLeftStateSelected");r.addClass("sapSuiteUiCommonsStateSelected");}else{r.addClass("sapSuiteUiCommonsBorderLeftStateRegular");r.addClass("sapSuiteUiCommonsStateRegular");}}else{r.addClass("sapSuiteUiCommonsBoxMiddleWidth");}r.writeClasses();r.write(">");r.write("</div>");};
P._writeSecondRowOfSpecialLine=function(r,c,z,C){P._resetFloat(r);r.write("<div");r.addClass("sapSuiteUiCommonsFloatLeft");if(C._getShowLabels()){r.addClass("sapSuiteUiCommonsPFWithLabel");}switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxZoom1Width");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxZoom3Width");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxZoom4Width");break;default:r.addClass("sapSuiteUiCommonsBoxZoom2Width");}if(c.hasOwnProperty("left")&&c.left.draw){r.addClass("sapSuiteUiCommonsBoxMiddleBorderHeight");r.addClass("sapSuiteUiCommonsBorderBottom");if(c.left.type===l.ProcessFlowConnectionType.Planned){r.addClass("sapSuiteUiCommonsBorderBottomTypePlanned");}else{r.addClass("sapSuiteUiCommonsBorderBottomTypeNormal");}if(c.left.state===l.ProcessFlowConnectionState.Highlighted){r.addClass("sapSuiteUiCommonsBorderBottomStateHighlighted");r.addClass("sapSuiteUiCommonsStateHighlighted");}else if(c.left.state===l.ProcessFlowConnectionState.Dimmed){r.addClass("sapSuiteUiCommonsBorderBottomStateDimmed");}else if(c.left.state===l.ProcessFlowConnectionState.Selected){r.addClass("sapSuiteUiCommonsBorderBottomStateSelected");r.addClass("sapSuiteUiCommonsStateSelected");}else{r.addClass("sapSuiteUiCommonsBorderBottomStateRegular");r.addClass("sapSuiteUiCommonsStateRegular");}}else{r.addClass("sapSuiteUiCommonsBoxMiddleHeight");}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsFloatLeft");if(C._getShowLabels()){r.addClass("sapSuiteUiCommonsPFWithLabel");}r.addClass("sapSuiteUiCommonsBoxMiddleWidth");r.addClass("sapSuiteUiCommonsBoxMiddleBorderHeight");if((c.hasOwnProperty("left")&&c.left.draw)||(c.hasOwnProperty("right")&&c.right.draw)||(c.hasOwnProperty("top")&&c.top.draw)||(c.hasOwnProperty("bottom")&&c.bottom.draw)){r.addClass("sapSuiteUiCommonsBorderBottom");r.addClass("sapSuiteUiCommonsBorderBottomTypeNormal");if(c.right.state===l.ProcessFlowConnectionState.Highlighted||c.top.state===l.ProcessFlowConnectionState.Highlighted||c.left.state===l.ProcessFlowConnectionState.Highlighted||c.bottom.state===l.ProcessFlowConnectionState.Highlighted){r.addClass("sapSuiteUiCommonsBorderBottomStateHighlighted");r.addClass("sapSuiteUiCommonsStateHighlighted");}else if(c.right.state===l.ProcessFlowConnectionState.Selected||c.top.state===l.ProcessFlowConnectionState.Selected||c.left.state===l.ProcessFlowConnectionState.Selected||c.bottom.state===l.ProcessFlowConnectionState.Selected){r.addClass("sapSuiteUiCommonsBorderBottomStateSelected");r.addClass("sapSuiteUiCommonsStateSelected");}else if(c.right.state===l.ProcessFlowConnectionState.Dimmed||c.top.state===l.ProcessFlowConnectionState.Dimmed||c.left.state===l.ProcessFlowConnectionState.Dimmed||c.bottom.state===l.ProcessFlowConnectionState.Dimmed){r.addClass("sapSuiteUiCommonsBorderBottomStateDimmed");}else{r.addClass("sapSuiteUiCommonsBorderBottomStateRegular");r.addClass("sapSuiteUiCommonsStateRegular");}}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");r.addClass("sapSuiteUiCommonsFloatLeft");if(C._getShowLabels()){r.addClass("sapSuiteUiCommonsPFWithLabel");}if(c.arrow){r.addClass("sapSuiteUiCommonsParentPosition");switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxArrowZoom1Width");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxArrowZoom3Width");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxArrowZoom4Width");break;default:r.addClass("sapSuiteUiCommonsBoxArrowZoom2Width");}}else if(C._getShowLabels()){switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxZoom1WidthWithLabel");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxZoom3WidthWithLabel");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxZoom4WidthWithLabel");break;default:r.addClass("sapSuiteUiCommonsBoxZoom2WidthWithLabel");}}else{switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxZoom1Width");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxZoom3Width");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxZoom4Width");break;default:r.addClass("sapSuiteUiCommonsBoxZoom2Width");}}if(c.hasOwnProperty("right")&&c.right.draw){r.addClass("sapSuiteUiCommonsBoxMiddleBorderHeight");r.addClass("sapSuiteUiCommonsBorderBottom");if(c.right.type===l.ProcessFlowConnectionType.Planned){r.addClass("sapSuiteUiCommonsBorderBottomTypePlanned");}else{r.addClass("sapSuiteUiCommonsBorderBottomTypeNormal");}if(c.right.state===l.ProcessFlowConnectionState.Highlighted){r.addClass("sapSuiteUiCommonsBorderBottomStateHighlighted");r.addClass("sapSuiteUiCommonsStateHighlighted");}else if(c.right.state===l.ProcessFlowConnectionState.Dimmed){r.addClass("sapSuiteUiCommonsBorderBottomStateDimmed");}else if(c.right.state===l.ProcessFlowConnectionState.Selected){r.addClass("sapSuiteUiCommonsBorderBottomStateSelected");r.addClass("sapSuiteUiCommonsStateSelected");}else{r.addClass("sapSuiteUiCommonsBorderBottomStateRegular");r.addClass("sapSuiteUiCommonsStateRegular");}}else{r.addClass("sapSuiteUiCommonsBoxMiddleHeight");}r.writeClasses();r.write(">");if(c.labels&&C._showLabels){P._renderLabel(r,C,c);}if(c.arrow){r.write("<div");r.addClass("sapSuiteUiCommonsArrowRight");if(c.hasOwnProperty("right")){if(c.right.state===l.ProcessFlowConnectionState.Highlighted){r.addClass("sapSuiteUiCommonsBorderLeftStateHighlighted");}else if(c.right.state===l.ProcessFlowConnectionState.Dimmed){r.addClass("sapSuiteUiCommonsBorderLeftStateDimmed");}else if(c.right.state===l.ProcessFlowConnectionState.Selected){r.addClass("sapSuiteUiCommonsBorderLeftStateSelected");}else{r.addClass("sapSuiteUiCommonsBorderLeftStateRegular");}}r.writeClasses();r.write(">");r.write("</div>");}r.write("</div>");};
P._writeThirdRowOfSpecialLine=function(r,c,z,C){P._resetFloat(r);r.write("<div");r.addClass("sapSuiteUiCommonsFloatLeft");if(C._getShowLabels()){r.addClass("sapSuiteUiCommonsPFWithLabel");}switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxZoom1Width");r.addClass("sapSuiteUiCommonsBoxBottomZoom1Height");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxZoom3Width");r.addClass("sapSuiteUiCommonsBoxBottomZoom3Height");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxZoom4Width");r.addClass("sapSuiteUiCommonsBoxBottomZoom4Height");break;default:r.addClass("sapSuiteUiCommonsBoxZoom2Width");r.addClass("sapSuiteUiCommonsBoxBottomZoom2Height");}r.writeClasses();r.write(">");r.write("</div>");r.write("<div");if(C._getShowLabels()){r.addClass("sapSuiteUiCommonsPFWithLabel");}r.addClass("sapSuiteUiCommonsFloatLeft");switch(z){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsBoxBottomZoom1Height");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsBoxBottomZoom3Height");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsBoxBottomZoom4Height");break;default:r.addClass("sapSuiteUiCommonsBoxBottomZoom2Height");}if(c.hasOwnProperty("bottom")&&c.bottom.draw){r.addClass("sapSuiteUiCommonsBoxMiddleBorderWidth");r.addClass("sapSuiteUiCommonsBorderLeft");if(c.bottom.type===l.ProcessFlowConnectionType.Planned){r.addClass("sapSuiteUiCommonsBorderLeftTypePlanned");}else{r.addClass("sapSuiteUiCommonsBorderLeftTypeNormal");}if(c.bottom.state===l.ProcessFlowConnectionState.Highlighted){r.addClass("sapSuiteUiCommonsBorderLeftStateHighlighted");r.addClass("sapSuiteUiCommonsStateHighlighted");}else if(c.bottom.state===l.ProcessFlowConnectionState.Dimmed){r.addClass("sapSuiteUiCommonsBorderLeftStateDimmed");}else if(c.bottom.state===l.ProcessFlowConnectionState.Selected){r.addClass("sapSuiteUiCommonsBorderLeftStateSelected");r.addClass("sapSuiteUiCommonsStateSelected");}else{r.addClass("sapSuiteUiCommonsBorderLeftStateRegular");r.addClass("sapSuiteUiCommonsStateRegular");}}else{r.addClass("sapSuiteUiCommonsBoxMiddleWidth");}r.writeClasses();r.write(">");r.write("</div>");};
P._resetFloat=function(r){r.write("<div");r.addClass("sapSuiteUiCommonsFloatClear");r.writeClasses();r.write(">");r.write("</div>");};
P._renderLabel=function(r,c){var L=c._getVisibleLabel();if(c.getAggregation("_labels")){var a=c.getAggregation("_labels");for(var i=0;i<a.length;i++){if(a[i]._getSelected()){L._setDimmed(false);if(a[i].getId()!==L.getId()){L._setSelected(true);a[i]._setSelected(false);}}}}if(L){r.renderControl(L);}};
return P;},true);
sap.ui.predefine('sap/suite/ui/commons/ProcessFlowLaneHeader',['jquery.sap.global','sap/m/Image','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/Device','sap/ui/core/Icon'],function(q,I,l,C,a,D,b){"use strict";
var P=C.extend("sap.suite.ui.commons.ProcessFlowLaneHeader",{metadata:{library:"sap.suite.ui.commons",properties:{text:{type:"string",group:"Misc",defaultValue:null},iconSrc:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},position:{type:"int",group:"Misc",defaultValue:null},laneId:{type:"string",group:"Misc",defaultValue:null},state:{type:"object",group:"Misc",defaultValue:null},zoomLevel:{type:"sap.suite.ui.commons.ProcessFlowZoomLevel",group:"Misc",defaultValue:null}},events:{press:{parameters:{oEvent:{type:"object"}}}}}});
P.prototype._oResBundle=null;P.prototype._mergedLanePosition=null;P.symbolType={startSymbol:"startSymbol",endSymbol:"endSymbol",processSymbol:"processSymbol",standardType:"standardType"};P._constants={halfGapSize:0.0241,minPercentage:0.025,ringThickness:5,ringInnerRadius:24,positionX:32,positionY:32,outerCircleRadius:32,outerCircleStrokeColor:"OuterCircleStrikeColor",outerCircleStrokeWidth:1,sectorPositiveColor:"suiteUiCommonsProcessFlowHeaderPositiveColor",sectorNegativeColor:"suiteUiCommonsProcessFlowHeaderNegativeColor",sectorNeutralColor:"suiteUiCommonsProcessFlowHeaderNeutralColor",sectorCriticalColor:"suiteUiCommonsProcessFlowHeaderCriticalColor",sectorPlannedColor:"suiteUiCommonsProcessFlowHeaderPlannedColor",ellipsis:'...',ellipsisLength:3};
P.prototype.init=function(){this._virtualTableSpan=1;if(!this._oResBundle){this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");}};
P.prototype.exit=function(){this._destroyImage();this.$().unbind("click",this.ontouchend);};
P.prototype.onBeforeRendering=function(){this.$("lh-icon").off('click',q.proxy(this.ontouchend,this));this.$().unbind("click",this.ontouchend);};
P.prototype.onAfterRendering=function(){var t=this.$();var $=this.$("lh-icon");var c='click';if(D.support.touch){c='touchend';}if($.length>0){$.on(c,q.proxy(this.ontouchend,this));$.css("cursor","inherit");}this.$().bind("click",q.proxy(this.ontouchend,this));if(this._isHeaderMode()){t.addClass("suiteUiProcessFlowLaneHeaderPointer");}else{t.removeClass("suiteUiProcessFlowLaneHeaderPointer");}if(D.browser.msie||D.browser.mozilla){this.$("lh-text").css("word-break","break-all");}if(!this._ellipsisDisabled&&!P._hasNativeLineClamp){this._clampText();}};
P.prototype.ontouchend=function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault();}if(this){this.firePress(this);}if(e&&!e.isPropagationStopped()){e.stopPropagation();}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation();}};
P.prototype._setMergedPosition=function(p){this._mergedLanePosition=p;};
P.prototype._getSymbolType=function(){return this._oSymbolType?this._oSymbolType:P.symbolType.standardType;};
P.prototype._setSymbolType=function(s,c){c._oSymbolType=s;};
P.prototype._getImage=function(i,s){this._destroyImage();if(this._oImageControl){this._oImageControl.setSrc(s);}else{this._oImageControl=a.createControlByURI(s,I);this._oImageControl.sId=i;this._oImageControl.setParent(this,null,true);}if(this._oImageControl instanceof b){this._oImageControl.setUseIconTooltip(false);}return this._oImageControl;};
P.prototype._setHeaderMode=function(i){this._bHeaderMode=i;};
P._setVirtualTableSpan=function(e){this._virtualTableSpan=e;};
P._getVirtualTableSpan=function(){return this._virtualTableSpan;};
P.prototype._isHeaderMode=function(){return this._bHeaderMode;};
P.prototype._clampValues=function(c,m,d){var i=c.length-1,e=false,v;while(i>=0){v=c[i];if(v<m){c[i]=d;e=true;}i--;}return e;};
P.prototype._rescaleToUnit=function(r,m){var R,i,v,V,c,d;if(!m){m=0;}i=r.length-1;R=0;v=V=0;while(i>=0){c=r[i];if(c>0){if(c<=m){V++;}else{R+=r[i];}v++;}i--;}R-=(v-V)*m;d=(1-v*m)/R;i=r.length-1;while(i>=0){c=r[i];if(c>0){if(c<=m){r[i]=m;}else{r[i]=(c-m)*d+m;}}i--;}};
P.prototype._countGaps=function(c){var i=c.length-1,g=0;while(i>=0){if(c[i]>0){g++;}i--;}if(g===1){g=0;}return g;};
P.prototype._rescaleByFactor=function(r,f){var i=r.length-1;while(i>=0){r[i]*=f;i--;}};
P.prototype._colorMap=[P._constants.sectorPositiveColor,P._constants.sectorNegativeColor,P._constants.sectorNeutralColor,P._constants.sectorPlannedColor,P._constants.sectorCriticalColor];
P.prototype._calculateSectorRangeDefinitions=function(c,f){var d=[],e=-Math.PI/2,g,h=c.length,i=0;while(i<h){if(c[i]>0){g=e+2*Math.PI*c[i];d.push({start:e,end:g,color:this._colorMap[i]});e=g+f;}i++;}return d;};
P.prototype._renderDonutPercentages=function(r){var s=this.getState(),g=0,S,p=[0,0,0,0],f,c,h=P._constants.halfGapSize,R=P._constants.ringInnerRadius,i=P._constants.ringThickness,d=P._constants.ringInnerRadius+i,o=P._constants.outerCircleStrokeColor,O=P._constants.outerCircleStrokeWidth,e=P._constants.outerCircleRadius,j=P._constants.positionX,k=P._constants.positionY,m=P._constants.minPercentage;if(s&&Object.prototype.toString.call(s)==='[object Array]'&&(s.length>0)){s.forEach(function(n){switch(n.state){case l.ProcessFlowNodeState.Positive:p[0]=n.value;break;case l.ProcessFlowNodeState.Negative:p[1]=n.value;break;case l.ProcessFlowNodeState.Neutral:p[2]=n.value;break;case l.ProcessFlowNodeState.Planned:p[3]=n.value;break;case l.ProcessFlowNodeState.Critical:p[4]=n.value;break;default:p[3]=n.value;}});this._clampValues(p,0,0);this._rescaleToUnit(p);this._rescaleToUnit(p,m);g=this._countGaps(p);f=(1-g*h/Math.PI);this._rescaleByFactor(p,f);this._renderCircle(r,o,O,j,k,e);if(g>0){S=this._calculateSectorRangeDefinitions(p,2*h);this._renderDonutSectors(r,S,j,k,R,d);}else{c=this._selectColor(p);this._renderCircle(r,c,i,j,k,R+i/2);}}else{this._renderCircle(r,o,O,j,k,e);}};
P.prototype._renderCircle=function(r,s,c,p,d,e){r.write("<circle");r.writeAttribute("id",this.getId()+"-donut-circle");if(s!==P._constants.outerCircleStrokeColor){r.writeAttributeEscaped("class","suiteUiCommonsProcessFlowHeaderIconFill "+s);}else{r.writeAttribute("class","suiteUiCommonsProcessFlowHeaderIconFill");}r.writeAttributeEscaped("stroke-width",c);r.writeAttributeEscaped("cx",p);r.writeAttributeEscaped("cy",d);r.writeAttributeEscaped("r",e);r.write("></circle>");};
P.prototype._renderDonutSectors=function(r,s,p,c,d,e){var i=0,f=s.length,S,g;while(i<f){S=s[i];g=this._getDonutSectorPath(p,c,S.start,S.end,d,e);r.write("<path");r.writeAttribute("id",this.getId()+"-donut-segment-"+i);r.writeAttributeEscaped("d",g);r.writeAttributeEscaped("class",S.color);r.writeAttribute("opacity","1");r.write("></path>");i++;}};
P.prototype._selectColor=function(p){var c;if(p[0]){c=P._constants.sectorPositiveColor;}else if(p[1]){c=P._constants.sectorNegativeColor;}else if(p[2]){c=P._constants.sectorNeutralColor;}else if(p[3]){c=P._constants.sectorPlannedColor;}else if(p[4]){c=P._constants.sectorCriticalColor;}else{c=P._constants.sectorNeutralColor;}return c;};
P.prototype._getDonutSectorPath=function(p,c,s,e,r,d){var o=0,f,g,h,i,S,j,E,k,m;if((e-s)%(Math.PI*2)>Math.PI){o=1;}j=Math.cos(s);E=Math.cos(e);k=Math.sin(s);m=Math.sin(e);f=(p+r*j).toFixed(3)+','+(c+r*k).toFixed(3);g=(p+d*j).toFixed(3)+','+(c+d*k).toFixed(3);h=(p+d*E).toFixed(3)+','+(c+d*m).toFixed(3);i=(p+r*E).toFixed(3)+','+(c+r*m).toFixed(3);S="M"+f+"L"+g+"A"+d+','+d+" 0 "+o+" 1 "+h+"L"+i+"A"+r+','+r+" 0 "+o+" 0 "+f+"z";return S;};
P.prototype._destroyImage=function(){if(this._oImageControl){this._oImageControl.destroy();}this._oImageControl=null;};
P.prototype._clampText=function(){var $=this.$("lh-text").length?this.$("lh-text"):null,t=this.getText(),L="",e=P._constants.ellipsis,E=P._constants.ellipsisLength,s=E+1,m,i=t.length,M,v;if($){M=parseInt($.css("height").slice(0,-2),10);if($[0].scrollHeight>M){v=$.css("visibility");$.css("visibility","hidden");L=t;do{m=(s+i)>>1;$.textContent=t.slice(0,m-E)+e;if($.scrollHeight>M){i=m;}else{s=m;L=$.textContent;}}while(i-s>1);$.css("visibility",v);}if($.scrollHeight>M){$.textContent=L;}}};
P._hasNativeLineClamp=(function(){return document.documentElement.style.webkitLineClamp!==undefined;}());
P.prototype._getAriaText=function(){var A="";var s=this.getState();if(s){var c=[];for(var i in s){c.push(s[i].value);}this._clampValues(c,0,0);this._rescaleToUnit(c);A=this._oResBundle.getText('PF_ARIA_STATUS');for(var j in s){if(s[j].value!==0){var v=" "+Math.round(c[j]*100)+"% "+s[j].state+",";A=A.concat(v);}}A=A.slice(0,-1);}return A;};
P.prototype._getSymbolAriaText=function(){var A="";switch(this._getSymbolType()){case P.symbolType.startSymbol:A=this._oResBundle.getText('PF_ARIA_SYMBOL_LANE_START');break;case P.symbolType.endSymbol:A=this._oResBundle.getText('PF_ARIA_SYMBOL_LANE_END');break;case P.symbolType.processSymbol:A=this._oResBundle.getText('PF_ARIA_SYMBOL_LANE_PROCESS');break;default:}return A;};
P.createNewStartSymbol=function(i){var s=new P({laneId:"processFlowLaneStart"});s._setSymbolType(P.symbolType.startSymbol,s);s._setHeaderMode(i);return s;};
P.createNewEndSymbol=function(i){var e=new P({laneId:"processFlowLaneEnd"});e._setSymbolType(P.symbolType.endSymbol,e);e._setHeaderMode(i);return e;};
P.createNewProcessSymbol=function(i){var p=new P({laneId:"processFlowLaneProcess",iconSrc:"sap-icon://process"});p._setSymbolType(P.symbolType.processSymbol,p);p._setHeaderMode(i);return p;};
P.enableEllipsisSupportForText=function(i){this._ellipsisDisabled=!i;};
P.prototype.getPosition=function(){if(this._mergedLanePosition){return this._mergedLanePosition;}else{return this.getProperty("position");}};
return P;});
sap.ui.predefine('sap/suite/ui/commons/ProcessFlowLaneHeaderRenderer',['jquery.sap.global','sap/suite/ui/commons/ProcessFlowLaneHeader'],function(q,P){"use strict";var a={};
a.render=function(r,c){switch(c._getSymbolType()){case P.symbolType.startSymbol:this._writeSymbolNodeType(r,c,"-start",["suiteUiProcessFlowLaneHeaderStartEndSymbol","suiteUiProcessFlowLaneHeaderStartSymbol"],["suiteUiProcessFlowLaneHeaderStartEndSymbolContainer","suiteUiProcessFlowLaneHeaderNoSelection"],false,c._isHeaderMode());break;case P.symbolType.endSymbol:this._writeSymbolNodeType(r,c,"-end",["suiteUiProcessFlowLaneHeaderStartEndSymbol","suiteUiProcessFlowLaneHeaderEndSymbol"],["suiteUiProcessFlowLaneHeaderStartEndSymbolContainer","suiteUiProcessFlowLaneHeaderNoSelection"],false,c._isHeaderMode());break;case P.symbolType.processSymbol:this._writeSymbolNodeType(r,c,"-process",["suiteUiProcessFlowLaneHeaderProcessSymbol"],["suiteUiProcessFlowLaneHeaderProcessSymbolContainer","suiteUiProcessFlowLaneHeaderNoSelection"],true,c._isHeaderMode());break;default:this._writeDefaultNodeType(r,c);}};
a._writeSymbolNodeType=function(r,c,s,b,d,i){r.write("<div");r.writeControlData(c);d.forEach(function(e){r.addClass(q.sap.encodeHTML(e));});r.writeClasses();r.writeAttribute("role","separator");r.writeAttributeEscaped("aria-label",c._getSymbolAriaText());r.write(">");r.write("<div");r.writeAttributeEscaped("id",c.getId()+s);b.forEach(function(e){r.addClass(q.sap.encodeHTML(e));});r.writeClasses();r.write(">");if(i){var I=c.getIconSrc();if(I){var o=c._getImage(c.getId()+"-lh-icon",I);r.renderControl(o);}}r.write("</div>");r.write("</div>");};
a._writeDefaultNodeType=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("suiteUiProcessFlowLaneHeaderContainer");r.addClass("suiteUiProcessFlowLaneHeaderNoSelection");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-standard");r.writeAttribute("role","image");var s=c.getText()+", "+c._getAriaText();r.writeAttributeEscaped("aria-label",s);r.addClass("suiteUiProcessFlowLaneHeaderBodyContainer");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-horizontal-line");r.addClass("suiteUiProcessFlowLaneHeaderHorizontalLine");r.writeClasses();r.write("></div>");r.write("<svg");r.writeAttribute("id",c.getId()+"-donut-chart");r.addClass("suiteUiProcessFlowLaneHeaderDonutSvg");r.writeClasses();r.write(">");c._renderDonutPercentages(r);r.write("</svg>");r.write("<div");r.writeAttribute("id",c.getId()+"-lh-icon-container");r.addClass("suiteUiProcessFlowLaneHeaderIconContainer");r.writeClasses();r.write(">");var i=c.getIconSrc();if(i){var I=c._getImage(c.getId()+"-lh-icon",i);I.addStyleClass("suiteUiProcessFlowLaneHeaderProcessSymbolIcon");r.renderControl(I);}r.write("</div>");r.write("</div>");r.write("<div");r.writeAttribute("id",c.getId()+"-lh-text-container");r.addClass("suiteUiProcessFlowLaneHeaderTextContainer");r.writeClasses();r.write(">");r.write("<span");r.writeAttribute("id",c.getId()+"-lh-text");r.addClass("suiteUiProcessFlowLaneHeaderText");r.writeClasses();r.writeAttribute("aria-hidden",true);r.write(">");r.writeEscaped(c.getText());r.write("</span>");r.write("</div>");r.write("</div>");};
return a;},true);
sap.ui.predefine('sap/suite/ui/commons/ProcessFlowNode',['jquery.sap.global','sap/m/Text','./library','sap/ui/core/Control','sap/ui/core/IconPool','sap/ui/Device','sap/ui/core/Icon','sap/base/Log'],function(q,T,l,C,I,D,a,L){"use strict";
var P=C.extend("sap.suite.ui.commons.ProcessFlowNode",{metadata:{library:"sap.suite.ui.commons",properties:{title:{type:"string",group:"Misc",defaultValue:null},isTitleClickable:{type:"boolean",group:"Behavior",defaultValue:false,deprecated:true},laneId:{type:"string",group:"Misc",defaultValue:null},nodeId:{type:"string",group:"Misc",defaultValue:null},state:{type:"sap.suite.ui.commons.ProcessFlowNodeState",group:"Appearance",defaultValue:"Neutral"},type:{type:"sap.suite.ui.commons.ProcessFlowNodeType",group:"Appearance",defaultValue:"Single"},children:{type:"any[]",group:"Misc",defaultValue:null},titleAbbreviation:{type:"string",group:"Data",defaultValue:null},stateText:{type:"string",group:"Data",defaultValue:null},texts:{type:"string[]",group:"Misc",defaultValue:null},highlighted:{type:"boolean",group:"Appearance",defaultValue:false},focused:{type:"boolean",group:"Appearance",defaultValue:false},tag:{type:"object",group:"Misc",defaultValue:null},selected:{type:"boolean",group:"Appearance",defaultValue:false}},aggregations:{zoomLevelOneContent:{type:"sap.ui.core.Control",multiple:false,group:"Misc"},zoomLevelTwoContent:{type:"sap.ui.core.Control",multiple:false,group:"Misc"},zoomLevelThreeContent:{type:"sap.ui.core.Control",multiple:false,group:"Misc"},zoomLevelFourContent:{type:"sap.ui.core.Control",multiple:false,group:"Misc"}},associations:{parents:{type:"sap.suite.ui.commons.ProcessFlowNode",multiple:true,singularName:"parent"}},events:{titlePress:{deprecated:true,parameters:{oEvent:{type:"object"}}},press:{parameters:{oEvent:{type:"object"}}}}}});
P.prototype._zoomLevel=l.ProcessFlowZoomLevel.Two;P.prototype._tag=null;P.prototype._displayState=l.ProcessFlowDisplayState.Regular;P.prototype._oResBundle=null;P.prototype._mergedLaneId=null;P.prototype._foldedCorner=false;P.prototype._foldedCornerControl=null;P.prototype._parent=null;P.prototype._headerControl=null;P.prototype._stateTextControl=null;P.prototype._iconControl=null;P.prototype._text1Control=null;P.prototype._text2Control=null;P.prototype._navigationFocus=false;P.prototype._sMouseEvents=" mousedown mouseup mouseenter mouseleave ";P.prototype._sMouseTouchEvents=D.support.touch?'saptouchstart saptouchcancel touchstart touchend':'';if(D.browser.msie){P.prototype._grabCursorClass="sapSuiteUiGrabCursorIEPF";P.prototype._grabbingCursorClass="sapSuiteUiGrabbingCursorIEPF";}else{P.prototype._grabCursorClass="sapSuiteUiGrabCursorPF";P.prototype._grabbingCursorClass="sapSuiteUiGrabbingCursorPF";}P.prototype._nodeHoverClass="sapSuiteUiCommonsProcessFlowNodeHover";P.prototype._nodeActiveClass="sapSuiteUiCommonsProcessFlowNodeActive";P.prototype._nodePlannedClass="sapSuiteUiCommonsProcessFlowNodeStatePlanned";P.prototype._nodePlannedClassIdentifier="."+P.prototype._nodePlannedClass;P.prototype._nodeFCHoverClass="sapSuiteUiCommonsProcessFlowFoldedCornerNodeHover";P.prototype._nodeFCActiveClass="sapSuiteUiCommonsProcessFlowFoldedCornerNodeActive";P.prototype._nodeFCIconHoverClass="sapSuiteUiCommonsProcessFlowFoldedCornerNodeIconHover";P.prototype._nodeAggregatedClass="sapSuiteUiCommonsProcessFlowNodeAggregated";P.prototype._nodeAggregatedHoveredClass="sapSuiteUiCommonsProcessFlowNodeAggregatedHovered";P.prototype._nodeAggregatedDimmedClass="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmed";P.prototype._nodeAggregatedFocusedClass="sapSuiteUiCommonsProcessFlowNodeAggregatedFocused";P.prototype._nodeAggregatedPressedClass="sapSuiteUiCommonsProcessFlowNodeAggregatedPressed";P.prototype._nodeAggregatedDimmedPressedClass="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmedPressed";P.prototype._nodeAggregatedDimmedHoveredClass="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmedHovered";P.prototype._nodeAggregatedClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedZoomLevel4";P.prototype._nodeAggregatedHoveredClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedHoveredZoomLevel4";P.prototype._nodeAggregatedPressedClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedPressedZoomLevel4";P.prototype._nodeAggregatedDimmedClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmedZoomLevel4";P.prototype._nodeAggregatedFocusedClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedFocusedZoomLevel4";P.prototype._nodeAggregatedDimmedPressedClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmedPressedZoomLevel4";P.prototype._nodeAggregatedDimmedHoveredClassZoomLevel4="sapSuiteUiCommonsProcessFlowNodeAggregatedDimmedHoveredZoomLevel4";
P.prototype.init=function(){I.addIcon("context-menu","businessSuite","PFBusinessSuiteInAppSymbols","e02b",true);if(!this._oResBundle){this._oResBundle=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");}};
P.prototype.exit=function(){if(this._foldedCornerControl){this._foldedCornerControl.destroy();this._foldedCornerControl=null;}if(this._headerControl){this._headerControl.destroy();this._headerControl=null;}if(this._stateTextControl){this._stateTextControl.destroy();this._stateTextControl=null;}if(this._iconControl){this._iconControl.destroy();this._iconControl=null;}if(this._text1Control){this._text1Control.destroy();this._text1Control=null;}if(this._text2Control){this._text2Control.destroy();this._text2Control=null;}this.$().unbind(this._sMouseEvents,this._handleEvents);if(D.support.touch){this.$().unbind(this._sMouseTouchEvents,this._handleEvents);}};
P.prototype.onBeforeRendering=function(){this.$().unbind(this._sMouseEvents,this._handleEvents);if(D.support.touch){this.$().unbind(this._sMouseTouchEvents,this._handleEvents);}};
P.prototype.onAfterRendering=function(){this._sMouseEvents=this._sMouseEvents.concat(' ',this._sMouseTouchEvents);this.$().bind(this._sMouseEvents,q.proxy(this._handleEvents,this));};
P.prototype._handleClick=function(e){if(this._parent&&this._parent._bHighlightedMode&&this._getDisplayState()===l.ProcessFlowDisplayState.Dimmed||this._getDisplayState()===l.ProcessFlowDisplayState.DimmedFocused){L.info("Event ignored, node in dimmed state.");}else if(this._parent){if(e.target.id.indexOf("title")>=0&&this.getIsTitleClickable()){this._parent.fireNodeTitlePress(this);}else{this._parent.fireNodePress(this);}this.getParent()._changeNavigationFocus(this.getParent()._getLastNavigationFocusElement(),this);}if(e&&!e.isPropagationStopped()){e.stopPropagation();}if(e&&!e.isImmediatePropagationStopped()){e.stopImmediatePropagation();}};
P.prototype.onclick=function(e){if(e&&!e.isDefaultPrevented()){e.preventDefault();}this._handleClick(e);};
P.prototype._handleEvents=function(e){var t=this.$().find('*');var $=this.$().attr('id');var i=this._getFoldedCorner();var s=this.getParent();if(e&&!e.isDefaultPrevented()){e.preventDefault();}if(this._parent&&this._parent._bHighlightedMode&&this._getDimmed()){return;}if(this.getType()===l.ProcessFlowNodeType.Aggregated){this._adjustClassesForAggregation(e);}var p=sap.ui.require("sap/suite/ui/commons/ProcessFlow");if(!p){return;}switch(e.type){case p._mouseEvents.mouseDown:case"keydown":this.$().removeClass(this._nodeHoverClass).addClass(this._nodeActiveClass);t.removeClass(this._nodeHoverClass).addClass(this._nodeActiveClass);if(i){q('#'+$).removeClass(this._nodeFCHoverClass+' '+this._nodeActiveClass).addClass(this._nodeFCActiveClass);q('div[id^='+$+'][id$=-corner-container]').removeClass(this._nodeFCIconHoverClass+' '+this._nodeActiveClass).addClass(this._nodeFCActiveClass);q('span[id^='+$+'][id$=-corner-icon]').removeClass(this._nodeFCIconHoverClass+' '+this._nodeActiveClass).addClass(this._nodeFCActiveClass);}break;case p._mouseEvents.mouseUp:if(s.$().hasClass(this._grabbingCursorClass)){s.$().removeClass(this._grabbingCursorClass);}this.$().removeClass(this._nodeActiveClass).addClass(this._nodeHoverClass);t.removeClass(this._nodeActiveClass).addClass(this._nodeHoverClass);if(i){q('#'+$).removeClass(this._nodeHoverClass+' '+this._nodeFCActiveClass).addClass(this._nodeFCHoverClass);q('div[id^='+$+'][id$=-corner-container]').removeClass(this._nodeHoverClass+' '+this._nodeFCActiveClass).addClass(this._nodeFCIconHoverClass);q('span[id^='+$+'][id$=-corner-icon]').removeClass(this._nodeHoverClass+' '+this._nodeFCActiveClass).addClass(this._nodeFCIconHoverClass);}break;case p._mouseEvents.mouseEnter:if(!s.$().hasClass(this._grabbingCursorClass)){this.$().addClass(this._nodeHoverClass);t.addClass(this._nodeHoverClass);this.$().find(this._nodePlannedClassIdentifier).find("*").addClass(this._nodePlannedClass);if(i){q('#'+$).removeClass(this._nodeHoverClass).addClass(this._nodeFCHoverClass);q('div[id^='+$+'][id$=-corner-container]').removeClass(this._nodeHoverClass).addClass(this._nodeFCIconHoverClass);q('span[id^='+$+'][id$=-corner-icon]').removeClass(this._nodeHoverClass).addClass(this._nodeFCIconHoverClass);}}break;case p._mouseEvents.mouseLeave:case"keyup":this.$().removeClass(this._nodeActiveClass+' '+this._nodeHoverClass);t.removeClass(this._nodeActiveClass+' '+this._nodeHoverClass);if(i){q('#'+$).removeClass(this._nodeFCActiveClass+' '+this._nodeFCHoverClass);q('div[id^='+$+'][id$=-corner-container]').removeClass(this._nodeFCActiveClass+' '+this._nodeFCIconHoverClass);q('span[id^='+$+'][id$=-corner-icon]').removeClass(this._nodeFCActiveClass+' '+this._nodeFCIconHoverClass);}if(!s.$().hasClass(this._grabbingCursorClass)){s.$().addClass(this._grabCursorClass);}break;case p._mouseEvents.touchStart:if(D.support.touch){this.$().addClass(this._nodeActiveClass);t.addClass(this._nodeActiveClass);if(i){q('#'+$).removeClass(this._nodeActiveClass).addClass(this._nodeFCActiveClass);q('div[id^='+$+'][id$=-corner-container]').removeClass(this._nodeActiveClass).addClass(this._nodeFCActiveClass);q('span[id^='+$+'][id$=-corner-icon]').removeClass(this._nodeActiveClass).addClass(this._nodeFCActiveClass);}}break;case p._mouseEvents.sapTouchStart:this.$().removeClass(this._nodeHoverClass).addClass(this._nodeActiveClass);t.removeClass(this._nodeHoverClass).addClass(this._nodeActiveClass);if(i){q('#'+$).removeClass(this._nodeFCHoverClass+' '+this._nodeActiveClass).addClass(this._nodeFCActiveClass);q('div[id^='+$+'][id$=-corner-container]').removeClass(this._nodeFCIconHoverClass+' '+this._nodeActiveClass).addClass(this._nodeFCActiveClass);q('span[id^='+$+'][id$=-corner-icon]').removeClass(this._nodeFCIconHoverClass+' '+this._nodeActiveClass).addClass(this._nodeFCActiveClass);}break;case p._mouseEvents.touchEnd:if(D.support.touch){this.$().removeClass(this._nodeActiveClass+' '+this._nodeHoverClass);t.removeClass(this._nodeActiveClass+' '+this._nodeHoverClass);if(i){q('#'+$).removeClass(this._nodeFCActiveClass+' '+this._nodeFCHoverClass);q('div[id^='+$+'][id$=-corner-container]').removeClass(this._nodeFCActiveClass+' '+this._nodeFCIconHoverClass);q('span[id^='+$+'][id$=-corner-icon]').removeClass(this._nodeFCActiveClass+' '+this._nodeFCIconHoverClass);}}this._handleClick(e);break;case p._mouseEvents.sapTouchCancel:this.$().removeClass(this._nodeActiveClass).addClass(this._nodeHoverClass);t.removeClass(this._nodeActiveClass).addClass(this._nodeHoverClass);if(i){q('#'+$).removeClass(this._nodeFCActiveClass+' '+this._nodeHoverClass).addClass(this._nodeFCHoverClass);q('div[id^='+$+'][id$=-corner-container]').removeClass(this._nodeFCActiveClass+' '+this._nodeHoverClass).addClass(this._nodeFCIconHoverClass);q('span[id^='+$+'][id$=-corner-icon]').removeClass(this._nodeFCActiveClass+' '+this._nodeHoverClass).addClass(this._nodeFCIconHoverClass);}break;default:break;}};
P.prototype._setMergedLaneId=function(b){this._mergedLaneId=b;};
P.prototype._setParentFlow=function(c){this._parent=c;};
P.prototype._getFoldedCornerControl=function(){if(this._foldedCornerControl){this._foldedCornerControl.destroy();}this._foldedCornerControl=new a({id:this.getId()+"-corner-icon",src:I.getIconURI("context-menu","businessSuite"),visible:true});if(this._parent&&!this._parent._bHighlightedMode||!this._getDimmed()){this._foldedCornerControl.addStyleClass("sapUiIconPointer");}switch(this._getZoomLevel()){case l.ProcessFlowZoomLevel.One:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1ZoomLevel4");break;default:break;}this._foldedCornerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode1");return this._foldedCornerControl;};
P.prototype._getHeaderControl=function(){if(this._headerControl){this._headerControl.destroy();}var i=0;var w="";var v=true;var t=this.getTitle();switch(this._getZoomLevel()){case l.ProcessFlowZoomLevel.One:i=3;break;case l.ProcessFlowZoomLevel.Two:i=3;break;case l.ProcessFlowZoomLevel.Three:i=2;t=this.getTitleAbbreviation();break;case l.ProcessFlowZoomLevel.Four:t="";i=0;w="0px";v=false;break;default:break;}this._headerControl=new T({id:this.getId()+"-nodeid-anchor-title",text:t,visible:v,wrapping:true,width:w,maxLines:i});if(this.getIsTitleClickable()){this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleClickable");}switch(this._getZoomLevel()){case l.ProcessFlowZoomLevel.One:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel4");break;default:break;}this._headerControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3Title");return this._headerControl;};
P.prototype._getIconControl=function(){if(this._iconControl){this._iconControl.destroy();}var s=null;var v=true;switch(this.getState()){case l.ProcessFlowNodeState.Positive:s="sap-icon://message-success";break;case l.ProcessFlowNodeState.Negative:case l.ProcessFlowNodeState.PlannedNegative:s="sap-icon://message-error";break;case l.ProcessFlowNodeState.Planned:s=null;break;case l.ProcessFlowNodeState.Neutral:s="sap-icon://process";break;case l.ProcessFlowNodeState.Critical:s="sap-icon://message-warning";break;default:break;}this._iconControl=new a({id:this.getId()+"-icon",src:s,visible:v});if(this._parent&&!this._parent._bHighlightedMode||!this._getDimmed()){this._iconControl.addStyleClass("sapUiIconPointer");}var r=sap.ui.getCore().getConfiguration().getRTL();if(r){this._iconControl.addStyleClass("sapUiIconSuppressMirrorInRTL");}switch(this._getZoomLevel()){case l.ProcessFlowZoomLevel.One:case l.ProcessFlowZoomLevel.Two:var i="sapSuiteUiCommonsProcessFlowNode3StateIconLeft";if(r){i="sapSuiteUiCommonsProcessFlowNode3StateIconRight";}this._iconControl.addStyleClass(i);break;case l.ProcessFlowZoomLevel.Three:case l.ProcessFlowZoomLevel.Four:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconCenter");break;default:break;}switch(this._getZoomLevel()){case l.ProcessFlowZoomLevel.One:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel4");break;default:break;}this._iconControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateIcon");return this._iconControl;};
P.prototype._getStateTextControl=function(){if(this._stateTextControl){this._stateTextControl.destroy();}var i=2;var w="";var v=true;var s=this.getState();var t=(s===l.ProcessFlowNodeState.Planned)?"":this.getStateText();if(s===l.ProcessFlowNodeState.PlannedNegative&&t.length===0){t="Planned Negative";}switch(this._getZoomLevel()){case l.ProcessFlowZoomLevel.One:case l.ProcessFlowZoomLevel.Two:case l.ProcessFlowZoomLevel.Three:i=2;break;case l.ProcessFlowZoomLevel.Four:t="";i=0;w="0px";v=false;break;default:break;}this._stateTextControl=new T({id:this.getId()+"-stateText",text:t,visible:v,wrapping:true,width:w,maxLines:i});switch(s){case l.ProcessFlowNodeState.Positive:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StatePositive");break;case l.ProcessFlowNodeState.Negative:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNodeStateNegative");break;case l.ProcessFlowNodeState.Planned:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StatePlanned");break;case l.ProcessFlowNodeState.Neutral:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateNeutral");break;case l.ProcessFlowNodeState.PlannedNegative:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StatePlanned");break;case l.ProcessFlowNodeState.Critical:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateCritical");break;default:break;}switch(this._getZoomLevel()){case l.ProcessFlowZoomLevel.One:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel4");break;default:break;}this._stateTextControl.addStyleClass("sapSuiteUiCommonsProcessFlowNode3StateText");return this._stateTextControl;};
P.prototype._getZoomLevel=function(){return this._zoomLevel;};
P.prototype._setZoomLevel=function(z){this._zoomLevel=z;};
P.prototype._setNavigationFocus=function(n){this._navigationFocus=n;};
P.prototype._getNavigationFocus=function(){return this._navigationFocus;};
P.prototype._setFoldedCorner=function(f){this._foldedCorner=f;};
P.prototype._getFoldedCorner=function(){return this._foldedCorner;};
P.prototype._setTag=function(n){this._tag=n;};
P.prototype._getTag=function(){return this._tag;};
P.prototype._setDimmedState=function(){var i=this.getFocused();var b=this.getHighlighted();var c=this.getSelected();if(b||c){throw new Error("Cannot set highlighed or selected node to dimmed state"+this.getNodeId());}this._displayState=l.ProcessFlowDisplayState.Dimmed;if(i){this._displayState=l.ProcessFlowDisplayState.DimmedFocused;}};
P.prototype._setRegularState=function(){this._displayState=l.ProcessFlowDisplayState.Regular;};
P.prototype._getLane=function(){var p=this.getParent();var o=null;if(p){o=p._getLane(this.getLaneId());}return o;};
P.prototype._getDimmed=function(){return this._displayState===l.ProcessFlowDisplayState.Dimmed||this._displayState===l.ProcessFlowDisplayState.DimmedFocused;};
P.prototype._getAriaText=function(){var p=this.getParents().length;var c=this._getCurrentZoomLevelContent();var b=0;if(this._hasChildren()){b=this.getChildren().length;}var s="";var o=this._getLane();if(o){s=o.getText();if(!s){s=this._oResBundle.getText('PF_VALUE_UNDEFINED');}}var d="";var e=this.getTexts();if(e){for(var i in e){if(e[i]){var v=e[i].concat(", ");d=d.concat(v);}}d=d.slice(0,-1);}var t=this.getTitle();if(!t&&!c){t=this._oResBundle.getText('PF_VALUE_UNDEFINED');}var S=this.getState();if(!S){S=this._oResBundle.getText('PF_VALUE_UNDEFINED');}var f=this.getStateText();if(this.getState()===l.ProcessFlowNodeState.Planned){f="";}var A="";if(this.getType()===l.ProcessFlowNodeType.Aggregated){A=this._oResBundle.getText("PF_ARIA_TYPE");}return this._oResBundle.getText('PF_ARIA_NODE',[t,S,f,s,d,p,b,A]);};
P.prototype._getDisplayState=function(){var i=this.getFocused();var b=this.getHighlighted();var c=this.getSelected();if(this._displayState===l.ProcessFlowDisplayState.Dimmed||this._displayState===l.ProcessFlowDisplayState.DimmedFocused){return this._displayState;}if(c){if(b){if(i){this._displayState=l.ProcessFlowDisplayState.SelectedHighlightedFocused;}else{this._displayState=l.ProcessFlowDisplayState.SelectedHighlighted;}}else if(i){this._displayState=l.ProcessFlowDisplayState.SelectedFocused;}else{this._displayState=l.ProcessFlowDisplayState.Selected;}}else if(i&&b){this._displayState=l.ProcessFlowDisplayState.HighlightedFocused;}else if(i){this._displayState=l.ProcessFlowDisplayState.RegularFocused;}else if(b){this._displayState=l.ProcessFlowDisplayState.Highlighted;}else if(this._displayState===l.ProcessFlowDisplayState.HighlightedFocused||this._displayState===l.ProcessFlowDisplayState.RegularFocused||this._displayState===l.ProcessFlowDisplayState.Highlighted||this._displayState===l.ProcessFlowDisplayState.Selected){this._setRegularState();}return this._displayState;};
P.prototype._createTextControlInternal=function(t,b,c){if(c){c.destroy();}var i=2;var w="";var v=true;var s=b;switch(this._getZoomLevel()){case l.ProcessFlowZoomLevel.One:case l.ProcessFlowZoomLevel.Two:i=2;break;case l.ProcessFlowZoomLevel.Three:i=0;w="0px";v=false;break;case l.ProcessFlowZoomLevel.Four:s="";i=0;w="0px";v=false;break;default:break;}if(this.getState){c=new T({id:this.getId()+t,text:s,visible:v,wrapping:true,width:w,maxLines:i});}return c;};
P.prototype._createText1Control=function(){var t=this.getTexts();if(t&&t.length>0){t=t[0];}this._text1Control=this._createTextControlInternal("-text1-control",t,this._text1Control);switch(this._getZoomLevel()){case l.ProcessFlowZoomLevel.One:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextWithGapZoomLevel1");this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextWithGapZoomLevel2");this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel4");break;default:break;}this._text1Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3Text");return this._text1Control;};
P.prototype._createText2Control=function(){var t=this.getTexts();if(t&&t.length>1){t=t[1];}else{t="";}this._text2Control=this._createTextControlInternal("-text2-control",t,this._text2Control);switch(this._getZoomLevel()){case l.ProcessFlowZoomLevel.One:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel4");break;default:break;}this._text2Control.addStyleClass("sapSuiteUiCommonsProcessFlowNode3Text");return this._text2Control;};
P.prototype._adjustClassesForAggregation=function(e){var f=[l.ProcessFlowDisplayState.RegularFocused,l.ProcessFlowDisplayState.HighlightedFocused,l.ProcessFlowDisplayState.DimmedFocused];var d=[l.ProcessFlowDisplayState.DimmedFocused,l.ProcessFlowDisplayState.Dimmed];var p=sap.ui.require("sap/suite/ui/commons/ProcessFlow");if(!p){return;}switch(e.type){case p._mouseEvents.mouseDown:case p._mouseEvents.touchStart:case p._mouseEvents.sapTouchStart:b(this);break;case p._mouseEvents.mouseUp:r(this);break;case p._mouseEvents.sapTouchCancel:case p._mouseEvents.touchEnd:r(this);g(this);break;case p._mouseEvents.mouseEnter:c(this);break;case p._mouseEvents.mouseLeave:r(this);g(this);break;default:break;}function b(t){if(t._getZoomLevel()===l.ProcessFlowZoomLevel.Four){if((q.inArray(t._getDisplayState(),d))>=0){t.$().removeClass(t._nodeAggregatedDimmedHoveredClassZoomLevel4).addClass(t._nodeAggregatedDimmedPressedClassZoomLevel4);}else{t.$().removeClass(t._nodeAggregatedClassZoomLevel4).removeClass(t._nodeAggregatedHoveredClassZoomLevel4).addClass(t._nodeAggregatedPressedClassZoomLevel4);}}else if((q.inArray(t._getDisplayState(),d))>=0){t.$().removeClass(t._nodeAggregatedDimmedHoveredClass).addClass(t._nodeAggregatedDimmedPressedClass);}else{t.$().removeClass(t._nodeAggregatedClass).removeClass(t._nodeAggregatedHoveredClass).addClass(t._nodeAggregatedPressedClass);}}function r(t){if((q.inArray(t._getDisplayState(),f))>=0&&(t.$().hasClass(t._nodeAggregatedPressedClass)||t.$().hasClass(t._nodeAggregatedPressedClassZoomLevel4))){if(t._getZoomLevel()===l.ProcessFlowZoomLevel.Four){t.$().removeClass(t._nodeAggregatedPressedClassZoomLevel4).addClass(t._nodeAggregatedFocusedClassZoomLevel4);}else{t.$().removeClass(t._nodeAggregatedPressedClass).addClass(t._nodeAggregatedFocusedClass);}}else if(t.$().hasClass(t._nodeAggregatedDimmedPressedClass)||t.$().hasClass(t._nodeAggregatedDimmedPressedClassZoomLevel4)){if(t._getZoomLevel()===l.ProcessFlowZoomLevel.Four){t.$().removeClass(t._nodeAggregatedDimmedPressedClassZoomLevel4).addClass(t._nodeAggregatedDimmedHoveredClassZoomLevel4);}else{t.$().removeClass(t._nodeAggregatedDimmedPressedClass).addClass(t._nodeAggregatedDimmedHoveredClass);}}else if(t.$().hasClass(t._nodeAggregatedPressedClass)||t.$().hasClass(t._nodeAggregatedPressedClassZoomLevel4)){if(t._getZoomLevel()===l.ProcessFlowZoomLevel.Four){t.$().removeClass(t._nodeAggregatedPressedClassZoomLevel4).addClass(t._nodeAggregatedClassZoomLevel4);}else{t.$().removeClass(t._nodeAggregatedPressedClass).addClass(t._nodeAggregatedClass);}}}function c(t){if((q.inArray(t._getDisplayState(),d))>=0){if(t._getZoomLevel()===l.ProcessFlowZoomLevel.Four){t.$().removeClass(t._nodeAggregatedDimmedClassZoomLevel4).addClass(t._nodeAggregatedDimmedHoveredClassZoomLevel4);}else{t.$().removeClass(t._nodeAggregatedDimmedClass).addClass(t._nodeAggregatedDimmedHoveredClass);}}else if(t._getZoomLevel()===l.ProcessFlowZoomLevel.Four){t.$().addClass(t._nodeAggregatedHoveredClassZoomLevel4);}else{t.$().addClass(t._nodeAggregatedHoveredClass);}}function g(t){if((q.inArray(t._getDisplayState(),d))>=0){if(t._getZoomLevel()===l.ProcessFlowZoomLevel.Four){t.$().removeClass(t._nodeAggregatedDimmedHoveredClassZoomLevel4).addClass(t._nodeAggregatedDimmedClassZoomLevel4);}else{t.$().removeClass(t._nodeAggregatedDimmedHoveredClass).addClass(t._nodeAggregatedDimmedClass);}}else if(t._getZoomLevel()===l.ProcessFlowZoomLevel.Four){t.$().removeClass(t._nodeAggregatedHoveredClassZoomLevel4);}else{t.$().removeClass(t._nodeAggregatedHoveredClass);}}};
P.prototype._hasChildren=function(){var c=this.getChildren();return c&&c.length>0;};
P.prototype._hasChildrenWithNodeId=function(c){var b=this.getChildren();if(b&&b.length>0){for(var i=0;i<b.length;i++){if((typeof b[i]==='object'&&b[i].nodeId===c)||b[i]===c){return true;}}}return false;};
P.prototype.getLaneId=function(){if(this._mergedLaneId){return this._mergedLaneId;}else{return this.getProperty("laneId");}};
P.prototype._getCurrentZoomLevelContent=function(){var p=this.getParent();if(!p||p.getMetadata().getName()!=="sap.suite.ui.commons.ProcessFlow"){return null;}return this["getZoomLevel"+p.getZoomLevel()+"Content"]();};
return P;});
sap.ui.predefine('sap/suite/ui/commons/ProcessFlowNodeRenderer',['jquery.sap.global','./library','sap/ui/Device'],function(q,l,D){"use strict";var P={};P._constants={top:"top",right:"right",bottom:"bottom",left:"left",corner:"corner"};P._nodeLevels={iLevel0:0,iLevel1:1,iLevel2:2,iLevel3:3};
P.render=function(r,c){var f=null;var C=c._getCurrentZoomLevelContent();if(c._getFoldedCorner()){f=c._getFoldedCornerControl();}var h=c._getHeaderControl();var i=c._getIconControl();var s=c._getStateTextControl();var t=c._createText1Control();var T=c._createText2Control();r.write("<div");r.writeControlData(c);if(C){r.addClass("sapSuiteUiCommonsProcessFlowNodeCustom");}P._assignNodeClasses(r,c,0);r.write(">");switch(c._getDisplayState()){case l.ProcessFlowDisplayState.Highlighted:case l.ProcessFlowDisplayState.HighlightedFocused:case l.ProcessFlowDisplayState.SelectedHighlighted:case l.ProcessFlowDisplayState.SelectedHighlightedFocused:r.write("<div");P._assignShadowClasses(r,c,"top");r.write("></div>");r.write("<div");P._assignShadowClasses(r,c,"right");r.write("></div>");r.write("<div");P._assignShadowClasses(r,c,"bottom");r.write("></div>");r.write("<div");P._assignShadowClasses(r,c,"left");r.write("></div>");if(c._getFoldedCorner()){r.write("<div");P._assignShadowClasses(r,c,"corner");r.write("></div>");}break;default:}r.write("<div");P._assignNodeClasses(r,c,1);r.write(">");if(c._getFoldedCorner()){r.renderControl(f);}r.write("</div>");r.write("<div");P._assignNodeClasses(r,c,2);r.write(">");r.write("</div>");r.write("<div");P._assignNodeClasses(r,c,3);r.write(">");if(C){r.write("<div");r.addClass("sapSuiteUiCommonsProcessFlowNode3ContentPadding");r.writeClasses();r.write(">");r.renderControl(C);r.write("</div>");}else{r.write("<div");P._assignNodeTitleClasses(r,c);r.write(">");r.renderControl(h);r.write("</div>");r.write("<div");P._assignNodeStateClasses(r,c);r.write(">");r.write("<div");P._assignNodeIconClasses(r,c);r.write(">");r.renderControl(i);r.write("</div>");r.write("<div");P._assignNodeStateTextClasses(r,c);r.write(">");r.renderControl(s);r.write("</div>");r.write("</div>");r.write("<div");P._assignNodeText1Classes(r,c);r.write(">");r.renderControl(t);r.write("</div>");r.write("<div");P._assignNodeText2Classes(r,c);r.write(">");r.renderControl(T);r.write("</div>");r.write("</div>");}r.write("</div>");};
P._assignNodeClasses=function(r,c,n){switch(n){case P._nodeLevels.iLevel0:break;case P._nodeLevels.iLevel1:r.writeAttribute("id",c.getId()+"-corner-container");break;case P._nodeLevels.iLevel2:r.writeAttribute("id",c.getId()+"-top-container");break;case P._nodeLevels.iLevel3:r.writeAttribute("id",c.getId()+"-content-container");break;default:}if(n>P._nodeLevels.iLevel0){switch(c.getState()){case l.ProcessFlowNodeState.Planned:if((n===P._nodeLevels.iLevel1)&&(c._getFoldedCorner())){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerPlanned");}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePlanned");r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePlannedDashedBorder");}break;case l.ProcessFlowNodeState.PlannedNegative:if((n===P._nodeLevels.iLevel1)&&(c._getFoldedCorner())){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerPlanned");}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePlanned");r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePlannedDashedBorder");}break;default:}if(c._getNavigationFocus()){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerDisplayStateNavigation");}switch(c._getDisplayState()){case l.ProcessFlowDisplayState.RegularFocused:case l.ProcessFlowDisplayState.HighlightedFocused:case l.ProcessFlowDisplayState.DimmedFocused:case l.ProcessFlowDisplayState.SelectedHighlightedFocused:case l.ProcessFlowDisplayState.SelectedFocused:if((n===P._nodeLevels.iLevel1)&&(c._getFoldedCorner())){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerDisplayStateFocused");}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeDisplayStateFocused");}break;default:}switch(c._getDisplayState()){case l.ProcessFlowDisplayState.Regular:case l.ProcessFlowDisplayState.RegularFocused:case l.ProcessFlowDisplayState.Selected:if((n===P._nodeLevels.iLevel1)&&(c._getFoldedCorner())){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerDisplayStateRegular");}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeDisplayStateRegular");}break;case l.ProcessFlowDisplayState.Highlighted:case l.ProcessFlowDisplayState.HighlightedFocused:case l.ProcessFlowDisplayState.SelectedHighlighted:case l.ProcessFlowDisplayState.SelectedHighlightedFocused:if(n===P._nodeLevels.iLevel1&&c._getFoldedCorner()){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerDisplayStateHighlighted");}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeDisplayStateHighlighted");}break;case l.ProcessFlowDisplayState.Dimmed:case l.ProcessFlowDisplayState.DimmedFocused:if(n===P._nodeLevels.iLevel1&&c._getFoldedCorner()){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerDisplayStateDimmed");}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeDisplayStateDimmed");}break;default:}}if(n===P._nodeLevels.iLevel0){if(c._getNavigationFocus()){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerDisplayStateNavigation");}if(c._getDisplayState()===l.ProcessFlowDisplayState.Highlighted){r.addClass("sapSuiteUiCommonsProcessFlowNodeDisplayStateHighlighted");}if(c.getType()===l.ProcessFlowNodeType.Aggregated){P._assignAggregatedNodeClasses(r,c);}}switch(c._getZoomLevel()){case l.ProcessFlowZoomLevel.One:r.addClass(q.sap.encodeHTML("sapSuiteUiCommonsProcessFlowNode"+n+"ZoomLevel1"));break;case l.ProcessFlowZoomLevel.Two:r.addClass(q.sap.encodeHTML("sapSuiteUiCommonsProcessFlowNode"+n+"ZoomLevel2"));break;case l.ProcessFlowZoomLevel.Three:r.addClass(q.sap.encodeHTML("sapSuiteUiCommonsProcessFlowNode"+n+"ZoomLevel3"));break;case l.ProcessFlowZoomLevel.Four:r.addClass(q.sap.encodeHTML("sapSuiteUiCommonsProcessFlowNode"+n+"ZoomLevel4"));break;default:}if(n===P._nodeLevels.iLevel1){if(c._getFoldedCorner()){r.addClass("sapSuiteUiCommonsProcessFlowNode1FoldedBorderStyle");}else{r.addClass("sapSuiteUiCommonsProcessFlowNode1BorderStyle");r.addClass("sapSuiteUiCommonsProcessFlowNodeBorderStandard");}}else if(n>P._nodeLevels.iLevel1){r.addClass(q.sap.encodeHTML("sapSuiteUiCommonsProcessFlowNode"+n+"BorderStyle"));r.addClass("sapSuiteUiCommonsProcessFlowNodeBorderStandard");}if(((n===P._nodeLevels.iLevel1)&&(c._getFoldedCorner()))){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerNode1");}else{r.addClass(q.sap.encodeHTML("sapSuiteUiCommonsProcessFlowNode"+n));}if(((n===P._nodeLevels.iLevel0)&&(c._getFoldedCorner()))){r.addClass("sapSuiteUiCommonsProcessFlowFoldedCornerIndication");}r.writeClasses();};
P._assignAggregatedNodeClasses=function(r,c){switch(c._getDisplayState()){case l.ProcessFlowDisplayState.Highlighted:case l.ProcessFlowDisplayState.Regular:case l.ProcessFlowDisplayState.Selected:if(c._getZoomLevel()===l.ProcessFlowZoomLevel.Four){r.addClass("sapSuiteUiCommonsProcessFlowNodeAggregatedZoomLevel4");}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeAggregated");}break;case l.ProcessFlowDisplayState.Dimmed:if(c._getZoomLevel()===l.ProcessFlowZoomLevel.Four){r.addClass("sapSuiteUiCommonsProcessFlowNodeAggregatedDimmedZoomLevel4");}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeAggregatedDimmed");}break;default:if(c._getZoomLevel()===l.ProcessFlowZoomLevel.Four){r.addClass("sapSuiteUiCommonsProcessFlowNodeAggregatedFocusedZoomLevel4");}else{r.addClass("sapSuiteUiCommonsProcessFlowNodeAggregatedFocused");}break;}};
P._assignShadowClasses=function(r,c,b){r.addClass("sapSuiteUiCommonsShadowedDivCommon");switch(b){case P._constants.top:if(c._getFoldedCorner()){r.addClass("sapSuiteUiCommonsShadowedDivFoldedCornerBorderTop");}else{r.addClass("sapSuiteUiCommonsShadowedDivBorderTop");}break;case P._constants.right:r.addClass("sapSuiteUiCommonsShadowedDivBorderRight");break;case P._constants.bottom:r.addClass("sapSuiteUiCommonsShadowedDivBorderBottom");break;case P._constants.left:if(c._getFoldedCorner()){r.addClass("sapSuiteUiCommonsShadowedDivFoldedCornerBorderLeft");}else{r.addClass("sapSuiteUiCommonsShadowedDivBorderLeft");}break;case P._constants.corner:if(D.browser.safari){r.addClass("sapSuiteUiCommonsShadowedDivFoldedCornerSafari");}else{r.addClass("sapSuiteUiCommonsShadowedDivFoldedCorner");}break;default:}r.writeClasses();};
P._assignNodeTitleClasses=function(r,c){r.writeAttribute("id",c.getId()+"-title");switch(c._getZoomLevel()){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3TitleZoomLevel4");break;default:}r.addClass("sapSuiteUiCommonsProcessFlowNode3Title");r.writeClasses();};
P._assignNodeStateClasses=function(r,c){r.writeAttribute("id",c.getId()+"-state");switch(c._getZoomLevel()){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateZoomLevel4");break;default:}r.addClass("sapSuiteUiCommonsProcessFlowNode3State");r.writeClasses();};
P._assignNodeIconClasses=function(r,c){r.writeAttribute("id",c.getId()+"-icon-container");switch(c.getState()){case l.ProcessFlowNodeState.Positive:r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePositive");break;case l.ProcessFlowNodeState.Negative:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateNegative");break;case l.ProcessFlowNodeState.Planned:r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePlanned");break;case l.ProcessFlowNodeState.Neutral:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateNeutral");break;case l.ProcessFlowNodeState.PlannedNegative:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateNegative");break;case l.ProcessFlowNodeState.Critical:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateCritical");break;default:}switch(c._getZoomLevel()){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateIconZoomLevel4");break;default:}r.addClass("sapSuiteUiCommonsProcessFlowNode3StateIcon");r.writeClasses();};
P._assignNodeStateTextClasses=function(r,c){r.writeAttribute("id",c.getId()+"-state-text");switch(c.getState()){case l.ProcessFlowNodeState.Positive:r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePositive");break;case l.ProcessFlowNodeState.Negative:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateNegative");break;case l.ProcessFlowNodeState.Planned:r.addClass("sapSuiteUiCommonsProcessFlowNodeStatePlanned");break;case l.ProcessFlowNodeState.Neutral:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateNeutral");break;case l.ProcessFlowNodeState.PlannedNegative:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateNegative");break;case l.ProcessFlowNodeState.Critical:r.addClass("sapSuiteUiCommonsProcessFlowNodeStateCritical");break;default:}switch(c._getZoomLevel()){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3StateTextZoomLevel4");break;default:}r.addClass("sapSuiteUiCommonsProcessFlowNode3StateText");r.writeClasses();};
P._assignNodeText1Classes=function(r,c){r.writeAttribute("id",c.getId()+"-text1");switch(c._getZoomLevel()){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextWithGapZoomLevel1");r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextWithGapZoomLevel2");r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel4");break;default:}r.addClass("sapSuiteUiCommonsProcessFlowNode3Text");r.writeClasses();};
P._assignNodeText2Classes=function(r,c){r.writeAttribute("id",c.getId()+"-text2");switch(c._getZoomLevel()){case l.ProcessFlowZoomLevel.One:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel1");break;case l.ProcessFlowZoomLevel.Two:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel2");break;case l.ProcessFlowZoomLevel.Three:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel3");break;case l.ProcessFlowZoomLevel.Four:r.addClass("sapSuiteUiCommonsProcessFlowNode3TextZoomLevel4");break;default:}r.addClass("sapSuiteUiCommonsProcessFlowNode3Text");r.writeClasses();};
return P;},true);
sap.ui.predefine('sap/suite/ui/commons/ProcessFlowRenderer',['jquery.sap.global','./ProcessFlowLaneHeader','./ProcessFlowZoomLevel','sap/ui/Device'],function(q,P,a,D){"use strict";var b={};
b.render=function(r,c){var s=this._getZoomStyleClass(c),C,l,L,p=b,d,o;o=p._renderBasicStructure(r,c);if(o){return;}try{C=c._getOrCreateProcessFlow();l=c._getOrCreateLaneMap();d=c._getConnectionsMap();}catch(e){c._handleException(e);return;}r.write("<table");r.writeAttribute("id",c.getId()+"-table");r.writeAttributeEscaped("aria-label",c._getAriaText());r.addClass("sapSuiteUiCommonsPF");r.addClass(q.sap.encodeHTML(s));r.writeClasses();r.write(">");L=Object.keys(l).length;p._renderTableHeader(r,c,l,L);p._renderTableBody(r,c,L,C,d);r.write("</table>");r.write("</div>");r.write("</div>");this._writeCounter(r,c,"Right");r.renderControl(c._getScrollingArrow("right"));r.write("</div>");};
b._renderNormalNodeHeader=function(r,c,n,d,l){r.write("<th colspan=\"3\">");r.renderControl(n);r.write("</th>");if(d<l-1){r.write("<th colspan=\"2\">");var L=P.createNewProcessSymbol(c._isHeaderMode());L.attachPress(q.proxy(c.ontouchend,c));r.renderControl(L);r.write("</th>");}};
b._renderMergedNodeHeader=function(r,c,n,d,l,e){var N=c._mergeLaneIdNodeStates(l);n.setState(N);d++;var f=d*3+(d-1)*2;r.write("<th colspan=\""+f+"\">");r.renderControl(n);r.write("</th>");if(e){r.write("<th colspan=\"2\">");var L=P.createNewProcessSymbol(c._isHeaderMode());L.attachPress(q.proxy(c.ontouchend,c));r.renderControl(L);r.write("</th>");}};
b._renderNode=function(r,c,n,i){if(i){var N=n.getId()+"-node";var C=n._getCurrentZoomLevelContent();r.writeAttribute("id",N);r.writeAttribute("tabindex",0);r.writeAttributeEscaped("aria-label",n._getAriaText());if(C){r.writeAttributeEscaped("aria-labelledby",N+" "+C.getId());}r.write(">");i=false;}n._setParentFlow(c);n._setZoomLevel(c.getZoomLevel());n._setFoldedCorner(c.getFoldedCorners());r.renderControl(n);return i;};
b._renderConnection=function(r,c,d,i){if(i){if(d.getAggregation("_labels")&&d.getAggregation("_labels").length>0){r.writeAttribute("tabindex",0);}r.write(">");i=false;}d.setZoomLevel(c.getZoomLevel());c.addAggregation("_connections",d);r.renderControl(d);return i;};
b._renderTableHeader=function(r,c,l,d){var L,n=null,N=null,o,e;r.write("<thead");r.writeAttribute("id",c.getId()+"-thead");r.write(">");r.write("<tr");r.addClass("sapSuiteUiCommonsPFHeader");r.addClass("sapSuiteUiCommonsPFHeaderHidden");if(c.getShowLabels()){r.addClass("sapSuiteUiPFWithLabel");}r.writeClasses();r.write(">");r.write("<th></th>");L=0;while(L<d-1){r.write("<th></th><th></th><th></th><th></th><th></th>");L++;}r.write("<th></th><th></th><th></th>");r.write("<th></th>");r.write("</tr>");r.write("<tr");r.addClass("sapSuiteUiCommonsPFHeaderRow");r.writeClasses();r.write(">");r.write("<th>");o=P.createNewStartSymbol(c._isHeaderMode());r.renderControl(o);r.write("</th>");L=0;var A=0;var f=[];var s="1";e=false;while(L<(d-1)){n=l[L];N=l[L+1];if(n.getLaneId()+s===N.getLaneId()){A=A+1;f.push(n.getState());}else if(A===0){this._renderNormalNodeHeader(r,c,n,L,d);}else{f.push(n.getState());e=true;this._renderMergedNodeHeader(r,c,n,A,f,e);f=[];A=0;}L++;}if(A===0){if(!N){N=l[0];}this._renderNormalNodeHeader(r,c,N,L,d);}else{f.push(N.getState());e=false;this._renderMergedNodeHeader(r,c,n,A,f,e);A=0;}r.write("<th>");o=P.createNewEndSymbol(c._isHeaderMode());r.renderControl(o);r.write("</th>");r.write("</tr>");r.write("</thead>");};
b._renderTableBody=function(r,c,l,d,e){var i,j,m,M,n;var s=b._checkIfHighlightedOrSelectedNodesExists(e);r.write("<tbody>");m=d.length;if(m>0){r.write("<tr>");r.write("<td");r.writeAttributeEscaped("colspan",(l*5).toString());r.write(">");r.write("</tr>");}i=0;while(i<m){r.write("<tr>");r.write("<td></td>");M=d[i].length;j=0;while(j<M-1){n=d[i][j];var f=true;if((j==0)||(j%2)){r.write("<td");}else{r.write("<td colspan=\"4\"");if(D.browser.chrome){r.addClass("sapSuiteUiCommonsProcessFlowZIndexForConnectors");r.writeClasses();}}if(n){if(n.getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"){f=b._renderNode(r,c,n,f);}else{n._setShowLabels(c.getShowLabels());b._setLabelsInConnection(d,e,n,{row:i,column:j},c,s);f=b._renderConnection(r,c,n,f);}}if(f){r.write(">");}r.write("</td>");j++;}r.write("<td></td>");r.write("<td></td>");r.write("</tr>");i++;}r.write("</tbody>");};
b._renderBasicStructure=function(r,c){r.write("<div");r.writeAttribute("aria-label","process flow");r.writeControlData(c);r.addClass("sapSuiteUiPFContainer");if(c._arrowScrollable){r.addClass("sapPFHScrollable");if(c._bPreviousScrollForward){r.addClass("sapPFHScrollForward");}else{r.addClass("sapPFHNoScrollForward");}if(c._bPreviousScrollBack){r.addClass("sapPFHScrollBack");}else{r.addClass("sapPFHNoScrollBack");}}else{r.addClass("sapPFHNotScrollable");}r.writeClasses();r.write(">");this._writeCounter(r,c,"Left");r.renderControl(c._getScrollingArrow("left"));r.write("<div");r.writeAttribute("id",c.getId()+"-scrollContainer");r.addClass("sapSuiteUiScrollContainerPF");r.addClass("sapSuiteUiDefaultCursorPF");r.writeClasses();r.write(">");r.write("<div");r.writeAttribute("id",c.getId()+"-scroll-content");r.writeAttribute("tabindex",0);r.write(">");if(!c.getLanes()||c.getLanes().length==0){r.write("</div>");r.write("</div>");r.write("</div>");return true;}return false;};
b._getZoomStyleClass=function(c){switch(c.getZoomLevel()){case a.One:return"sapSuiteUiCommonsPFZoomLevel1";case a.Two:return"sapSuiteUiCommonsPFZoomLevel2";case a.Three:return"sapSuiteUiCommonsPFZoomLevel3";case a.Four:return"sapSuiteUiCommonsPFZoomLevel4";default:break;}};
b._setLabelsInConnection=function(c,d,e,p,C,s){for(var i=0;i<d.length;i++){var o=d[i];if(o&&o.label){for(var j=0;j<o.connectionParts.length;j++){var f=o.connectionParts[j];if(f.x===p.column&&f.y===p.row){if(c[p.row][p.column+1]&&c[p.row][p.column+1].getMetadata().getName()==="sap.suite.ui.commons.ProcessFlowNode"&&c[p.row][p.column+1].getNodeId()===o.targetNode.getNodeId()){b._setLineTypeInLabel(o,s);if(C._bHighlightedMode&&!o.label._getHighlighted()){o.label.setEnabled(false);}if(o.label.getEnabled()){if(o.label.hasListeners("press")){o.label.detachEvent("press",C._handleLabelClick,C);}o.label.attachPress(C._handleLabelClick,C);}e.addAggregation("_labels",o.label,true);}}}}}};
b._setLineTypeInLabel=function(c,s){var C=false,t,l=false,d=false;if(c.sourceNode.getSelected()&&c.targetNode.getSelected()){C=true;c.label._setSelected(true);}else{c.label._setSelected(false);}t=c.targetNode;if(t.getHighlighted()){var p=t.getParents(),S;for(var i=0;i<p.length;i++){S=sap.ui.getCore().byId(p[i]);if(S.getHighlighted()){l=true;break;}}}if(l){d=true;c.label._setHighlighted(true);}else{c.label._setHighlighted(false);}if(s&&!C&&!d){c.label._setDimmed(true);}else{c.label._setDimmed(false);}};
b._checkIfHighlightedOrSelectedNodesExists=function(c){var s=false;for(var i=0;i<c.length;i++){var C=c[i];if(C.label){if(C.sourceNode.getSelected()&&C.targetNode.getSelected()||C.sourceNode.getHighlighted()&&C.targetNode.getHighlighted()){s=true;}}}return s;};
b._writeCounter=function(r,c,d){r.write("<span");r.writeAttributeEscaped("id",c.getId()+"-counter"+d);r.addClass("suiteUiPFHCounter");r.addClass(q.sap.encodeHTML("suiteUiPFHCounter"+d));r.writeClasses();r.write(">");r.writeEscaped("0");r.write("</span>");};
return b;},true);
sap.ui.predefine('sap/suite/ui/commons/ThreePanelThingViewer',['jquery.sap.global','./library','sap/ui/ux3/library','sap/ui/commons/library','./VerticalNavigationBar','sap/ui/ux3/ThingViewer','sap/ui/commons/Button','sap/suite/ui/commons/ThreePanelThingViewerRenderer'],function(q,l,U,C,V,T,B,a){"use strict";
var b=T.extend("sap.suite.ui.commons.ThreePanelThingViewer",{metadata:{deprecated:true,library:"sap.suite.ui.commons",properties:{logo:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null},showHeader:{type:"boolean",group:"Misc",defaultValue:null},sidebarWidth:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:'244px'}},aggregations:{menuContent:{type:"sap.ui.commons.Link",multiple:true,singularName:"menuContent"}}}});
b.prototype.init=function(){this._rb=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");this._oNavBar=new V();this.setAggregation("navBar",this._oNavBar);this._oNavBar.attachSelect(function(c){var i=c.getParameters().item;if(this.fireFacetSelected({id:i.getId(),key:i.getKey(),item:i})){this.setSelectedFacet(i);}else{c.preventDefault();}},this);this._iSelectedMenuItem=0;this._oMenuButton=new B({id:this.getId()+"-menu-button",tooltip:this._rb.getText("THREEPANELTHINGVIEWER_BUTTON_MENU_TOOLTIP"),lite:true,press:[this._toggleMenuPopup,this]});this._oMenuButton.addStyleClass("sapSuiteTvTitleMb");this.fAnyEventHandlerProxy=q.proxy(this.onAnyEvent,this);};
b.prototype.exit=function(){this._oMenuButton.destroy();q.sap.unbindAnyEvent(this.fAnyEventHandlerProxy);};
b.prototype.onAfterRendering=function(){this._bMenuOpened=false;this._updateMenuPopup();this._toggleHeaderContent();};
b.prototype.selectDefaultFacet=function(){this._selectDefault();return this;};
b.prototype._toggleMenuPopup=function(){q(document.getElementById(this.getId()+"-menu-popup")).toggle();this._bMenuOpened=!this._bMenuOpened;if(this._bMenuOpened){q.sap.bindAnyEvent(this.fAnyEventHandlerProxy);this.getMenuContent()[0].focus();this._iSelectedMenuItem=0;}else{q.sap.unbindAnyEvent(this.fAnyEventHandlerProxy);}};
b.prototype._updateMenuPopup=function(){var h=q(document.getElementById(this.getId()+"-header")).width();var m=q(document.getElementById(this.getId()+"-menu-popup"));var s=sap.ui.getCore().getConfiguration().getRTL()?"right":"left";var S=this.getMenuContent().length;m.css(s,(h-22)+"px");m.children().each(function(i){var $=q(this);$.attr("tabindex","-1");$.attr("role","menuitem");$.attr("aria-posinset",i+1);$.attr("aria-setsize",S);});};
b.prototype._rerenderFacetContent=function(){var $=q(document.getElementById(this.getId()+"-facetContent"));if($.length>0){var r=sap.ui.getCore().createRenderManager();a.renderFacetContent(r,this);r.flush($[0]);r.destroy();this._resize=false;this._setTriggerValue();this._onresize();}};
b.prototype._rerenderHeader=function(){var $=q(document.getElementById(this.getId()+"-header"));if($.length>0){var r=sap.ui.getCore().createRenderManager();a.renderHeader(r,this);r.flush($[0]);r.destroy();}};
b.prototype._rerenderHeaderContent=function(){var $=q(document.getElementById(this.getId()+"-headerContent"));if($.length>0){var r=sap.ui.getCore().createRenderManager();a.renderHeaderContent(r,this);r.flush($[0]);r.destroy();}};
b.prototype._toggleHeaderContent=function(){var c=q(document.getElementById(this.getId()+"-headerContent"));if(this.getShowHeader()){c.show();}else{c.hide();}};
b.prototype.onAnyEvent=function(e){if(this._bMenuOpened&&(e.type==="mousedown"||e.type==="focusin")){var s=e.target;var d=q.sap.domById(this.getId()+"-menu-popup");if(!q.sap.containsOrEquals(d,s)||s.tagName==="BODY"){this._toggleMenuPopup();}}};
b.prototype.onsapescape=function(){if(this._bMenuOpened){this._toggleMenuPopup();this._oMenuButton.focus();}};
b.prototype.onsapnext=function(e){if(this._bMenuOpened){var m=this.getMenuContent();this._iSelectedMenuItem++;if(this._iSelectedMenuItem>=m.length){this._iSelectedMenuItem=0;}m[this._iSelectedMenuItem].focus();e.preventDefault();e.stopPropagation();}};
b.prototype.onsapprevious=function(e){if(this._bMenuOpened){var m=this.getMenuContent();this._iSelectedMenuItem--;if(this._iSelectedMenuItem<0){this._iSelectedMenuItem=m.length-1;}m[this._iSelectedMenuItem].focus();e.preventDefault();e.stopPropagation();}};
b.prototype.setShowHeader=function(s){this.setProperty("showHeader",s,true);this._toggleHeaderContent();return this;};
return b;});
sap.ui.predefine('sap/suite/ui/commons/ThreePanelThingViewerRenderer',['sap/ui/core/Renderer','sap/ui/ux3/ThingViewerRenderer'],function(R,T){"use strict";var a=R.extend(T);
a.renderContent=function(r,c){r.write("<div");r.addClass("sapSuiteTvMinHeight");r.writeClasses();r.write(">");r.write("<header");r.writeAttribute("id",c.getId()+"-header");r.addClass("sapSuiteTvTitle");r.writeClasses();r.addStyle("width",c.getSidebarWidth());r.writeStyles();r.write(">");this.renderHeader(r,c);r.write("</header>");r.write("<nav");r.writeAttribute("id",c.getId()+"-navigation");r.addClass("sapSuiteTvNav");if(!c.getLogo()){r.addClass("sapSuiteTvNavNoLogo");}r.writeClasses();r.addStyle("width",c.getSidebarWidth());r.writeStyles();r.write(">");r.renderControl(c._getNavBar());r.write("</nav>");r.write("<aside");r.writeAttribute("id",c.getId()+"-headerContent");r.addClass("sapSuiteTvHeader");r.writeClasses();r.write(">");this.renderHeaderContent(r,c);r.write("</aside>");r.write("<div");r.writeAttribute("id",c.getId()+"-facetContent");r.addClass("sapSuiteTvFacet");r.writeClasses();r.write(">");this.renderFacetContent(r,c);r.write("</div>");if(c.getLogo()){r.write("<footer");r.writeAttribute("id",c.getId()+"-footer");r.addClass("sapSuiteTvLogo");r.writeClasses();r.addStyle("width",c.getSidebarWidth());r.writeStyles();r.write(">");r.write("<img");r.writeAttribute("id",c.getId()+"-logo");r.writeAttribute("role","presentation");r.writeAttributeEscaped("src",c.getLogo());r.addClass("sapSuiteTvLogoIcon");r.writeClasses();r.write(">");r.write("</footer>");}r.write("</div>");};
a.renderHeader=function(r,c){var m=c.getMenuContent().length;r.write("<div");r.addClass("sapSuiteTvTitleBar");r.writeClasses();r.write(">");if(c.getIcon()){r.write("<img");r.writeAttribute("id",c.getId()+"-swatch");r.writeAttribute("role","presentation");r.writeAttributeEscaped("src",c.getIcon());r.addClass("sapSuiteTvTitleIcon");r.writeClasses();r.write(">");}if(m>0){r.renderControl(c._oMenuButton);}r.write("<div");r.writeAttribute("role","heading");r.writeAttribute("aria-level",1);r.writeAttributeEscaped("title",c.getType());r.addClass("sapSuiteTvTitleType");r.addClass("sapSuiteTvTextCrop");r.writeClasses();r.write(">");r.writeEscaped(c.getType());r.write("</div>");r.write("<div");r.writeAttribute("role","heading");r.writeAttribute("aria-level",2);r.writeAttributeEscaped("title",c.getTitle());r.addClass("sapSuiteTvTitleFirst");r.writeClasses();r.write(">");r.writeEscaped(c.getTitle());r.write("</div>");r.write("<div");r.writeAttribute("role","heading");r.writeAttribute("aria-level",3);r.writeAttributeEscaped("title",c.getSubtitle());r.addClass("sapSuiteTvTitleSecond");r.addClass("sapSuiteTvTextCrop");r.writeClasses();r.write(">");r.writeEscaped(c.getSubtitle());r.write("</div>");r.write("</div>");this.renderFlyOutMenu(r,c);};
a.renderFacetContent=function(r,c){var f=c.getFacetContent();for(var i=0;i<f.length;i++){var g=f[i];r.write("<div");r.writeAttribute("role","form");if(g.getColspan()){r.addClass("sapUiUx3TVFacetThingGroupSpan");}else{r.addClass("sapUiUx3TVFacetThingGroup");}r.writeClasses();r.write(">");r.write("<div");r.writeAttributeEscaped("title",g.getTitle());r.addClass("sapUiUx3TVFacetThingGroupContentTitle");r.writeClasses();r.write(">");r.write("<span>");r.writeEscaped(g.getTitle());r.write("</span>");r.write("</div>");r.write("<div");r.addClass("sapUiUx3TVFacetThingGroupContent");r.writeClasses();r.write(">");var G=g.getContent();for(var j=0;j<G.length;j++){r.renderControl(G[j]);}r.write("</div>");r.write("</div>");}};
a.renderFlyOutMenu=function(r,c){r.write("<div");r.writeAttribute("id",c.getId()+"-menu-popup");r.writeAttribute("role","menu");r.addClass("sapSuiteTvPopupMenu");r.writeClasses();r.write(">");var m=c.getMenuContent();for(var i=0;i<m.length;i++){var M=m[i];M.addStyleClass("sapSuiteTvPopupMenuLink");r.renderControl(M);}r.write("</div>");};
return a;},true);
sap.ui.predefine('sap/suite/ui/commons/Timeline',["jquery.sap.global","./library","sap/ui/core/Control","sap/ui/core/ResizeHandler","sap/ui/core/format/DateFormat","sap/ui/model/ClientListBinding","sap/ui/model/FilterType","sap/suite/ui/commons/TimelineNavigator","sap/suite/ui/commons/util/DateUtils","sap/suite/ui/commons/util/ManagedObjectRegister","sap/ui/model/json/JSONModel","sap/ui/model/Sorter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/base/ManagedObject","sap/suite/ui/commons/TimelineItem","sap/suite/ui/commons/TimelineRenderManager","sap/ui/core/delegate/ScrollEnablement","sap/ui/model/odata/v4/ODataListBinding","sap/base/assert","sap/base/Log"],function(q,l,C,R,D,c,F,T,d,M,J,S,e,f,g,h,j,m,O,n,L){"use strict";var o=l.TimelineScrollingFadeout,p=l.TimelineAlignment,r=l.TimelineGroupType,s=l.TimelineFilterType,t=l.TimelineAxisOrientation;
var u=C.extend("sap.suite.ui.commons.Timeline",{metadata:{library:"sap.suite.ui.commons",properties:{alignment:{type:"sap.suite.ui.commons.TimelineAlignment",group:"Misc",defaultValue:"Right"},axisOrientation:{type:"sap.suite.ui.commons.TimelineAxisOrientation",group:"Misc",defaultValue:"Vertical"},data:{type:"object",group:"Misc",defaultValue:null,deprecated:true},enableAllInFilterItem:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},enableBackendFilter:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},enableBusyIndicator:{type:"boolean",group:"Misc",defaultValue:true},enableDoubleSided:{type:"boolean",group:"Misc",defaultValue:false},enableModelFilter:{type:"boolean",group:"Misc",defaultValue:true},enableScroll:{type:"boolean",group:"Misc",defaultValue:true},enableSocial:{type:"boolean",group:"Misc",defaultValue:false},filterTitle:{type:"string",group:"Misc",defaultValue:null},forceGrowing:{type:"boolean",group:"Misc",defaultValue:false},group:{type:"boolean",group:"Misc",defaultValue:false,deprecated:true},groupBy:{type:"string",group:"Misc",defaultValue:null},groupByType:{type:"sap.suite.ui.commons.TimelineGroupType",group:"Misc",defaultValue:"None"},growing:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},growingThreshold:{type:"int",group:"Misc",defaultValue:5},height:{type:"sap.ui.core.CSSSize",group:"Misc",defaultValue:''},lazyLoading:{type:"boolean",group:"Dimension",defaultValue:false},noDataText:{type:"string",group:"Misc",defaultValue:null},scrollingFadeout:{type:"sap.suite.ui.commons.TimelineScrollingFadeout",group:"Misc",defaultValue:"None"},showFilterBar:{type:"boolean",group:"Misc",defaultValue:true,deprecated:true},showHeaderBar:{type:"boolean",group:"Misc",defaultValue:true},showIcons:{type:"boolean",group:"Misc",defaultValue:true},showItemFilter:{type:"boolean",group:"Misc",defaultValue:true},showSearch:{type:"boolean",group:"Misc",defaultValue:true},showSort:{type:"boolean",group:"Misc",defaultValue:true},showSuggestion:{type:"boolean",group:"Behavior",defaultValue:true,deprecated:true},showTimeFilter:{type:"boolean",group:"Misc",defaultValue:true},sort:{type:"boolean",group:"Misc",defaultValue:true},sortOldestFirst:{type:"boolean",group:"Misc",defaultValue:false},textHeight:{type:"string",group:"Misc",defaultValue:''},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'}},defaultAggregation:"content",aggregations:{content:{type:"sap.suite.ui.commons.TimelineItem",multiple:true,singularName:"content"},customFilter:{type:"sap.ui.core.Control",multiple:false},filterList:{type:"sap.suite.ui.commons.TimelineFilterListItem",multiple:true,singularName:"filterList"},suggestionItems:{type:"sap.m.StandardListItem",multiple:true,singularName:"suggestionItem",deprecated:true}},events:{addPost:{deprecated:true,parameters:{value:{type:"string"}}},customMessageClosed:{},filterOpen:{},filterSelectionChange:{parameters:{type:{type:"sap.suite.ui.commons.TimelineFilterType"},searchTerm:{type:"string"},selectedItem:{type:"string"},selectedItems:{type:"object"},timeKeys:{type:"object"},clear:{type:"boolean"}}},grow:{},itemFiltering:{parameters:{item:{type:"sap.suite.ui.commons.TimelineItem"},reasons:{type:"object"},dataKeys:{type:"object"},timeKeys:{type:"object"},searchTerm:{type:"string"}}},select:{parameters:{selectedItem:{type:"sap.suite.ui.commons.TimelineItem"},userAction:{type:"boolean"}}},suggest:{deprecated:true,parameters:{suggestValue:{type:"string"}}},suggestionItemSelected:{deprecated:true,parameters:{selectedItem:{type:"sap.ui.core.Item"}}}},designTime:true}});
function v(a,b){var _;Object.defineProperty(a,b,{get:function(){return typeof _==="function"?_():_;},set:function(i){_=i;}});}
var w=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons"),x=Object.freeze({ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"}),y=Object.freeze({UP:"UP",DOWN:"DOWN",NONE:"NONE"}),z={Year:D.getDateInstance({pattern:"YYYY"}),Quarter:D.getDateInstance({pattern:"QQQQ YYYY"}),Month:D.getDateInstance({pattern:"MMMM YYYY"}),Week:D.getDateInstance({pattern:"w"}),Day:D.getDateInstance({style:"long"}),MonthDay:D.getDateInstance({style:"medium"})};
function A(a,b){var i;n(q.isArray(a),"aArray must be an array.");if(typeof a.findIndex==="function"){return a.findIndex(b);}for(i=0;i<a.length;i++){if(b(a[i],i,a)){return i;}}return-1;}
u.prototype.init=function(){this._aFilterList=[];this._collapsedGroups={};this._objects=new M();this._renderDblSided=null;this._groupId=0;this._lastScrollPosition={x:0,y:0,more:0};this._scrollersSet=false;this._currentFilterKeys=[];this._customFilter=false;this._bRendered=false;this._noAnimation=true;v(this,"_endDate");v(this,"_startDate");this._initControls();this.setBusyIndicatorDelay(0);};
u.prototype.resetTimeLimits=function(){this._maxDate=null;this._minDate=null;};
u.prototype.setCustomModelFilter=function(a,b){var B=this.getBinding("content");if(B){var i=B.aFilters||[];var k=A(i,function(b){return b._customTimelineId===a;});if(k!==-1){i.splice(k,1);}if(b!==null){b._customTimelineId=a;i.push(b);}B.filter(i,F.Control);}};
u.prototype.setCustomGrouping=function(G){var b=this.getBindingInfo("content");this._fnCustomGroupBy=G;if(b){this._bindGroupingAndSorting(b);this.updateAggregation("content");}};
u.prototype.setCurrentTimeFilter=function(a){this._startDate=a.from;this._endDate=a.to;this._rangeFilterType=a.type;};
u.prototype.setCurrentSearch=function(a){this._objects.getSearchField().setValue(a);};
u.prototype.setCurrentFilter=function(a){var b=this,H=function(V){for(var i=0;i<a.length;i++){if(a[i]===V){return true;}}return false;};if(!a){return;}if(!Array.isArray(a)){a=[a];}if(this._aFilterList.length===0){this._setFilterList();}b._currentFilterKeys=[];this._aFilterList.forEach(function(i){var k=i.key;if(H(k)){b._currentFilterKeys.push({key:k,text:i.text?i.text:i.key});}});};
u.prototype.getGroups=function(){return this._useBinding()?this.getContent().filter(function(i){return i._isGroupHeader;}):this._aGroups;};
u.prototype.exit=function(){this._objects.destroyAll();if(this.oItemNavigation){this.removeDelegate(this.oItemNavigation);this.oItemNavigation.destroy();this.oItemNavigation=null;}if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}if(this.oResizeListener){R.deregister(this.oResizeListener);this.oResizeListener=null;}};
u.prototype.adjustUI=function(){this._performUiChanges(true);};
u.prototype.setModelFilterMessage=function(a,b){if(a===s.Data){this._dataMessage=b;}if(a===s.Time){this._rangeMessage=b;}};
u.prototype.setCustomFilterMessage=function(a){this._customFilterMessage=a;};
u.prototype.setModelFilter=function(a){switch(a.type){case s.Data:this._dataFilter=a.filter;break;case s.Time:this._rangeDataFilter=a.filter;break;case s.Search:this._searchFilter=a.filter;break;default:}if(a.refresh!==false){this.recreateFilter();}};
u.prototype.getAggregation=function(a){switch(a){case"headerBar":return this.getHeaderBar();case"searchField":return this._objects.getSearchField();case"sortIcon":return this._objects.getSortIcon();case"filterIcon":return this._objects.getFilterIcon();default:return C.prototype.getAggregation.apply(this,arguments);}};
u.prototype._formatGroupBy=function(a,b){if(this._fnCustomGroupBy){return this._fnCustomGroupBy(a);}var k=a,i=a;if(a instanceof Date){switch(b){case r.Year:k=a.getFullYear();i=z.Year.format(a);break;case r.Quarter:k=a.getFullYear()+"/"+Math.floor(a.getMonth()/4);i=z.Quarter.format(a);break;case r.Month:k=a.getFullYear()+"/"+a.getMonth();i=z.Month.format(a);break;case r.Week:var B=new Date(a),E=new Date(a),G=a.getFullYear(),H=z.Week.format(a),I=a.getDate()-a.getDay(),K=I+6,N=new Date(B.setDate(I)),P=new Date(E.setDate(K));k=G+"/"+H;i=z.MonthDay.format(N)+" \u2013 "+z.MonthDay.format(P);break;case r.Day:k=a.getFullYear()+"/"+a.getMonth()+"/"+a.getDate();i=z.Day.format(a);break;default:}}return{key:k,title:i,date:a};};
u.prototype._fnDateDiff=function(a,b,i){var k,Y,B,E,G=0;b=b||this._minDate;i=i||this._maxDate;switch(a){case r.Year:G=i.getFullYear()-b.getFullYear();break;case r.Month:k=(i.getFullYear()-b.getFullYear())*12;k+=i.getMonth()-b.getMonth();G=k<=0?0:k;break;case r.Quarter:Y=(i.getFullYear()-b.getFullYear())*4;B=Math.floor(b.getMonth()/3);E=Math.floor(i.getMonth()/3);G=Y+(E-B);break;case r.Day:var H=24*60*60*1000;G=Math.round(Math.abs((b.getTime()-i.getTime())/(H)));break;default:}return G;};
u.prototype._fnAddDate=function(V,a){var N,b,i,k=function(H,E,G){this.setHours(H);this.setMinutes(E);this.setSeconds(G);},B=function(E,b,i){if(a===y.UP){k.call(i,23,59,59);return new Date(Math.min.apply(null,[this._maxDate,i]));}if(a===y.DOWN){k.call(b,0,0,0);return new Date(Math.max.apply(null,[this._minDate,b]));}return E;};switch(this._rangeFilterType){case r.Year:N=new Date(new Date(this._minDate).setFullYear(this._minDate.getFullYear()+V));b=new Date(N.getFullYear(),0,1);i=new Date(N.getFullYear(),11,31);break;case r.Month:N=new Date(new Date(this._minDate).setMonth(this._minDate.getMonth()+V));b=new Date(N.getFullYear(),N.getMonth(),1);i=new Date(N.getFullYear(),N.getMonth()+1,0);break;case r.Quarter:N=new Date(new Date(this._minDate).setMonth(this._minDate.getMonth()+(V*3)));var Q=N.getMonth()%3;b=new Date(N.getFullYear(),N.getMonth()-Q,1);i=new Date(N.getFullYear(),N.getMonth()+(2-Q)+1,0);break;case r.Day:N=b=i=new Date(new Date(this._minDate).setDate(this._minDate.getDate()+V));break;default:}return B.call(this,N,b,i);};
u.prototype._calculateRangeTypeFilter=function(){var a=this._fnDateDiff(r.Day);if(a>500){return r.Year;}else if(a>200){return r.Quarter;}else if(a>62){return r.Month;}return r.Day;};
u.prototype._setRangeFilter=function(){var a=this._fnDateDiff(this._rangeFilterType);this._objects.getTimeRangeSlider().setMin(0);this._objects.getTimeRangeSlider().setMax(a);this._objects.getTimeRangeSlider().setRange([0,a]);this._objects.getTimeRangeSlider().invalidate();};
u.prototype._sortClick=function(){var b,P;this._sortOrder=this._sortOrder===x.ASCENDING?x.DESCENDING:x.ASCENDING;this._objects.getSortIcon().setIcon(this._sortOrder===x.ASCENDING?"sap-icon://arrow-bottom":"sap-icon://arrow-top");if(this._useModelFilter()){b=this.getBinding("content");P=this._findBindingPath("dateTime");b.sort(this._getDefaultSorter(P,this._sortOrder===x.ASCENDING));}else{this.invalidate();}};
u.prototype._sort=function(a,b){var i=b||this._sortOrder;a.sort(function(k,B){var E=k.getDateTime(),G=B.getDateTime(),H=(i===x.ASCENDING)?-1:1;return E<G?1*H:-1*H;});return a;};
u.prototype._loadMore=function(){var b,a,i=function(){var k=this._displayShowMore()?this.getGrowingThreshold():this._calculateItemCountToLoad(this.$());this._iItemCount+=k;this._iItemCount=Math.min(this._getMaxItemsCount(),this._iItemCount);}.bind(this);this._lastScrollPosition.more=this._isVertical()?this._$content.get(0).scrollTop:this._$content.get(0).scrollLeft;this._setBusy(true);this.fireGrow();if(this._useBinding()){if(this._isMaxed()){this._setBusy(false);return;}i();b=this.getBindingInfo("content");b.startIndex=0;if(!this._loadAllData()){b.length=this._iItemCount;}a=this.getBinding("content").getContexts(0,b.length);if(a&&a.dataRequested){return;}this.updateAggregation("content");}else{i();this.invalidate();}this.oItemNavigation.refocusOnNextUpdate();};
u.prototype.recreateFilter=function(b){var B=this.getBinding("content"),a=this,i=[],k=[];if(B){if(!b){i=B.aFilters||[];}if(this._dataFilter){k.push(this._dataFilter);}if(this._rangeDataFilter){k.push(this._rangeDataFilter);}if(this._searchFilter){k.push(this._searchFilter);}if(this._filter&&!b){var E=A(i,function(G){return G===a._filter;});if(E!==-1){i.splice(E,1);}}if(k.length>0){this._filter=new e(k,true);i.push(this._filter);}B.filter(i,F.Control);}else{this.invalidate();}};
u.prototype._getRangeMessage=function(){var a=this._rangeMessage;if(!a){var b=this._formatGroupBy(this._startDate,this._rangeFilterType).title,i=this._formatGroupBy(this._endDate,this._rangeFilterType).title;a=w.getText("TIMELINE_RANGE_SELECTION")+" (";a+=b+" - "+i+")";}return a;};
u.prototype._getFilterMessage=function(){var a="",b=null;if(this._dataMessage){a=this._dataMessage;}else if(this._currentFilterKeys.length>0){a=this._currentFilterKeys.map(function(i){return i.text?i.text:i.key;}).join(", ");a=this._getFilterTitle()+" ("+a+")";}if(this._rangeDataFilter||this._rangeMessage||(this._startDate&&this._endDate)){a=a?a+", ":"";a+=this._getRangeMessage();}if(this._customFilterMessage){a=a?a+", "+this._customFilterMessage:this._customFilterMessage;}if(a){b=w.getText("TIMELINE_FILTER_INFO_BY",a);}return b;};
u.prototype.refreshContent=function(){var b=this.getBinding("content"),B=this.getBindingInfo("content"),G=this.getGrowingThreshold();this._setBusy(true);if(b&&B){b.getContexts(0,G);B.length=G;b.attachEventOnce("dataReceived",q.proxy(function(){this.updateAggregation("content");},this));}else{this.updateAggregation("content");}};
u.prototype.updateContent=function(){this._setBusy(false);this.updateAggregation("content");this.invalidate();};
u.prototype.destroyContent=function(){var $=this.$("line"),a=this.$().find(".sapSuiteUiCommonsTimelineItemGetMoreButton");if($.get(0)){$.remove();}if(a.get(0)){a.remove();}this.destroyAggregation("content");};
u.prototype._search=function(a){var b=this,E,i,k,U,B=[];this._searchValue=a;if(this._useModelFilter()){E=this._fireSelectionChange({searchTerm:this._searchValue,type:s.Search});if(E){this._searchFilter=null;if(this._searchValue){i=this._findBindingPaths("text");k=this._findBindingPaths("title");U=this._findBindingPaths("userName");if(i.length>0){B.push(i);}if(k.length>0){B.push(k);}if(U){B.push(U);}if(B.length>0){this._searchFilter=new e(B.map(function(G){return new e(G.map(function(H){return new e(H,f.Contains,b._searchValue);}),false);}));}}this.recreateFilter();}}else{this.invalidate();}};
u.prototype._filterData=function(b){var E,P;this._dataMessage="";if(this._useModelFilter()){this._dataFilter=null;E=this._fireSelectionChange({selectedItem:this._currentFilterKeys[0]?this._currentFilterKeys[0].key:"",selectedItems:this._currentFilterKeys,type:s.Data});if(E){if(this._currentFilterKeys.length>0){P=this._findBindingPath("filterValue");if(P){this._dataFilter=new e(this._currentFilterKeys.map(function(i){return new e(P,f.EQ,i.key);}),false);}}}this._rangeDataFilter=null;if(b){E=this._fireSelectionChange({type:s.Time,timeKeys:{from:this._startDate,to:this._endDate}});if(E){P=this._findBindingPath("dateTime");if(P){this._rangeDataFilter=new e({path:P,operator:f.BT,value1:this._startDate,value2:this._endDate});}}}this._setBusy(true);this.recreateFilter();}else{this.invalidate();}};
u.prototype._filterRangeData=function(){var E,P;this._rangeMessage="";if(this._useModelFilter()){E=this._fireSelectionChange({from:this._startDate,to:this._endDate,type:s.Time});if(E){P=this._findBindingPath("dateTime");this._rangeDataFilter=null;if(P){this._rangeDataFilter=new e({path:P,operator:f.BT,value1:this._startDate,value2:this._endDate});}this._setBusy(true);this.recreateFilter();}}else{this.invalidate();}};
u.prototype.applySettings=function(a,b){g.prototype.applySettings.apply(this,[a,b]);this._settingsApplied=true;if(this._bindOptions){this.bindAggregation("content",this._bindOptions);this._bindOptions=null;}};
u.prototype._setFilterList=function(){var k=false,B,I,K,E={},G,H;this._aFilterList=[];if(this._useModelFilter()){this._aFilterList=this.getFilterList().map(function(a){return{key:a.getProperty("key"),text:a.getProperty("text")};});if(this._aFilterList.length===0){H=this._findBindingData("filterValue");G=this.getBinding("content");if(H&&G){B=G.getDistinctValues(H.path);if(Array.isArray(B)){this._aFilterList=B.map(function(a){return{key:a,text:H.formatter?H.formatter(a):a};});this._aFilterList=this._aFilterList.filter(function(a){return a.key;});}k=true;}}}else{I=this.getContent();k=true;for(var i=0;i<I.length;i++){K=I[i].getFilterValue();if(!K){continue;}if(!(K in E)){E[K]=1;this._aFilterList.push({key:K,text:K});}}}if(k){this._aFilterList.sort(function(a,b){if(a.text.toLowerCase){return a.text.toLowerCase().localeCompare(b.text.toLowerCase());}else{return a.text>b.text;}});}};
u.prototype._clearFilter=function(){var a=function(){var E,B=this._objects.getTimeRangeSlider();this._startDate=null;this._endDate=null;this._rangeMessage=null;B.setRange([B.getMin(),B.getMax()]);if(this._useModelFilter()){E=this._fireSelectionChange({clear:true,timeKeys:{from:null,to:null},type:s.Range});}return E;}.bind(this),b=function(){var E;this._currentFilterKeys=[];if(this._useModelFilter()){E=this._fireSelectionChange({clear:true,selectedItems:[],selectedItem:"",type:s.Data});}return E;}.bind(this);var i=b(),k=a();this._customFilterMessage="";if(i||k){if(i){this._dataFilter=null;}if(k){this._rangeDataFilter=null;}this.recreateFilter(true);}else{this.invalidate();}this._objects.destroyObject("FilterContent");this._setupFilterDialog();};
u.prototype._getTimeFilterData=function(){var a=this,I,b,k,B,E=function(i,P){return H(i,a[P]).then(function(Q){if(Q){var U=d.parseDate(Q);if(U instanceof Date){a[P]=U;}}}).catch(function(){});},G=function(i){var P,Q,U,V,W,X="sap_suite_ui_commons_Timeline";P=this.getBinding("content").getModel();if(!P){return Promise.reject();}Q=this._findBindingPath("dateTime");U=new S(Q,i);V=this.getBinding("content");if(!V){return Promise.reject();}if(P.submitBatch){W={$$groupId:X};}var Y=P.bindList(V.getPath(),V.getContext(),U,undefined,W);Y.initialize();var Z=Y.getContexts(0,1);if(Z.length>0){return Promise.resolve(d.parseDate(Z[0].getProperty(Q)));}else if(Y instanceof O){a._setBusy(true);return new Promise(function($,_){P.submitBatch(X).then(function(){a._setBusy(false);N(Y,Q,$,_);});});}else if(Y&&Y.attachDataReceived){a._setBusy(true);return new Promise(function($,_){Y.attachDataReceived(function(){a._setBusy(false);N(Y,Q,$,_);});});}return Promise.reject();}.bind(this),H=function(i,B){if(B){return Promise.resolve(B);}return G(i==="max");},K=function(){I=this.getContent();if(I.length>0){this._minDate=I[0].getDateTime();this._maxDate=I[0].getDateTime();for(var i=1;i<I.length;i++){B=I[i].getDateTime();if(B<this._minDate){this._minDate=B;}if(B>this._maxDate){this._maxDate=B;}}}},N=function(i,P,Q,U){var V=i.getContexts(0,1);if(V.length>0){Q(d.parseDate(V[0].getProperty(P)));}else{U();}};return new Promise(function(i,P){if(!a._maxDate||!a._minDate){if(a._useModelFilter()){b=E("min","_minDate",b);k=E("max","_maxDate",k);Promise.all([b,k]).then(function(){i();}).catch(function(){P();});}else{K.call(a);i();}}else{i();}});};
u.prototype._openFilterDialog=function(){var a;if(this._customFilter){a=this.getCustomFilter();if(typeof a.openBy==="function"){a.openBy(this._objects.getFilterIcon());}else if(typeof a.open==="function"){a.open();}else{L.error("CustomFilter is expected to have an openBy or open function. The provided instance doesn't have either.");}this.fireFilterOpen();return;}this._filterState={data:false,range:false};this._objects.getFilterContent().open();this._objects.getTimestampFilterPicker().resizeDialog(this._objects);this.fireFilterOpen();};
u.prototype._createGroupHeader=function(a,b){var i=this.getId()+"-timelinegroupheader-"+this._groupId,k=a.key,G=new h(i,{text:"GroupHeader",dateTime:a.date,userName:k,title:a.title,icon:"sap-icon://arrow-down"});G._isGroupHeader=true;if(b){G.setParent(this,"content");this._aGroups.push(G);}else{this.addAggregation("content",G,false);}this._groupId++;return G;};
u.prototype._getDefaultSorter=function(P,a){var b=this;return new S(P,!a,function(i){var V=i.getProperty(P),k=d.parseDate(V);return k instanceof Date?b._formatGroupBy(k,b.getGroupByType()):{date:k};});};
u.prototype._findBindingInfoFromTemplate=function(P,a){if(!a){var b=this.getBindingInfo("content");if(b){a=b.template;}}if(a){var i=a.getBindingInfo(P);if(i&&i.parts&&i.parts[0]){return i;}}return null;};
u.prototype._findBindingPaths=function(P,a){var i=this._findBindingInfoFromTemplate(P,a);if(i&&i.parts){return i.parts.map(function(I){return I.path;});}return[];};
u.prototype._findBindingPath=function(P,a){var i=this._findBindingInfoFromTemplate(P,a);if(i){return i.parts[0].path;}return null;};
u.prototype._findBindingData=function(P,a){var i=this._findBindingInfoFromTemplate(P,a);if(i){return{path:i.parts[0].path,formatter:i.formatter};}return null;};
u.prototype._bindGroupingAndSorting=function(b){if(!this._isGrouped()&&this.getSort()){var a=this._findBindingPath("dateTime",b.template);if(a){b.sorter=this._getDefaultSorter(a,this.getSortOldestFirst());}}b.groupHeaderFactory=null;if(this._isGrouped()){b.sorter=this._getDefaultSorter(this.getGroupBy(),this.getSortOldestFirst());b.groupHeaderFactory=q.proxy(this._createGroupHeader,this);}};
u.prototype.bindAggregation=function(N,a){if(N==="content"){if(!this._settingsApplied){this._bindOptions=a;return null;}this._bindGroupingAndSorting(a);if(this._lazyLoading()){this._iItemCount=this._calculateItemCountToLoad(q(window));if(!this._loadAllData(true)){a.length=this._iItemCount;}}else if(this._displayShowMore()&&!this._loadAllData(a.template)){this._iItemCount=this.getGrowingThreshold();a.length=this._iItemCount;}this._oOptions=a;}return g.prototype.bindAggregation.apply(this,[N,a]);};
u.prototype._calculateItemCountToLoad=function($){var i=t.Vertical===this.getAxisOrientation(),a=i?$.height():$.width(),b=this.getEnableDoubleSided(),k=b?0.6:1,B=i?1200:2000,I=i?120:280,E=(13*k),G;if(!a){a=B;}G=(a/(I*k))*1.5;return Math.floor(Math.max(G,E));};
u.prototype.onBeforeRendering=function(){var G=this.getGrowingThreshold(),a;this._bRtlMode=sap.ui.getCore().getConfiguration().getRTL();this._objects.getSortIcon().setIcon(this._sortOrder===x.ASCENDING?"sap-icon://arrow-bottom":"sap-icon://arrow-top");this._aGroups=[];this._bRendered=false;a=this.getContent();if(!this._iItemCount&&!this._useBinding()&&this._lazyLoading()){this._iItemCount=this._calculateItemCountToLoad(q(window));}if(!this._iItemCount){if(G!==0){this._iItemCount=G;}}if(!this._iItemCount||!this._useGrowing()){this._iItemCount=a.filter(function(i){return!i._isGroupHeader;}).length;}this._setOutput(a);};
u.prototype.addContentGroup=function(a){};
u.prototype._performScroll=function(a){var b=this,i=this._isVertical()?this._$content.get(0).scrollTop+a:this._$content.get(0).scrollLeft+a;i=Math.max(i,0);if(this._isVertical()){this._$content.get(0).scrollTop=i;}else{this._$content.get(0).scrollLeft=i;}if(this._manualScrolling){setTimeout(b._performScroll.bind(b,a),50);}};
u.prototype._moveScrollBar=function(U){if(this._lastScrollPosition.more||this._lastScrollPosition.backup){if(U){this._lastScrollPosition.more=this._lastScrollPosition.backup;}if(this._isVertical()){this._oScroller.scrollTo(0,this._lastScrollPosition.more);}else{this._oScroller.scrollTo(this._lastScrollPosition.more,0);}if(!U){this._lastScrollPosition.backup=this._lastScrollPosition.more;}this._lastScrollPosition.more=0;}};
u.prototype.onAfterRendering=function(){var $=this.$();if(this._isVertical()){this._$content=this.$("content");this._$scroll=this.$("scroll");}else{this._$content=this.$("contentH");this._$scroll=this.$("scrollH");}this.setBusy(false);if(!this._oScroller){this._oScroller=new m(this,this._$scroll.attr('id'),{});}this._oScroller._$Container=this._$scroll.parent();this._oScroller.setVertical(this._isVertical());this._oScroller.setHorizontal(!this._isVertical());this._startItemNavigation();this._scrollersSet=false;this._scrollMoreEvent=true;this._lastStateDblSided=null;this._showCustomMessage();this._setupScrollEvent();this._performUiChanges();this._moveScrollBar();this._bRendered=true;$.css("opacity",1);};
u.prototype._clientFilter=function(I){var a=[],b,k,B,E,G,H,K,N,U,P;function Q(V){return V.key===b.getProperty("filterValue");}for(var i=0;i<I.length;i++){b=I[i];k=false;B={};if(this._currentFilterKeys.length>0){E=A(this._currentFilterKeys,Q);if(E===-1){k=true;B[s.Data]=1;}}if(this._startDate&&this._endDate){G=b.getDateTime();if(G<this._startDate||G>this._endDate){k=true;B[s.Time]=1;}}if(this._searchValue){H=this._searchValue.toLowerCase();K=b.getProperty("text")||"";N=b.getProperty("title")||"";U=b.getProperty("userName")||"";if(!((K.toLowerCase().indexOf(H)!==-1)||(N.toLowerCase().indexOf(H)!==-1)||(U.toLowerCase().indexOf(H)!==-1))){k=true;B[s.Search]=1;}}P=!this.fireEvent("itemFiltering",{item:b,reasons:B,dataKeys:this._currentFilterKeys,timeKeys:{from:this._startDate,to:this._endDate},searchTerm:this._searchValue},true);if(P){k=!k;}if(!k){a.push(b);}}return a;};
u.prototype._setOutput=function(I){var a;var b=function(){var U=0,V=[],i=0;if(this._iItemCount!==a.length){for(;i<a.length;i++){if(!a[i]._isGroupHeader){U++;}if(U>this._iItemCount){break;}V.push(a[i]);}a=V;}},B=function(){var U=[],V,W,X={key:""};for(var i=0;i<a.length;i++){V=a[i];W=this._formatGroupBy(V.getDateTime(),this.getGroupByType());if(W.key!=X.key){U.push(this._createGroupHeader(W,true));X=W;}U.push(V);}return U;},G=function(){var U;if(!this._maxDate&&!this._minDate){if(this.getSort()||this._isGrouped()){for(var i=0;i<I.length;i++){U=I[i];if(!U._isGroupHeader){this._sortOrder===x.ASCENDING?this._minDate=U.getDateTime():this._maxDate=U.getDateTime();break;}}}}},E,H,K,N;G.call(this);if((!this._useBinding()||!this._useModelFilter())&&this.getSort()){I=this._sort(I);}a=this._useModelFilter()?I:this._clientFilter(I);a=a.filter(function(Q){return!Q._isGroupHeader;});this._showMore=this.getForceGrowing();if(!this._showMore&&this._displayShowMore()){this._showMore=a.length>this._iItemCount;if(!this._showMore&&this._useModelFilter()){this._showMore=a.length===this._iItemCount&&this._iItemCount<this._getMaxItemsCount();}}a=a.filter(function(Q){return Q.getVisible();});b.call(this);this._outputItem=[];if(this._isGrouped()){if(!this._useBinding()){I=B.call(this);}var P=I.filter(function(U){return U._isGroupHeader;});this._groupCount=P.length;for(var i=0;i<P.length;i++){E=P[i];K=E.getUserName();N=true;E._groupID=K;for(var k=0;k<a.length;k++){var Q=a[k];H=this._formatGroupBy(Q.getDateTime(),this.getGroupByType());if(H.key==K&&!Q._isGroupHeader){if(N){this._outputItem.push(E);N=false;}Q._groupID=K;this._outputItem.push(Q);}}}}else{this._outputItem=q.extend(true,[],a);}};
u.prototype._getMaxItemsCount=function(){var b=this.getBinding("content"),a,i,B;if(b){B=b.getLength()||0;a=this.getModel();i=a&&a.iSizeLimit;return Math.min(B,i||B);}return this.getContent().length;};
u.prototype._showCustomMessage=function(){var b=!!this._customMessage,$=this._objects.getMessageStrip().$();this._objects.getMessageStrip().setVisible(b);this._objects.getMessageStrip().setText(this._customMessage);if(b){$.show();}else{$.hide();}};
u.prototype._performExpandCollapse=function(G,E){var a=this,$,b=this.$(),i=E?"slideDown":"slideUp",k=250;b.find('li[groupid="'+G+'"][nodeType="GroupHeaderBar"]').each(function(I,B){var H=q(B);if(!E){H.addClass("sapSuiteUiCommonsTimelineItemGroupCollapsedBar");}else{H.removeClass("sapSuiteUiCommonsTimelineItemGroupCollapsedBar");}});$=b.find('li[groupid="'+G+'"][nodeType!="GroupHeader"][nodeType!="GroupHeaderBar"]');return new Promise(function(B,H){if(a._noAnimation){if(E){$.show();}else{$.hide();}B();}else{if(a._isVertical()){$[i](k);}else{$.animate({width:'toggle'},350);}$.promise().done(function(){B();});}});};
u.prototype._itemRendered=function(){if(this._bRendered){this.adjustUI();}};
u.prototype._startItemNavigation=function(E){var i=this._getItemsForNavigation(),$=this.$("content").get(0)||this.$("contentH").get(0),G=function(a,b){return b.filter(function(I){return I.getFocusDomRef()===a;});};if(!this.oItemNavigation){this.oItemNavigation=new T($,i.items,false,i.rows);this.oItemNavigation.setPageSize(10);this.oItemNavigation.attachEvent("AfterFocus",function(E){var a=this.oItemNavigation.getItemDomRefs()[E.getParameter("index")],b=G(a,this._outputItem);if(b[0]){this.fireSelect({selectedItem:b[0],userAction:E.mParameters.event.type==="mousedown"});}},this);this.oItemNavigation.attachEvent("Enter",function(E){var a=G(E.getParameter("domRef"),this._outputItem);if(a[0]){this.fireSelect({selectedItem:a[0],userAction:true});}},this);this.addDelegate(this.oItemNavigation);}else{this.oItemNavigation.updateReferences($,i.items,i.rows);}if(i.columns){this.oItemNavigation.setColumns(i.columns,false);}};
u.prototype._getItemsForNavigation=function(){var I={},a,b,B,k,E;if(this._renderDblSided){if(this._isVertical()){I.items=this._outputItem;I.rows=[];k=[];I.items.forEach(function(i){var $=i.$(),G=$.hasClass("sapSuiteUiCommonsTimelineItemWrapperVLeft")||$.hasClass("sapSuiteUiCommonsTimelineItemOdd");if(G&&k.length===1){k.push(null);}else if(!G&&k.length===0){k.push(null);}if(k.length>1){I.rows.push(k);k=[];}k.push(i);});if(k.length>0){I.rows.push(k);}}else{b=[];B=[];this._outputItem.forEach(function(i){if(i._placementLine==="top"){b.push(i);}else{while(B.length+1<b.length){B.push(null);}B.push(i);}});I.items=this._outputItem;I.rows=[b,B];}}else{I.items=this._outputItem;}I.items=I.items.map(function(i){return i.getFocusDomRef();});if(I.rows){E=0;I.rows=I.rows.map(function(i){if(i.length>E){E=i.length;}return i.map(function(G){return G===null?null:G.getFocusDomRef();});});I.rows.forEach(function(i){while(i.length<E){i.push(null);}});}if(this._showMore){a=this._objects.getMoreButton().getFocusDomRef();I.items.push(a);if(I.rows){if(this._isVertical()){if(I.rows.length>0){I.rows.push(I.rows[0].map(function(V,i,G){if(i===G.length-1){return a;}else{return null;}}));}else{I.rows.push([a]);}}else{I.rows.forEach(function(G,i,H){if(i===H.length-1){G.push(a);}else{G.push(null);}});}}}return I;};
u.prototype.setShowItemFilter=function(b){this.setProperty("showItemFilter",b,true);if(this._objects.isObjectInitialized("FilterContent")){this._setupFilterFirstPage(this._objects.getFilterContent());}this._objects.getFilterIcon().setVisible(b||this.getShowTimeFilter());};
u.prototype.setShowTimeFilter=function(b){this.setProperty("showTimeFilter",b,true);if(this._objects.isObjectInitialized("FilterContent")){this._setupFilterFirstPage(this._objects.getFilterContent());}this._objects.getFilterIcon().setVisible(b||this.getShowItemFilter());};
u.prototype._getFilterTitle=function(){var V=this.getFilterTitle();if(!V){V=w.getText("TIMELINE_FILTER_ITEMS");}return V;};
u.prototype.getNoDataText=function(){var a=this.getProperty("noDataText");if(!a){a=w.getText('TIMELINE_NO_DATA');}return a;};
u.prototype.setSortOldestFirst=function(b){this._sortOrder=b?x.ASCENDING:x.DESCENDING;this._objects.getSortIcon().setIcon(this._sortOrder===x.ASCENDING?"sap-icon://arrow-bottom":"sap-icon://arrow-top");this.setProperty("sortOldestFirst",b);};
u.prototype.setGrowingThreshold=function(a){this.setProperty("growingThreshold",a,true);this._iItemCount=a;};
u.prototype.setShowHeaderBar=function(a){this.setProperty("showHeaderBar",a,true);this._objects.getHeaderBar().setVisible(a);};
u.prototype.setSort=function(b){this.setProperty("sort",b);this._objects.getSortIcon().setVisible(b&&this.getShowSort());};
u.prototype.setAxisOrientation=function(a){this.setProperty("axisOrientation",a);if(this._oScroller){this._oScroller.destroy();this._oScroller=null;}};
u.prototype.setEnableDoubleSided=function(E){this.setProperty("enableDoubleSided",E);this._renderDblSided=E;};
u.prototype.getCurrentFilter=function(){return this._currentFilterKeys.map(function(i){return{key:i.key,text:i.text||i.key};});};
u.prototype.setShowFilterBar=function(a){this.setProperty("showFilterBar",a,true);this.setShowHeaderBar(a);};
u.prototype.setShowSearch=function(a){this.setProperty("showSearch",a,true);this._objects.getSearchField().setVisible(!!a);};
u.prototype.setShowSort=function(b){this.setProperty("showSort",b,true);this._objects.getSortIcon().setVisible(this.getSort()&&b);};
u.prototype.setCustomMessage=function(a){this._customMessage=a;this._showCustomMessage();};
u.prototype.getHeaderBar=function(){return this._objects.getHeaderBar();};
u.prototype.getMessageStrip=function(){return this._objects.getMessageStrip();};
u.prototype.setContent=function(a){this.removeAllContent();var b=0;for(var i=0;i<a.length;i++){var I=a[i];if(I instanceof h){if(this._isGrouped()){var G=this._formatGroupBy(I.getDateTime(),this.getGroupByType());if(G.key!==b.key){this._createGroupHeader(G);b=G;}}this.addContent(I);}}this._iItemCount=0;};
u.prototype.setData=function(a){var I="sapsuiteuicommonsTimelineInternalModel",i=new J(),P,b,k=function(E,G){var H=new h({dateTime:G.getProperty("dateTime"),icon:G.getProperty("icon"),userName:G.getProperty("userName"),title:G.getProperty("title"),text:G.getProperty("text"),filterValue:G.getProperty("filterValue")});if(G.getProperty("content")){H.setEmbeddedControl(G.getProperty("content"));}return H;},B=function(P,E){var G=P;if(E){G=E+">"+P;}return G;};if(typeof a==="undefined"){return this;}P=B("/",I);i.setData(a);this.setModel(i,I);this.setProperty("data",a,true);b={path:P,sorter:this._getDefaultSorter('dateTime',this.getSortOldestFirst()),factory:q.proxy(k,this)};if(this._isGrouped()){b.groupHeaderFactory=q.proxy(this._getGroupHeader,this);}this.bindAggregation("content",b);return this;};
u.prototype.setCustomFilter=function(a){if(a){this._customFilter=true;this.setAggregation("customFilter",a,true);}else{this._customFilter=false;}};
u.prototype.getSuspendSocialFeature=function(){return this._suspenseSocial;};
u.prototype.setSuspendSocialFeature=function(b){this._suspenseSocial=b;if(!this.getEnableSocial()){return;}var I=this.getContent();for(var i=0;i<I.length;i++){I[i]._objects.getReplyLink().setEnabled(!b);}this.invalidate();};
u.prototype.updateFilterList=function(){this.updateAggregation("filterList");this._setFilterList();};
u.prototype.setGroupByType=function(a){var b=this.getBindingInfo("content");this.setProperty("groupByType",a);if(b){this._bindGroupingAndSorting(b);this.updateAggregation("content");}};
u.prototype.getGroup=function(){return this.getGroupByType()!=="None";};
u.prototype.setGroup=function(G){if(G&&this.getGroupByType()===r.None){this.setGroupByType(r.Year);}if(!G){this.setGroupByType(r.None);}};
u.prototype.setGrowing=function(G){if(!G){this.setGrowingThreshold(0);}};
u.prototype.getGrowing=function(G){return this.getGrowingThreshold()!==0;};
u.prototype.setEnableBackendFilter=function(b){this.setProperty("enableModelFilter",b);};
u.prototype.getEnableBackendFilter=function(){return this.getProperty("enableModelFilter");};
u.prototype._isGrouped=function(){return(this.getGroupByType()!==r.None||this._fnCustomGroupBy)&&(this.getGroupBy()!=="");};
u.prototype._lazyLoading=function(){return this.getEnableScroll()&&this.getLazyLoading();};
u.prototype._loadAllData=function(a){return!this._useModelFilter(a);};
u.prototype._isVertical=function(){return t.Vertical===this.getAxisOrientation();};
u.prototype._displayShowMore=function(){return this.getForceGrowing()||(this.getGrowingThreshold()!==0&&!this._lazyLoading());};
u.prototype._useGrowing=function(){return this.getForceGrowing()||this.getGrowingThreshold()!==0||this._lazyLoading();};
u.prototype._isMaxed=function(){return this._iItemCount>=this._getMaxItemsCount();};
u.prototype._useModelFilter=function(a){return this.getEnableModelFilter()&&(a||this._useTemplateBinding());};
u.prototype._scrollingFadeout=function(a){return this.getScrollingFadeout()!==o.None&&this.getEnableScroll();};
u.prototype._setBusy=function(b){if(this.getEnableBusyIndicator()){this.setBusy(b);}};
u.prototype._fireSelectionChange=function(P){return this.fireEvent("filterSelectionChange",P,true);};
u.prototype._isLeftAlignment=function(){return this.getAlignment()===p.Left||this.getAlignment()===p.Top;};
u.prototype._useBinding=function(b){return this.getBindingInfo("content")!=null;};
u.prototype._useTemplateBinding=function(){var a=this.getBindingInfo("content");return a&&a.template!=null;};
u.prototype._useAutomaticHeight=function(){return this.getTextHeight().toLowerCase()==="automatic"&&!this._isVertical();};
u.prototype._getItemsCount=function(){return this._outputItem?this._outputItem.length:0;};
j.extendTimeline(u);return u;});
sap.ui.predefine('sap/suite/ui/commons/TimelineFilterListItem',['./library','sap/ui/core/Control'],function(l,C){"use strict";
var T=C.extend("sap.suite.ui.commons.TimelineFilterListItem",{metadata:{library:"sap.suite.ui.commons",properties:{key:{type:"string",group:"Data",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null}}}});
return T;});
sap.ui.predefine('sap/suite/ui/commons/TimelineItem',["jquery.sap.global","sap/ui/core/Control","sap/m/Text","sap/m/Toolbar","sap/m/ToolbarDesign","sap/m/Link","sap/m/TextArea","sap/m/Popover","sap/m/PlacementType","sap/m/ToolbarSpacer","sap/m/Button","sap/ui/Device","sap/suite/ui/commons/util/ManagedObjectRegister","sap/suite/ui/commons/util/DateUtils","sap/ui/core/Icon","sap/m/library","sap/ui/core/format/DateFormat","sap/ui/model/odata/v4/ODataModel"],function(q,C,T,a,b,L,c,P,d,e,B,D,M,f,I,g,h,O){"use strict";
var j=C.extend("sap.suite.ui.commons.TimelineItem",{metadata:{library:"sap.suite.ui.commons",properties:{dateTime:{type:"any",group:"Misc",defaultValue:null},filterValue:{type:"string",group:"Misc",defaultValue:null},icon:{type:"string",group:"Misc",defaultValue:null},iconTooltip:{type:"string",group:"Misc",defaultValue:null},useIconTooltip:{type:"boolean",group:"Accessibility",defaultValue:true},maxCharacters:{type:"int",group:"Behavior",defaultValue:null},replyCount:{type:"int",group:"Misc",defaultValue:null},status:{type:"string",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null},text:{type:"string",group:"Misc",defaultValue:null},userName:{type:"string",group:"Misc",defaultValue:null},userNameClickable:{type:"boolean",group:"Misc",defaultValue:false},userPicture:{type:"sap.ui.core.URI",group:"Misc",defaultValue:null}},defaultAggregation:"embeddedControl",aggregations:{customAction:{type:"sap.ui.core.CustomData",multiple:true,singularName:"customAction"},customReply:{type:"sap.ui.core.Control",multiple:false},embeddedControl:{type:"sap.ui.core.Control",multiple:false},replyList:{type:"sap.m.List",multiple:false},suggestionItems:{type:"sap.m.StandardListItem",multiple:true,singularName:"suggestionItem",deprecated:true}},events:{userNameClicked:{parameters:{uiElement:{type:"sap.ui.core.Control"}}},replyPost:{parameters:{value:{type:"string"}}},replyListOpen:{},customActionClicked:{parameters:{value:{type:"string"},key:{type:"string"},linkObj:{type:"sap.m.Link"}}},suggest:{deprecated:true,parameters:{suggestValue:{type:"string"}}},suggestionItemSelected:{deprecated:true,parameters:{selectedItem:{type:"sap.ui.core.Item"}}}}}});
var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons"),S={"Warning":"sapSuiteUiCommonsTimelineStatusWarning","Error":"sapSuiteUiCommonsTimelineStatusError","Success":"sapSuiteUiCommonsTimelineStatusSuccess","Information":"sapSuiteUiCommonsTimelineStatusInformation"};
j.prototype.init=function(){this._customReply=false;this._objects=new M();this._nMaxCharactersMobile=500;this._nMaxCharactersDesktop=800;this._sTextShowMore=r.getText("TIMELINE_TEXT_SHOW_MORE");this._registerControls();this._registerPopup();this._orientation="V";};
j.prototype.setCustomMessage=function(m){this._objects.getInfoText().setText(m);this._objects.getInfoBar().setVisible(m&&m.length>0);this.invalidate();};
j.prototype.setDateTime=function(o){if(o&&this.getBinding("dateTime")&&(this.getModel()instanceof O)){var i=h.getDateTimeInstance({pattern:"yyyy-MM-dd'T'HH:mm:ss.SSSZ"});var p=i.parse(o);if(p instanceof Date){o=p;}}this.setProperty("dateTime",o);};
j.prototype.applyFocusInfo=function(){this.focus();this.getParent()._moveScrollBar(true);};
j.prototype.getFocusDomRef=function(){return this.$("outline")[0];};
j.prototype._replyPost=function(){var i=this._objects.getReplyInputArea().getValue();this.fireReplyPost({value:i});};
j.prototype._registerPopup=function(){var t=this;this._objects.register("fullText",function(){var o=new T(t.getId()+"-fullText",{text:t.getText()});o.addStyleClass("sapSuiteUiCommonsTimelineItemPopoverText");return o;});this._objects.register("fullTextPopover",function(){var p=new P({placement:d.Bottom,showArrow:false,showHeader:false,contentMinWidth:'300px',contentWidth:'450px',resizable:true,content:[t._objects.getFullText()]});p.addStyleClass("sapSuiteUiCommonsTimelineItemShowMorePopover");return p;});};
j.prototype._openReplyDialog=function(){if(this._customReply){this.getCustomReply().openBy(this._objects.getReplyLink());this.fireReplyListOpen();}else{this.fireReplyListOpen();this._objects.getReplyInputArea().setValue('');this._oldReplyInputArea='';this._list=this.getReplyList();if(this._list!==null){this.setAggregation("replyList",null,true);this._objects.getReplyPop().addContent(this._list);}this._objects.getReplyPop().addContent(this._objects.getReplyInputArea());this._objects.getReplyPop().openBy(this._objects.getReplyLink());}};
j.prototype._callParentFn=function(){var i=Array.prototype.slice.call(arguments),n=i.shift(),p=this.getParent();if(p&&(typeof p[n]==="function")){return p[n].apply(p,i);}};
j.prototype._getCorrectGroupIcon=function(){var i="",k=function(){return this.getParent()&&this.getParent()._renderDblSided;}.bind(this),l=this._isGroupCollapsed();if(this._orientation==="H"){i="sap-icon://navigation-right-arrow";if(!l){i=this._callParentFn("_isLeftAlignment")||k()?"sap-icon://navigation-down-arrow":"sap-icon://navigation-up-arrow";}}else{i="sap-icon://navigation-down-arrow";if(l){i=this._callParentFn("_isLeftAlignment")||k()?"sap-icon://navigation-right-arrow":"sap-icon://navigation-left-arrow";}}return i;};
j.prototype.onclick=function(E){var t=this;if(q.sap.containsOrEquals(this.$("outline").get(0),E.target)){if(this._isGroupHeader){t._performExpandCollapse(t._groupID);}}};
j.prototype._performExpandCollapse=function(G){var i=false,E=this._isGroupCollapsed(G);var s=function(w,x){var y=w.find(".sapSuiteUiCommonsTimelineItemBarV"),z,A;if(x.get(0)){z=x.attr("groupId");A=!this._isGroupCollapsed(z);if(A){y.addClass("sapSuiteUiCommonsTimelineGroupNextExpanded");}else{y.removeClass("sapSuiteUiCommonsTimelineGroupNextExpanded");}}}.bind(this),k=function(){var w,x,y;if(!i){w=this._objects.getGroupCollapseIcon&&this._objects.getGroupCollapseIcon();x=this.$();y=this._isGroupCollapsed();if(!y){x.removeClass("sapSuiteUiCommonsTimelineGroupCollapsed");x.addClass("sapSuiteUiCommonsTimelineGroupExpanded");}else{x.addClass("sapSuiteUiCommonsTimelineGroupCollapsed");x.removeClass("sapSuiteUiCommonsTimelineGroupExpanded");}w.setSrc(this._getCorrectGroupIcon());i=true;}}.bind(this),l=function(){if(this.getParent()){this.getParent()._collapsedGroups[G]=!E;}}.bind(this),$=this.$(),t=this,m=$.parent(),n,o,p,u,v;l();if(this._orientation==="H"){n=this.$("line");}else{n=$.find(".sapSuiteUiCommonsTimelineGroupHeaderBarWrapper");o=m.next().children("li").first();p=m.prev().children(":visible:last");if(p.get(0)){s(p,$);}if(E){u=m.children().last();s(u,o);}else{s($,o);}}if(E){n.hide();}else{n.show();}$.attr("aria-expanded",!!E);if(this._orientation!=="H"||E){k();}v=this._callParentFn("_performExpandCollapse",G,E,this);if(v){return new Promise(function(w,x){v.then(function(){k();t._callParentFn("_performUiChanges");w();});});}};
j.prototype._getStatusColorClass=function(){var s=this.getStatus();return S[s]||"";};
j.prototype._getLineIcon=function(){var t=this,i;this._objects.register("imageControl",function(){var s="sap-icon://circle-task-2",k=t.getText()==="GroupHeader";if(!k){s=t.getIcon()?t.getIcon():"sap-icon://activity-items";}i=new I(t.getId()+'-icon',{src:s,tooltip:t.getIconTooltip(),useIconTooltip:t.getUseIconTooltip()});i.addStyleClass("sapSuiteUiCommonsTimelineBarIcon");return i;});return this._objects.getImageControl();};
j.prototype._isGroupCollapsed=function(i){var p=this.getParent();i=i||this._groupID;return p&&p._collapsedGroups&&p._collapsedGroups[i];};
j.prototype._getCollapsedText=function(){var s=this.getText().substring(0,this._nMaxCollapsedLength);var n=s.lastIndexOf(" ");if(n>0){this._sShortText=s.substr(0,n);}else{this._sShortText=s;}return this._sShortText;};
j.prototype._toggleTextExpanded=function(s){var t=this,$=s.oSource.$(),i=q("#"+this.getId()+"-realtext"),k=$.height(),l=$.position().top,m=i.parent().position().top,n=$.parent().prev(),o,p,N=this.getParent()&&this.getParent()._noAnimation,u=8,v=function(){return t.getParent()&&t.getParent()._renderDblSided;},w=function(V,A,z){n.css("-webkit-line-clamp",z);if(v()||N){n.css("height",V);t._callParentFn("_performUiChanges");}else{n.animate({height:A},250,t._callParentFn("_performUiChanges"));}};if(this._orientation==="V"){p=this.$("threeDots");o=n.children().first();if(!this._expanded){this._textProperties={height:n.css("height"),clamp:n.css("-webkit-line-clamp"),text:o.html()};n.attr("expanded",true);p.hide();o.html(this._encodeHTMLAndLineBreak(this.getText()));s.oSource.setText(r.getText("TIMELINE_TEXT_SHOW_LESS"));w("",o.height(),"");}else{n.attr("expanded",false);s.oSource.setText(this._sTextShowMore);p.show();o.html(this._textProperties.text);w(this._textProperties.height,this._textProperties.height,this._textProperties.clamp);}t._expanded=!t._expanded;}else{var x=m-l-k-u,W=q(window).height()-$.offset().top,y=200;if(W<y){x-=(y-W);}this._objects.getFullText().setText(this.getText());this._objects.getFullTextPopover().setOffsetY(Math.floor(x));this._objects.getFullTextPopover().openBy(this._objects.getExpandButton());}};
j.prototype._getButtonExpandCollapse=function(){var t=this;this._objects.register("expandButton",function(){return new L(t.getId()+"-fullTextBtn",{text:t._sTextShowMore,press:t._toggleTextExpanded.bind(t)});});return this._objects.getExpandButton();};
j.prototype._checkTextIsExpandable=function(){this._nMaxCollapsedLength=this.getMaxCharacters();if(this._nMaxCollapsedLength===0){this._nMaxCollapsedLength=D.system.phone?this._nMaxCharactersMobile:this._nMaxCharactersDesktop;}return this.getText().length>this._nMaxCollapsedLength;};
j.prototype.onBeforeRendering=function(){var t=this;if(!this._list){this._list=this.getReplyList();}if(this.getReplyCount()>0){this._objects.getReplyLink().setText(r.getText("TIMELINE_REPLY")+" ("+this.getReplyCount()+")");}else if(this._list&&this._list.getItems().length>0){this._objects.getReplyLink().setText(r.getText("TIMELINE_REPLY")+" ("+this._list.getItems().length+")");}this._objects.getSocialBar().removeAllContent();if(this._callParentFn("getEnableSocial")){this._objects.getSocialBar().addContent(this._objects.getReplyLink());}this._actionList=this.getCustomAction();function F(E,o){t.fireCustomActionClicked({"value":o.value,"key":o.key,"linkObj":this});}for(var i=0;i<this._actionList.length;i++){var k=this._actionList[i].getKey();var v=this._actionList[i].getValue();var l=new L({text:v,tooltip:k});l.addStyleClass("sapSuiteUiCommonsTimelineItemActionLink");l.attachPress({"value":v,"key":k},F);this._objects.getSocialBar().addContent(l);}};
j.prototype._encodeHTMLAndLineBreak=function(t){return q.sap.encodeHTML(t).replace(/&#xa;/g,"<br>");};
j.prototype._getUserPictureControl=function(){var u=this.getUserPicture(),s="2rem",t=this;if(!u){return null;}this._objects.register("userPictureControl",function(){var i=g.ImageHelper.getImageControl(t.getId()+"-userPictureControl",null,t,{height:s,width:s,src:u,tooltip:r.getText("TIMELINE_USER_PICTURE")});i.setDensityAware(false);return i;});this._objects.getUserPictureControl().setSrc(u);return this._objects.getUserPictureControl();};
j.prototype._getUserNameLinkControl=function(){var t=this;if(this.getUserNameClickable()){this._objects.register("userNameLink",function(){var l=new L(t.getId()+"-userNameLink",{text:t.getUserName(),press:function(E){t.fireUserNameClicked({uiElement:this});}});l.addStyleClass("sapUiSelectable");return l;});return this._objects.getUserNameLink();}};
j.prototype.onAfterRendering=function(){this._expanded=false;this._callParentFn("_itemRendered");};
j.prototype._registerControls=function(){var t=this;this._objects.register("infoText",new T(this.getId()+"-infoText",{maxLines:1,width:"100%"}));this._objects.register("infoBar",new a(this.getId()+"-infoBar",{id:this.getId()+"-customMessageInfoBar",content:[this._objects.getInfoText()],design:b.Info,visible:false}));this._objects.register("replyLink",function(){var l=new L(t.getId()+"-replyLink",{text:r.getText("TIMELINE_REPLY"),press:[t._openReplyDialog,t]});l.addStyleClass("sapSuiteUiCommonsTimelineItemActionLink");return l;});this._objects.register("socialBar",function(){var s=new a(t.getId()+"-socialBar",{});s.data("sap-ui-fastnavgroup",null);return s;});this._objects.register("replyInputArea",new c(this.getId()+"-replyInputArea",{height:"4rem",width:"100%"}));this._objects.register("replyPop",function(){return new P(t.getId()+"-replyPop",{initialFocus:t._objects.getReplyInputArea(),title:r.getText("TIMELINE_REPLIES"),placement:d.Vertical,footer:new a({content:[new e(),new B(t.getId()+"-replyButton",{text:r.getText("TIMELINE_REPLY"),press:function(){t._replyPost();t._objects.getReplyPop().close();}})]}),contentHeight:"15rem",contentWidth:"20rem"});});};
j.prototype.exit=function(){this._objects.destroyAll();};
j.prototype.getDateTimeWithoutStringParse=function(){var o=this.getProperty("dateTime");return f.parseDate(o,false)||"";};
j.prototype.setCustomReply=function(R){if(R){this._customReply=true;this.setAggregation("customReply",R,true);}else{this._customReply=false;}};
j.prototype.setReplyList=function(i){if(i===null){return;}this.setAggregation("replyList",i,true);var t=this;this.getReplyList().attachUpdateFinished(function(E){var F=t._objects.getReplyInputArea().getDomRef("inner");if(F){q(F.id).focus();}});};
j.prototype.getDateTime=function(){var o=this.getProperty("dateTime");o=f.parseDate(o);if(typeof(o)==="string"&&this instanceof sap.suite.ui.commons.TimelineItem&&this.getBindingPath("dateTime")&&this.getBindingContext()){var p=this.getBindingPath("dateTime");var i=this.getBindingContext().getProperty(p);if(i instanceof Date){return i;}else{return o;}}else{return o;}};
return j;});
sap.ui.predefine('sap/suite/ui/commons/TimelineItemRenderer',["jquery.sap.global","./library","sap/suite/ui/commons/util/HtmlElement","sap/ui/core/format/DateFormat","sap/ui/core/Icon"],function(q,l,H,D,I){"use strict";var T=l.TimelineAlignment;var a={};var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons"),M=24*60*60*1000;
a.render=function(R,t){this._getTimelineItemElement(t).getRenderer().render(R);};
a._getTimelineItemElement=function(t){if(t._orientation==="V"){return this._getVerticalTimelineItemElement(t);}else{return this._getHorizontalTimelineItemElement(t);}};
a._getFormatedDateTime=function(t,A){A=A||{};var R=A.resBundle||r,d=A.dateFormat||D.getDateInstance({style:"short"}),o=A.timeFormat||D.getTimeInstance({style:"short"}),b=t.getDateTimeWithoutStringParse(),c,e,i,C;if(!(b instanceof Date)||(isNaN(b.getTime()))){return b;}c=Date.UTC(b.getFullYear(),b.getMonth(),b.getDate());e=new Date();e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate());i=Math.floor((e-c)/M);switch(i){case 0:C=R.getText("TIMELINE_TODAY");break;case 1:C=R.getText("TIMELINE_YESTERDAY");break;default:C=d.format(b);}return C+" "+R.getText("TIMELINE_AT")+" "+o.format(b);};
a._getHorizontalTimelineItemElement=function(t){var i=(t._placementLine==="top"),s=i?"sapSuiteUiCommonsTimelineItemHTop":"sapSuiteUiCommonsTimelineItemHBottom",b=t.getText()==="GroupHeader",g=t._groupID,A,o;if(b){return this._getGroupHeaderElement(t);}var e=new H("li"),c=new H("div"),d=new H("div"),f=new H("div"),h=new H("div"),j=new H("div"),k=new H("div"),m=this._getTimelineItemShell(t);if(g){e.setAttribute("groupid",t._groupID,true);}if(t._isFirstGroupEvenItem){e.setAttribute("firstgroupevenitem",t._isFirstGroupEvenItem);}e.addControlData(t);e.addClass("sapSuiteUiCommonsTimelineItemLiWrapperV");e.addClass(q.sap.encodeHTML(s));c.addClass("sapSuiteUiCommonsTimelineItemWrapperH sapSuiteUiCommonsTimelineItemBaseLength");e.addChild(c);d.addClass("sapSuiteUiCommonsTimelineItemBubbleSpacer");c.addChild(d);f.addClass("sapSuiteUiCommonsTimelineItemBubble");d.addChild(f);h.addClass("sapSuiteUiCommonsTimelineItemOutline");h.setId(t.getId()+"-outline");h.setAttribute("tabindex","0");h.setAttribute("data-sap-ui-fastnavgroup",true);this._addAccessibilityTags(h,t);j.addClass("sapSuiteUiCommonsTimelineItemBox");h.addChild(j);k.addClass("sapSuiteUiCommonsTimelineItemArrow");if(i){f.addChild(h);f.addChild(k);}else{f.addChild(k);f.addChild(h);}if(!t._callParentFn("_isGrouped")&&t._callParentFn("getEnableDoubleSided")&&t._index===1){o=t.getParent();A="margin-left";if(o&&o._bRtlMode){A="margin-right";}e.addStyle(q.sap.encodeCSS(A),"100px");}j.addChild(m);if(t._isGroupCollapsed()){e.addStyle("display","none");}return e;};
a._getGroupHeaderElement=function(t){var e=new H("li"),b=new H("div"),c=new H("div"),d=new H("div"),f=new H("div"),g=new H("div"),h=new H("span"),i=new H("div"),j=new H("div"),k=new H("div"),m=t._orientation==="V"?c:d,n=new H("div"),o=new H("div"),p=new H("div");var s=t._isGroupCollapsed(),S=t._callParentFn("getShowIcons"),u;if(t._groupID){e.setAttribute("groupid",t._groupID,true);}if(t._isLastGroup){e.addClass("sapSuiteUiCommonsTimelineLastItem");}e.addControlData(t);e.addClass("sapSuiteUiCommonsTimelineGroupHeader");this._addAccessibilityTags(e,t,true);e.addChild(b);b.addChild(c);b.addClass("sapSuiteUiCommonsTimelineGroupHeaderDirectChild");c.addClass("sapSuiteUiCommonsTimelineGroupHeaderMainWrapper");c.setId(t.getId()+"-outline");c.setAttribute("tabindex","0");c.setAttribute("data-sap-ui-fastnavgroup",true);c.addChild(d);e.addChild(k);e.setAttribute("nodeType","GroupHeader");f.addClass("sapSuiteUiCommonsTimelineGroupHeaderSpanWrapper");if(t._orientation==="V"){e.addClass(t._position===T.Left?"sapSuiteUiCommonsTimelineItemWrapperVLeft":"sapSuiteUiCommonsTimelineItemWrapperVRight");}d.addClass("sapSuiteUiCommonsTimelineGroupHeaderWrapper");d.addClass("sapSuiteUiCommonsTimelineGroupHeaderPointer");m.addChild(g);d.addChild(j);d.addChild(f);e.addClass(s?"sapSuiteUiCommonsTimelineGroupCollapsed":"sapSuiteUiCommonsTimelineGroupExpanded");j.addClass("sapSuiteUiCommonsTimelineGroupHeaderIconWrapper");u=t._getCorrectGroupIcon();t._objects.register("groupCollapseIcon",function(){var v=new I(t.getId()+"-groupCollapseIcon",{src:u,decorative:true});v.addStyleClass("sapSuiteUiCommonsTimelineGroupHeaderPointer");v.setParent(t);return v;});j.addChild(t._objects.getGroupCollapseIcon());g.addClass("sapSuiteUiCommonsTimelineItemArrow");k.addClass("sapSuiteUiCommonsTimelineGroupHeaderLineWrapper");i.addClass("sapSuiteUiCommonsTimelineGroupHeaderLine");k.addChild(i);f.addChild(h);h.addClass("sapSuiteUiCommonsTimelineGroupHeaderSpan");h.addChildEscaped(" "+t.getTitle());if(t._orientation==="V"){e.addChild(n);o.addChild(t._getLineIcon());n.addChild(o);o.addClass("sapSuiteUiCommonsTimelineItemBarIconWrapperV");n.addClass("sapSuiteUiCommonsTimelineGroupHeaderBarWrapper");if(!t._isGroupCollapsed()){n.addStyle("display","none");}p.addClass("sapSuiteUiCommonsTimelineItemBarV");if(!S){p.addClass("sapSuiteUiCommonsTimelineItemBarNoIcon");}n.addChild(p);if(t._additionalBarClass){p.addClass(q.sap.encodeHTML(t._additionalBarClass));}}return e;};
a._getVerticalTimelineItemElement=function(t){var e=new H("li"),b=new H("div"),c=new H("div"),d=new H("div"),f=new H("div"),g=new H("div"),h=new H("div"),i=new H("div"),j=new H("div"),k=new H("div"),m=new H("div"),n;var s=t._callParentFn("getShowIcons"),G=t._groupID,o=t.getText()==="GroupHeader",S=t._getStatusColorClass();if(o){return this._getGroupHeaderElement(t);}if(G){e.setAttribute("groupID",G,true);}e.addControlData(t);e.addClass("sapSuiteUiCommonsTimelineItem");e.setAttribute("role","presentation");if(t._isLast){e.addClass("sapSuiteUiCommonsTimelineLastItem");}b.addClass(o?"sapSuiteUiCommonsTimelineItemWrapperGrp":"sapSuiteUiCommonsTimelineItemWrapperV");e.addChild(b);b.addClass(t._position===T.Left?"sapSuiteUiCommonsTimelineItemWrapperVLeft":"sapSuiteUiCommonsTimelineItemWrapperVRight");b.addChild(f);b.addChild(c);c.addClass("sapSuiteUiCommonsTimelineItemBarWrapperV");d.addClass("sapSuiteUiCommonsTimelineItemBarIconWrapperV");if(S){d.addClass(q.sap.encodeHTML(S));}else{d.addClass("sapSuiteUiCommonsTimelineNoStatus");}if(s){c.addChild(d);d.addChild(t._getLineIcon('',G));}else{m.addChild(k);m.addClass("sapSuiteUiCommonsTimelineItemNoIconWrapper");k.addClass("sapSuiteUiCommonsTimelineItemNoIcon");c.addChild(m);if(S){k.addClass(q.sap.encodeHTML(S));}g.addClass("sapSuiteUiCommonsTimelineItemBarNoIcon");}g.addClass("sapSuiteUiCommonsTimelineItemBarV");c.addChild(g);if(t._additionalBarClass){g.addClass(q.sap.encodeHTML(t._additionalBarClass));}f.addClass("sapSuiteUiCommonsTimelineItemBubble");j.addClass("sapSuiteUiCommonsTimelineItemArrow");f.addChild(j);f.addChild(i);i.addClass("sapSuiteUiCommonsTimelineItemOutline");i.setId(t.getId()+"-outline");i.setAttribute("tabindex","0");i.setAttribute("data-sap-ui-fastnavgroup",true);this._addAccessibilityTags(i,t);h.addClass("sapSuiteUiCommonsTimelineItemBox");i.addChild(h);n=this._getTimelineItemShell(t);h.addChild(n);if(t._isGroupCollapsed()){e.addStyle("display","none");}return e;};
a._getTimelineItemShell=function(t){var e=new H("div"),b=new H("div"),c=new H("div"),d=new H("span"),u,U,f=new H("span"),g=new H("div"),h=new H("div"),i=new H("div"),j=new H("span"),k=new H("div"),m=new H("span"),n=new H("div"),o;var E=t.getEmbeddedControl();e.setId(t.getId()+"-shell");e.addClass("sapSuiteUiCommonsTimelineItemShell");e.addChild(t._objects.getInfoBar());e.addChild(b);b.addClass("sapSuiteUiCommonsTimelineItemHeaderWrapper");u=t._getUserPictureControl();if(u){u.addStyleClass("sapSuiteUiCommonsTimelineItemUserPicture");b.addChild(u);}c.setId(t.getId()+"-header");c.addClass("sapSuiteUiCommonsTimelineItemHeader");c.addClass("sapSuiteUiCommonsTimelineItemTextLineClamp");d.setId(t.getId()+"-username");d.addClass("sapSuiteUiCommonsTimelineItemShellUser");c.addChild(d);U=t._getUserNameLinkControl();if(U){d.addChild(U);}else{d.addChildEscaped(t.getUserName());d.addClass("sapUiSelectable");}b.addChild(c);f.addClass("sapSuiteUiCommonsTimelineItemShellHdr");f.addClass("sapUiSelectable");f.addChildEscaped(" "+t.getTitle());c.addChild(f);g.addClass("sapSuiteUiCommonsTimelineItemShellDateTime");g.addClass("sapUiSelectable");g.addChildEscaped(this._getFormatedDateTime(t));c.addChild(g);h.addClass("sapSuiteUiCommonsTimelineItemShellBody");e.addChild(h);if(E!==null){h.addChild(E);}else if(t.getText()){i.addChild(j);i.addClass("sapSuiteUiCommonsTimelineItemTextWrapper");j.setId(t.getId()+"-realtext");j.addClass("sapUiSelectable");h.addChild(i);o=t._checkTextIsExpandable();if(o){m.setId(t.getId()+"-threeDots");m.addClass("sapMFeedListItemTextString");m.addChildEscaped(" ");i.addChild(m);j.addChildEscaped(t._getCollapsedText(),true);m.addChildEscaped("... ");i.setAttribute("expandable",true);}else{j.addChildEscaped(t.getText(),true);k.addStyle("display","none");}h.addChild(k);k.addClass("sapSuiteUiCommonsTimelineItemShowMore");k.addChild(t._getButtonExpandCollapse());}if(t.getParent()&&t.getParent()._aFilterList&&(t._callParentFn("getEnableSocial")||t.getCustomAction().length>0)){n.addClass("sapSuiteUiCommonsTimelineItemShellBottom");n.addChild(t._objects.getSocialBar());e.addChild(n);}return e;};
a._addAccessibilityTags=function(e,t,i){var g;e.setAttribute("role","option");if(typeof t._index==="number"){e.setAttribute("aria-posinset",t._index+1);e.setAttribute("aria-setsize",t._callParentFn("_getItemsCount"));}e.setAttribute("aria-live","polite");if(i){e.setAttribute("aria-expanded",!t._isGroupCollapsed());g=r.getText("TIMELINE_ACCESSIBILITY_GROUP_HEADER")+": "+t.getTitle();e.setAttribute("aria-label",g,true);}};
return a;},true);
sap.ui.predefine('sap/suite/ui/commons/TimelineNavigator',["jquery.sap.global","sap/ui/core/delegate/ItemNavigation","sap/ui/events/KeyCodes","sap/base/assert"],function(q,I,K,a){"use strict";
function s(S,p){var d=S.length-p.length;return d>=0&&S.lastIndexOf(p)===d;}
var T=I.extend("sap.suite.ui.commons.TimelineNavigator",{constructor:function(d,i,n,r){I.apply(this,arguments);this.setCycling(false);this._aRows=r;this.iActiveTabIndex=0;this.iTabIndex=0;this.bRefocusOnNextUpdate=false;}});
T.prototype.updateReferences=function(d,i,r){this.oDomRef=d;this.setItemDomRefs(i);this._aRows=r;if(this.bRefocusOnNextUpdate){this._refocusItem();this.bRefocusOnNextUpdate=false;}};
T.prototype.refocusOnNextUpdate=function(){this.bRefocusOnNextUpdate=true;};
T.prototype._refocusItem=function(){var i=this.iFocusedIndex;if(i<0){return;}while(!q(this.aItemDomRefs[i]).is(":visible")){i++;if(i>=this.aItemDomRefs.length){i=0;}if(i===this.iFocusedIndex){break;}}setTimeout(function(){if(this.aItemDomRefs){this.focusItem(i);}}.bind(this),0);};
T.prototype.setItemDomRefs=function(b){a(Array.isArray(b),"aItemDomRefs must be an array of DOM elements");this.aItemDomRefs=b;if(this.iFocusedIndex>b.length-1){this.iFocusedIndex=b.length-1;}for(var i=0;i<this.aItemDomRefs.length;i++){if(this.aItemDomRefs[i]){var $=q(this.aItemDomRefs[i]);if(i==this.iFocusedIndex&&!$.data("sap.INRoot")){$.attr("tabIndex",this.iActiveTabIndex);}else if($.attr("tabindex")=="0"){$.attr("tabIndex",this.iTabIndex);}$.data("sap.INItem",true);$.data("sap.InNavArea",true);if($.data("sap.INRoot")&&i!=this.iFocusedIndex){$.data("sap.INRoot").setNestedItemsTabindex();}}}return this;};
I.prototype.setItemsTabindex=function(){for(var i=0;i<this.aItemDomRefs.length;i++){if(this.aItemDomRefs[i]){var $=q(this.aItemDomRefs[i]);if($.is(":sapFocusable")){if(i==this.iFocusedIndex&&!$.data("sap.INRoot")){$.attr("tabIndex",this.iActiveTabIndex);}else{$.attr("tabIndex",this.iTabIndex);}}}}return this;};
I.prototype.setFocusedIndex=function(i){var $;if(this.aItemDomRefs.length<0){this.iFocusedIndex=-1;return this;}if(i<0){i=0;}if(i>this.aItemDomRefs.length-1){i=this.aItemDomRefs.length-1;}if(this.iFocusedIndex!==-1&&this.aItemDomRefs.length>this.iFocusedIndex){q(this.aItemDomRefs[this.iFocusedIndex]).attr("tabIndex",this.iTabIndex);$=q(this.aItemDomRefs[this.iFocusedIndex]);if($.data("sap.INRoot")&&i!=this.iFocusedIndex){q($.data("sap.INRoot").aItemDomRefs[$.data("sap.INRoot").iFocusedIndex]).attr("tabIndex",this.iTabIndex);}}this.iFocusedIndex=i;var f=this.aItemDomRefs[this.iFocusedIndex];$=q(this.aItemDomRefs[this.iFocusedIndex]);if(!$.data("sap.INRoot")){q(f).attr("tabIndex",this.iActiveTabIndex);}return this;};
T.prototype._callParent=function(f,A){if(typeof I.prototype[f]==="function"){I.prototype[f].apply(this,A);}};
T.prototype._onF7=function(e){if(!q.sap.containsOrEquals(this.oDomRef,e.target)){return;}var f=this.getFocusedIndex();if(f>=0){this.focusItem(f,e);e.preventDefault();e.stopPropagation();}};
T.prototype.onsapspace=function(e){this.onsapenter(e);};
T.prototype.onsapenter=function(e){var i,$;if(this._skipNavigation(e,false,true)){return;}$=q(this.getFocusedDomRef());i=$.attr("id");if(s(i,"-outline")){if($.hasClass("sapSuiteUiCommonsTimelineGroupHeaderMainWrapper")){i=i.substr(0,i.length-"outline".length)+"groupCollapseIcon";$.find("#"+i).mousedown().mouseup().click();}else{$.find("div[role='toolbar']").children().first().mousedown().mouseup().click();this.fireEvent("Enter",{domRef:$.get(0)});}e.preventDefault();e.stopPropagation();}};
T.prototype.onsaphome=function(e){if(this.aItemDomRefs.length===0){return;}if(this._skipNavigation(e,false,false)){return;}this._callParent("onsaphome",arguments);};
T.prototype.onkeydown=function(e){this._callParent("onkeydown",arguments);if(e.keyCode===K.F7){this._onF7(e);}};
T.prototype.onmousedown=function(e){var S=e.target;var c=function(d,o){var f=false;var C=q(d);while(!C.is(":sapFocusable")&&C.get(0)!=o){C=C.parent();}if(C.get(0)!=o){f=true;}return f;};if(q.sap.containsOrEquals(this.oDomRef,S)){for(var i=0;i<this.aItemDomRefs.length;i++){var o=this.aItemDomRefs[i];if(q.sap.containsOrEquals(o,S)){if(o===S||!c(S,o)){this.focusItem(i,e);}return;}}this._bMouseDownHappened=true;setTimeout(function(){this._bMouseDownHappened=false;}.bind(this),20);}};
T.prototype.onsapnext=function(e){var i,f=true,c,n,o;if(!this._aRows){this._callParent("onsapnext",arguments);return;}if(this._skipNavigation(e,true,false)){return;}e.preventDefault();e.stopPropagation();if(this.getFocusedIndex()<0){return;}c=this._findPosition(this.iFocusedIndex);if(c===null){throw new Error("TimelineNavigation cannot obtain a position of focused item and hance it cannot senect next.");}n=q.extend({},c);do{if(e.keyCode===K.ARROW_DOWN){n.iY++;if(n.iY>=this._aRows.length){if(n.iX+1>=this._aRows[this._aRows.length-1].length){return;}n.iY=0;n.iX++;}}else{n.iX++;if(n.iX>=this._aRows[n.iY].length){if(n.iY+1>=this._aRows.length){return;}n.iX=0;n.iY++;}}if(n.iX===c.iX&&n.iY===c.iY){if(f){f=false;}else{return;}}o=this._aRows[n.iY][n.iX];}while(!o||!q(o).is(":sapFocusable"));i=this._findIndex(n);this.focusItem(i,e);};
T.prototype.onsapprevious=function(e){var i,f=true,c,n,o;if(!this._aRows){this._callParent("onsapprevious",arguments);return;}if(this._skipNavigation(e,true,false)){return;}e.preventDefault();e.stopPropagation();if(this.getFocusedIndex()<0){return;}c=this._findPosition(this.iFocusedIndex);if(c===null){throw new Error("TimelineNavigation cannot obtain a position of focused item and hance it cannot senect next.");}n=q.extend({},c);do{if(e.keyCode===K.ARROW_UP){n.iY--;if(n.iY<0){if(n.iX<=0){return;}n.iY=this._aRows.length-1;n.iX--;}}else{n.iX--;if(n.iX<0){if(n.iY<=0){return;}n.iX=this._aRows[n.iY].length-1;n.iY--;}}if(n.iX===c.iX&&n.iY===c.iY){if(f){f=false;}else{return;}}o=this._aRows[n.iY][n.iX];}while(!o||!q(o).is(":sapFocusable"));i=this._findIndex(n);this.focusItem(i,e);};
T.prototype._findPosition=function(i){var x,y,o=this.aItemDomRefs[i];for(y=0;y<this._aRows.length;y++){for(x=0;x<this._aRows[y].length;x++){if(o===this._aRows[y][x]){return{iX:x,iY:y};}}}return null;};
T.prototype._findIndex=function(p){var o=this._aRows[p.iY][p.iX],i;for(i=0;i<this.aItemDomRefs.length;i++){if(o===this.aItemDomRefs[i]){return i;}}return null;};
T.prototype._skipNavigation=function(e,c,C){return!q.sap.containsOrEquals(this.oDomRef,e.target)||(this.getFocusedIndex()<0&&C)||q.inArray(e.target,this.aItemDomRefs)===-1||(q(this.oDomRef).data("sap.InNavArea")&&c);};
return T;});
sap.ui.predefine("sap/suite/ui/commons/TimelineRenderManager",["jquery.sap.global","./library","sap/m/Text","sap/ui/core/Icon","sap/m/ViewSettingsDialog","sap/ui/core/ResizeHandler","sap/ui/core/Item","sap/m/ButtonType","sap/m/ToolbarSpacer","sap/m/SearchField","sap/m/OverflowToolbar","sap/m/Select","sap/m/RangeSlider","sap/m/Label","sap/m/Panel","sap/m/FlexBox","sap/m/OverflowToolbarButton","sap/m/MessageStrip","sap/ui/core/CSSSize","sap/m/ViewSettingsFilterItem","sap/m/ViewSettingsCustomItem","sap/m/OverflowToolbarLayoutData","sap/m/OverflowToolbarPriority","sap/m/MessageToast","sap/ui/core/InvisibleText","sap/m/SliderTooltip","sap/suite/ui/commons/TimelineRenderManagerTimestamp","sap/suite/ui/commons/util/StringSliderTooltip","sap/m/ResponsiveScale"],function(q,l,T,I,V,R,a,B,b,S,O,c,d,L,P,F,e,M,C,f,g,h,k,m,n,o,p,r,s){"use strict";var t=l.TimelineGroupType;var u=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");var v=680;var D=Object.freeze({UP:"UP",DOWN:"DOWN",NONE:"NONE"});
function w($,i,j){$.removeClass(i).addClass(j);}
function _($,A){return parseInt($.css(A).replace("px",""),10);}
var x={extendTimeline:function(y){y.prototype._initControls=function(){this._setupMessageStrip();this._setupFilterDialog();this._setupHeaderToolbar();this._setupAccessibilityItems();};y.prototype._registerResizeListener=function(){var i=this.$().parent().get(0);if(i){this.oResizeListener=R.register(i,q.proxy(this._performResizeChanges,this));}};y.prototype._deregisterResizeListener=function(){if(this.oResizeListener){R.deregister(this.oResizeListener);}};y.prototype._performUiChanges=function(i){this._deregisterResizeListener();if(!this.getDomRef()){return;}if(this._isVertical()){this._performUiChangesV(i);}else{this._performUiChangesH();}this._setupScrollers();this._startItemNavigation();this._registerResizeListener();};y.prototype._performDoubleSidedChangesLi=function($,i){var j=$.children().first(),z=this._isLeftAlignment()?"sapSuiteUiCommonsTimelineItemWrapperVLeft":"sapSuiteUiCommonsTimelineItemWrapperVRight";if(this._renderDblSided){if($.hasClass('sapSuiteUiCommonsTimelineItem')){$.removeClass('sapSuiteUiCommonsTimelineItem').addClass(i?"sapSuiteUiCommonsTimelineItemOdd":"sapSuiteUiCommonsTimelineItemEven");if(!i){w(j,"sapSuiteUiCommonsTimelineItemWrapperVLeft","sapSuiteUiCommonsTimelineItemWrapperVRight");}else{w(j,"sapSuiteUiCommonsTimelineItemWrapperVRight","sapSuiteUiCommonsTimelineItemWrapperVLeft");}}}else{$.removeClass("sapSuiteUiCommonsTimelineItemOdd").removeClass("sapSuiteUiCommonsTimelineItemEven").addClass("sapSuiteUiCommonsTimelineItem");j.removeClass("sapSuiteUiCommonsTimelineItemWrapperVLeft").removeClass("sapSuiteUiCommonsTimelineItemWrapperVRight").addClass(z);}};y.prototype._performDoubleSidedChanges=function(){var $=this.$(),z=$.find('.sapSuiteUiCommonsTimelineItemUlWrapper').not(".sapSuiteUiCommonsTimelineShowMoreWrapper"),A=$.find(".sapSuiteUiCommonsTimelineScrollV .sapSuiteUiCommonsTimelineGroupHeader"),E;if(this._renderDblSided){this._$content.addClass("sapSuiteUiCommonsTimelineDblSided");A.addClass("sapSuiteUiCommonsTimelineGroupHeaderDblSided");A.addClass("sapSuiteUiCommonsTimelineItemWrapperVLeft").removeClass("sapSuiteUiCommonsTimelineItemWrapperVRight");}else{this._$content.removeClass("sapSuiteUiCommonsTimelineDblSided");A.removeClass("sapSuiteUiCommonsTimelineGroupHeaderDblSided sapSuiteUiCommonsTimelineItemWrapperVLeft");A.addClass(this._isLeftAlignment()?"sapSuiteUiCommonsTimelineItemWrapperVLeft":"sapSuiteUiCommonsTimelineItemWrapperVRight");}for(var j=0;j<z.length;j++){var G=q(z[j]),H=G.find('> li').not(".sapSuiteUiCommonsTimelineGroupHeader");H.eq(1).css("margin-top",this._renderDblSided?"40px":"auto");for(var i=0;i<H.length;i++){E=q(H[i]);this._performDoubleSidedChangesLi(E,(i%2)===0);}}$.find(".sapSuiteUiCommonsTimelineItemBarV").css("height","");$.find(".sapSuiteUiCommonsTimelineItem").css("margin-bottom","");};y.prototype._performUiChangesH=function(){var $=this.$(),i,j;var z=function(A){return($.width()-(A.position().left+A.outerWidth()));};if(this.getEnableDoubleSided()&&this._isGrouped()){j=$.find(".sapSuiteUiCommonsTimelineHorizontalBottomLine ul");$.find("[firstgroupevenitem = true]:visible").each(function(A,E){var G=function(X){return X+"-"+(this._bRtlMode?"right":"left");}.bind(this),H=q("#"+E.id+"-line"),J=this._bRtlMode?z(H):H.position().left,K=30,N=q(E),Q=_(j,G("padding")),U,W;if(A===0){U=J-K-Q;}else{i=N.prevAll(".sapSuiteUiCommonsTimelineItemLiWrapperV:visible:first");W=this._bRtlMode?z(i):(i.position().left+_(i,G("margin")));U=(J-K)-(W+i.outerWidth());}N.css(G("margin"),U+"px");}.bind(this));}if(!this.getEnableScroll()){$.find(".sapSuiteUiCommonsTimelineContentsH").css("overflow-x","hidden");}this._calculateTextHeight();};y.prototype._performUiChangesV=function(i){var $=this.$(),j=$.outerWidth()+50;if(this.getEnableDoubleSided()){this._renderDblSided=j>=v;if(this._renderDblSided!==this._lastStateDblSided||i){this._performDoubleSidedChanges();}this._lastStateDblSided=this._renderDblSided;}this._calculateTextHeight();this._calculateHeightV();};y.prototype._calculateHeightV=function(){var $=this.$(),j=this.$("headerBar").outerHeight()||0,z=this.$("filterMessage").outerHeight()||0,A=this.$("messageStrip").outerHeight()||0,E=A+z+j,G=function(Q,N){var W,X,Y,Z,a1,b1,c1,d1=Q.length,e1=this.getShowIcons()?".sapSuiteUiCommonsTimelineItemBarIconWrapperV:visible":".sapSuiteUiCommonsTimelineItemNoIcon:visible",f1=N.length>0?N.find(e1+", .sapSuiteUiCommonsTimelineItemBarIconWrapperV:visible").eq(0):q(),g1=8;for(var i=0;i<d1;i++){W=q(Q[i+1]);X=q(Q[i]);Y=i<d1-1?W.find(e1):f1;a1=X.find(e1);if(Y.length>0&&a1.length>0){b1=Y.offset().top;c1=a1.offset().top+a1.height();Z=X.find(".sapSuiteUiCommonsTimelineItemBarV");g1=8;Z.height(b1-c1-g1);}}},H=function(Q){var W,X,Y,Z,a1,b1=40,c1=100,d1=function(){var e1=_(Y,"margin-top")+Y.position().top+Y.height()-W.position().top;X.css("margin-bottom",e1+b1+"px");};for(var i=2;i<Q.length;i++){W=q(Q[i]);X=q(Q[i-1]);Y=q(Q[i-2]);Z=this._bRtlMode?!W.hasClass("sapSuiteUiCommonsTimelineItemOdd"):W.hasClass("sapSuiteUiCommonsTimelineItemOdd");a1=W.position().left;if(!Z&&a1<c1||Z&&a1>c1){d1();}else{var e1=W.position().top-X.position().top,f1=_(Y,"margin-bottom");if(e1<b1){Y.css("margin-bottom",f1+b1-e1);}}}},J=function(){var W=5,X=$.position().top,Y=$.parent().height(),Z=_(this._$content,"padding-bottom"),a1=_(this._$content,"padding-top"),b1=Y-X-E-a1-Z-W;this._$content.height(b1);}.bind(this),U,K,N,Q;if(this.getEnableScroll()){J();}if(this._renderDblSided){U=$.find(".sapSuiteUiCommonsTimelineItemUlWrapper");for(var i=0;i<U.length;i++){K=q(U[i]);N=q(U[i+1]);Q=K.find(" > li:not(.sapSuiteUiCommonsTimelineGroupHeader):visible");Q.css("margin-bottom","");H.call(this,Q,K);G.call(this,Q,N);}}};y.prototype._performResizeChanges=function(){this._performUiChanges();};y.prototype._calculateTextHeight=function(){var $=this.$(),j=this.getTextHeight(),z,A,E=function(K,N){$.find(".sapSuiteUiCommonsTimelineItemTextWrapper:visible").each(function(Q,W){var U=q(W),X=U.children().first(),Y=X.get(0).getClientRects(),Z=0,a1=0,b1,c1=-100000,d1=0,e1=U.attr("expanded");if(!e1){if(Y&&Y.length>0){b1=Y[0].top;d1=0;for(var i=0;i<Y.length-1;i++){if(c1!==Y[i].bottom){c1=Y[i].bottom;d1++;}if(K>0&&(Y[i+1].bottom-b1>K)){a1=d1;Z=Y[i].bottom-b1;break;}if(N>0&&d1===N){Z=Y[i].bottom-Y[0].top;a1=N;break;}}}if(Z>0){U.height(Z);U.css("-webkit-line-clamp",a1.toString());U.next().show();}else if(!U.attr("expandable")){U.next().hide();}}});},G=function(i){E(0,parseInt(i,10));},H=function(i){E(i,0);},J=function(){var i=$.find(".sapSuiteUiCommonsTimelineItemTextWrapper");i.css("height","");i.css("-webkit-line-clamp","");$.css("height","100%");var K=this._$content.height(),N=_(this._$content,"padding-bottom"),Q=this._$content.get(0).scrollHeight,U=Q-K-N,W={height:0},X,Y=20;$.find(".sapSuiteUiCommonsTimelineItemTextWrapper").each(function(Z,a1){var b1=q(a1).height();if(b1>W.height){W.height=b1;W.item=q(this);}});if(W.item){X=W.item.parent().find(".sapSuiteUiCommonsTimelineItemShowMore:hidden").height();return W.height-U-X-Y;}return 1;};if(j){if(this._useAutomaticHeight()){H(J.call(this));}else if(q.isNumeric(j)){G(j);}else{z=/([0-9]*\.?[0-9]+)(px)+/i;A=z.exec(j);if(A&&A.length>1){H(A[1]);}else if(C.isValid(j)){$.find(".sapSuiteUiCommonsTimelineItemTextWrapper").height(j);}}}};y.prototype._fixScrollerPositionH=function(){var $=this.$(),i=$.find(".sapSuiteUiCommonsTimelineHorizontalMiddleLine"),j=$.find(".sapSuiteUiCommonsTimelineHorizontalScroller"),z,A=this._$content.position().top;if(i.get(0)){z=i.position().top;$.find(".sapSuiteUiCommonsTimelineScrollerIconWrapper").css("top",z-5);j.css("top",A+"px");j.height(this._$content.outerHeight()-15);}};y.prototype._setupScrollers=function(){var $=this.$(),i=450,N='rgba(0, 0, 0, 0)',j,z,A,E,G,H,J,K,Q,U,W,X,Y,Z=function(a1){var b1=N;a1.parents().each(function(c1,d1){var z=q(d1).css("background-color"),e1=q(d1).css("background-image");if(e1!=="none"){b1=N;return;}if(z!==N&&z!=="transparent"){b1=z;}});return b1;};if(this._scrollingFadeout()){j=this._isVertical()?$.height():$.width();if(j<i){$.find(".sapSuiteUiCommonsTimelineVerticalScroller",".sapSuiteUiCommonsTimelineHorizontalScroller").hide();this._scrollersSet=false;return;}if(!this._scrollersSet){z=Z(this.$());if(z&&z!==N){A=z.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(A&&A.length>=4){E=parseInt(A[1],10);G=parseInt(A[2],10);H=parseInt(A[3],10);J="rgba("+E+","+G+","+H+", 0)";Q="rgba("+E+","+G+","+H+", 0.7)";K="rgba("+E+","+G+","+H+", 1)";U=$.find(".sapSuiteUiCommonsTimelineHorizontalLeftScroller, .sapSuiteUiCommonsTimelineTopScroller ");W=$.find(".sapSuiteUiCommonsTimelineHorizontalRightScroller, .sapSuiteUiCommonsTimelineBottomScroller");X=this._isVertical()?"top":"left";Y=this._isVertical()?"bottom":"right";U.css("background-image","linear-gradient(to "+X+", "+J+", "+K+")");W.css("background-image","linear-gradient(to "+Y+", "+J+", "+K+")");U.css("background-image","-webkit-linear-gradient("+Y+", "+J+", "+Q+" 30%,"+K+")");W.css("background-image","-webkit-linear-gradient("+X+", "+J+", "+Q+" 30%,"+K+")");this._scrollersSet=true;if(this.getContent().length>0){if((!this._isVertical()&&this._$content.get(0).scrollWidth>this._$content.outerWidth())||(this._isVertical()&&this._$content.get(0).scrollHeight>this._$content.outerHeight())){W.show();}}}}else{$.find(".sapSuiteUiCommonsTimelineHorizontalScroller").hide();}}if(!this._isVertical()){this._fixScrollerPositionH();}}};y.prototype._setupScrollEvent=function(){var $=this.$(),i=$.find(".sapSuiteUiCommonsTimelineHorizontalLeftScroller .sapSuiteUiCommonsTimelineScrollerIconWrapper, .sapSuiteUiCommonsTimelineTopScroller .sapSuiteUiCommonsTimelineScrollerIconWrapper"),j=$.find(".sapSuiteUiCommonsTimelineHorizontalRightScroller .sapSuiteUiCommonsTimelineScrollerIconWrapper, .sapSuiteUiCommonsTimelineBottomScroller .sapSuiteUiCommonsTimelineScrollerIconWrapper"),z=$.find(".sapSuiteUiCommonsTimelineHorizontalLeftScroller, .sapSuiteUiCommonsTimelineTopScroller"),A=$.find(".sapSuiteUiCommonsTimelineHorizontalRightScroller, .sapSuiteUiCommonsTimelineBottomScroller"),E=this._$content,G=this;if(G._lazyLoading()||G._scrollingFadeout()){E.on("scroll",function(H){var J=q(H.currentTarget),K=J.get(0).scrollLeft,N=J.get(0).scrollTop,Q=false,U=200,W=5,X=false,Y,Z,a1,b1,E;if(G._isVertical()){Y=J.outerHeight();Z=J.get(0).scrollHeight;X=N+Y>Z-U;Q=N+Y>=Z-W;}else{a1=J.width();b1=J.get(0).scrollWidth;X=K+a1>b1-U;Q=K+a1>=b1-W-185;}if(G._lazyLoading()&&G._scrollMoreEvent){if(X&&!G._isMaxed()){G._scrollMoreEvent=false;G._loadMore();}}if(G._scrollersSet){if(K>50||N>50){z.show();}else{z.hide();G._manualScrolling=false;}if(Q){A.hide();}else{A.show();}var c1;if(G._isVertical()){c1=J.get(0).scrollTop;E=c1>G._lastScrollPosition.y?j:i;G._lastScrollPosition.y=c1;}else{c1=J.get(0).scrollLeft;E=c1>G._lastScrollPosition.x?j:i;G._lastScrollPosition.x=c1;}E.addClass("sapSuiteUiCommonsTimelineScrolling");clearTimeout(q.data(this,'scrollTimer'));q.data(this,'scrollTimer',setTimeout(function(){i.removeClass("sapSuiteUiCommonsTimelineScrolling");j.removeClass("sapSuiteUiCommonsTimelineScrolling");},350));}});this.$().find(".sapSuiteUiCommonsTimelineScrollerIconWrapper").mousedown(function(H){var J=90,K=(q(this).hasClass("sapSuiteUiCommonsTimelineScrollerIconWrapperLeft")||q(this).hasClass("sapSuiteUiCommonsTimelineScrollerIconWrapperTop"))?-J:J;G._manualScrolling=true;G._performScroll(K);});this.$().find(".sapSuiteUiCommonsTimelineScrollerIconWrapper").mouseup(function(){G._manualScrolling=false;}).mouseout(function(){G._manualScrolling=false;});}if(this.getEnableScroll()&&!G._isVertical()){this._$content.on("wheel",function(H){if(H.originalEvent.deltaX){return;}var J=H.originalEvent.deltaY,K=30;if(J<K&&J>K*-1){J=J>0?K:K*-1;}this.scrollLeft+=J*2;});$.find(".sapSuiteUiCommonsTimelineHorizontalScroller, .sapSuiteUiCommonsTimelineVerticalScroller").on("wheel",function(H){var J=H.originalEvent.deltaY;if(G._isVertical()){G._$content.get(0).scrollTop+=J*2;}else{G._$content.get(0).scrollLeft+=J*2;}});}};y.prototype._setupMessageStrip=function(){var i=this;this._objects.register("messageStrip",function(){return new M(i.getId()+"-messageStrip",{close:function(){i.setCustomMessage("");i.fireCustomMessageClosed();},showCloseButton:true});});this._objects.register("filterMessageText",function(){return new T(i.getId()+"-filterMessageText",{});});this._objects.register("filterMessage",function(){var j=i._objects.getFilterMessageText(),z,A;A=new I(i.getId()+"filterMessageIcon",{src:"sap-icon://decline",press:[i._clearFilter,i]});z=new O(i.getId()+"-filterMessage",{design:"Info",content:[j,new b(),A]});z.addStyleClass("sapSuiteUiCommonsTimelineFilterInfoBar");z.setHeight("auto");return z;});};y.prototype._setMessageBars=function(i){var j=this._getFilterMessage();if(j){i.addChild(this._objects.getFilterMessage());this._objects.getFilterMessageText().setText(j);}};y.prototype._setupRangeFilterPage=function(){var i=this;this._rangeFilterType=null;this._objects.register("timestampFilterPicker",function(){return new p(i.getId(),{dateChanged:function(E){var j=E.getSource(),z=j.getStartDate()||i._minDate,A=j.getEndDate()||i._maxDate;i._filterDialogRangePage.setFilterCount(+(z!==i._minDate||A!==i._maxDate));}},undefined,u);});this._objects.register("timeFilterSelect",function(){var j=new c(i.getId()+"-timeFilterSelect",{change:function(z){i._rangeFilterType=z.getParameter("selectedItem").getProperty("key");i.toggleGroupTypeSelector(i._rangeFilterType);i._setRangeFilter();},items:[new a({text:u.getText("TIMELINE_YEAR"),key:t.Year}),new a({text:u.getText("TIMELINE_QUARTER"),key:t.Quarter}),new a({text:u.getText("TIMELINE_MONTH"),key:t.Month}),new a({text:u.getText("TIMELINE_DAY"),key:t.Day}),new a({text:u.getText("TIMELINE_CUSTOM_RANGE"),key:t.None})]});j.addStyleClass("sapSuiteUiCommonsTimelineRangeSelect");return j;});this._objects.register("timeRangeSlider",function(){var j=function(E){if(typeof E==="string"){E=Number(E);}var G=i._fnAddDate(E);return i._formatGroupBy(G,i._rangeFilterType).title;};var z=new s();z.getLabel=j;var A=new d(i.getId()+"-timeRangeSlider",{enableTickmarks:true,visible:false,showAdvancedTooltip:true,step:1,change:function(E){var G=A.getMin(),H=A.getMax(),J=A.getRange();i._filterDialogRangePage.setFilterCount(+(J[0]!==G||J[1]!==H));},customTooltips:[new r({mapFunction:j}),new r({mapFunction:j,fetchValue2:true})],scale:z});A.addStyleClass("sapSuiteUiCommonsTimelineRangeFilter");return A;});this._objects.register("rangeTypeLbl",function(){return new L(i.getId()+"-rangeTypeLbl",{text:u.getText("TIMELINE_GROUP_BY_PERIOD")+":"});});this._objects.register("rangeTypePanel",function(){var j=new P(i.getId()+"-rangeTypePanel",{content:[i._objects.getRangeTypeLbl(),i._objects.getTimeFilterSelect()]});j.addStyleClass("sapSuiteUiCommonsTimelineRangeFilterPanel");j.addStyleClass("sapSuiteUiCommonsTimelineRangeFilterPanelShadowed");return j;});this._objects.register("rangePanel",function(){return new F(i.getId()+"rangePanel",{direction:"Column",items:[i._objects.getRangeTypePanel(),i._objects.getTimeRangeSlider(),i._objects.getTimestampFilterPicker().getTimestampPanelRadio(),i._objects.getTimestampFilterPicker().getTimestampPanelPicker()]});});};y.prototype._setupFilterFirstPage=function(i){if(i){i.removeAllAggregation("filterItems");if(this.getShowItemFilter()){i.addAggregation("filterItems",new f({key:"items",text:this._getFilterTitle()}));}if(this.getShowTimeFilter()){this._filterDialogRangePage=new g({key:"range",text:u.getText("TIMELINE_RANGE_SELECTION"),customControl:[this._objects.getRangePanel()]});i.addAggregation("filterItems",this._filterDialogRangePage);}}};y.prototype._setupFilterDialog=function(){var i=this;this._setupRangeFilterPage();this._objects.register("filterContent",function(){var j,z,A=function(J){if(!i._filterState.data){i._setFilterList();J.removeAllItems();i._aFilterList.forEach(function(K){var N=q.grep(i._currentFilterKeys,function(Q){return K.key===Q.key;}).length>0;J.addItem(new f({key:K.key,text:K.text,selected:N}));});}i._filterState.data=true;},E=function(){m.show(u.getText("TIMELINE_NO_LIMIT_DATA"));},G=function(){if(!i._filterState.range){H.setBusy(true);i._getTimeFilterData().then(function(){H.setBusy(false);if((!i._minDate||!i._maxDate)||(!(i._minDate instanceof Date)||!(i._maxDate instanceof Date))){E();return;}if(!i._rangeFilterType){i._rangeFilterType=i._calculateRangeTypeFilter();}if(!i._startDate&&!i._endDate){i._setRangeFilter();}else{var J=i._objects.getTimeRangeSlider(),K=i._fnDateDiff(i._rangeFilterType),N=J.getMin(),Q=J.getMax();if(Q-N!==K){i._setRangeFilter();}j=i._fnDateDiff(i._rangeFilterType,i._minDate,i._startDate);z=i._fnDateDiff(i._rangeFilterType,i._minDate,i._endDate);J.setRange([j,z]);}i.toggleGroupTypeSelector(i._rangeFilterType);i._objects.getTimeFilterSelect().setSelectedKey(i._rangeFilterType);}).catch(function(){H.setBusy(false);E();});i._filterState.range=true;}},H=new V(i.getId()+"-filterContent",{confirm:function(J){var K=J.getParameter("filterItems"),N,Q,U,W,X;i._currentFilterKeys=K.map(function($){return{key:$.getProperty("key"),text:$.getProperty("text")};});i._startDate=null;i._endDate=null;if(i._objects.getTimestampFilterPicker().getVisible()){var Y=i._objects.getTimestampFilterPicker().getStartDate()||i._minDate,Z=i._objects.getTimestampFilterPicker().getEndDate()||i._maxDate;if(Y!==i._minDate||Z!==i._maxDate){i._startDate=Y;i._endDate=Z;X=true;}}else{N=i._objects.getTimeRangeSlider();W=N.getRange();Q=N.getMin();U=N.getMax();if(W[0]!==Q||W[1]!==U){i._startDate=i._fnAddDate(Math.min.apply(null,W),D.DOWN);i._endDate=i._fnAddDate(Math.max.apply(null,W),D.UP);X=true;}}i._filterData(X);},resetFilters:function(J){var K=i._objects.getTimeRangeSlider();K.setValue(K.getMin());K.setValue2(K.getMax());i._filterDialogRangePage.setFilterCount(0);i._objects.getTimestampFilterPicker().clearDates();},filterDetailPageOpened:function(J){var K=J.getParameter("parentFilterItem").getProperty("key");if(K==="items"){A(J.getParameter("parentFilterItem"));}if(K==="range"){G();}}});i._setupFilterFirstPage(H);return H;});};y.prototype._setupHeaderToolbar=function(){var i=this,j=function(A){i._objects.register(A.name,function(){var E=new e(i.getId()+"-"+A.name,{type:B.Transparent,icon:A.icon,tooltip:A.tooltip,press:A.fnPress});E.setLayoutData(new h({priority:A.priority}));return E;});};j({name:"filterIcon",icon:"sap-icon://add-filter",tooltip:u.getText("TIMELINE_FILTER_BY"),fnPress:[i._openFilterDialog,i],priority:k.NeverOverflow,visible:i.getShowItemFilter()||i.getShowTimeFilter()});j({name:"sortIcon",icon:"sap-icon://arrow-bottom",tooltip:u.getText("TIMELINE_SORT"),fnPress:[i._sortClick,i],priority:k.High,visible:i.getSort()&&i.getShowSort()});var z=new b();this._objects.register("searchFieldLabel",function(){return new n(i.getId()+"-searchFieldLabel",{text:u.getText("TIMELINE_ACCESSIBILITY_SEARCH")});});this._objects.register("searchField",function(){var A=new S(i.getId()+"-searchField",{width:"14rem",ariaLabelledBy:i._objects.getSearchFieldLabel().getId(),search:function(E){i._search(E.getSource().getValue());},visible:i.getShowSearch()});A.setLayoutData(new h({priority:k.Low}));return A;});this._objects.register("headerBar",function(){var A=[];if(i._isVertical()){A=[z,i._objects.getSearchFieldLabel(),i._objects.getSearchField(),i._objects.getSortIcon(),i._objects.getFilterIcon()];}else{A=[i._objects.getSortIcon(),i._objects.getFilterIcon(),i._objects.getSearchFieldLabel(),i._objects.getSearchField()];}var H=new O(i.getId()+"-headerBar",{content:A,visible:i.getShowHeaderBar()});H.addStyleClass("sapSuiteUiCommonsTimelineHeaderBar");H.setParent(i);return H;});};y.prototype._setupAccessibilityItems=function(){var i=this;this._objects.register("accessibilityTitle",function(){return new n(i.getId()+"-accessibilityTitle",{text:u.getText("TIMELINE_ACCESSIBILITY_TITLE")});});};y.prototype.toggleGroupTypeSelector=function(i){var j=i!==t.None;this._objects.getTimestampFilterPicker().setVisible(!j);this._objects.getTimeRangeSlider().setVisible(j);};}};return x;},true);
sap.ui.predefine("sap/suite/ui/commons/TimelineRenderManagerTimestamp",["sap/ui/base/ManagedObject","sap/m/RadioButtonGroup","sap/m/RadioButton","sap/m/Panel","sap/m/DateTimePicker","sap/m/Label"],function(P,R,a,b,D,L){"use strict";var c={"RANGE":0,"START":1,"END":2};
var T=P.extend("sap.suite.ui.commons.TimelineRenderManagerTimestamp",{
"constructor":function(i,s,S,r){var t;var o;this.getText=r.getText.bind(r);this.getTimestampPanelPicker=function(){if(!t){t=this._createTimestampPanelPicker();}return t;};this.getTimestampPanelRadio=function(){if(!o){o=this._createTimestampPanelRadio();}return o;};P.call(this,i,s,S);this.setVisible(false);},
metadata:{events:{dateChanged:{}}}
});
T.prototype._createTimestampPanelPicker=function(){var i=this.getId()+"-timestamp-panel-picker";var C;var t=this;var p=new b({id:i,content:[new L({text:this.getText("TIMELINE_FROM")+":"}),new L({text:this.getText("TIMELINE_NOW"),visible:false}),new D({width:"auto",change:function(){t.fireDateChanged();}}),new L({text:this.getText("TIMELINE_TO")+":"}),new L({text:this.getText("TIMELINE_NOW"),visible:false}),new D({width:"auto",change:function(){t.fireDateChanged();}})]});p.addStyleClass("sapSuiteUiCommonsTimelineRangeFilterPanel");C=p.getContent();C[1].addStyleClass("sapSuiteUiCommonsTimelineRangeLabelNow");C[2].addStyleClass("sapSuiteUiCommonsTimelineRangeDatePicker");C[4].addStyleClass("sapSuiteUiCommonsTimelineRangeLabelNow");C[5].addStyleClass("sapSuiteUiCommonsTimelineRangeDatePicker");return p;};
T.prototype._createTimestampPanelRadio=function(){var i=this.getId()+"-timestamp-panel-radio";return new b({"id":i,"content":[new R({columns:3,select:this.handlerSelectRadioButton.bind(this),buttons:[new a({id:i+"-range-of-dates",text:this.getText("TIMELINE_TIMESTAMP_RANGE_OF_DATES")}),new a({id:i+"-starting-date",text:this.getText("TIMELINE_TIMESTAMP_STARTING_DATE")}),new a({id:i+"-ending-date",text:this.getText("TIMELINE_TIMESTAMP_ENDING_DATE")})]})]});};
T.prototype.resizeDialog=function(o){o.getFilterContent()._getDialog().setContentWidth("50em");};
T.prototype.setVisible=function(v){this.getTimestampPanelPicker().setVisible(v);this.getTimestampPanelRadio().setVisible(v);};
T.prototype.setPickerView=function(p,d){d.getContent()[1].setVisible(p===c.END);d.getContent()[2].setVisible(p===c.START||p===c.RANGE);d.getContent()[4].setVisible(p===c.START);d.getContent()[5].setVisible(p===c.END||p===c.RANGE);};
T.prototype.handlerSelectRadioButton=function(e){this.setPickerView(e.getParameter("selectedIndex"),this.getTimestampPanelPicker());};
T.prototype.getVisible=function(){return this.getTimestampPanelPicker().getVisible()&&this.getTimestampPanelRadio().getVisible();};
T.prototype.getStartDate=function(){var s;var p=this.getTimestampPanelPicker().getContent()[2];if(p.getVisible()){s=p.getDateValue();}else{s=function(){return new Date();};}return s;};
T.prototype.clearDates=function(){var p=this.getTimestampPanelPicker().getContent()[2],o=this.getTimestampPanelPicker().getContent()[5];p.setDateValue();o.setDateValue();};
T.prototype.getEndDate=function(){var e;var p=this.getTimestampPanelPicker().getContent()[5];if(p.getVisible()){e=p.getDateValue();}else{e=function(){return new Date();};}return e;};
T.prototype.destroy=function(){this.getTimestampPanelPicker().destroy();this.getTimestampPanelRadio().destroy();P.prototype.destroy.call(this);};
return T;});
sap.ui.predefine('sap/suite/ui/commons/TimelineRenderer',["jquery.sap.global","./library","sap/suite/ui/commons/util/HtmlElement","sap/ui/core/Icon","sap/m/Button"],function(q,l,H,I,B){"use strict";var T=l.TimelineAxisOrientation,S=l.TimelineScrollingFadeout;var a={},r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");
a.render=function(R,t){var m=this._getHtmlModel(t);m.getRenderer().render(R);};
a._getHtmlModel=function(t){if(t.getAxisOrientation()===T.Horizontal){return this._getHorizontalTimelineElement(t);}else{return this._getVerticalTimelineElement(t);}};
a._getScrollerIcon=function(t,i,d){var e=new H("div"),n="scrollerIcon"+d,g="getScrollerIcon"+d;e.addClass(q.sap.encodeHTML("sapSuiteUiCommonsTimelineScrollerIconWrapper sapSuiteUiCommonsTimelineScrollerIconWrapper"+d));t._objects.register(n,function(){return new I({src:"sap-icon://step"});});e.addChild(t._objects[g]());return e;};
a._setWidthAndHeight=function(t,e){var h=t.getHeight(),w=t.getWidth();if(h&&!t._isVertical()){e.addStyle("height",h);}if(w&&(t._isVertical()||t.getEnableScroll())){e.addStyle("width",w);}};
a._getHorizontalTimelineElement=function(t){var b=t.getEnableDoubleSided(),c=t._isLeftAlignment(),C=t._outputItem,g=0,d=true,o,p,e,f,n,h,j=t._isMaxed(),L,m=function(){var K=new H("ul");K.setAttribute("role","listbox");return K;};var s=new H("div"),u=new H("div"),v=new H("div"),w=new H("div"),x=new H("div"),y=m(),z=new H("div"),A=m(),D=new H("div"),E=m(),F=new H("div"),G=new H("div");s.addControlData(t);s.addClass("sapSuiteUiCommonsTimelineH");if(!t.getEnableScroll()){s.addClass("sapSuiteUiCommonsTimelineNoScroll");}if(t._useAutomaticHeight()){s.addClass("sapSuiteUiCommonsTimelineAutomaticLineHeight");}this._addAccessibilityTags(s,t);this._setWidthAndHeight(t,s);if(b){s.addClass("sapSuiteUiCommonsTimelineDblSidedH");}else{s.addClass(c?"sapSuiteUiCommonsTimelineRight":"sapSuiteUiCommonsTimelineLeft");}if(t._isGrouped()){s.addClass("sapSuiteUiCommonsTimelineGrouped");}s.addChild(t._objects.getHeaderBar());t._setMessageBars(s);u.setId(t.getId()+"-contentH");u.addClass("sapSuiteUiCommonsTimelineContentsH");s.addChild(u);v.setId(t.getId()+"-scrollH");v.addClass("sapSuiteUiCommonsTimelineScrollH");u.addChild(v);x.addClass("sapSuiteUiCommonsTimelineHorizontalTopLine");z.addClass("sapSuiteUiCommonsTimelineHorizontalMiddleLine");z.addChild(A);D.addClass("sapSuiteUiCommonsTimelineHorizontalBottomLine");if(b||c){x.addChild(y);}if(b||!c){D.addChild(E);}y.addClass("sapSuiteUiCommonsTimelineHorizontalScrollingLine");E.addClass("sapSuiteUiCommonsTimelineHorizontalScrollingLine");A.addClass("sapSuiteUiCommonsTimelineHorizontalScrollingLine");if(C.length>0){if(t._scrollingFadeout()){s.addChild(F);s.addChild(G);F.addClass("sapSuiteUiCommonsTimelineHorizontalLeftScroller sapSuiteUiCommonsTimelineHorizontalScroller");G.addClass("sapSuiteUiCommonsTimelineHorizontalRightScroller sapSuiteUiCommonsTimelineHorizontalScroller");if(t.getScrollingFadeout()===S.AreaWithButtons){F.addChild(this._getScrollerIcon(t,"_scollerIconLeft","Left"));G.addChild(this._getScrollerIcon(t,"_scollerIconRight","Right"));}}w.addClass("sapSuiteUiCommonsTimelineHorizontalScrollContainer");v.addChild(w);w.addChild(x);w.addChild(z);w.addChild(D);A.addChild(this._getFirstHorizontalDelimiterLine(C[0]));for(var i=0;i<C.length;i++){L=j;o=C[i];p=c?"top":"bottom";e=(g%2);f=o.getText()==="GroupHeader";n=C[i+1];h=c?y:E;if(b){h=y;if(!f){h=e?E:y;}p=e?"bottom":"top";}if(f){g=0;d=true;p="top";if(L){for(var k=i+1;k<C.length;k++){if(C[k]._isGroupHeader){L=false;break;}}}}else if(e){o._isFirstGroupEvenItem=d;d=false;}o._index=i;o._orientation="H";o._placementLine=p;h.addChild(o);var J=this._getHorizontalDelimiterLine(t,o,g,n,j&&!n,L);if(J){A.addChild(J);}if(!f){g++;}}}else{v.addChild(this._getEmptyTimelineElement(t));}if(t._showMore){A.addChild(this._getShowMoreElement(t));}return s;};
a._getFirstHorizontalDelimiterLine=function(t){var e=new H("li"),b=new H("div"),c=new H("div"),d=new H("div"),i=t._isGroupHeader;d.addClass("sapSuiteUiCommonsTimelineItemBarH");c.addClass("sapSuiteUiCommonsTimelineItemBarWrapper");c.addChild(d);b.addChild(c);b.addClass("sapSuiteUiCommonsTimelineItemBarDivWrapper");e.addChild(b);e.addClass("sapSuiteUiCommonsTimelineItemFirstBar");if(i){e.addClass(t._isGroupCollapsed()?"sapSuiteUiCommonsTimelineGroupCollapsed":"sapSuiteUiCommonsTimelineGroupExpanded");}return e;};
a._getHorizontalDelimiterLine=function(t,o,i,n,L,b){var c=(i%2),d=o.getText()==="GroupHeader",s=d?"sapSuiteUiCommonsTimelineItemGroupHeaderH":"sapSuiteUiCommonsTimelineItemBaseLength",e="sapSuiteUiCommonsTimelineItemBarH",f=n!=null&&n._isGroupHeader,g=n===null,h=o._getStatusColorClass(),j=new H("li"),k=new H("div"),m=new H("div"),p=new H("div"),u=new H("div"),v=new H("div"),w=new H("div");j.setId(o.getId()+"-line");if(d&&!o._isGroupCollapsed()){j.addStyle("display","none");}if(o._groupID){j.setAttribute("groupid",o._groupID,true);}if(d){e="sapSuiteUiCommonsTimelineItemGroupHeaderBar";j.setAttribute("nodeType","GroupHeaderBar");}else if(t.getEnableDoubleSided()){if((!f||c)&&!g){s=c?"sapSuiteUiCommonsTimelineItemHOdd":"sapSuiteUiCommonsTimelineItemHEven";}}if((!d&&L)||(d&&b)){j.addClass("sapSuiteUiCommonsTimelineLastItem");}j.addClass(q.sap.encodeHTML(s));p.addClass("sapSuiteUiCommonsTimelineItemBarWrapper");m.addClass("sapSuiteUiCommonsTimelineItemBarH");m.addClass(q.sap.encodeHTML(e));k.addStyle("display","flex");k.addStyle("height","100%");if(t.getShowIcons()||d){k.addChild(u);if(!d){if(h){u.addClass(q.sap.encodeHTML(h));}else{u.addClass("sapSuiteUiCommonsTimelineNoStatus");}u.addClass("sapSuiteUiCommonsTimelineItemIconWrapper");}else{u.addClass("sapSuiteUiCommonsTimelineItemGroupBarIconWrapper");}u.addChild(o._getLineIcon());}else{w.addChild(v);w.addClass("sapSuiteUiCommonsTimelineItemNoIconWrapper");v.addClass("sapSuiteUiCommonsTimelineItemNoIcon");if(h){v.addClass(q.sap.encodeHTML(h));}else{v.addClass("sapSuiteUiCommonsTimelineNoStatus");}k.addClass("sapSuiteUiCommonsTimelineItemWrapper");k.addChild(w);}k.addChild(p);p.addChild(m);if(t._collapsedGroups[o._groupID]){if(d){j.addClass("sapSuiteUiCommonsTimelineItemGroupCollapsedBar");}else{j.addStyle("display","none");}}j.addChild(k);return j;};
a._getVerticalTimelineElement=function(t){var e=new H("div"),b=new H("div"),c=new H("div"),d=new H("div"),f=new H("div"),g=new H("div"),h=new H("div"),j,o,n,m,N,L,C=function(){var j=new H("ul");j.addClass("sapSuiteUiCommonsTimelineItemUlWrapper");j.setAttribute("role","listbox");return j;};e.addControlData(t);e.addClass("sapSuiteUiCommonsTimeline");this._addAccessibilityTags(e,t);g.addClass("sapSuiteUiCommonsTimelineContentWrapper");if(t._isGrouped()){e.addClass("sapSuiteUiCommonsTimelineGrouped");}if(t._scrollingFadeout()){g.addChild(b);g.addChild(c);b.addClass("sapSuiteUiCommonsTimelineTopScroller sapSuiteUiCommonsTimelineVerticalScroller");c.addClass("sapSuiteUiCommonsTimelineBottomScroller sapSuiteUiCommonsTimelineVerticalScroller");if(t.getScrollingFadeout()===S.AreaWithButtons){b.addChild(this._getScrollerIcon(t,"_scollerIconTop","Top"));c.addChild(this._getScrollerIcon(t,"_scrollerIconBottom","Bottom"));}}this._setWidthAndHeight(t,e);e.addChild(t._objects.getHeaderBar());t._setMessageBars(e);if((t.getMessageStrip()!==null)&&(t.getMessageStrip()!==undefined)&&t.getMessageStrip().getText()!==""){e.addChild(t._objects.getMessageStrip());}e.addChild(g);g.addChild(d);d.setId(t.getId()+"-content");d.setAttribute("data-sap-ui-fastnavgroup","true");d.addClass("sapSuiteUiCommonsTimelineContents");d.addClass("sapSuiteUiCommonsTimelineScrollV");d.addClass("sapSuiteUiCommonsTimelineScroll");d.addChild(f);f.setId(t.getId()+"-scroll");f.addClass("sapSuiteUiCommonsTimelineScroll");j=C();var p=t._outputItem,s=t._isMaxed();if(p.length>0){f.addChild(j);for(var i=0;i<p.length;i++){L=s;o=p[i];n=p[i+1];m=o._isGroupHeader;o._orientation="V";o._position=t.getAlignment();o._additionalBarClass="";o._index=i;o._isLast=s&&p.length-1===i;if(m){j.setAttribute("groupId",o._groupID,true);}if(m){for(var k=i+1;k<p.length;k++){N=p[k];if(N._isGroupHeader){if(!N._isGroupCollapsed()&&o._isGroupCollapsed()){o._additionalBarClass="sapSuiteUiCommonsTimelineGroupNextExpanded";}L=false;break;}}}o._isLastGroup=L;if(n&&n._isGroupHeader&&!n._isGroupCollapsed()){o._additionalBarClass="sapSuiteUiCommonsTimelineGroupNextExpanded";}if(m&&(i!=0)){j=C();f.addChild(j);}j.addChild(o);}}else{f.addChild(this._getEmptyTimelineElement(t));}if(t._showMore){h.addClass("sapSuiteUiCommonsTimelineShowMoreWrapper");h.addChild(this._getShowMoreElement(t));f.addChild(h);}return e;};
a._getEmptyTimelineElement=function(t){var e=new H("div"),b=new H("span");e.addClass("sapSuiteUiCommonsTimelineNoTextWrapper");e.addChild(b);b.addChildEscaped(t.getNoDataText());return e;};
a._getShowMoreElement=function(t){var e=t._isVertical()?new H("div"):new H("li"),c="sapSuiteUiCommonsTimelineItemGetMoreButtonV",i="sap-icon://drill-down";if(t.getAxisOrientation()===T.Horizontal){i="sap-icon://process";c="sapSuiteUiCommonsTimelineItemGetMoreButtonH";}t._objects.register("moreButton",function(){var m=new B({icon:i,tooltip:r.getText("TIMELINE_MORE"),press:function(){t._loadMore();}});m.addEventDelegate({onAfterRendering:function(){this.$().attr("tabindex",0);}},m);return m;});e.addClass("sapSuiteUiCommonsTimelineItemGetMoreButton");e.addClass(q.sap.encodeHTML(c));e.addChild(t._objects.getMoreButton());return e;};
a._addAccessibilityTags=function(e,t){var L=[t._objects.getAccessibilityTitle().getId()];if(t._getFilterMessage()){L.push(t._objects.getFilterMessageText().getId());}e.setAttribute("role","presentation");e.addChild(t._objects.getAccessibilityTitle());e.setAttribute("aria-labelledby",L.join(" "),true);e.setAttribute("aria-live","assertive");};
return a;},true);
sap.ui.predefine('sap/suite/ui/commons/flexibility/Timeline.flexibility',["jquery.sap.global","./changeHandler/PropertyChangeMapper","sap/base/Log"],function(q,P,L){"use strict";var I=Object.freeze({"-sortIcon":"showSort","-filterIcon":["showItemFilter","showTimeFilter"],"-searchField":"showSearch","-headerBar":"showHeaderBar"});
function g(i){var k;for(k in I){if(q.sap.endsWith(i,k)){return I[k];}}L.fatal("Unkonwn id of an inner component: "+i);return null;}
return{"hideToolbarItem":new P(function(s){var i=s.removedElement.id;return g(i);},false),"unhideToolbarItem":new P(function(s){var i=s.revealedElementId;return g(i);},true),"hideControl":"default","unhideControl":"default","moveControls":"default"};},true);
sap.ui.predefine('sap/suite/ui/commons/flexibility/changeHandler/PropertyChangeMapper',["jquery.sap.global","sap/ui/base/Object","sap/ui/fl/changeHandler/PropertyChange","sap/base/Log"],function(q,B,P,L){
var a=B.extend("sap.suite.ui.commons.flexibility.changeHandler.PropertyChangeMapper",{constructor:function(p,v){if(typeof p==="function"){this._fnProperty=p;}else if(typeof p==="string"){this._fnProperty=function(){return p;};}else{L.fatal("Incorrect type of property: "+typeof p);}if(typeof v==="function"){this._fnValue=v;}else{this._fnValue=function(){return v;};}}});
a.prototype.applyChange=function(c,C,p){var o=c.getDefinition().content,b=o.property;if(Array.isArray(b)){b.forEach(function(s){o.property=s;P.applyChange(c,C,p);});}else{P.applyChange(c,C,p);}};
a.prototype.completeChangeContent=function(c,s){var p=this._fnProperty(s),m=q.extend(s,{content:{property:p,newValue:this._fnValue(p)}});P.completeChangeContent(c,m);};
return a;});
sap.ui.predefine('sap/suite/ui/commons/library',function(){"use strict";sap.ui.getCore().initLibrary({name:"sap.suite.ui.commons",dependencies:["sap.ui.core","sap.m"],types:["sap.suite.ui.commons.BulletChartMode","sap.suite.ui.commons.CalculationBuilderComparisonOperatorType","sap.suite.ui.commons.CalculationBuilderFunctionType","sap.suite.ui.commons.CalculationBuilderItemType","sap.suite.ui.commons.CalculationBuilderLayoutType","sap.suite.ui.commons.CalculationBuilderLogicalOperatorType","sap.suite.ui.commons.CalculationBuilderOperatorType","sap.suite.ui.commons.CalculationBuilderValidationType","sap.suite.ui.commons.CommonBackground","sap.suite.ui.commons.ComparisonChartView","sap.suite.ui.commons.DeviationIndicator","sap.suite.ui.commons.FacetOverviewHeight","sap.suite.ui.commons.FrameType","sap.suite.ui.commons.HeaderContainerView","sap.suite.ui.commons.InfoTileSize","sap.suite.ui.commons.InfoTileTextColor","sap.suite.ui.commons.InfoTileValueColor","sap.suite.ui.commons.LoadState","sap.suite.ui.commons.MicroAreaChartView","sap.suite.ui.commons.MicroProcessFlowRenderType","sap.suite.ui.commons.networkgraph.ActionButtonPosition","sap.suite.ui.commons.networkgraph.BackgroundColor","sap.suite.ui.commons.networkgraph.ElementStatus","sap.suite.ui.commons.networkgraph.LayoutAlgorithmType","sap.suite.ui.commons.networkgraph.LayoutRenderType","sap.suite.ui.commons.networkgraph.LineArrowOrientation","sap.suite.ui.commons.networkgraph.LineArrowPosition","sap.suite.ui.commons.networkgraph.LineType","sap.suite.ui.commons.networkgraph.HeaderCheckboxState","sap.suite.ui.commons.networkgraph.NodePlacement","sap.suite.ui.commons.networkgraph.NodeShape","sap.suite.ui.commons.networkgraph.NodeSize","sap.suite.ui.commons.networkgraph.Orientation","sap.suite.ui.commons.networkgraph.RenderType","sap.suite.ui.commons.ProcessFlowConnectionLabelState","sap.suite.ui.commons.ProcessFlowConnectionState","sap.suite.ui.commons.ProcessFlowConnectionType","sap.suite.ui.commons.ProcessFlowDisplayState","sap.suite.ui.commons.ProcessFlowLaneState","sap.suite.ui.commons.ProcessFlowNodeState","sap.suite.ui.commons.ProcessFlowNodeType","sap.suite.ui.commons.ProcessFlowZoomLevel","sap.suite.ui.commons.SelectionState","sap.suite.ui.commons.statusindicator.FillingType","sap.suite.ui.commons.statusindicator.FillingDirectionType","sap.suite.ui.commons.taccount.TAccountPanelState","sap.suite.ui.commons.ThingGroupDesign","sap.suite.ui.commons.TimelineAlignment","sap.suite.ui.commons.TimelineAxisOrientation","sap.suite.ui.commons.TimelineFilterType","sap.suite.ui.commons.TimelineGroupType","sap.suite.ui.commons.TimelineScrollingFadeout","sap.suite.ui.commons.ValueStatus"],interfaces:[],controls:["sap.suite.ui.commons.BulletChart","sap.suite.ui.commons.BusinessCard","sap.suite.ui.commons.CalculationBuilder","sap.suite.ui.commons.CalculationBuilderExpression","sap.suite.ui.commons.CalculationBuilderFunction","sap.suite.ui.commons.CalculationBuilderInput","sap.suite.ui.commons.CalculationBuilderItem","sap.suite.ui.commons.CalculationBuilderValidationResult","sap.suite.ui.commons.CalculationBuilderVariable","sap.suite.ui.commons.ChartContainer","sap.suite.ui.commons.ChartContainerContent","sap.suite.ui.commons.ChartContainerToolbarPlaceholder","sap.suite.ui.commons.ChartTile","sap.suite.ui.commons.ColumnMicroChart","sap.suite.ui.commons.ComparisonChart","sap.suite.ui.commons.DateRangeScroller","sap.suite.ui.commons.DateRangeSlider","sap.suite.ui.commons.DateRangeSliderInternal","sap.suite.ui.commons.DeltaMicroChart","sap.suite.ui.commons.DynamicContainer","sap.suite.ui.commons.FacetOverview","sap.suite.ui.commons.FeedItemHeader","sap.suite.ui.commons.FeedTile","sap.suite.ui.commons.GenericTile","sap.suite.ui.commons.GenericTile2X2","sap.suite.ui.commons.HarveyBallMicroChart","sap.suite.ui.commons.HeaderCell","sap.suite.ui.commons.HeaderContainer","sap.suite.ui.commons.InfoTile","sap.suite.ui.commons.JamContent","sap.suite.ui.commons.KpiTile","sap.suite.ui.commons.LaunchTile","sap.suite.ui.commons.LinkActionSheet","sap.suite.ui.commons.MicroAreaChart","sap.suite.ui.commons.MonitoringContent","sap.suite.ui.commons.MonitoringTile","sap.suite.ui.commons.networkgraph.Graph","sap.suite.ui.commons.networkgraph.Node","sap.suite.ui.commons.NewsContent","sap.suite.ui.commons.NoteTaker","sap.suite.ui.commons.NoteTakerCard","sap.suite.ui.commons.NoteTakerFeeder","sap.suite.ui.commons.NumericContent","sap.suite.ui.commons.NumericTile","sap.suite.ui.commons.PictureZoomIn","sap.suite.ui.commons.ProcessFlow","sap.suite.ui.commons.ProcessFlowConnection","sap.suite.ui.commons.ProcessFlowConnectionLabel","sap.suite.ui.commons.ProcessFlowLaneHeader","sap.suite.ui.commons.ProcessFlowNode","sap.suite.ui.commons.RepeaterViewConfiguration","sap.suite.ui.commons.SplitButton","sap.suite.ui.commons.statusindicator.StatusIndicator","sap.suite.ui.commons.statusindicator.ShapeGroup","sap.suite.ui.commons.statusindicator.Shape","sap.suite.ui.commons.statusindicator.Rectangle","sap.suite.ui.commons.statusindicator.Circle","sap.suite.ui.commons.statusindicator.CustomShape","sap.suite.ui.commons.statusindicator.PropertyThreshold","sap.suite.ui.commons.statusindicator.DiscreteThreshold","sap.suite.ui.commons.statusindicator.LibraryShape","sap.suite.ui.commons.taccount.TAccount","sap.suite.ui.commons.TargetFilter","sap.suite.ui.commons.ThingCollection","sap.suite.ui.commons.ThreePanelThingInspector","sap.suite.ui.commons.ThreePanelThingViewer","sap.suite.ui.commons.taccount.TAccount","sap.suite.ui.commons.TileContent","sap.suite.ui.commons.TileContent2X2","sap.suite.ui.commons.Timeline","sap.suite.ui.commons.TimelineFilterListItem","sap.suite.ui.commons.TimelineItem","sap.suite.ui.commons.UnifiedThingGroup","sap.suite.ui.commons.UnifiedThingInspector","sap.suite.ui.commons.VerticalNavigationBar","sap.suite.ui.commons.ViewRepeater"],elements:["sap.suite.ui.commons.BulletChartData","sap.suite.ui.commons.ColumnData","sap.suite.ui.commons.ColumnMicroChartLabel","sap.suite.ui.commons.ComparisonData","sap.suite.ui.commons.CountingNavigationItem","sap.suite.ui.commons.FeedItem","sap.suite.ui.commons.HarveyBallMicroChartItem","sap.suite.ui.commons.HeaderCellItem","sap.suite.ui.commons.MicroAreaChartItem","sap.suite.ui.commons.MicroAreaChartLabel","sap.suite.ui.commons.MicroAreaChartPoint","sap.suite.ui.commons.TargetFilterColumn","sap.suite.ui.commons.TargetFilterMeasureColumn"],version:"1.60.12",extensions:{flChangeHandlers:{"sap.suite.ui.commons.Timeline":"sap/suite/ui/commons/flexibility/Timeline"}}});sap.suite.ui.commons.BulletChartMode={Actual:"Actual",Delta:"Delta"};sap.suite.ui.commons.CommonBackground={Lightest:"Lightest",ExtraLight:"ExtraLight",Light:"Light",MediumLight:"MediumLight",Medium:"Medium",Dark:"Dark",ExtraDark:"ExtraDark",Darkest:"Darkest"};sap.suite.ui.commons.ComparisonChartView={Normal:"Normal",Wide:"Wide"};sap.suite.ui.commons.CalculationBuilderComparisonOperatorType={"<":"<",">":">","<=":"<=",">=":">=","=":"=","!=":"!="};sap.suite.ui.commons.CalculationBuilderFunctionType={ABS:"ABS",Round:"ROUND",RoundUp:"RoundUp",RoundDown:"RoundDown",Case:"CASE",SQRT:"SQRT",NDIV0:"NDIV0",NODIM:"NODIM",SUMCT:"SUMCT",SUMGT:"SUMGT",SUMRT:"SUMRT"};sap.suite.ui.commons.CalculationBuilderItemType={Operator:"Operator",CustomOperator:"CustomOperator",Variable:"Variable",Constant:"Constant",Function:"Function",CustomFunction:"CustomFunction",Empty:"Empty",Error:"Error"};sap.suite.ui.commons.CalculationBuilderLogicalOperatorType={AND:"AND",OR:"OR",XOR:"XOR",NOT:"NOT"};sap.suite.ui.commons.CalculationBuilderLayoutType={Default:"Default",VisualTextualReadOnly:"VisualTextualReadOnly",VisualOnly:"VisualOnly",TextualOnly:"TextualOnly"};sap.suite.ui.commons.CalculationBuilderOperatorType={"+":"+","-":"-","/":"/","*":"*","(":"(",")":")",",":","};sap.suite.ui.commons.CalculationBuilderValidationMode={FocusOut:"FocusOut",LiveChange:"LiveChange"};sap.suite.ui.commons.DeviationIndicator={Up:"Up",Down:"Down",None:"None"};sap.suite.ui.commons.FacetOverviewHeight={XS:"XS",S:"S",M:"M",L:"L",XL:"XL",XXL:"XXL",Auto:"Auto",None:"None"};sap.suite.ui.commons.FrameType={OneByOne:"OneByOne",TwoByOne:"TwoByOne",TwoThirds:"TwoThirds",Auto:"Auto"};sap.suite.ui.commons.HeaderContainerView={Horizontal:"Horizontal",Vertical:"Vertical"};sap.suite.ui.commons.InfoTileSize={XS:"XS",S:"S",M:"M",L:"L",Auto:"Auto"};sap.suite.ui.commons.InfoTileTextColor={Positive:"Positive",Critical:"Critical",Negative:"Negative"};sap.suite.ui.commons.InfoTileValueColor={Neutral:"Neutral",Good:"Good",Critical:"Critical",Error:"Error"};sap.suite.ui.commons.LoadState={Loading:"Loading",Loaded:"Loaded",Failed:"Failed",Disabled:"Disabled"};sap.suite.ui.commons.MicroAreaChartView={Normal:"Normal",Wide:"Wide"};sap.suite.ui.commons.MicroProcessFlowRenderType={Wrap:"Wrap",NoWrap:"NoWrap",Scrolling:"Scrolling",ScrollingWithResizer:"ScrollingWithResizer"};sap.suite.ui.commons.networkgraph.BackgroundColor={Default:"Default",White:"White"};sap.suite.ui.commons.networkgraph.ActionButtonPosition={Left:"Left",Right:"Right"};sap.suite.ui.commons.networkgraph.NodeShape={Circle:"Circle",Box:"Box",Custom:"Custom"};sap.suite.ui.commons.networkgraph.LineType={Solid:"Solid",Dashed:"Dashed",Dotted:"Dotted"};sap.suite.ui.commons.networkgraph.NodePlacement={BrandesKoepf:"BrandesKoepf",LinearSegments:"LinearSegments",Simple:"Simple"};sap.suite.ui.commons.networkgraph.ElementStatus={Standard:"Standard",Success:"Success",Warning:"Warning",Error:"Error"};sap.suite.ui.commons.networkgraph.Orientation={LeftRight:"LeftRight",RightLeft:"RightLeft",TopBottom:"TopBottom",BottomTop:"BottomTop"};sap.suite.ui.commons.networkgraph.RenderType={Html:"Html",Svg:"Svg"};sap.suite.ui.commons.networkgraph.LineArrowOrientation={ParentOf:"ParentOf",ChildOf:"ChildOf",None:"None",Both:"Both"};sap.suite.ui.commons.networkgraph.LineArrowPosition={Start:"Start",Middle:"Middle",End:"End"};sap.suite.ui.commons.networkgraph.LayoutRenderType={LayeredWithGroups:"LayeredWithGroups",SwimLanes:"SwimLanes",Forces:"Forces",TwoColumns:"TwoColumns"};sap.suite.ui.commons.networkgraph.HeaderCheckboxState={Hidden:"Hidden",Checked:"Checked",Unchecked:"Unchecked"};sap.suite.ui.commons.ProcessFlowConnectionLabelState={Neutral:"Neutral",Positive:"Positive",Critical:"Critical",Negative:"Negative"};sap.suite.ui.commons.ProcessFlowConnectionState={Highlighted:"Highlighted",Dimmed:"Dimmed",Regular:"Regular",Selected:"Selected"};sap.suite.ui.commons.ProcessFlowConnectionType={Planned:"Planned",Normal:"Normal"};sap.suite.ui.commons.ProcessFlowDisplayState={Regular:"Regular",RegularFocused:"RegularFocused",Highlighted:"Highlighted",HighlightedFocused:"HighlightedFocused",Dimmed:"Dimmed",DimmedFocused:"DimmedFocused",Selected:"Selected",SelectedHighlighted:"SelectedHighlighted",SelectedHighlightedFocused:"SelectedHighlightedFocused",SelectedFocused:"SelectedFocused"};sap.suite.ui.commons.ProcessFlowLaneState={value:"value",state:"state"};sap.suite.ui.commons.ProcessFlowNodeState={Positive:"Positive",Negative:"Negative",Critical:"Critical",Planned:"Planned",Neutral:"Neutral",PlannedNegative:"PlannedNegative"};sap.suite.ui.commons.ProcessFlowNodeType={Single:"Single",Aggregated:"Aggregated"};sap.suite.ui.commons.ProcessFlowZoomLevel={One:"One",Two:"Two",Three:"Three",Four:"Four"};sap.suite.ui.commons.SelectionState={Selected:"Selected",NotSelected:"NotSelected",Semantic:"Semantic"};sap.suite.ui.commons.statusindicator.FillingDirectionType={Up:"Up",Down:"Down",Left:"Left",Right:"Right",Clockwise:"Clockwise",CounterClockwise:"CounterClockwise"};sap.suite.ui.commons.taccount.TAccountPanelState={Default:"Default",Table:"Table"};sap.suite.ui.commons.statusindicator.HorizontalAlignmentType={Left:"Left",Middle:"Middle",Right:"Right"};sap.suite.ui.commons.statusindicator.VerticalAlignmentType={Top:"Top",Middle:"Middle",Bottom:"Bottom"};sap.suite.ui.commons.statusindicator.SizeType={None:"None",Small:"Small",Medium:"Medium",Large:"Large",ExtraLarge:"ExtraLarge"};sap.suite.ui.commons.statusindicator.LabelPositionType={Top:"Top",Right:"Right",Bottom:"Bottom",Left:"Left"};sap.suite.ui.commons.statusindicator.FillingType={Linear:"Linear",Radial:"Radial",Circular:"Circular",None:"None"};sap.suite.ui.commons.ThingGroupDesign={ZeroIndent:"ZeroIndent",TopIndent:"TopIndent"};sap.suite.ui.commons.TimelineAlignment={Right:"Right",Left:"Left",Top:"Top",Bottom:"Bottom"};sap.suite.ui.commons.TimelineAxisOrientation={Vertical:"Vertical",Horizontal:"Horizontal"};sap.suite.ui.commons.TimelineFilterType={Data:"Data",Time:"Time",Search:"Search"};sap.suite.ui.commons.TimelineGroupType={None:"None",Year:"Year",Month:"Month",Quarter:"Quarter",Week:"Week",Day:"Day"};sap.suite.ui.commons.TimelineScrollingFadeout={None:"None",Area:"Area",AreaWithButtons:"AreaWithButtons"};sap.suite.ui.commons.ValueStatus={Good:"Good",Neutral:"Neutral",Critical:"Critical",Bad:"Bad"};return sap.suite.ui.commons;});
sap.ui.predefine('sap/suite/ui/commons/networkgraph/util/Dijkstra',[],function(){"use strict";
function D(g,s,S){this.oGraph=g;this.oSourceNode=s;this.oSettings=Object.assign({fnLineValue:function(){return 1;},bIgnoreDirections:false,bIgnoreCollapsed:false},S);this._compute();}
D.prototype._compute=function(){var c,l,i,s=[this.oSourceNode],v={},d={},p={},L=this.oSettings.fnLineValue,I=this.oSettings.bIgnoreDirections,b=this.oSettings.bIgnoreCollapsed;function a(n,f){for(var i=0;i<s.length;i++){if(f>d[s[i].getKey()]){s.splice(i,0,n);return;}}s.push(n);}function e(o,r){var t=r?o.getFromNode():o.getToNode(),T=t.getKey(),f=d[c.getKey()]+L(o);if(f<d[T]){d[T]=f;p[T]={line:o,reverse:r};a(t,f);}}this.oGraph.getNodes().forEach(function(n){d[n.getKey()]=Number.MAX_VALUE;});d[this.oSourceNode.getKey()]=0;while(s.length>0){c=s.shift();if(v[c.getKey()]){continue;}if(b&&(c.isHidden()||c.getVisible()===false||c._isIgnored())){continue;}v[c.getKey()]=true;l=c.getChildLines();for(i=0;i<l.length;i++){e(l[i],false);}if(I){l=c.getParentLines();for(i=0;i<l.length;i++){e(l[i],true);}}}this.mDist=d;this.mPath=p;};
D.prototype.getShortestPathTo=function(t){var c=this.mPath[t.getKey()],p=[],T,f;if(c){T=c.reverse?c.line.getFromNode():c.line.getToNode();}while(c&&T!==this.oSourceNode){p.push(c.line);f=c.reverse?c.line.getToNode():c.line.getFromNode();c=this.mPath[f.getKey()];if(c){T=c.reverse?c.line.getFromNode():c.line.getToNode();}}return p;};
return D;},true);
sap.ui.predefine('sap/suite/ui/commons/statusindicator/Circle',["sap/suite/ui/commons/statusindicator/Shape","sap/suite/ui/commons/util/HtmlElement","sap/suite/ui/commons/statusindicator/SimpleShape","sap/suite/ui/commons/statusindicator/SimpleShapeRenderer"],function(S,H,a,b){"use strict";
var C=a.extend("sap.suite.ui.commons.statusindicator.Circle",{
metadata:{library:"sap.suite.ui.commons",properties:{cx:{type:"float",defaultValue:0},cy:{type:"float",defaultValue:0},r:{type:"float",defaultValue:0}}},
renderer:b
});
C.prototype._getSimpleShapeElement=function(c){var o=new H("circle");o.setId(this._buildIdString(c));o.setAttribute("cx",this.getCx());o.setAttribute("cy",this.getCy());o.setAttribute("r",this.getR());o.setAttribute("stroke-width",this.getStrokeWidth());o.setAttribute("stroke",this._getCssStrokeColor());return o;};
return C;});
sap.ui.predefine('sap/suite/ui/commons/statusindicator/CustomShape',["jquery.sap.global","../library","sap/suite/ui/commons/statusindicator/ShapeGroup","sap/suite/ui/commons/statusindicator/Shape","sap/suite/ui/commons/statusindicator/Path","sap/suite/ui/commons/statusindicator/Circle","sap/suite/ui/commons/statusindicator/Rectangle","sap/suite/ui/commons/util/HtmlElement"],function(q,l,S,a,P,C,R,H){"use strict";var F=l.statusindicator.FillingType;
var b=a.extend("sap.suite.ui.commons.statusindicator.CustomShape",{metadata:{library:"sap.suite.ui.commons",properties:{x:{type:"int",defaultValue:0},y:{type:"int",defaultValue:0},width:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},height:{type:"sap.ui.core.CSSSize",defaultValue:"100%"},strokeColor:{type:"sap.m.ValueCSSColor",defaultValue:"Neutral"},strokeWidth:{type:"float",defaultValue:0.25},definition:{type:"string",defaultValue:null}},defaultAggregation:"shapes",aggregations:{shapes:{type:"sap.suite.ui.commons.statusindicator.SimpleShape",multiple:true,defaultValue:null},fillingOptions:{type:"sap.suite.ui.commons.statusindicator.FillingOption",multiple:true,defaultValue:null}}}});
b.prototype.init=function(){if(a.prototype.init){a.prototype.init.apply(this,arguments);}this._iDisplayedValue=0;this._initShapeState();};
b.prototype.onBeforeRendering=function(){this._refreshInternalStructure();};
b.prototype.addFillingOption=function(n){var f=typeof n.getOrder()==="undefined";if(f){q.sap.log.fatal("The passed FillingOption has to have set its order property.");return this;}var h=this.getFillingOptions().length>0&&this.getFillingOptions().filter(function(o){return o.getOrder()===n.getOrder();}).length>0;if(h){q.sap.log.fatal("The property 'order' has to be unique within the FillingOptions aggregation, but option"+" with order: "+n.getOrder()+" is already inserted. No FillingOption added.");return this;}return this.addAggregation("fillingOptions",n,true);};
b.prototype._initShapeState=function(){this._aFillableSubShapes=[];this.oDefinition=[];this._sViewBox=null;this.destroyShapes();};
b.prototype._refreshInternalStructure=function(){this._initShapeState();this._aFillableSubShapes.forEach(function(i){if(i.fillingOption){i.fillingOption.destroy();}i.shape.destroy();});if(!this.getDefinition()){if(!this.isA("sap.suite.ui.commons.statusindicator.LibraryShape")){q.sap.log.fatal("Definition has to be specified.");}return;}var $=q(this.getDefinition());this._sViewBox=$[0].getAttribute("viewBox");q.map($.children(),this._preprocessNode.bind(this));};
b.prototype._preprocessNode=function(n){var $=q(n),t=$.prop("tagName"),c=this;switch(t){case"g":q.map($.children(),function(o){return c._preprocessLeafNode.call(c,q(o));});break;default:this._preprocessLeafNode($);}};
b.prototype._preprocessLeafNode=function($){var t=$.prop("tagName");switch(t){case"path":this._preprocessPathNode($);break;case"circle":this._preprocessCircleNode($);break;case"rect":this._preprocessRectangleNode($);break;case"defs":this._preprocessDefinitionsNode($[0]);break;default:q.sap.log.fatal("Unsupported node tag name ('"+t+"')");}};
b.prototype._preprocessPathNode=function($){var p=new P({d:$.attr("d")});this._prepareShape(p,$);};
b.prototype._preprocessCircleNode=function($){var c=new C({cx:Number($.attr("cx")),cy:Number($.attr("cy")),r:Number($.attr("r"))});this._prepareShape(c,$);};
b.prototype._preprocessRectangleNode=function($){var r=new R({x:Number($.attr("x")),y:Number($.attr("y")),width:Number($.attr("width")),height:Number($.attr("height"))});this._prepareShape(r,$);};
b.prototype._preprocessDefinitionsNode=function(d){var D=new H("defs");D.addChild(d.innerHTML);return D;};
b.prototype._setInitialValue=function(i){this._iDisplayedValue=i;};
b.prototype.getDisplayedValue=function(){return this._iDisplayedValue;};
b.prototype._prepareShape=function(s,$){s.setFillingAngle(this.getFillingAngle());s.setStrokeWidth(this.getStrokeWidth());s.setStrokeColor(this.getStrokeColor());this.addShape(s);s._injectAnimationPropertiesResolver(this._oAnimationPropertiesResolver);var c=$.attr("style");if(!c){s.setFillingDirection(this.getFillingDirection());s.setFillColor(this.getFillColor());s.setFillingType(this.getFillingType());var d=$.data("shape-id");var f={shape:s,fillingOption:d?this._getFillingOptionById(d):null};this._aFillableSubShapes.push(f);if(f.fillingOption){this._aFillableSubShapes.sort(function(A,B){var o=A.fillingOption;var e=B.fillingOption;if(!o){return-1;}if(!e){return 1;}return o.getOrder()-e.getOrder();});}}else{s.setFillingType(F.None);s._setStyle(c);}};
b.prototype._updateDom=function(d,D){function g(s){var f=s.fillingOption;return f&&f.getWeight()!==0?f.getWeight():1;}q.sap.log.debug("Updating to "+d,null,this);if(this._aFillableSubShapes.length===0){q.sap.log.info("Update of DOM skipped. No shape for update found");return;}var t=this._aFillableSubShapes.reduce(function(f,s){return f+g(s);},0);try{var c=this;var v=(D)?d:this._oAnimationPropertiesResolver.getValue(this,d);this._aFillableSubShapes.forEach(function(f){var s=g(f);var G=s/t;var i;if(v===0){i=0;}else if(v>=100*G){i=100;}else{i=v/G;}v-=i*G;if(!D){var r=f.shape.getRenderer();var h=c.getDisplayedFillColor(d);q.sap.log.debug("Updating color to '"+h+"'",null,f.shape);r._updateDomColor(f.shape,h);}f.shape._updateDom(i,true);});}catch(e){q.sap.log.fatal("Update of DOM failed. Reason: "+e.message);return;}if(!D){this._oAnimationPropertiesResolver.propagateValueChange(this,d);this._oAnimationPropertiesResolver.propagateColorChange(this,d);}this._iDisplayedValue=d;};
b.prototype._getFillingOptionById=function(i){var r=null;this.getFillingOptions().some(function(f){if(f.getShapeId()===i){r=f;return true;}return false;});return r;};
b.prototype._getInternalViewBox=function(){return this._sViewBox;};
return b;});
sap.ui.predefine('sap/suite/ui/commons/statusindicator/CustomShapeRenderer',["jquery.sap.global","../library","sap/suite/ui/commons/util/HtmlElement","sap/ui/core/Renderer"],function(q,l,H,R){"use strict";
var C=R.extend("sap.suite.ui.commons.statusindicator.CustomShapeRenderer");
C.render=function(r,c){var m=this._getHtmlModel(c);m.getRenderer().render(r);};
C._getHtmlModel=function(c){var s=new H("svg");s.addControlData(c);s.setAttribute("version","1.1");s.setAttribute("xlmns","http://www.w3.org/2000/svg");var i=c._getInternalViewBox();if(i){s.setAttribute("viewBox",i);}s.setAttribute("preserveAspectRatio",c._buildPreserveAspectRatioAttribute());s.setAttribute("x",c.getX());s.setAttribute("y",c.getY());s.setAttribute("width",c.getWidth());s.setAttribute("height",c.getHeight());c.getShapes().forEach(s.addChild.bind(s));return s;};
C._updateDomColor=function(c,f){c._aFillableSubShapes.forEach(function(s){var S=s.shape;var r=S.getRenderer();r._updateDomColor(S,f);});};
return C;},true);
sap.ui.predefine('sap/suite/ui/commons/statusindicator/DiscreteThreshold',["jquery.sap.global","sap/ui/core/Control"],function(q,C){"use strict";
var D=C.extend("sap.suite.ui.commons.statusindicator.DiscreteThreshold",{metadata:{library:"sap.suite.ui.commons",properties:{value:{type:"int",defaultValue:0},ariaLabel:{type:"string",defaultValue:null}}}});
return D;},true);
sap.ui.predefine('sap/suite/ui/commons/statusindicator/FillingOption',["jquery.sap.global","sap/ui/core/Control","sap/base/Log"],function(q,C,L){"use strict";
var F=C.extend("sap.suite.ui.commons.statusindicator.FillingOption",{metadata:{library:"sap.suite.ui.commons",properties:{shapeId:{type:"string",defaultValue:null},weight:{type:"int",defaultValue:1},order:{type:"int"}}}});
F.prototype.setWeight=function(w){if(w<=0){L.fatal("An invalid weight is passed. Weight should be a positive integer. Given: "+w);}this.setProperty("weight",w);};
return F;});
sap.ui.predefine('sap/suite/ui/commons/statusindicator/LibraryShape',["jquery.sap.global","./CustomShape","./CustomShapeRenderer","./shapes/ShapeFactory"],function(q,C,a,S){"use strict";
var L=C.extend("sap.suite.ui.commons.statusindicator.LibraryShape",{
metadata:{properties:{shapeId:{type:"string",group:"Misc",defaultValue:null}},events:{"afterShapeLoaded":{}}},
renderer:a
});
L.prototype.setShapeId=function(s){s=this._getValidShapeId(s);this.setProperty("shapeId",s,true);new S().getShapeById(s).then(function(d){this.setDefinition(d);this.fireAfterShapeLoaded();}.bind(this));};
L.prototype._getValidShapeId=function(s){return s.replace(/[\\\.\/]/g,"");};
return L;});
sap.ui.predefine('sap/suite/ui/commons/statusindicator/Path',["sap/suite/ui/commons/util/HtmlElement","sap/suite/ui/commons/statusindicator/SimpleShape","sap/suite/ui/commons/statusindicator/SimpleShapeRenderer"],function(H,S,a){"use strict";
var P=S.extend("sap.suite.ui.commons.statusindicator.Path",{
metadata:{library:"sap.suite.ui.commons",properties:{d:{type:"string",defaultValue:null}}},
renderer:a
});
P.prototype._getSimpleShapeElement=function(p){var o=new H("path");o.setId(this._buildIdString(p));o.setAttribute("d",this.getD(),true);o.setAttribute("stroke-width",this.getStrokeWidth());o.setAttribute("stroke",this._getCssStrokeColor());if(this.aCustomStyleClasses){this.aCustomStyleClasses.forEach(o.addClass.bind(o));}return o;};
return P;});
sap.ui.predefine('sap/suite/ui/commons/statusindicator/PropertyThreshold',["jquery.sap.global","sap/ui/core/Control","sap/suite/ui/commons/statusindicator/util/ThemingUtil"],function(q,C,T){"use strict";
var P=C.extend("sap.suite.ui.commons.statusindicator.PropertyThreshold",{metadata:{library:"sap.suite.ui.commons",properties:{fillColor:{type:"sap.m.ValueCSSColor",defaultValue:"Neutral"},toValue:{type:"int",defaultValue:0},ariaLabel:{type:"string",defaultValue:null}}}});
P.prototype._getCssFillColor=function(){if(!this._cssFillColor){this._cssFillColor=T.resolveColor(this.getFillColor());}return this._cssFillColor;};
return P;},true);
sap.ui.predefine('sap/suite/ui/commons/statusindicator/Shape',["jquery.sap.global","../library","sap/ui/core/Control","sap/suite/ui/commons/util/HtmlElement","sap/suite/ui/commons/statusindicator/util/ThemingUtil","sap/base/Log"],function(q,l,C,H,T,L){"use strict";var F=l.statusindicator.FillingType;var a=l.statusindicator.FillingDirectionType;var V=l.statusindicator.VerticalAlignmentType;var b=l.statusindicator.HorizontalAlignmentType;
var S=C.extend("sap.suite.ui.commons.statusindicator.Shape",{
metadata:{"abstract":true,library:"sap.suite.ui.commons",properties:{fullAnimationDuration:{type:"int",defaultValue:0},fillColor:{type:"sap.m.ValueCSSColor",defaultValue:"Neutral"},animationOnStartup:{type:"boolean",defaultValue:false},animationOnChange:{type:"boolean",defaultValue:true},animationOnStartupDelay:{type:"int",defaultValue:0},fillingDirection:{type:"sap.suite.ui.commons.statusindicator.FillingDirectionType",defaultValue:a.Up},fillingType:{type:"sap.suite.ui.commons.statusindicator.FillingType",defaultValue:F.Linear},fillingAngle:{type:"int",defaultValue:undefined},verticalAlignment:{type:"sap.suite.ui.commons.statusindicator.VerticalAlignmentType",defaultValue:V.Middle},horizontalAlignment:{type:"sap.suite.ui.commons.statusindicator.HorizontalAlignmentType",defaultValue:b.Middle}}},
renderer:null
});
S.prototype.GRADIENT_ID="gradient";S.prototype.STOP_ID="stop";
S.prototype.getDisplayedValue=function(){L.fatal("Must be overridden!");};
S.prototype._setInitialValue=function(i){L.fatal("Must be overridden!");};
S.prototype._updateDom=function(d,D){L.fatal("Must be overridden!");};
S.prototype.init=function(){if(C.prototype.init){C.prototype.init.apply(this,arguments);}this._oAnimationPropertiesResolver=null;};
S.prototype.onBeforeRendering=function(){if(C.prototype.onBeforeRendering){C.prototype.onBeforeRendering.apply(this,arguments);}this._clearBoundingBox();};
S.prototype._getCssFillColor=function(){return T.resolveColor(this.getFillColor());};
S.prototype._resolveFillColor=function(){return this._oAnimationPropertiesResolver.getColor(this,this.getDisplayedValue());};
S.prototype._injectAnimationPropertiesResolver=function(A){this._oAnimationPropertiesResolver=A;};
S.prototype.getDisplayedFillColor=function(d){return this._oAnimationPropertiesResolver.getColor(this,d);};
S.prototype.getFullAnimationDuration=function(){return 250;};
S.prototype._buildPreserveAspectRatioAttribute=function(){var r="x";switch(this.getHorizontalAlignment()){case b.Left:r+="Min";break;case b.Middle:r+="Mid";break;case b.Right:r+="Max";break;}r+="Y";switch(this.getVerticalAlignment()){case V.Top:r+="Min";break;case V.Middle:r+="Mid";break;case V.Bottom:r+="Max";break;}r+=" meet";return r;};
S.prototype._getGradientElement=function(d){var g=new H(this.getFillingType()===F.Linear?"linearGradient":"radialGradient");g.setId(this._buildIdString(this.getId(),this.GRADIENT_ID));if(this.getFillingType()===F.Linear){var i=this.computeLinearFillingAngle();g.setAttribute("x1",i===90?1:0);g.setAttribute("y1",i===0?1:0);g.setAttribute("x2",i===270?1:0);g.setAttribute("y2",i===180?1:0);}var o=this._getDisplayedGradientOffset(d);var s=new H(this.STOP_ID);s.setAttribute("offset",o);s.setAttribute("stop-color","white");g.addChild(s);var e=new H(this.STOP_ID);e.setAttribute("offset",o);e.setAttribute("stop-color","transparent");g.addChild(e);return g;};
S.prototype.getPolygonElement=function(d){var p=new H("polygon");p.setId(this._buildIdString(this.getId(),"polygon"));p.setAttribute("fill","white");return p;};
S.prototype.computeLinearFillingAngle=function(){if(this.getFillingAngle()!==undefined){return this._getNormalizedFillingAngle();}switch(this.getFillingDirection()){case a.Up:return 0;case a.Down:return 180;case a.Left:return 90;case a.Right:return 270;default:q.error("Unknown FillingDirection '"+this.getFillingDirection()+"'");return 0;}};
S.prototype._useGradientForAnimation=function(){var n=this._getNormalizedFillingAngle();var f=this.getFillingType();return f===F.Radial||(f===F.Linear&&(n===undefined||q.inArray(n,[0,90,180,270])>-1));};
S.prototype._getPolygonPoints=function(v){var r;switch(this.getFillingType()){case F.Linear:r=this._getPolygonPointsForLinearFilling(v);break;case F.Circular:r=this._getPolygonPointsForCircularFilling(v);break;default:L.error("Unknown FillingType '"+this.getFillingType()+"' given.");r=this._getPolygonPointsForLinearFilling(v);}r=r.map(function(p){p.x=Number(p.x.toFixed(3));p.y=Number(p.y.toFixed(3));return p;});return r;};
S.prototype._getPolygonPointsForLinearFilling=function(v){var n=180-this._getNormalizedFillingAngle();var t=Math.tan(n*Math.PI/180);var B=this._getBoundingPoints();var s=B.start;var e=B.end;var d=s.y-(t*s.x);var f=e.y-(t*e.x);var k=d+((f-d)/100)*v;var x=s.x;var y=x*t+k;var g=s.y;var h=(g-k)/t;var r=[s,{x:x,y:y},{x:h,y:g}];return r;};
S.prototype._getPolygonPointsForCircularFilling=function(v){var t=this,A=3.6*v,B=this._getBoundingBox(),p=[];var x,y,P;var s=c(B.x+B.width/2,B.y);var o=c(B.x+B.width/2,B.y+B.height/2);function d(f){var r=q.extend({},f);if(t.getFillingDirection()===a.CounterClockwise){var X=f.x-o.x;r.x=o.x-X;}return r;}function e(A,i,f){var g=Math.tan((i-A)*Math.PI/180);return g*f/2;}p.push(s);if(0<A&&A<45){x=e(A,0,B.height);P=c(s.x-x,s.y);p.push(d(P));}if(45<=A){p.push(d(c(B.x+B.width,B.y)));}if(45<A&&A<135){y=e(A,90,B.width);P=c(B.x+B.width,B.y+B.height/2-y);p.push(d(P));}if(135<=A){p.push(d(c(B.x+B.width,B.y+B.height)));}if(135<A&&A<225){x=e(A,180,B.height);P=c(B.x+B.width/2+x,B.y+B.height);p.push(d(P));}if(225<=A){p.push(d(c(B.x,B.y+B.height)));}if(225<A&&A<315){y=e(A,270,B.width);P=c(B.x,B.y+B.height/2+y);p.push(d(P));}if(315<=A){p.push(d(c(B.x,B.y)));}if(315<A&&A<=360){x=e(A,360,B.height);P=c(B.x+B.width/2-x,B.y);p.push(d(P));}p.push(o);return p;};
S.prototype._isFillingAngleInFirstQuadrant=function(){var A=this._getNormalizedFillingAngle();return 0<A&&A<90;};
S.prototype._isFillingAngleInSecondQuadrant=function(){var A=this._getNormalizedFillingAngle();return 90<A&&A<180;};
S.prototype._isFillingAngleInThirdQuadrant=function(){var A=this._getNormalizedFillingAngle();return 180<A&&A<270;};
S.prototype._isFillingAngleInForthQuadrant=function(){var A=this._getNormalizedFillingAngle();return 270<A&&A<360;};
S.prototype._getBoundingPoints=function(){var B=this._getBoundingBox();var s=B.x+B.width;var o=B.y+B.height;var e=B.x;var E=B.y;if(this._isFillingAngleInFirstQuadrant()){}else if(this._isFillingAngleInSecondQuadrant()){s=B.x+B.width;o=B.y;e=B.x;E=B.y+B.height;}else if(this._isFillingAngleInThirdQuadrant()){s=B.x;o=B.y;e=B.x+B.width;E=B.y+B.height;}else if(this._isFillingAngleInForthQuadrant()){s=B.x;o=B.y+B.height;e=B.x+B.width;E=B.y;}else{L.error("Invalid call of _getBoundingPoints. FillingAngle '"+this.getFillingAngle()+"' is not in any quadrant");}return{start:c(s,o),end:c(e,E)};};
S.prototype._getBoundingBox=function(){if(!this._oBoundingBox){this._oBoundingBox=this.$()[0].getBBox();}return this._oBoundingBox;};
S.prototype._clearBoundingBox=function(){this._oBoundingBox=null;};
S.prototype._getNormalizedFillingAngle=function(){if(this.getFillingAngle()===undefined){return this.getFillingAngle();}var r=this.getFillingAngle()%360;if(r<0){r+=360;}return r;};
S.prototype.isFillable=function(){return this.getFillingType()!==F.None;};
S.prototype._getDisplayedGradientOffset=function(d){if(this.isFillable()){var r=d/100;return r;}else{return 1;}};
S.prototype._getMaskElement=function(m){var M=new H("mask");M.setId(m);if(this._useGradientForAnimation()){var o=this._getSimpleShapeElement(this._buildIdString(this.getId(),"mask-shape"));o.setAttribute("stroke-width",0);o.setAttribute("stroke","white");o.setAttribute("fill",this._buildSvgUrlString(this.getId(),this.GRADIENT_ID));M.addChild(o);}else{M.addChild(this.getPolygonElement(this._iDisplayedValue));}return M;};
S.prototype._buildSvgUrlString=function(){return"url(#"+this._buildIdString.apply(this,arguments)+")";};
S.prototype._buildIdString=function(){var s=q.makeArray(arguments).join("-");return s;};
function c(x,y){return{x:x,y:y};}
return S;},true);
sap.ui.predefine('sap/suite/ui/commons/statusindicator/ShapeGroup',["jquery.sap.global","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/Configuration","sap/suite/ui/commons/statusindicator/util/ProgressHandler","sap/base/Log"],function(q,C,a,b,P,L){"use strict";
var S=C.extend("sap.suite.ui.commons.statusindicator.ShapeGroup",{metadata:{library:"sap.suite.ui.commons",properties:{weight:{type:"int",defaultValue:10}},defaultAggregation:"shapes",aggregations:{shapes:{type:"sap.suite.ui.commons.statusindicator.Shape",multiple:true}}}});
S.prototype.init=function(){this._iTargetValue=0;this._oAnimationPropertiesResolver=null;this._iLastDirectValueUpdate=0;};
S.prototype.discreteThresholdsChangeHandler=function(c){var n=this._oAnimationPropertiesResolver._getGroupValue(this,c);if(n!==this._iLastDirectValueUpdate){this.getShapes().forEach(function(s){s._updateDom(n,true);});this._iLastDirectValueUpdate=n;}};
S.prototype.propertyThresholdsChangeHandler=function(n){this.getShapes().forEach(function(s){if(s.getDisplayedValue()!==0){s.getRenderer()._updateDomColor(s,n);}});};
S.prototype._injectAnimationPropertiesResolver=function(A){this._oAnimationPropertiesResolver=A;this._oAnimationPropertiesResolver.addDiscreteThresholdChange(this.discreteThresholdsChangeHandler.bind(this));this._oAnimationPropertiesResolver.addPropertyThresholdChange(this.propertyThresholdsChangeHandler.bind(this));this.getShapes().forEach(function(s){s._injectAnimationPropertiesResolver(A);});};
S.prototype.addShape=function(s){this.addAggregation("shapes",s,true);s._injectAnimationPropertiesResolver(this._oAnimationPropertiesResolver);};
S.prototype._setValue=function(v,n){var t=this;n=n||false;this._iTargetValue=v;if(!this._isAnimationAllowed()||n){this.getShapes().forEach(function(s){s._updateDom(t._iTargetValue);});return Promise.resolve();}this.getShapes().forEach(function(s){if(!s.getAnimationOnChange()){s._updateDom(t._iTargetValue);}});if(this.oCurrentProgressHandler&&this.oCurrentProgressHandler.isInProgress()){this.oCurrentProgressHandler.cancel();}this.oCurrentProgressHandler=new P(function(p){var N=performance.now();t._animationStep(N,p,N);});return this.oCurrentProgressHandler.start();};
S.prototype._animationStep=function(l,p,c){L.debug("AnimationStep at time: "+c.toString(10),null,this);c=Math.max(c,l);if(p.isCanceled()){p.stop({cancelled:true});return;}var A=true;var t=this._iTargetValue;this.getShapes().forEach(function(s){var d=s.getDisplayedValue();if(d===t){return;}var T=l+s.getFullAnimationDuration()*Math.abs(t-d)/100;var v=t;if(c<T){var D=t-d;var i=T-l;var e=(c-l)/i;v=D*e+d;A=false;}s._updateDom(v);});if(A){p.finish();}else{window.requestAnimationFrame(this._animationStep.bind(this,c,p));}};
S.prototype._showsFullProgress=function(){return!this.getShapes().some(function(s){return s.getDisplayedValue()!==100;});};
S.prototype._setInitialValue=function(i){this._iTargetValue=i;this._iLastDirectValueUpdate=i;this.getShapes().forEach(function(s){s._setInitialValue(i);});};
S.prototype._isAnimationAllowed=function(){var A=a.getConfiguration();var s=A.getAnimationMode();return s!==b.AnimationMode.none;};
return S;});
sap.ui.predefine('sap/suite/ui/commons/statusindicator/SimpleShape',["jquery.sap.global","../library","sap/ui/core/Control","sap/suite/ui/commons/statusindicator/Shape","sap/suite/ui/commons/statusindicator/util/ThemingUtil","sap/base/Log"],function(q,l,C,S,T,L){"use strict";
var a=S.extend("sap.suite.ui.commons.statusindicator.SimpleShape",{metadata:{"abstract":true,library:"sap.suite.ui.commons",properties:{strokeWidth:{type:"float",defaultValue:0.25},strokeColor:{type:"sap.m.ValueCSSColor",defaultValue:"Neutral"}}}});
a.prototype._getSimpleShapeElement=function(){L.fatal("Must be overriden!");};
a.prototype.init=function(){if(S.prototype.init){S.prototype.init.apply(this,arguments);}this._iDisplayedValue=0;this._sViewBox=null;};
a.prototype.onBeforeRendering=function(){if(S.prototype.onBeforeRendering){S.prototype.onBeforeRendering.apply(this,arguments);}this.getRenderer()._clearDomReferences(this);};
a.prototype._updateDom=function(d,D){L.debug("Updating to "+d,null,this);var r=this.getRenderer();if(!D){var n=this.getDisplayedFillColor(d);r._updateDomColor(this,n);this._oAnimationPropertiesResolver.propagateColorChange(this,d);}var R=(D)?d:this._oAnimationPropertiesResolver.getValue(this,d);if(this._useGradientForAnimation()){r._updateDomGradient(this,R);}else{r._updateDomPolygon(this,R);}if(!D){this._oAnimationPropertiesResolver.propagateValueChange(this,d);this._iDisplayedValue=d;}};
a.prototype.getDisplayedValue=function(){return this._iDisplayedValue;};
a.prototype._setInitialValue=function(i){this._iDisplayedValue=i;};
a.prototype._setStyle=function(s){this._sStyleAttribute=s;};
a.prototype._setInternalViewBox=function(v){this._sViewBox=v;};
a.prototype._getInternalViewBox=function(){return this._sViewBox;};
a.prototype._getCssStrokeColor=function(){return T.resolveColor(this.getStrokeColor());};
return a;},true);
sap.ui.predefine('sap/suite/ui/commons/statusindicator/SimpleShapeRenderer',["jquery.sap.global","../library","sap/suite/ui/commons/util/HtmlElement","sap/ui/core/Renderer"],function(q,l,H,R){"use strict";var F=l.statusindicator.FillingType;
var S=R.extend("sap.suite.ui.commons.statusindicator.SimpleShapeRenderer");
S.render=function(r,c){var m=this._getHtmlModel(c);m.getRenderer().render(r);};
S._getHtmlModel=function(c){var m=c._buildIdString(c.getId(),"mask");var s=new H("svg");s.setAttribute("xlmns","http://www.w3.org/2000/svg");var i=c._getInternalViewBox();if(i){s.setAttribute("viewBox",i);}s.setAttribute("preserveAspectRatio",c._buildPreserveAspectRatioAttribute());s.setAttribute("overflow","visible");s.addControlData(c);var d=new H("defs");if(c.getFillingType()!==F.None){if(c._useGradientForAnimation()){d.addChild(c._getGradientElement(c._iDisplayedValue));}var M=c._getMaskElement(m);d.addChild(M);s.addChild(d);}var a=c._buildIdString(c.getId(),"shape");var o=c._getSimpleShapeElement(a);o.setAttribute("fill",c._resolveFillColor());o.setAttribute("mask",c._buildSvgUrlString(m));if(c._sStyleAttribute){o.setAttribute("style",c._sStyleAttribute);}o.setAttribute("stroke-width",0);s.addChild(o);var b=c._getSimpleShapeElement(c._buildIdString(a,"border"));b.setAttribute("fill","transparent");s.addChild(b);return s;};
S._updateDomColor=function(c,n){c.$("shape").attr("fill",n);};
S._updateDomGradient=function(c,v){if(!c.$stopNodes){c.$stopNodes=c.$(c.GRADIENT_ID).find(c.STOP_ID);}c.$stopNodes.attr("offset",c._getDisplayedGradientOffset(v));};
S._updateDomPolygon=function(c,v){if(!c.$polygon){c.$polygon=c.$("polygon");}var p=c._getPolygonPoints(v).reduce(function(a,i){return a+i.x+","+i.y+" ";},"");c.$polygon.attr("points",p);};
S._clearDomReferences=function(c){c.$polygon=null;c.$stopNodes=null;};
return S;},true);
sap.ui.predefine('sap/suite/ui/commons/statusindicator/StatusIndicator',["jquery.sap.global","../library","sap/m/library","sap/ui/core/Control","sap/ui/core/Core","sap/suite/ui/commons/statusindicator/util/AnimationPropertiesResolver","sap/suite/ui/commons/statusindicator/util/ThemingUtil","sap/m/Text"],function(q,l,s,C,c,A,T,d){"use strict";var S=l.statusindicator.SizeType;var L=l.statusindicator.LabelPositionType;var V=s.ValueColor;
var f=C.extend("sap.suite.ui.commons.statusindicator.StatusIndicator",{metadata:{library:"sap.suite.ui.commons",properties:{width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},height:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},value:{type:"int",defaultValue:0},viewBox:{type:"string",defaultValue:null},ariaLabel:{type:"string",defaultValue:null},size:{type:"sap.suite.ui.commons.statusindicator.SizeType",defaultValue:S.None},labelPosition:{type:"sap.suite.ui.commons.statusindicator.LabelPositionType",defaultValue:L.Left},showLabel:{type:"boolean",defaultValue:false}},defaultAggregation:"groups",aggregations:{groups:{type:"sap.suite.ui.commons.statusindicator.ShapeGroup",multiple:true},propertyThresholds:{type:"sap.suite.ui.commons.statusindicator.PropertyThreshold",multiple:true},discreteThresholds:{type:"sap.suite.ui.commons.statusindicator.DiscreteThreshold",multiple:true},label:{type:"sap.m.Text",multiple:false}},associations:{ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"},ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"}},events:{press:{}}}});
f.prototype.init=function(){if(C.prototype.init){C.prototype.init.apply(this,arguments);}this._sortedPropertyThresholds=[];this._sortedDiscreteThresholds=[];this._bStarted=false;this._oCurrentAnimationPromise=null;this._oAnimationPropertiesResolver=new A(this);this._oDefaultLabel=null;};
f.prototype._internalIds=Object.freeze({svgNodeId:"svg"});
f.prototype.getLabel=function(){var o=this.getAggregation("label");if(o!==null){return o;}if(this._oDefaultLabel!==null){return this._oDefaultLabel;}this._oDefaultLabel=new d(this.getId()+"-label");this.addDependent(this._oDefaultLabel);return this._oDefaultLabel;};
f.prototype.addPropertyThreshold=function(t){this.addAggregation("propertyThresholds",t,true);if(this._sortedPropertyThresholds.filter(function(e){return e.getToValue()===t.getToValue();}).length>0){q.sap.log.fatal("There are two or more property thresholds with the same toValue in thresholds "+"aggregation. The last threshold from them has the highest priority");}this._sortedPropertyThresholds.push(t);this._sortedPropertyThresholds.sort(function(a,b){return a.getToValue()-b.getToValue();});};
f.prototype.addDiscreteThreshold=function(t){this.addAggregation("discreteThresholds",t,true);if(this._sortedDiscreteThresholds.filter(function(e){return e.getValue()===t.getValue();}).length>0){q.sap.log.fatal("There are two or more discrete thresholds with the same value in thresholds "+"aggregation. The last threshold from them has the highest priority");}this._sortedDiscreteThresholds.push(t);this._sortedDiscreteThresholds.sort(function(a,b){return a.getValue()-b.getValue();});};
f.prototype._discreteThresholdsEnabled=function(){return this._sortedDiscreteThresholds.length>0;};
f.prototype._getDiscreteThresholdForValue=function(v){var r=null;this._sortedDiscreteThresholds.every(function(t){if(v>=t.getValue()){r=t;return true;}return false;});return r;};
f.prototype._propertyThresholdsEnabled=function(){return this._sortedPropertyThresholds.length>0;};
f.prototype._getPropertyThresholdForValue=function(v){var r=null;this._sortedPropertyThresholds.some(function(t){if(v<=t.getToValue()){r=t;return true;}return false;});return r;};
f.prototype._getFullId=function(i){return this.getId()+"-"+i;};
f.prototype.onBeforeRendering=function(){var t=this;this.getGroups().forEach(function(g){g._injectAnimationPropertiesResolver(t._oAnimationPropertiesResolver);});};
f.prototype.onAfterRendering=function(){this._setValueToLabel(this.getValue());this._start();};
f.prototype._start=function(){this._bStarted=true;this._propagateValueToGroups();};
f.prototype._shouldInvertGroupUpdateOrder=function(g){var t;g.some(function(o,i){t=i;return o.newValue!==100;});var G;this.getGroups().some(function(o,i){G=i;return!o._showsFullProgress();});return(t<G);};
f.prototype._propagateValueToGroups=function(){var n=this.getSize()===S.Small;var g=this._computeGroupValueDistribution();var i=this._shouldInvertGroupUpdateOrder(g);if(i){g=g.reverse();}this._updateAccessibilityDOM();this._oCurrentAnimationPromise=g.reduce(function(a,G){return a.then(function(r){if(r&&r.cancelled){q.sap.log.debug("Group animation cancelled.");return r;}else{return G.group._setValue(G.newValue,n);}});},Promise.resolve());return this._oCurrentAnimationPromise;};
f.prototype._computeGroupValueDistribution=function(){var v=this.getValue();var t=this._getTotalWeight();return this.getGroups().map(function(g){var G=g.getWeight()/t;var n;if(v===0){n=0;}else if(v>=100*G){n=100;}else{n=Math.round(v/G);}v-=Math.round(n*G);return{group:g,newValue:n};});};
f.prototype.setValue=function(v){v=Math.round(v);if(v>100){v=100;}if(v<0){v=0;}this.setProperty("value",v,true);this._setValueToLabel(v);if(this._bStarted){this._propagateValueToGroups();}return this;};
f.prototype._setValueToLabel=function(v){var o=this.getLabel();var a;o.setText(Math.floor(v)+"%");a=T.resolveColor(V.Neutral);if(this._propertyThresholdsEnabled()){var p=this._getPropertyThresholdForValue(v);if(p){a=p._getCssFillColor();}}var $=o.$();if($){$.css("color",a);}};
f.prototype._getTotalWeight=function(){return this.getGroups().reduce(function(a,g){return a+g.getWeight();},0);};
f.prototype.ontap=f.prototype.firePress;f.prototype.onsapenter=f.prototype.firePress;f.prototype.onsapspace=f.prototype.firePress;
f.prototype._getGroupShapes=function(){return this.getGroups().reduce(function(a,g){return a.concat(g.getShapes());},[]);};
f.prototype._updateAccessibilityDOM=function(){var v=this.getValue();this.$().attr("aria-valuenow",v);this.$().attr("aria-valuetext",this._createValueTextMessage(v));};
f.prototype._createValueTextMessage=function(v){var D=null;var a=null;var p=null;var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");if(this._discreteThresholdsEnabled()){var o=this._getDiscreteThresholdForValue(v);if(o){D=o.getAriaLabel();a=true;}else{D=this._sortedDiscreteThresholds[0].getAriaLabel();a=false;}}if(this._propertyThresholdsEnabled()){var P=this._getPropertyThresholdForValue(v);if(P){p=P.getAriaLabel();}}var b;if(D){if(p){if(a){b=r.getText("STATUS_INDICATOR_VALUE_ABOVE_THRESHOLD_COLOR",[v,D,p]);}else{b=r.getText("STATUS_INDICATOR_VALUE_BELOW_THRESHOLD_COLOR",[v,D,p]);}}else{if(a){b=r.getText("STATUS_INDICATOR_VALUE_ABOVE_THRESHOLD",[v,D]);}else{b=r.getText("STATUS_INDICATOR_VALUE_BELOW_THRESHOLD",[v,D]);}}}else if(p){b=r.getText("STATUS_INDICATOR_VALUE_COLOR",[v,p]);}else{b=r.getText("STATUS_INDICATOR_VALUE",[v]);}return b;};
return f;},true);
sap.ui.predefine('sap/suite/ui/commons/statusindicator/StatusIndicatorRenderer',["../library","sap/ui/core/library","jquery.sap.global","sap/suite/ui/commons/util/HtmlElement","sap/ui/core/Renderer","sap/base/Log"],function(l,c,q,H,R,L){"use strict";var s=l.statusindicator.SizeType;var o=l.statusindicator.LabelPositionType;var t=c.TextAlign;var r=sap.ui.getCore().getLibraryResourceBundle("sap.suite.ui.commons");
function g(b,p){var d;p=typeof p==="string"?p:"";switch(b.getSize()){case s.Small:d="sapSuiteUiCommonsStatusIndicatorSmall";break;case s.Medium:d="sapSuiteUiCommonsStatusIndicatorMedium";break;case s.Large:d="sapSuiteUiCommonsStatusIndicatorLarge";break;case s.ExtraLarge:d="sapSuiteUiCommonsStatusIndicatorExtraLarge";break;case s.None:break;default:L.error("Unknown size. Expecting size defined in sap.suite.ui.commons.statusindicator.SizeType,"+" but '"+b.getSize()+"' given.");d="sapSuiteUiCommonsStatusIndicatorSmall";}return d+p;}
function a(b){var p=b.getLabelPosition();var d=b.getSize();return"sapSuiteUiCommonsStatusIndicator"+d+p+"Label";}
var S=R.extend("sap.suite.ui.commons.StatusIndicatorRenderer");
S.render=function(b,C){var m=this._getHtmlModel(C);m.getRenderer().render(b);};
S._getHtmlModel=function(b){var d=b.getLabelPosition();var i=d===o.Left||d===o.Right,I=d===o.Left||d===o.Top;var e=new H("div");e.addControlData(b);e.addClass("sapSuiteUiCommonsStatusIndicator");e.setAttribute("role","progressbar");e.setAttribute("aria-roledescription",r.getText("STATUS_INDICATOR_ARIA_ROLE_DESCRIPTION"));e.setAttribute("aria-readonly",true);var A=b.getAriaLabel();e.setAttribute("aria-label",A?A:r.getText("STATUS_INDICATOR_ARIA_LABEL"),true);var f=b.getAriaLabelledBy();if(f&&f.length>0){e.setAttribute("aria-labelledby",f.join(" "),true);}var h=b.getAriaDescribedBy();if(h&&h.length>0){e.setAttribute("aria-describedby",h.join(" "),true);}e.setAttribute("tabindex","0");e.setAttribute("aria-valuemin",0);e.setAttribute("aria-valuemax",100);if(i){e.addClass("sapSuiteUiCommonsStatusIndicatorHorizontal");}else{e.addClass("sapSuiteUiCommonsStatusIndicatorVertical");}if(b.getShowLabel()){var j=new H("div");if(I){j.addClass("sapSuiteUiCommonsStatusIndicatorLabelBeforeSvg");}else{j.addClass("sapSuiteUiCommonsStatusIndicatorLabelAfterSvg");}var k=b.getLabel();k.addStyleClass("sapSuiteUiCommonsStatusIndicatorLabel");k.addStyleClass(g(b,"Label"));k.addStyleClass(a(b));k.setTextAlign(i?t.Left:t.Center);j.addChild(k);e.addChild(j);}var m=new H("div");m.setAttribute("focusable",false);m.addClass("sapSuiteUiCommonsStatusIndicatorSvg");m.addClass(g(b,"Svg"));m.addStyle("width",b.getWidth());m.addStyle("height",b.getHeight());m.addChild(this._getSvgElement(b));e.addChild(m);return e;};
S._getSvgElement=function(b){var d=new H("svg");d.setId(b._getFullId(b._internalIds.svgNodeId));d.setAttribute("version","1.1");d.setAttribute("xlmns","http://www.w3.org/2000/svg");d.setAttribute("preserveAspectRatio","xMidYMid meet");d.addStyle("width","100%");d.addStyle("height","100%");d.setAttribute("focusable",false);if(b.getViewBox()){d.setAttribute("viewBox",b.getViewBox(),true);}b._getGroupShapes().forEach(function(e){d.addChild(e);});return d;};
return S;},true);
sap.ui.predefine('sap/suite/ui/commons/statusindicator/shapes/ShapeFactory',["sap/ui/base/Object","jquery.sap.global"],function(B,q){"use strict";var l={};
var S=B.extend("sap.suite.ui.commons.statusindicator.shapes.ShapeFactory");
S.prototype.getShapeById=function(i){var l=this._getLoadedShapes(),s=l[i]||null;if(!s){return new Promise(function(r,a){q.ajax({url:sap.ui.require.toUrl("sap/suite/ui/commons/statusindicator/shapes/"+i+".svg"),dataType:"text"}).done(function(d){l[i]=d;r(d);}).fail(function(e){a(e);});});}return Promise.resolve(s);};
S.prototype._getLoadedShapes=function(){return l;};
S.prototype._removeAllLoadedShapes=function(){l={};};
return S;});
sap.ui.predefine('sap/suite/ui/commons/taccount/TAccountPanelRenderer',["sap/ui/core/Renderer","sap/m/PanelRenderer"],function(R,P){"use strict";var T=R.extend(P),b;
T.renderContent=function(r,c){b=c;P.renderContent.apply(this,[r,c]);};
T.renderChildren=function(r,c){var i=b&&b.getId();if(b){var t=b.getTable();if(t){r.write("<div id=\""+i+"-table\" class=\"sapSuiteUiCommonsAccountPanelTable\">");r.renderControl(t);r.write("</div>");}}r.write("<div id=\""+i+"-datacontent\" class=\"sapSuiteUiCommonsAccountPanelContent\">");c.forEach(r.renderControl);r.write("</div>");var o=b&&b.getShowOverlay()?"sapSuiteUiCommonsAccountPanelOverlayVisible":"";r.write("<div id=\""+i+"-overlay\" class=\"sapSuiteUiCommonsAccountPanelOverlay "+o+" \">");r.write("</div>");};
return T;},true);
sap.ui.predefine('sap/suite/ui/commons/taccount/TAccountUtils',["sap/ui/core/format/NumberFormat","sap/ui/core/Core"],function(N,C){"use strict";var T={};T._oCurrencyFormatter=null;
T.formatCurrency=function(v,c){return T._getCurrencyFormatter().format(v,c)||"";};
T._getCurrencyFormatter=function(){if(!T._oCurrencyFormatter){T._oCurrencyFormatter=N.getCurrencyInstance({showMeasure:false,minFractionDigits:0},C.getConfiguration().getLocale());}return T._oCurrencyFormatter;};
return T;},true);
sap.ui.predefine('sap/suite/ui/commons/util/HtmlElement',["jquery.sap.global","sap/ui/base/Object","sap/ui/core/Control","./HtmlElementRenderer","sap/base/assert","sap/base/Log"],function(q,B,C,H,a,L){"use strict";
var b=B.extend("sap.suite.ui.commons.util.HtmlElement",{constructor:function(n){B.apply(this,arguments);a(typeof n==="string","Element name must be a string.");this._sName=n;this._mAttributes={};this._aChildren=[];}});
b.prototype.getRenderer=function(){return new H(this);};
b.prototype.setId=function(i,A){a(typeof i==="string","Id must by a string.");this.setAttribute("id",i);if(A){this.setAttribute("data-sap-ui",i);}};
b.prototype.setAttribute=function(k,v,e){a(typeof k==="string","Key must by a string.");a(typeof v==="string"||typeof v==="number"||typeof v==="boolean","Value must be a string, number or boolean");var V=String(v);if(e){V=q.sap.encodeHTML(V);}if(k in this._mAttributes){L.warning("Replacing an already existing attribute.","Attribute key = "+k+", old value = "+this._mAttributes[k]+", new value = "+V,this);}this._mAttributes[k]=V;};
b.prototype.addClass=function(c){a(typeof c==="string","Class must be a string.");if(!this._mAttributes.class){this._mAttributes.class=[];}else{a(q.isArray(this._mAttributes.class),"Cannot add class to customly added classes.");}this._mAttributes.class.push(c);};
b.prototype.addStyle=function(n,v){a(typeof n==="string","Name must be a string.");a(typeof v==="string"||typeof v==="number","Value must be a string or a number.");if(!this._mAttributes.style){this._mAttributes.style=[];}else{a(q.isArray(this._mAttributes.style),"Cannot add style to customly added styles.");}this._mAttributes.style.push(n+":"+v);};
b.prototype.addControlData=function(c){a(c instanceof C,"Control must be a sapui5 control.");this.setId(c.getId(),true);var t=this;c.getCustomData().forEach(function(d){var o=d._checkWriteToDom(c);if(o){t.setAttribute(o.key,o.value,true);}});if(c.aCustomStyleClasses&&c.aCustomStyleClasses.length>0){c.aCustomStyleClasses.forEach(function(d){t.addClass(q.sap.encodeHTML(d));});}};
b.prototype.addChild=function(c){a(typeof c==="string"||c instanceof b||c instanceof C,"Child must be a string, HtmlElement or a Control.");this._aChildren.push(c);};
b.prototype.addChildEscaped=function(t,c){a(typeof t==="string","sText must be a string");t=q.sap.encodeHTML(t);if(c){t=t.replace(/&#xa;/g,"<br>");}this._aChildren.push(t);};
return b;});
sap.ui.predefine('sap/suite/ui/commons/util/HtmlElementRenderer',["jquery.sap.global","sap/ui/base/Object","sap/ui/core/Control","sap/base/Log"],function(q,B,C,L){"use strict";var H;
var a=B.extend("sap.suite.ui.commons.util.HtmlElementRenderer",{constructor:function(h){B.apply(this,arguments);this._oHtmlElement=h;}});
a.prototype.render=function(r){r.write("<");r.writeEscaped(this._oHtmlElement._sName);this._renderAttributes(r);r.write(">");if(this._oHtmlElement._aChildren.length>0){this._renderChildren(r);}r.write("</");r.writeEscaped(this._oHtmlElement._sName);r.write(">");};
a.prototype._renderAttributes=function(r){var b=this._oHtmlElement._mAttributes;for(var c in b){if(!b.hasOwnProperty(c)){continue;}var v=b[c];if(q.isArray(v)){var j="";if(c==="class"){j=" ";}else if(c==="style"){j=";";}v=v.join(j);}r.write(" ");r.write(c);r.write("=\"");r.write(v);r.write("\"");}};
a.prototype._renderChildren=function(r){if(typeof H==="undefined"){H=sap.ui.require("sap/suite/ui/commons/util/HtmlElement");}this._oHtmlElement._aChildren.forEach(function(c){if(typeof c==="string"){r.write(c);}else if(H&&c instanceof H){c.getRenderer().render(r);}else if(c instanceof C){r.renderControl(c);}else{L.error(typeof c+" cannot be a child of a HTML element. Skipping rendering for this child.");}});};
return a;});
sap.ui.predefine('sap/suite/ui/commons/util/ManagedObjectRegister',["jquery.sap.global","sap/ui/base/Object","sap/ui/base/ManagedObject","sap/base/assert","sap/base/Log"],function(q,B,M,a,L){"use strict";
var b=B.extend("sap.suite.ui.commons.util.ManagedObjectRegister",{constructor:function(){B.apply(this,arguments);this._mRegister={};}});
b.prototype.register=function(k,f){a(typeof k==="string","Key must be a string.");k=k[0].toUpperCase()+k.substr(1);var g="get"+k;if(typeof this._mRegister[k]!=="undefined"){this.destroyObject(k);}if(typeof f==="function"){this._mRegister[k]={fFactory:f,oValue:undefined};}else if(f instanceof M){this._mRegister[k]={fFactory:undefined,oValue:f};}else{L.error("oFactoryFunction must be either a factory function or a managed object.");return;}if(g!=="getObject"){this[g]=function(){return this.getObject(k);};}};
b.prototype.getObject=function(k){var r;k=k||"Object";r=this._mRegister[k];if(r){if(typeof r.oValue==="undefined"){r.oValue=r.fFactory(k);a(r.oValue instanceof M,"Factory class must return a managed object.");}return r.oValue;}return null;};
b.prototype.isObjectInitialized=function(k){var r;r=this._mRegister[k];return(r&&typeof r.oValue!=="undefined");};
b.prototype.destroyObject=function(k){var r;a(typeof k==="string","Key must be a string.");r=this._mRegister[k];if(r){if(r.oValue){r.oValue.destroy();}if(k!=="Object"){delete this["get"+k];}delete this._mRegister[k];}};
b.prototype.destroyAll=function(){var k,r;for(k in this._mRegister){r=this._mRegister[k];if(r.oValue){r.oValue.destroy();}if(k!=="Object"){delete this["get"+k];}}this._mRegister={};};
return b;});
sap.ui.predefine('sap/suite/ui/commons/util/RenderUtils',['jquery.sap.global','sap/ui/base/Object'],function(q,B){"use strict";var R=function(r){this._rm=r;};R.prototype=q.sap.newObject(B.prototype);
R.prototype._getRenderManager=function(){if(!this._rm){throw new Error("Render manager not defined");}return this._rm;};
R.prototype.writeOpeningTag=function(t,T){T=T||{};var r=this._getRenderManager();var a;r.write("<");r.writeEscaped(t);if(T.classes){for(var i=0;i<T.classes.length;i++){r.addClass(q.sap.encodeHTML(T.classes[i]));}r.writeClasses();}if(T.attributes){for(a in T.attributes){r.writeAttribute(a,T.attributes[a]);}}if(T.escapedAttributes){for(a in T.escapedAttributes){r.writeAttributeEscaped(a,T.escapedAttributes[a]);}}r.write(">");};
R.prototype.writeClosingTag=function(t){var r=this._getRenderManager();r.write("</");r.writeEscaped(t);r.write(">");};
return R;},true);
sap.ui.predefine('sap/suite/ui/commons/util/StringSliderTooltip',["sap/m/SliderTooltipBase"],function(S){"use strict";
var a=S.extend("sap.suite.ui.commons.util.StringSliderTooltip",{
metadata:{library:"sap.suite.ui.commons.util",properties:{mapFunction:{type:"any",group:"Misc"},fetchValue2:{type:"boolean",group:"Misc",defaultValue:false}}},
renderer:function(r,c){var v=c.getStringValue();if(!v){return;}r.write("<div");r.writeControlData(c);r.addClass("sapMSliderTooltip");r.addClass("sapSuiteUiCommonsStringSliderTooltip");r.writeClasses(c);r.write(">");r.writeEscaped(v);r.write("</div>");}
});
a.prototype.getStringValue=function(){var p=this.getParent();if(!p){return null;}var v=this.getFetchValue2()?p.getValue2():p.getValue();var m=this.getMapFunction()||String;return m(v);};
a.prototype.sliderValueChanged=function(v){var m=this.getMapFunction()||String,V=m(v);this.$().text(V);};
return a;});
sap.ui.require.preload({
	"sap/suite/ui/commons/manifest.json":'{"_version":"1.9.0","sap.app":{"id":"sap.suite.ui.commons","type":"library","embeds":[],"applicationVersion":{"version":"1.60.12"},"title":"SAP UI library: sap.suite.ui.commons","description":"SAP UI library: sap.suite.ui.commons","ach":"CA-UI5-SC","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_belize","sap_belize_hcb","sap_belize_hcw","sap_belize_plus","sap_bluecrystal","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.60","libs":{"sap.ui.core":{"minVersion":"1.60.0"},"sap.m":{"minVersion":"1.60.0"},"sap.suite.ui.microchart":{"minVersion":"1.60.0","lazy":true},"sap.ui.ux3":{"minVersion":"1.60.0","lazy":true},"sap.ui.comp":{"minVersion":"1.60.0","lazy":true},"sap.viz":{"minVersion":"1.60.0","lazy":true},"sap.ui.commons":{"minVersion":"1.60.0","lazy":true}}},"library":{"i18n":"messagebundle.properties","content":{"controls":["sap.suite.ui.commons.BulletChart","sap.suite.ui.commons.BusinessCard","sap.suite.ui.commons.CalculationBuilder","sap.suite.ui.commons.CalculationBuilderExpression","sap.suite.ui.commons.CalculationBuilderFunction","sap.suite.ui.commons.CalculationBuilderInput","sap.suite.ui.commons.CalculationBuilderItem","sap.suite.ui.commons.CalculationBuilderValidationResult","sap.suite.ui.commons.CalculationBuilderVariable","sap.suite.ui.commons.ChartContainer","sap.suite.ui.commons.ChartContainerContent","sap.suite.ui.commons.ChartContainerToolbarPlaceholder","sap.suite.ui.commons.ChartTile","sap.suite.ui.commons.ColumnMicroChart","sap.suite.ui.commons.ComparisonChart","sap.suite.ui.commons.DateRangeScroller","sap.suite.ui.commons.DateRangeSlider","sap.suite.ui.commons.DateRangeSliderInternal","sap.suite.ui.commons.DeltaMicroChart","sap.suite.ui.commons.DynamicContainer","sap.suite.ui.commons.FacetOverview","sap.suite.ui.commons.FeedItemHeader","sap.suite.ui.commons.FeedTile","sap.suite.ui.commons.GenericTile","sap.suite.ui.commons.GenericTile2X2","sap.suite.ui.commons.HarveyBallMicroChart","sap.suite.ui.commons.HeaderCell","sap.suite.ui.commons.HeaderContainer","sap.suite.ui.commons.InfoTile","sap.suite.ui.commons.JamContent","sap.suite.ui.commons.KpiTile","sap.suite.ui.commons.LaunchTile","sap.suite.ui.commons.LinkActionSheet","sap.suite.ui.commons.MicroAreaChart","sap.suite.ui.commons.MonitoringContent","sap.suite.ui.commons.MonitoringTile","sap.suite.ui.commons.networkgraph.Graph","sap.suite.ui.commons.networkgraph.Node","sap.suite.ui.commons.NewsContent","sap.suite.ui.commons.NoteTaker","sap.suite.ui.commons.NoteTakerCard","sap.suite.ui.commons.NoteTakerFeeder","sap.suite.ui.commons.NumericContent","sap.suite.ui.commons.NumericTile","sap.suite.ui.commons.PictureZoomIn","sap.suite.ui.commons.ProcessFlow","sap.suite.ui.commons.ProcessFlowConnection","sap.suite.ui.commons.ProcessFlowConnectionLabel","sap.suite.ui.commons.ProcessFlowLaneHeader","sap.suite.ui.commons.ProcessFlowNode","sap.suite.ui.commons.RepeaterViewConfiguration","sap.suite.ui.commons.SplitButton","sap.suite.ui.commons.statusindicator.StatusIndicator","sap.suite.ui.commons.statusindicator.ShapeGroup","sap.suite.ui.commons.statusindicator.Shape","sap.suite.ui.commons.statusindicator.Rectangle","sap.suite.ui.commons.statusindicator.Circle","sap.suite.ui.commons.statusindicator.CustomShape","sap.suite.ui.commons.statusindicator.PropertyThreshold","sap.suite.ui.commons.statusindicator.DiscreteThreshold","sap.suite.ui.commons.statusindicator.LibraryShape","sap.suite.ui.commons.taccount.TAccount","sap.suite.ui.commons.TargetFilter","sap.suite.ui.commons.ThingCollection","sap.suite.ui.commons.ThreePanelThingInspector","sap.suite.ui.commons.ThreePanelThingViewer","sap.suite.ui.commons.taccount.TAccount","sap.suite.ui.commons.TileContent","sap.suite.ui.commons.TileContent2X2","sap.suite.ui.commons.Timeline","sap.suite.ui.commons.TimelineFilterListItem","sap.suite.ui.commons.TimelineItem","sap.suite.ui.commons.UnifiedThingGroup","sap.suite.ui.commons.UnifiedThingInspector","sap.suite.ui.commons.VerticalNavigationBar","sap.suite.ui.commons.ViewRepeater"],"elements":["sap.suite.ui.commons.BulletChartData","sap.suite.ui.commons.ColumnData","sap.suite.ui.commons.ColumnMicroChartLabel","sap.suite.ui.commons.ComparisonData","sap.suite.ui.commons.CountingNavigationItem","sap.suite.ui.commons.FeedItem","sap.suite.ui.commons.HarveyBallMicroChartItem","sap.suite.ui.commons.HeaderCellItem","sap.suite.ui.commons.MicroAreaChartItem","sap.suite.ui.commons.MicroAreaChartLabel","sap.suite.ui.commons.MicroAreaChartPoint","sap.suite.ui.commons.TargetFilterColumn","sap.suite.ui.commons.TargetFilterMeasureColumn"],"types":["sap.suite.ui.commons.BulletChartMode","sap.suite.ui.commons.CalculationBuilderComparisonOperatorType","sap.suite.ui.commons.CalculationBuilderFunctionType","sap.suite.ui.commons.CalculationBuilderItemType","sap.suite.ui.commons.CalculationBuilderLayoutType","sap.suite.ui.commons.CalculationBuilderLogicalOperatorType","sap.suite.ui.commons.CalculationBuilderOperatorType","sap.suite.ui.commons.CalculationBuilderValidationType","sap.suite.ui.commons.CommonBackground","sap.suite.ui.commons.ComparisonChartView","sap.suite.ui.commons.DeviationIndicator","sap.suite.ui.commons.FacetOverviewHeight","sap.suite.ui.commons.FrameType","sap.suite.ui.commons.HeaderContainerView","sap.suite.ui.commons.InfoTileSize","sap.suite.ui.commons.InfoTileTextColor","sap.suite.ui.commons.InfoTileValueColor","sap.suite.ui.commons.LoadState","sap.suite.ui.commons.MicroAreaChartView","sap.suite.ui.commons.MicroProcessFlowRenderType","sap.suite.ui.commons.networkgraph.ActionButtonPosition","sap.suite.ui.commons.networkgraph.BackgroundColor","sap.suite.ui.commons.networkgraph.ElementStatus","sap.suite.ui.commons.networkgraph.LayoutAlgorithmType","sap.suite.ui.commons.networkgraph.LayoutRenderType","sap.suite.ui.commons.networkgraph.LineArrowOrientation","sap.suite.ui.commons.networkgraph.LineArrowPosition","sap.suite.ui.commons.networkgraph.LineType","sap.suite.ui.commons.networkgraph.HeaderCheckboxState","sap.suite.ui.commons.networkgraph.NodePlacement","sap.suite.ui.commons.networkgraph.NodeShape","sap.suite.ui.commons.networkgraph.NodeSize","sap.suite.ui.commons.networkgraph.Orientation","sap.suite.ui.commons.networkgraph.RenderType","sap.suite.ui.commons.ProcessFlowConnectionLabelState","sap.suite.ui.commons.ProcessFlowConnectionState","sap.suite.ui.commons.ProcessFlowConnectionType","sap.suite.ui.commons.ProcessFlowDisplayState","sap.suite.ui.commons.ProcessFlowLaneState","sap.suite.ui.commons.ProcessFlowNodeState","sap.suite.ui.commons.ProcessFlowNodeType","sap.suite.ui.commons.ProcessFlowZoomLevel","sap.suite.ui.commons.SelectionState","sap.suite.ui.commons.statusindicator.FillingType","sap.suite.ui.commons.statusindicator.FillingDirectionType","sap.suite.ui.commons.taccount.TAccountPanelState","sap.suite.ui.commons.ThingGroupDesign","sap.suite.ui.commons.TimelineAlignment","sap.suite.ui.commons.TimelineAxisOrientation","sap.suite.ui.commons.TimelineFilterType","sap.suite.ui.commons.TimelineGroupType","sap.suite.ui.commons.TimelineScrollingFadeout","sap.suite.ui.commons.ValueStatus"],"interfaces":[]}}}}'
},"sap/suite/ui/commons/library-preload"
);
//# sourceMappingURL=library-preload.js.map