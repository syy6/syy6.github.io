/*!
 * 
		SAP UI development toolkit for HTML5 (SAPUI5)
		(c) Copyright 2009-2015 SAP SE. All rights reserved
	
 */
sap.ui.define(['jquery.sap.global','sap/ui/core/Control','sap/ui/base/Event','sap/m/SelectionDetails','sap/m/SelectionDetailsItem','sap/m/SelectionDetailsItemLine','sap/suite/ui/commons/ChartContainer'],function(q,C,E,S,a,b,c){"use strict";var d=C.extend("sap.suite.ui.commons.ChartContainerContent",{metadata:{library:"sap.suite.ui.commons",properties:{icon:{type:"string",group:"Misc",defaultValue:null},title:{type:"string",group:"Misc",defaultValue:null}},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}}}});d.prototype.init=function(){this._oSelectionDetails=new S();this._oSelectionDetails.registerSelectionDetailsItemFactory(d._selectionDetailsItemFactory);};d.prototype.onBeforeRendering=function(){var p=this.getParent(),o;this._oSelectionDetails.detachSelectionHandler("_selectionDetails");o=this.getContent();if(o&&o.getMetadata().getName()==="sap.viz.ui5.controls.VizFrame"){this._oSelectionDetails.attachSelectionHandler("_selectionDetails",o);}if(p instanceof c){this._oSelectionDetails.setWrapLabels(p.getWrapLabels());}};d.prototype.exit=function(){if(this._oSelectionDetails){this._oSelectionDetails.destroy();this._oSelectionDetails=null;}};d.prototype.getSelectionDetails=function(){d._addEventMapping(this._oSelectionDetails);return this._oSelectionDetails.getFacade();};d.prototype._getSelectionDetails=function(){var o=this.getContent();if(o&&o.getMetadata().getName()==="sap.viz.ui5.controls.VizFrame"){return this._oSelectionDetails;}};d._selectionDetailsItemFactory=function(e,f,g,h,s){s=s||"";var l=[],L,I=typeof s==="string";for(var i=0;i<e.length;i++){L=new b({label:e[i].label,value:e[i].value,unit:e[i].unit});if(!I){L.setLineMarker(s[e[i].id]);}else if(i===0){L.setLineMarker(s);}l.push(L);}return new a({lines:l});};d._aProxyEvent=["beforeOpen","beforeClose","navigate","actionPress"];d._addEventMapping=function(s){var A=s.attachEvent;s.attachEvent=function(e,f,g,l){if(d._aProxyEvent.indexOf(e)===-1){A.apply(this,arguments);return;}else if(q.type(f)==="function"){l=g;g=f;f=null;}A.apply(s,[e,f,p,l||s.getFacade()]);function p(i){var o=new E(e,i.oSource,i.mParameters);o.getSource=s.getFacade;if(e==="actionPress"){i.getParameters().items=h(i);}else if(e==="navigate"){i.getParameters().item=i.getParameter("item").getFacade();}g.call(l||s.getFacade(),o,f);}function h(j){var I=j.getParameter("items"),k=[];for(var i=0;i<I.length;i++){k.push(I[i].getFacade());}return k;}};};return d;});
