/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/core/Renderer','./ListBaseRenderer','./ColumnListItemRenderer','sap/m/library',"sap/base/security/encodeXML"],function(R,L,C,l,e){"use strict";var a=l.ListKeyboardMode;var T=R.extend(L);T.renderColumns=function(r,t,b){var i=0,h=0,c=false,d=false,m=t.getMode(),M=L.ModeOrder[m],f="sapMListTbl",g=t.getId("tbl"),j=(b=="Head")?"th":"td",k="t"+b.toLowerCase(),n=t.getColumns(),A=b=="Head"&&t.bActiveHeaders,o=(b=="Head")&&n.every(function(s){return!s.getHeader()||!s.getHeader().getVisible()||!s.getVisible()||s.isPopin()||s.isHidden();}),p=(b=="Head")&&n.filter(function(s){return s.getVisible()&&!s.isPopin()&&!s.isHidden();}).length==1,q=function(s,u,v){r.write("<");r.write(j);if(j==="th"){r.addClass("sapMTableTH");}v&&r.writeAttribute("aria-hidden","true");u&&r.writeAttribute("id",g+u);r.addClass(f+s);r.writeClasses();r.write("></");r.write(j);r.write(">");i++;};r.write("<"+k+">");r.write("<tr");r.writeAttribute("tabindex",-1);r.writeAttribute("id",t.addNavSection(g+b+"er"));if(o){r.addClass("sapMListTblHeaderNone");}else{r.addClass("sapMListTblRow sapMLIBFocusable sapMListTbl"+b+"er");C.addLegacyOutlineClass.call(C,r);}r.writeClasses();r.write(">");q("HighlightCol",b+"Highlight",!t._iItemNeedsHighlight);if(M==-1){if(m=="MultiSelect"&&b=="Head"&&!o){r.write("<th");r.addClass("sapMTableTH");r.writeAttribute("aria-hidden","true");r.addClass(f+"SelCol");r.writeClasses();r.write(">");r.renderControl(t._getSelectAllCheckbox());r.write("</th>");i++;}else{q("SelCol","",true);}}n.forEach(function(s,u){s.setIndex(-1);s.setInitialOrder(u);});t.getColumns(true).forEach(function(s,u){if(!s.getVisible()){return;}if(s.isPopin()){c=true;return;}if(s.isHidden()){h++;}var v=s["get"+b+"er"](),w=p?"":s.getWidth(),x=s.getStyleClass(true),y=s.getCssAlign();r.write("<"+j);x&&r.addClass(e(x));if(b=="Head"){r.writeElementData(s);r.addClass("sapMTableTH");if(A||(v&&v.isA("sap.m.ColumnHeader"))){r.addClass(f+"CellCH");}}r.addClass(f+"Cell");r.addClass(f+b+"erCell");r.writeAttribute("data-sap-width",s.getWidth());w&&r.addStyle("width",w);if(y){r.addStyle("text-align",y);}r.writeClasses();r.writeStyles();r.write(">");if(v){if(A){r.write("<div tabindex='0' role='button' aria-haspopup='dialog' class='sapMColumnHeader sapMColumnHeaderActive'>");v.addStyleClass("sapMColumnHeaderContent");}r.renderControl(v);if(A){r.write("</div>");}}if(b=="Head"&&!d){d=!!s.getFooter();}r.write("</"+j+">");s.setIndex(i++);});q("NavCol",b+"Nav",!t._iItemNeedsColumn);if(M==1){q("SelCol","",true);}r.write("</tr></"+k+">");if(b=="Head"){t._hasPopin=c;t._colCount=i-h;t._hasFooter=d;t._headerHidden=o;}};T.renderContainerAttributes=function(r,c){r.addClass("sapMListTblCnt");L.renderContainerAttributes.apply(this,arguments);};T.renderListStartAttributes=function(r,c){r.write("<table");r.addClass("sapMListTbl");if(c.getFixedLayout()===false){r.addStyle("table-layout","auto");}if(c._iItemNeedsColumn){r.addClass("sapMListTblHasNav");}};T.getAriaRole=function(c){return"";};T.renderListHeadAttributes=function(r,c){this.renderColumns(r,c,"Head");r.write("<tbody");r.addClass("sapMListItems");r.addClass("sapMTableTBody");r.writeAttribute("id",c.addNavSection(c.getId("tblBody")));if(c.getAlternateRowColors()){r.addClass(c._getAlternateRowColorsClass());}r.writeClasses();r.write(">");};T.renderListEndAttributes=function(r,c){r.write("</tbody>");c._hasFooter&&this.renderColumns(r,c,"Foot");r.write("</table>");};T.renderNoData=function(r,c){r.write("<tr");r.writeAttribute("tabindex",c.getKeyboardMode()==a.Navigation?-1:0);r.writeAttribute("id",c.getId("nodata"));r.addClass("sapMLIB sapMListTblRow sapMLIBTypeInactive");C.addFocusableClasses.call(C,r);if(!c._headerHidden||(!c.getHeaderText()&&!c.getHeaderToolbar())){r.addClass("sapMLIBShowSeparator");}r.writeClasses();r.write(">");r.write("<td");r.writeAttribute("id",c.getId("nodata-text"));r.writeAttribute("colspan",c.getColCount());r.addClass("sapMListTblCell sapMListTblCellNoData");r.writeClasses();r.write(">");r.writeEscaped(c.getNoDataText(true));r.write("</td>");r.write("</tr>");};return T;},true);
