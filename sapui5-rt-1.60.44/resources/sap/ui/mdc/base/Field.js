/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2018 SAP SE. All rights reserved
	
 */
sap.ui.define(['sap/ui/mdc/library','sap/ui/base/ManagedObjectObserver','./FieldBase','./FieldBaseRenderer'],function(l,M,F,a){"use strict";var b=F.extend("sap.ui.mdc.base.Field",{metadata:{library:"sap.ui.mdc",properties:{value:{type:"any",defaultValue:null},additionalValue:{type:"any",defaultValue:null}},events:{change:{parameters:{value:{type:"string"},valid:{type:"boolean"}}}},defaultProperty:"value"},renderer:a});b.prototype.init=function(){F.prototype.init.apply(this,arguments);this.setMaxConditions(1);this.setProperty("_onlyEEQ",true,true);this._oObserver.observe(this,{properties:["value","additionalValue","fieldPath"]});};b.prototype.exit=function(){F.prototype.exit.apply(this,arguments);};b.prototype.bindProperty=function(n,B){F.prototype.bindProperty.apply(this,arguments);if(n==="value"&&B.type){this._oDataType=B.type;}};b.prototype.setMaxConditions=function(m){if(m!==1){throw new Error("Only one condition allowed for Field "+this);}return this.setProperty("maxConditions",m,true);};b.prototype._observeChanges=function(c){F.prototype._observeChanges.apply(this,arguments);var C;var o;var v;if(c.name==="value"){var B=this.getBinding("value");var A=this.getAdditionalValue();if(B&&!B.isA("sap.ui.model.CompositeBinding")&&B.getValue){v=B.getValue();}else{v=c.current;}if(A){o=this._createItemCondition(v,A);}else{o=this._createItemCondition(v);}this.setConditions([o]);}if(c.name==="additionalValue"){v=this.getValue();if(v||v===0){if(c.current){o=this._createItemCondition(v,c.current);}else{o=this._createItemCondition(v);}this.setConditions([o]);}}if(c.name==="fieldPath"){C=this.getConditions().slice();if(C.length>0){for(var i=0;i<C.length;i++){o=C[i];o.fieldPath=c.current;}}this.setConditions(C);}};b.prototype._fireChange=function(c,v){var V;var A;if(c.length===1){V=c[0].values[0];if(c[0].values[1]){A=c[0].values[1];}}if(v){var B=this.getBinding("value");if(B&&!B.isA("sap.ui.model.CompositeBinding")&&B._toExternalValue){V=B._toExternalValue(V);}this.setProperty("value",V,true);this.setProperty("additionalValue",A,true);}this.fireChange({value:V,valid:v});};return b;},true);
