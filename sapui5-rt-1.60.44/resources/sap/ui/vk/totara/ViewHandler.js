sap.ui.define(["jquery.sap.global","./ViewBuilder","./CameraHandler"],function(q,V,C){"use strict";var a=function(){};a.setView=function(s,v){if(v.error){return v;}var r={};if(v.sceneId){var c=s.getContext(v.sceneId);c.currentView=v;c.treeNodes=[];r.context=c;if(v.camera){v.camera=C.setCameraSingle(s,v.camera);}}else{r.error="setView: no sceneId";}return r;};a.setViewNode=function(s,c){if(c.error){return c;}var r={};if(c.sceneId){var b=s.getContext(c.sceneId);r.context=b;if(!b.currentView){r.error="error: setViewNode - no setView was in the chain";return r;}b.treeNodes=b.treeNodes.concat(c.nodes);}else{r.error="setViewNode: no sceneId";}return r;};a.notifyFinishedView=function(s,c){var r={};if(c.sceneId){var b=s.getContext(c.sceneId);r.context=b;var d=b.currentView;if(!d){r.error="error: notifyFinishedView - no currentView";return r;}if(d.activeCameraId!==undefined){d.camera=s.sceneBuilder.getCamera(d.activeCameraId);}b.updatedNodes.clear();var v=V.buildView(s,b);d.viewNodes=v.nodeInfos;r.view=d;delete b.currentView;}else{r.error="notifyFinishedView - no sceneId";}return r;};return a;});
