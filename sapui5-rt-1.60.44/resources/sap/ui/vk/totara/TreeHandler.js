sap.ui.define(["jquery.sap.global","./ListMap","./CameraHandler","./TotaraUtils","./TreeBuilder"],function(q,L,C,T,a){"use strict";var b=function(){};b.setTree=function(s,c){if(T.checkError(c)){if(c.events&&c.events.length){var e=c.events[0];if(e.values&&e.values.id){var r=s.getContext(e.values.id);c.context=r;}}return c;}var d={};var f=s.getContext(c.sceneId);if(c.sid){var g=s.sceneBuilder.getNode(c.sid,f.sceneId);if(!g){var h=f.root;h.userData.treeNode={sid:c.sid,name:"root"};if(f){s.sceneBuilder.setRootNode(h,c.sid,c.sceneId);f.rootNodeId=c.sid;}else{d.error="faital error: no context. model not loaded";}}}if(c.camera){var i=C.setCameraSingle(s,c.camera);if(i){f.onActiveCameraCallbacks.execute(i);}}return d;};b.setTreeNode=function(s,c){if(c.error){return c;}var r={};if(!c.sceneId){r.error="setTreeNode error: no sceneId";}var d=s.getContext(c.sceneId);if(!d){r.error="setTreeNode: no loading context";return r;}d.treeNodes=d.treeNodes.concat(c.nodes);return r;};b.notifyFinishedTree=function(s,c){var r={};if(c.error){return c;}if(c.sceneId){r.context=s.getContext(c.sceneId);a.buildTree(s,r.context);}else{r.error="notifyFinishedTree error: no sceneId";}return r;};return b;});
