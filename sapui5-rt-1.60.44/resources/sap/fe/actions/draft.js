/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define([],function(){'use strict';function c(C,p){var P=p||{},r=typeof P.bPreserveChanges==='undefined'||typeof P.bPreserveChanges==='boolean'&&P.bPreserveChanges;function o(O){if(O){return C.executeDraftEditAction(false);}return Promise.reject(new Error('Draft creation aborted for document: '+C.getPath()));}if(!C){return Promise.reject(new Error('Binding context to active document is required'));}if(!C.executeDraftEditAction){return Promise.reject(new Error('Draft is not supported by document: '+C.getPath()));}return Promise.resolve(P.fnBeforeCreateDraftFromActiveDocument?P.fnBeforeCreateDraftFromActiveDocument(C,r):true).then(function(e){if(!e){throw new Error('Draft creation was aborted by extension for document: '+C.getPath());}return C.executeDraftEditAction(r).catch(function(b){if(r&&b.status===409){return Promise.resolve(P.fnWhenDecisionToOverwriteDocumentIsRequired?P.fnWhenDecisionToOverwriteDocumentIsRequired():false).then(o);}else{throw new Error(b);}});}).then(function(D){return Promise.resolve(P.fnAfterCreateDraftFromActiveDocument?P.fnAfterCreateDraftFromActiveDocument(C,D):D);}).catch(function(e){return Promise.reject(e);});}function a(C,p){var P=p||{};if(!C){return Promise.reject(new Error('Binding context to draft document is required'));}if(!C.executeDraftPreparationAction){return Promise.reject(new Error('Preparation action is not supported for document : '+C.getPath()));}if(!C.executeDraftActivationAction){return Promise.reject(new Error('Activation action is not supported for document : '+C.getPath()));}return Promise.resolve(P.fnBeforeActivateDocument?P.fnBeforeActivateDocument(C):true).then(function(e){if(!e){return Promise.reject(new Error('Activation of the document was aborted by extension for document: '+C.getPath()));}return C.executeDraftPreparationAction().then(function(){return C.executeDraftActivationAction();}).catch(function(b){return Promise.reject(b);});}).then(function(A){return Promise.resolve(P.fnAfterActivateDocument?P.fnAfterActivateDocument(C,A):A);}).catch(function(e){return Promise.reject(e);});}var d={createDraftFromActiveDocument:c,activateDocument:a};return d;});
