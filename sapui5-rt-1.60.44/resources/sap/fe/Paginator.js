/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2017 SAP SE. All rights reserved
    
 */
sap.ui.define(['sap/ui/core/XMLComposite','sap/ui/model/json/JSONModel','sap/ui/base/ManagedObjectObserver','sap/ui/model/resource/ResourceModel'],function(X,J,M,R){"use strict";var P=X.extend("sap.fe.Paginator",{metadata:{designTime:true,properties:{listBinding:{type:"sap.ui.model.odata.v4.ODataListBinding"}},events:{navigate:{}},aggregations:{},publicMethods:[]},alias:"this",fragment:"sap.fe.controls._Paginator.Paginator"});P.prototype.init=function(){X.prototype.init.apply(this,arguments);var t=this;t.setModel(new J({navUpEnabled:false,navDownEnabled:false}),"buttonEnablement");t.setVisible(false);t.setModel(new R({bundleName:"sap/fe/messagebundle",async:true}),"sap.fe.i18n");t._oObserver=new M(t._observeChanges.bind(t));t._oObserver.observe(t,{properties:["listBinding"]});t.attachModelContextChange(function(e){var m=t.getModel();if(!m){return;}t.updateCurrentIndexAndButtonEnablement();});};P.prototype._observeChanges=function(c){var t=this;if(c.name==="listBinding"){if(t.getListBinding()){t.updateCurrentIndexAndButtonEnablement();t.setVisible(true);}else{t.setVisible(false);}}};P.prototype.updateCurrentIndexAndButtonEnablement=function(){var t=this;var l=t.getListBinding();if(t.getBindingContext()&&l){var c=l.getCurrentContexts()[t._currentIndex];if((!t._currentIndex&&(t._currentIndex!==0))||!c||(t.getBindingContext().getPath()!==c.getPath())){t.updateCurrentIndex();}t.handleButtonEnablement();}};P.prototype.updateCurrentIndex=function(){var t=this;var p=t.getBindingContext().getPath();t._currentIndex=t.getListBinding().getCurrentContexts().findIndex(function(c){return c&&c.getPath()===p;});};P.prototype.handleButtonEnablement=function(){var t=this;var l=t.getListBinding();var b=t.getModel("buttonEnablement");if(l&&(l.getCurrentContexts().length>1)&&(t._currentIndex>-1)){if(t._currentIndex===(l.getCurrentContexts().length-1)){b.setProperty("/navDownEnabled",false);}else{b.setProperty("/navDownEnabled",true);}if(t._currentIndex===0){b.setProperty("/navUpEnabled",false);}else{b.setProperty("/navUpEnabled",true);}t.setVisible(true);}else{t.setVisible(false);}};P.prototype.handleShowOtherObject=function(i){var t=this;var l=t.getListBinding();if(!l){return;}var c=l.getCurrentContexts();var n=t._currentIndex+i;if(c[n]){t.fireNavigate({context:c[n]});t._currentIndex=n;}};P.prototype.handleShowPrevObject=function(){this.handleShowOtherObject(-1);};P.prototype.handleShowNextObject=function(){this.handleShowOtherObject(1);};return P;},true);
